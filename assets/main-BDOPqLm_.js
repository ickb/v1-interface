var DH=Object.defineProperty;var ww=e=>{throw TypeError(e)};var MH=(e,t,r)=>t in e?DH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qr=(e,t,r)=>MH(e,typeof t!="symbol"?t+"":t,r),Dv=(e,t,r)=>t.has(e)||ww("Cannot "+r);var st=(e,t,r)=>(Dv(e,t,"read from private field"),r?r.call(e):t.get(e)),Ot=(e,t,r)=>t.has(e)?ww("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),_t=(e,t,r,n)=>(Dv(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Qt=(e,t,r)=>(Dv(e,t,"access private method"),r);var ab=(e,t,r,n)=>({set _(i){_t(e,t,i,r)},get _(){return st(e,t,n)}});var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Fx={exports:{}},Ly={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RH=Symbol.for("react.transitional.element"),LH=Symbol.for("react.fragment");function $x(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var i in t)i!=="key"&&(r[i]=t[i])}else r=t;return t=r.ref,{$$typeof:RH,type:e,key:n,ref:t!==void 0?t:null,props:r}}Ly.Fragment=LH;Ly.jsx=$x;Ly.jsxs=$x;Fx.exports=Ly;var mt=Fx.exports,qx={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D6=Symbol.for("react.transitional.element"),HH=Symbol.for("react.portal"),PH=Symbol.for("react.fragment"),NH=Symbol.for("react.strict_mode"),UH=Symbol.for("react.profiler"),kH=Symbol.for("react.consumer"),zH=Symbol.for("react.context"),jH=Symbol.for("react.forward_ref"),FH=Symbol.for("react.suspense"),$H=Symbol.for("react.memo"),Kx=Symbol.for("react.lazy"),Aw=Symbol.iterator;function qH(e){return e===null||typeof e!="object"?null:(e=Aw&&e[Aw]||e["@@iterator"],typeof e=="function"?e:null)}var Qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yx=Object.assign,Vx={};function Fd(e,t,r){this.props=e,this.context=t,this.refs=Vx,this.updater=r||Qx}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gx(){}Gx.prototype=Fd.prototype;function M6(e,t,r){this.props=e,this.context=t,this.refs=Vx,this.updater=r||Qx}var R6=M6.prototype=new Gx;R6.constructor=M6;Yx(R6,Fd.prototype);R6.isPureReactComponent=!0;var Ew=Array.isArray,qe={H:null,A:null,T:null,S:null},Wx=Object.prototype.hasOwnProperty;function L6(e,t,r,n,i,a){return r=a.ref,{$$typeof:D6,type:e,key:t,ref:r!==void 0?r:null,props:a}}function KH(e,t){return L6(e.type,t,void 0,void 0,void 0,e.props)}function H6(e){return typeof e=="object"&&e!==null&&e.$$typeof===D6}function QH(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xw=/\/+/g;function Mv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QH(""+e.key):t.toString(36)}function Sw(){}function YH(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Sw,Sw):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function el(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case D6:case HH:s=!0;break;case Kx:return s=e._init,el(s(e._payload),t,r,n,i)}}if(s)return i=i(e),s=n===""?"."+Mv(e,0):n,Ew(i)?(r="",s!=null&&(r=s.replace(xw,"$&/")+"/"),el(i,t,r,"",function(c){return c})):i!=null&&(H6(i)&&(i=KH(i,r+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(xw,"$&/")+"/")+s)),t.push(i)),1;s=0;var o=n===""?".":n+":";if(Ew(e))for(var f=0;f<e.length;f++)n=e[f],a=o+Mv(n,f),s+=el(n,t,r,a,i);else if(f=qH(e),typeof f=="function")for(e=f.call(e),f=0;!(n=e.next()).done;)n=n.value,a=o+Mv(n,f++),s+=el(n,t,r,a,i);else if(a==="object"){if(typeof e.then=="function")return el(YH(e),t,r,n,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function sb(e,t,r){if(e==null)return e;var n=[],i=0;return el(e,n,"","",function(a){return t.call(r,a,i++)}),n}function VH(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cw=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function GH(){}jt.Children={map:sb,forEach:function(e,t,r){sb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sb(e,function(){t++}),t},toArray:function(e){return sb(e,function(t){return t})||[]},only:function(e){if(!H6(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Fd;jt.Fragment=PH;jt.Profiler=UH;jt.PureComponent=M6;jt.StrictMode=NH;jt.Suspense=FH;jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qe;jt.act=function(){throw Error("act(...) is not supported in production builds of React.")};jt.cache=function(e){return function(){return e.apply(null,arguments)}};jt.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Yx({},e.props),i=e.key,a=void 0;if(t!=null)for(s in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=""+t.key),t)!Wx.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(n[s]=t[s]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var o=Array(s),f=0;f<s;f++)o[f]=arguments[f+2];n.children=o}return L6(e.type,i,void 0,void 0,a,n)};jt.createContext=function(e){return e={$$typeof:zH,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:kH,_context:e},e};jt.createElement=function(e,t,r){var n,i={},a=null;if(t!=null)for(n in t.key!==void 0&&(a=""+t.key),t)Wx.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var o=Array(s),f=0;f<s;f++)o[f]=arguments[f+2];i.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return L6(e,a,void 0,void 0,null,i)};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:jH,render:e}};jt.isValidElement=H6;jt.lazy=function(e){return{$$typeof:Kx,_payload:{_status:-1,_result:e},_init:VH}};jt.memo=function(e,t){return{$$typeof:$H,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=qe.T,r={};qe.T=r;try{var n=e(),i=qe.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(GH,Cw)}catch(a){Cw(a)}finally{qe.T=t}};jt.unstable_useCacheRefresh=function(){return qe.H.useCacheRefresh()};jt.use=function(e){return qe.H.use(e)};jt.useActionState=function(e,t,r){return qe.H.useActionState(e,t,r)};jt.useCallback=function(e,t){return qe.H.useCallback(e,t)};jt.useContext=function(e){return qe.H.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e,t){return qe.H.useDeferredValue(e,t)};jt.useEffect=function(e,t){return qe.H.useEffect(e,t)};jt.useId=function(){return qe.H.useId()};jt.useImperativeHandle=function(e,t,r){return qe.H.useImperativeHandle(e,t,r)};jt.useInsertionEffect=function(e,t){return qe.H.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return qe.H.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return qe.H.useMemo(e,t)};jt.useOptimistic=function(e,t){return qe.H.useOptimistic(e,t)};jt.useReducer=function(e,t,r){return qe.H.useReducer(e,t,r)};jt.useRef=function(e){return qe.H.useRef(e)};jt.useState=function(e){return qe.H.useState(e)};jt.useSyncExternalStore=function(e,t,r){return qe.H.useSyncExternalStore(e,t,r)};jt.useTransition=function(){return qe.H.useTransition()};jt.version="19.0.0";qx.exports=jt;var dr=qx.exports,Xx={exports:{}},Hy={},Zx={exports:{}},Jx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(d,y){var x=d.length;d.push(y);t:for(;0<x;){var E=x-1>>>1,p=d[E];if(0<i(p,y))d[E]=y,d[x]=p,x=E;else break t}}function r(d){return d.length===0?null:d[0]}function n(d){if(d.length===0)return null;var y=d[0],x=d.pop();if(x!==y){d[0]=x;t:for(var E=0,p=d.length,T=p>>>1;E<T;){var F=2*(E+1)-1,L=d[F],k=F+1,$=d[k];if(0>i(L,x))k<p&&0>i($,L)?(d[E]=$,d[k]=x,E=k):(d[E]=L,d[F]=x,E=F);else if(k<p&&0>i($,x))d[E]=$,d[k]=x,E=k;else break t}}return y}function i(d,y){var x=d.sortIndex-y.sortIndex;return x!==0?x:d.id-y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var f=[],c=[],u=1,l=null,h=3,g=!1,m=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function B(d){for(var y=r(c);y!==null;){if(y.callback===null)n(c);else if(y.startTime<=d)n(c),y.sortIndex=y.expirationTime,t(f,y);else break;y=r(c)}}function M(d){if(A=!1,B(d),!m)if(r(f)!==null)m=!0,b();else{var y=r(c);y!==null&&v(M,y.startTime-d)}}var N=!1,K=-1,Q=5,j=-1;function G(){return!(e.unstable_now()-j<Q)}function W(){if(N){var d=e.unstable_now();j=d;var y=!0;try{t:{m=!1,A&&(A=!1,w(K),K=-1),g=!0;var x=h;try{e:{for(B(d),l=r(f);l!==null&&!(l.expirationTime>d&&G());){var E=l.callback;if(typeof E=="function"){l.callback=null,h=l.priorityLevel;var p=E(l.expirationTime<=d);if(d=e.unstable_now(),typeof p=="function"){l.callback=p,B(d),y=!0;break e}l===r(f)&&n(f),B(d)}else n(f);l=r(f)}if(l!==null)y=!0;else{var T=r(c);T!==null&&v(M,T.startTime-d),y=!1}}break t}finally{l=null,h=x,g=!1}y=void 0}}finally{y?R():N=!1}}}var R;if(typeof C=="function")R=function(){C(W)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=W,R=function(){I.postMessage(null)}}else R=function(){S(W,0)};function b(){N||(N=!0,R())}function v(d,y){K=S(function(){d(e.unstable_now())},y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(d){d.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,b())},e.unstable_forceFrameRate=function(d){0>d||125<d?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<d?Math.floor(1e3/d):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(f)},e.unstable_next=function(d){switch(h){case 1:case 2:case 3:var y=3;break;default:y=h}var x=h;h=y;try{return d()}finally{h=x}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(d,y){switch(d){case 1:case 2:case 3:case 4:case 5:break;default:d=3}var x=h;h=d;try{return y()}finally{h=x}},e.unstable_scheduleCallback=function(d,y,x){var E=e.unstable_now();switch(typeof x=="object"&&x!==null?(x=x.delay,x=typeof x=="number"&&0<x?E+x:E):x=E,d){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=x+p,d={id:u++,callback:y,priorityLevel:d,startTime:x,expirationTime:p,sortIndex:-1},x>E?(d.sortIndex=x,t(c,d),r(f)===null&&d===r(c)&&(A?(w(K),K=-1):A=!0,v(M,x-E))):(d.sortIndex=p,t(f,d),m||g||(m=!0,b())),d},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(d){var y=h;return function(){var x=h;h=y;try{return d.apply(this,arguments)}finally{h=x}}}})(Jx);Zx.exports=Jx;var WH=Zx.exports,tS={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XH=dr;function eS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ef(){}var Fn={d:{f:ef,r:function(){throw Error(eS(522))},D:ef,C:ef,L:ef,m:ef,X:ef,S:ef,M:ef},p:0,findDOMNode:null},ZH=Symbol.for("react.portal");function JH(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ZH,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Ih=XH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Py(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Fn;Wn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(eS(299));return JH(e,t,null,r)};Wn.flushSync=function(e){var t=Ih.T,r=Fn.p;try{if(Ih.T=null,Fn.p=2,e)return e()}finally{Ih.T=t,Fn.p=r,Fn.d.f()}};Wn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Fn.d.C(e,t))};Wn.prefetchDNS=function(e){typeof e=="string"&&Fn.d.D(e)};Wn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=Py(r,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Fn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&Fn.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Wn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=Py(t.as,t.crossOrigin);Fn.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Fn.d.M(e)};Wn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=Py(r,t.crossOrigin);Fn.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Wn.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=Py(t.as,t.crossOrigin);Fn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Fn.d.m(e)};Wn.requestFormReset=function(e){Fn.d.r(e)};Wn.unstable_batchedUpdates=function(e,t){return e(t)};Wn.useFormState=function(e,t,r){return Ih.H.useFormState(e,t,r)};Wn.useFormStatus=function(){return Ih.H.useHostTransitionStatus()};Wn.version="19.0.0";function rS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rS)}catch(e){console.error(e)}}rS(),tS.exports=Wn;var tP=tS.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=WH,nS=dr,eP=tP;function pt(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var rP=Symbol.for("react.element"),ob=Symbol.for("react.transitional.element"),lh=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),nP=Symbol.for("react.provider"),sS=Symbol.for("react.consumer"),yo=Symbol.for("react.context"),P6=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),N6=Symbol.for("react.memo"),_f=Symbol.for("react.lazy"),oS=Symbol.for("react.offscreen"),iP=Symbol.for("react.memo_cache_sentinel"),Iw=Symbol.iterator;function j0(e){return e===null||typeof e!="object"?null:(e=Iw&&e[Iw]||e["@@iterator"],typeof e=="function"?e:null)}var aP=Symbol.for("react.client.reference");function Om(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===aP?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ol:return"Fragment";case lh:return"Portal";case Im:return"Profiler";case aS:return"StrictMode";case Tm:return"Suspense";case Bm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yo:return(e.displayName||"Context")+".Provider";case sS:return(e._context.displayName||"Context")+".Consumer";case P6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N6:return t=e.displayName||null,t!==null?t:Om(e.type)||"Memo";case _f:t=e._payload,e=e._init;try{return Om(e(t))}catch{}}return null}var kt=nS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=Object.assign,Rv,Tw;function dh(e){if(Rv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rv=t&&t[1]||"",Tw=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rv+e+Tw}var Lv=!1;function Hv(e,t){if(!e||Lv)return"";Lv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(g){var h=g}Reflect.construct(e,[],l)}else{try{l.call()}catch(g){h=g}e.call(l.prototype)}}else{try{throw Error()}catch(g){h=g}(l=e())&&typeof l.catch=="function"&&l.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var f=s.split(`
`),c=o.split(`
`);for(i=n=0;n<f.length&&!f[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===f.length||i===c.length)for(n=f.length-1,i=c.length-1;1<=n&&0<=i&&f[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(f[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||f[n]!==c[i]){var u=`
`+f[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=n&&0<=i);break}}}finally{Lv=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?dh(r):""}function sP(e){switch(e.tag){case 26:case 27:case 5:return dh(e.type);case 16:return dh("Lazy");case 13:return dh("Suspense");case 19:return dh("SuspenseList");case 0:case 15:return e=Hv(e.type,!1),e;case 11:return e=Hv(e.type.render,!1),e;case 1:return e=Hv(e.type,!0),e;default:return""}}function Bw(e){try{var t="";do t+=sP(e),e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function $d(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ow(e){if($d(e)!==e)throw Error(pt(188))}function oP(e){var t=e.alternate;if(!t){if(t=$d(e),t===null)throw Error(pt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ow(i),e;if(a===n)return Ow(i),t;a=a.sibling}throw Error(pt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(pt(189))}}if(r.alternate!==n)throw Error(pt(190))}if(r.tag!==3)throw Error(pt(188));return r.stateNode.current===r?e:t}function cS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=cS(e),t!==null)return t;e=e.sibling}return null}var hh=Array.isArray,Ie=eP.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eu={pending:!1,data:null,method:null,action:null},Dm=[],fl=-1;function $s(e){return{current:e}}function Ur(e){0>fl||(e.current=Dm[fl],Dm[fl]=null,fl--)}function Ue(e,t){fl++,Dm[fl]=e.current,e.current=t}var Bs=$s(null),rp=$s(null),jf=$s(null),gg=$s(null);function yg(e,t){switch(Ue(jf,t),Ue(rp,e),Ue(Bs,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?D7(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=D7(e),t=wI(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ur(Bs),Ue(Bs,t)}function nd(){Ur(Bs),Ur(rp),Ur(jf)}function Mm(e){e.memoizedState!==null&&Ue(gg,e);var t=Bs.current,r=wI(t,e.type);t!==r&&(Ue(rp,e),Ue(Bs,r))}function vg(e){rp.current===e&&(Ur(Bs),Ur(rp)),gg.current===e&&(Ur(gg),hp._currentValue=eu)}var Rm=Object.prototype.hasOwnProperty,U6=Er.unstable_scheduleCallback,Pv=Er.unstable_cancelCallback,fP=Er.unstable_shouldYield,cP=Er.unstable_requestPaint,Os=Er.unstable_now,uP=Er.unstable_getCurrentPriorityLevel,uS=Er.unstable_ImmediatePriority,lS=Er.unstable_UserBlockingPriority,_g=Er.unstable_NormalPriority,lP=Er.unstable_LowPriority,dS=Er.unstable_IdlePriority,dP=Er.log,hP=Er.unstable_setDisableYieldValue,Fp=null,Ci=null;function pP(e){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(Fp,e,void 0,(e.current.flags&128)===128)}catch{}}function Nf(e){if(typeof dP=="function"&&hP(e),Ci&&typeof Ci.setStrictMode=="function")try{Ci.setStrictMode(Fp,e)}catch{}}var Ii=Math.clz32?Math.clz32:yP,bP=Math.log,gP=Math.LN2;function yP(e){return e>>>=0,e===0?32:31-(bP(e)/gP|0)|0}var fb=128,cb=4194304;function Dc(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ny(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=e.warmLanes;e=e.finishedLanes!==0;var o=r&134217727;return o!==0?(r=o&~i,r!==0?n=Dc(r):(a&=o,a!==0?n=Dc(a):e||(s=o&~s,s!==0&&(n=Dc(s))))):(o=r&~i,o!==0?n=Dc(o):a!==0?n=Dc(a):e||(s=r&~s,s!==0&&(n=Dc(s)))),n===0?0:t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===32&&(s&4194176)!==0)?t:n}function $p(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vP(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hS(){var e=fb;return fb<<=1,!(fb&4194176)&&(fb=128),e}function pS(){var e=cb;return cb<<=1,!(cb&62914560)&&(cb=4194304),e}function Nv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qp(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _P(e,t,r,n,i,a){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,f=e.expirationTimes,c=e.hiddenUpdates;for(r=s&~r;0<r;){var u=31-Ii(r),l=1<<u;o[u]=0,f[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var g=h[u];g!==null&&(g.lane&=-536870913)}r&=~l}n!==0&&bS(e,n,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function bS(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ii(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&4194218}function gS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ii(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function yS(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function vS(){var e=Ie.p;return e!==0?e:(e=window.event,e===void 0?32:DI(e.type))}function mP(e,t){var r=Ie.p;try{return Ie.p=e,t()}finally{Ie.p=r}}var dc=Math.random().toString(36).slice(2),vn="__reactFiber$"+dc,ni="__reactProps$"+dc,qd="__reactContainer$"+dc,Lm="__reactEvents$"+dc,wP="__reactListeners$"+dc,AP="__reactHandles$"+dc,Dw="__reactResources$"+dc,np="__reactMarker$"+dc;function k6(e){delete e[vn],delete e[ni],delete e[Lm],delete e[wP],delete e[AP]}function jc(e){var t=e[vn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qd]||r[vn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=R7(e);e!==null;){if(r=e[vn])return r;e=R7(e)}return t}e=r,r=e.parentNode}return null}function Kd(e){if(e=e[vn]||e[qd]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ph(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(pt(33))}function Sl(e){var t=e[Dw];return t||(t=e[Dw]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Mr(e){e[np]=!0}var _S=new Set,mS={};function Cu(e,t){id(e,t),id(e+"Capture",t)}function id(e,t){for(mS[e]=t,e=0;e<t.length;e++)_S.add(t[e])}var Mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),EP=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mw={},Rw={};function xP(e){return Rm.call(Rw,e)?!0:Rm.call(Mw,e)?!1:EP.test(e)?Rw[e]=!0:(Mw[e]=!0,!1)}function Yb(e,t,r){if(xP(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function ub(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Zs(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Ji(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SP(e){var t=wS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mg(e){e._valueTracker||(e._valueTracker=SP(e))}function AS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var CP=/[\n"\\]/g;function ra(e){return e.replace(CP,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hm(e,t,r,n,i,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ji(t)):e.value!==""+Ji(t)&&(e.value=""+Ji(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Pm(e,s,Ji(t)):r!=null?Pm(e,s,Ji(r)):n!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ji(o):e.removeAttribute("name")}function ES(e,t,r,n,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;r=r!=null?""+Ji(r):"",t=t!=null?""+Ji(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function Pm(e,t,r){t==="number"&&wg(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Cl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ji(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xS(e,t,r){if(t!=null&&(t=""+Ji(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Ji(r):""}function SS(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(pt(92));if(hh(n)){if(1<n.length)throw Error(pt(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Ji(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n)}function ad(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var IP=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lw(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||IP.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function CS(e,t,r){if(t!=null&&typeof t!="object")throw Error(pt(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&Lw(e,i,n)}else for(var a in t)t.hasOwnProperty(a)&&Lw(e,a,t[a])}function z6(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TP=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BP=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vb(e){return BP.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nm=null;function j6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,Il=null;function Hw(e){var t=Kd(e);if(t&&(e=t.stateNode)){var r=e[ni]||null;t:switch(e=t.stateNode,t.type){case"input":if(Hm(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ra(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[ni]||null;if(!i)throw Error(pt(90));Hm(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&AS(n)}break t;case"textarea":xS(e,r.value,r.defaultValue);break t;case"select":t=r.value,t!=null&&Cl(e,!!r.multiple,t,!1)}}}var Uv=!1;function IS(e,t,r){if(Uv)return e(t,r);Uv=!0;try{var n=e(t);return n}finally{if(Uv=!1,(cl!==null||Il!==null)&&(Yy(),cl&&(t=cl,e=Il,Il=cl=null,Hw(t),e)))for(t=0;t<e.length;t++)Hw(e[t])}}function ip(e,t){var r=e.stateNode;if(r===null)return null;var n=r[ni]||null;if(n===null)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pt(231,t,typeof r));return r}var Um=!1;if(Mo)try{var F0={};Object.defineProperty(F0,"passive",{get:function(){Um=!0}}),window.addEventListener("test",F0,F0),window.removeEventListener("test",F0,F0)}catch{Um=!1}var Uf=null,F6=null,Gb=null;function TS(){if(Gb)return Gb;var e,t=F6,r=t.length,n,i="value"in Uf?Uf.value:Uf.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Gb=i.slice(e,1<n?1-n:void 0)}function Wb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lb(){return!0}function Pw(){return!1}function fi(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?lb:Pw,this.isPropagationStopped=Pw,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lb)},persist:function(){},isPersistent:lb}),t}var Iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=fi(Iu),Kp=Oe({},Iu,{view:0,detail:0}),OP=fi(Kp),kv,zv,$0,ky=Oe({},Kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$0&&($0&&e.type==="mousemove"?(kv=e.screenX-$0.screenX,zv=e.screenY-$0.screenY):zv=kv=0,$0=e),kv)},movementY:function(e){return"movementY"in e?e.movementY:zv}}),Nw=fi(ky),DP=Oe({},ky,{dataTransfer:0}),MP=fi(DP),RP=Oe({},Kp,{relatedTarget:0}),jv=fi(RP),LP=Oe({},Iu,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=fi(LP),PP=Oe({},Iu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NP=fi(PP),UP=Oe({},Iu,{data:0}),Uw=fi(UP),kP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jP[e])?!!t[e]:!1}function $6(){return FP}var $P=Oe({},Kp,{key:function(e){if(e.key){var t=kP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$6,charCode:function(e){return e.type==="keypress"?Wb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qP=fi($P),KP=Oe({},ky,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kw=fi(KP),QP=Oe({},Kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$6}),YP=fi(QP),VP=Oe({},Iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),GP=fi(VP),WP=Oe({},ky,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XP=fi(WP),ZP=Oe({},Iu,{newState:0,oldState:0}),JP=fi(ZP),tN=[9,13,27,32],q6=Mo&&"CompositionEvent"in window,Th=null;Mo&&"documentMode"in document&&(Th=document.documentMode);var eN=Mo&&"TextEvent"in window&&!Th,BS=Mo&&(!q6||Th&&8<Th&&11>=Th),zw=" ",jw=!1;function OS(e,t){switch(e){case"keyup":return tN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ul=!1;function rN(e,t){switch(e){case"compositionend":return DS(t);case"keypress":return t.which!==32?null:(jw=!0,zw);case"textInput":return e=t.data,e===zw&&jw?null:e;default:return null}}function nN(e,t){if(ul)return e==="compositionend"||!q6&&OS(e,t)?(e=TS(),Gb=F6=Uf=null,ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BS&&t.locale!=="ko"?null:t.data;default:return null}}var iN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iN[e.type]:t==="textarea"}function MS(e,t,r,n){cl?Il?Il.push(n):Il=[n]:cl=n,t=Ng(t,"onChange"),0<t.length&&(r=new Uy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Bh=null,ap=null;function aN(e){vI(e,0)}function zy(e){var t=ph(e);if(AS(t))return e}function $w(e,t){if(e==="change")return t}var RS=!1;if(Mo){var Fv;if(Mo){var $v="oninput"in document;if(!$v){var qw=document.createElement("div");qw.setAttribute("oninput","return;"),$v=typeof qw.oninput=="function"}Fv=$v}else Fv=!1;RS=Fv&&(!document.documentMode||9<document.documentMode)}function Kw(){Bh&&(Bh.detachEvent("onpropertychange",LS),ap=Bh=null)}function LS(e){if(e.propertyName==="value"&&zy(ap)){var t=[];MS(t,ap,e,j6(e)),IS(aN,t)}}function sN(e,t,r){e==="focusin"?(Kw(),Bh=t,ap=r,Bh.attachEvent("onpropertychange",LS)):e==="focusout"&&Kw()}function oN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zy(ap)}function fN(e,t){if(e==="click")return zy(t)}function cN(e,t){if(e==="input"||e==="change")return zy(t)}function uN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oi=typeof Object.is=="function"?Object.is:uN;function sp(e,t){if(Oi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Rm.call(t,i)||!Oi(e[i],t[i]))return!1}return!0}function Qw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yw(e,t){var r=Qw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Qw(r)}}function HS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wg(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wg(e.document)}return t}function K6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lN(e,t){var r=PS(t);t=e.focusedElem;var n=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&HS(t.ownerDocument.documentElement,t)){if(n!==null&&K6(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!r.extend&&a>n&&(i=n,n=a,a=i),i=Yw(t,a);var s=Yw(t,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),a>n?(r.addRange(e),r.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var dN=Mo&&"documentMode"in document&&11>=document.documentMode,ll=null,km=null,Oh=null,zm=!1;function Vw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zm||ll==null||ll!==wg(n)||(n=ll,"selectionStart"in n&&K6(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oh&&sp(Oh,n)||(Oh=n,n=Ng(km,"onSelect"),0<n.length&&(t=new Uy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ll)))}function Tc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dl={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionrun:Tc("Transition","TransitionRun"),transitionstart:Tc("Transition","TransitionStart"),transitioncancel:Tc("Transition","TransitionCancel"),transitionend:Tc("Transition","TransitionEnd")},qv={},NS={};Mo&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Tu(e){if(qv[e])return qv[e];if(!dl[e])return e;var t=dl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in NS)return qv[e]=t[r];return e}var US=Tu("animationend"),kS=Tu("animationiteration"),zS=Tu("animationstart"),hN=Tu("transitionrun"),pN=Tu("transitionstart"),bN=Tu("transitioncancel"),jS=Tu("transitionend"),FS=new Map,Gw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ss(e,t){FS.set(e,t),Cu(t,[e])}var Wi=[],hl=0,Q6=0;function jy(){for(var e=hl,t=Q6=hl=0;t<e;){var r=Wi[t];Wi[t++]=null;var n=Wi[t];Wi[t++]=null;var i=Wi[t];Wi[t++]=null;var a=Wi[t];if(Wi[t++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}a!==0&&$S(r,i,a)}}function Fy(e,t,r,n){Wi[hl++]=e,Wi[hl++]=t,Wi[hl++]=r,Wi[hl++]=n,Q6|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Y6(e,t,r,n){return Fy(e,t,r,n),Ag(e)}function ec(e,t){return Fy(e,null,null,t),Ag(e)}function $S(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=e.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;i&&t!==null&&e.tag===3&&(a=e.stateNode,i=31-Ii(r),a=a.hiddenUpdates,e=a[i],e===null?a[i]=[t]:e.push(t),t.lane=r|536870912)}function Ag(e){if(50<Fh)throw Fh=0,f3=null,Error(pt(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pl={},Ww=new WeakMap;function na(e,t){if(typeof e=="object"&&e!==null){var r=Ww.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Bw(t)},Ww.set(e,t),t)}return{value:e,source:t,stack:Bw(t)}}var bl=[],gl=0,Eg=null,xg=0,ta=[],ea=0,ru=null,vo=1,_o="";function Mc(e,t){bl[gl++]=xg,bl[gl++]=Eg,Eg=e,xg=t}function qS(e,t,r){ta[ea++]=vo,ta[ea++]=_o,ta[ea++]=ru,ru=e;var n=vo;e=_o;var i=32-Ii(n)-1;n&=~(1<<i),r+=1;var a=32-Ii(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,vo=1<<32-Ii(t)+i|r<<i|n,_o=a+e}else vo=1<<a|r<<i|n,_o=e}function V6(e){e.return!==null&&(Mc(e,1),qS(e,1,0))}function G6(e){for(;e===Eg;)Eg=bl[--gl],bl[gl]=null,xg=bl[--gl],bl[gl]=null;for(;e===ru;)ru=ta[--ea],ta[ea]=null,_o=ta[--ea],ta[ea]=null,vo=ta[--ea],ta[ea]=null}var zn=null,Gr=null,te=!1,za=null,ms=!1,jm=Error(pt(519));function lu(e){var t=Error(pt(418,""));throw op(na(t,e)),jm}function Xw(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[vn]=e,t[ni]=n,r){case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":case"embed":Vt("load",t);break;case"video":case"audio":for(r=0;r<up.length;r++)Vt(up[r],t);break;case"source":Vt("error",t);break;case"img":case"image":case"link":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"input":Vt("invalid",t),ES(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),mg(t);break;case"select":Vt("invalid",t);break;case"textarea":Vt("invalid",t),SS(t,n.value,n.defaultValue,n.children),mg(t)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||mI(t.textContent,r)?(n.popover!=null&&(Vt("beforetoggle",t),Vt("toggle",t)),n.onScroll!=null&&Vt("scroll",t),n.onScrollEnd!=null&&Vt("scrollend",t),n.onClick!=null&&(t.onclick=Gy),t=!0):t=!1,t||lu(e)}function Zw(e){for(zn=e.return;zn;)switch(zn.tag){case 3:case 27:ms=!0;return;case 5:case 13:ms=!1;return;default:zn=zn.return}}function q0(e){if(e!==zn)return!1;if(!te)return Zw(e),te=!0,!1;var t=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||b3(e.type,e.memoizedProps)),r=!r),r&&(t=!0),t&&Gr&&lu(e),Zw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(t===0){Gr=Wa(e.nextSibling);break t}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++;e=e.nextSibling}Gr=null}}else Gr=zn?Wa(e.stateNode.nextSibling):null;return!0}function Qp(){Gr=zn=null,te=!1}function op(e){za===null?za=[e]:za.push(e)}var Dh=Error(pt(460)),KS=Error(pt(474)),Fm={then:function(){}};function Jw(e){return e=e.status,e==="fulfilled"||e==="rejected"}function db(){}function QS(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(db,db),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Dh?Error(pt(483)):e;default:if(typeof t.status=="string")t.then(db,db);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(pt(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Dh?Error(pt(483)):e}throw Mh=t,Dh}}var Mh=null;function t7(){if(Mh===null)throw Error(pt(459));var e=Mh;return Mh=null,e}var Tl=null,fp=0;function hb(e){var t=fp;return fp+=1,Tl===null&&(Tl=[]),QS(Tl,e,t)}function K0(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pb(e,t){throw t.$$typeof===rP?Error(pt(525)):(e=Object.prototype.toString.call(t),Error(pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function e7(e){var t=e._init;return t(e._payload)}function YS(e){function t(w,C){if(e){var B=w.deletions;B===null?(w.deletions=[C],w.flags|=16):B.push(C)}}function r(w,C){if(!e)return null;for(;C!==null;)t(w,C),C=C.sibling;return null}function n(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function i(w,C){return w=qf(w,C),w.index=0,w.sibling=null,w}function a(w,C,B){return w.index=B,e?(B=w.alternate,B!==null?(B=B.index,B<C?(w.flags|=33554434,C):B):(w.flags|=33554434,C)):(w.flags|=1048576,C)}function s(w){return e&&w.alternate===null&&(w.flags|=33554434),w}function o(w,C,B,M){return C===null||C.tag!==6?(C=r_(B,w.mode,M),C.return=w,C):(C=i(C,B),C.return=w,C)}function f(w,C,B,M){var N=B.type;return N===ol?u(w,C,B.props.children,M,B.key):C!==null&&(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_f&&e7(N)===C.type)?(C=i(C,B.props),K0(C,B),C.return=w,C):(C=eg(B.type,B.key,B.props,null,w.mode,M),K0(C,B),C.return=w,C)}function c(w,C,B,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==B.containerInfo||C.stateNode.implementation!==B.implementation?(C=n_(B,w.mode,M),C.return=w,C):(C=i(C,B.children||[]),C.return=w,C)}function u(w,C,B,M,N){return C===null||C.tag!==7?(C=iu(B,w.mode,M,N),C.return=w,C):(C=i(C,B),C.return=w,C)}function l(w,C,B){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=r_(""+C,w.mode,B),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ob:return B=eg(C.type,C.key,C.props,null,w.mode,B),K0(B,C),B.return=w,B;case lh:return C=n_(C,w.mode,B),C.return=w,C;case _f:var M=C._init;return C=M(C._payload),l(w,C,B)}if(hh(C)||j0(C))return C=iu(C,w.mode,B,null),C.return=w,C;if(typeof C.then=="function")return l(w,hb(C),B);if(C.$$typeof===yo)return l(w,bb(w,C),B);pb(w,C)}return null}function h(w,C,B,M){var N=C!==null?C.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return N!==null?null:o(w,C,""+B,M);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ob:return B.key===N?f(w,C,B,M):null;case lh:return B.key===N?c(w,C,B,M):null;case _f:return N=B._init,B=N(B._payload),h(w,C,B,M)}if(hh(B)||j0(B))return N!==null?null:u(w,C,B,M,null);if(typeof B.then=="function")return h(w,C,hb(B),M);if(B.$$typeof===yo)return h(w,C,bb(w,B),M);pb(w,B)}return null}function g(w,C,B,M,N){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return w=w.get(B)||null,o(C,w,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ob:return w=w.get(M.key===null?B:M.key)||null,f(C,w,M,N);case lh:return w=w.get(M.key===null?B:M.key)||null,c(C,w,M,N);case _f:var K=M._init;return M=K(M._payload),g(w,C,B,M,N)}if(hh(M)||j0(M))return w=w.get(B)||null,u(C,w,M,N,null);if(typeof M.then=="function")return g(w,C,B,hb(M),N);if(M.$$typeof===yo)return g(w,C,B,bb(C,M),N);pb(C,M)}return null}function m(w,C,B,M){for(var N=null,K=null,Q=C,j=C=0,G=null;Q!==null&&j<B.length;j++){Q.index>j?(G=Q,Q=null):G=Q.sibling;var W=h(w,Q,B[j],M);if(W===null){Q===null&&(Q=G);break}e&&Q&&W.alternate===null&&t(w,Q),C=a(W,C,j),K===null?N=W:K.sibling=W,K=W,Q=G}if(j===B.length)return r(w,Q),te&&Mc(w,j),N;if(Q===null){for(;j<B.length;j++)Q=l(w,B[j],M),Q!==null&&(C=a(Q,C,j),K===null?N=Q:K.sibling=Q,K=Q);return te&&Mc(w,j),N}for(Q=n(Q);j<B.length;j++)G=g(Q,w,j,B[j],M),G!==null&&(e&&G.alternate!==null&&Q.delete(G.key===null?j:G.key),C=a(G,C,j),K===null?N=G:K.sibling=G,K=G);return e&&Q.forEach(function(R){return t(w,R)}),te&&Mc(w,j),N}function A(w,C,B,M){if(B==null)throw Error(pt(151));for(var N=null,K=null,Q=C,j=C=0,G=null,W=B.next();Q!==null&&!W.done;j++,W=B.next()){Q.index>j?(G=Q,Q=null):G=Q.sibling;var R=h(w,Q,W.value,M);if(R===null){Q===null&&(Q=G);break}e&&Q&&R.alternate===null&&t(w,Q),C=a(R,C,j),K===null?N=R:K.sibling=R,K=R,Q=G}if(W.done)return r(w,Q),te&&Mc(w,j),N;if(Q===null){for(;!W.done;j++,W=B.next())W=l(w,W.value,M),W!==null&&(C=a(W,C,j),K===null?N=W:K.sibling=W,K=W);return te&&Mc(w,j),N}for(Q=n(Q);!W.done;j++,W=B.next())W=g(Q,w,j,W.value,M),W!==null&&(e&&W.alternate!==null&&Q.delete(W.key===null?j:W.key),C=a(W,C,j),K===null?N=W:K.sibling=W,K=W);return e&&Q.forEach(function(_){return t(w,_)}),te&&Mc(w,j),N}function S(w,C,B,M){if(typeof B=="object"&&B!==null&&B.type===ol&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ob:t:{for(var N=B.key;C!==null;){if(C.key===N){if(N=B.type,N===ol){if(C.tag===7){r(w,C.sibling),M=i(C,B.props.children),M.return=w,w=M;break t}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_f&&e7(N)===C.type){r(w,C.sibling),M=i(C,B.props),K0(M,B),M.return=w,w=M;break t}r(w,C);break}else t(w,C);C=C.sibling}B.type===ol?(M=iu(B.props.children,w.mode,M,B.key),M.return=w,w=M):(M=eg(B.type,B.key,B.props,null,w.mode,M),K0(M,B),M.return=w,w=M)}return s(w);case lh:t:{for(N=B.key;C!==null;){if(C.key===N)if(C.tag===4&&C.stateNode.containerInfo===B.containerInfo&&C.stateNode.implementation===B.implementation){r(w,C.sibling),M=i(C,B.children||[]),M.return=w,w=M;break t}else{r(w,C);break}else t(w,C);C=C.sibling}M=n_(B,w.mode,M),M.return=w,w=M}return s(w);case _f:return N=B._init,B=N(B._payload),S(w,C,B,M)}if(hh(B))return m(w,C,B,M);if(j0(B)){if(N=j0(B),typeof N!="function")throw Error(pt(150));return B=N.call(B),A(w,C,B,M)}if(typeof B.then=="function")return S(w,C,hb(B),M);if(B.$$typeof===yo)return S(w,C,bb(w,B),M);pb(w,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,C!==null&&C.tag===6?(r(w,C.sibling),M=i(C,B),M.return=w,w=M):(r(w,C),M=r_(B,w.mode,M),M.return=w,w=M),s(w)):r(w,C)}return function(w,C,B,M){try{fp=0;var N=S(w,C,B,M);return Tl=null,N}catch(Q){if(Q===Dh)throw Q;var K=sa(29,Q,null,w.mode);return K.lanes=M,K.return=w,K}finally{}}}var du=YS(!0),VS=YS(!1),sd=$s(null),Sg=$s(0);function r7(e,t){e=Ho,Ue(Sg,e),Ue(sd,t),Ho=e|t.baseLanes}function $m(){Ue(Sg,Ho),Ue(sd,sd.current)}function W6(){Ho=Sg.current,Ur(sd),Ur(Sg)}var pa=$s(null),Ds=null;function xf(e){var t=e.alternate;Ue(mr,mr.current&1),Ue(pa,e),Ds===null&&(t===null||sd.current!==null||t.memoizedState!==null)&&(Ds=e)}function GS(e){if(e.tag===22){if(Ue(mr,mr.current),Ue(pa,e),Ds===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ds=e)}}else Sf()}function Sf(){Ue(mr,mr.current),Ue(pa,pa.current)}function mo(e){Ur(pa),Ds===e&&(Ds=null),Ur(mr)}var mr=$s(0);function Cg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gN=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},yN=Er.unstable_scheduleCallback,vN=Er.unstable_NormalPriority,_r={$$typeof:yo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function X6(){return{controller:new gN,data:new Map,refCount:0}}function Yp(e){e.refCount--,e.refCount===0&&yN(vN,function(){e.controller.abort()})}var Rh=null,qm=0,od=0,Bl=null;function _N(e,t){if(Rh===null){var r=Rh=[];qm=0,od=m4(),Bl={status:"pending",value:void 0,then:function(n){r.push(n)}}}return qm++,t.then(n7,n7),t}function n7(){if(--qm===0&&Rh!==null){Bl!==null&&(Bl.status="fulfilled");var e=Rh;Rh=null,od=0,Bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mN(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<r.length;i++)(0,r[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var i7=kt.S;kt.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&_N(e,t),i7!==null&&i7(e,t)};var nu=$s(null);function Z6(){var e=nu.current;return e!==null?e:_e.pooledCache}function Xb(e,t){t===null?Ue(nu,nu.current):Ue(nu,t.pool)}function WS(){var e=Z6();return e===null?null:{parent:_r._currentValue,pool:e}}var rc=0,Ft=null,fe=null,br=null,Ig=!1,Ol=!1,hu=!1,Tg=0,cp=0,Dl=null,wN=0;function cr(){throw Error(pt(321))}function J6(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Oi(e[r],t[r]))return!1;return!0}function t4(e,t,r,n,i,a){return rc=a,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kt.H=e===null||e.memoizedState===null?Bu:hc,hu=!1,a=r(n,i),hu=!1,Ol&&(a=ZS(t,r,n,i)),XS(e),a}function XS(e){kt.H=ks;var t=fe!==null&&fe.next!==null;if(rc=0,br=fe=Ft=null,Ig=!1,cp=0,Dl=null,t)throw Error(pt(300));e===null||Lr||(e=e.dependencies,e!==null&&Dg(e)&&(Lr=!0))}function ZS(e,t,r,n){Ft=e;var i=0;do{if(Ol&&(Dl=null),cp=0,Ol=!1,25<=i)throw Error(pt(301));if(i+=1,br=fe=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}kt.H=Ou,a=t(r,n)}while(Ol);return a}function AN(){var e=kt.H,t=e.useState()[0];return t=typeof t.then=="function"?Vp(t):t,e=e.useState()[0],(fe!==null?fe.memoizedState:null)!==e&&(Ft.flags|=1024),t}function e4(){var e=Tg!==0;return Tg=0,e}function r4(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function n4(e){if(Ig){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ig=!1}rc=0,br=fe=Ft=null,Ol=!1,cp=Tg=0,Dl=null}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Ft.memoizedState=br=e:br=br.next=e,br}function gr(){if(fe===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=br===null?Ft.memoizedState:br.next;if(t!==null)br=t,fe=e;else{if(e===null)throw Ft.alternate===null?Error(pt(467)):Error(pt(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},br===null?Ft.memoizedState=br=e:br=br.next=e}return br}var $y;$y=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Vp(e){var t=cp;return cp+=1,Dl===null&&(Dl=[]),e=QS(Dl,e,t),t=Ft,(br===null?t.memoizedState:br.next)===null&&(t=t.alternate,kt.H=t===null||t.memoizedState===null?Bu:hc),e}function qy(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vp(e);if(e.$$typeof===yo)return _n(e)}throw Error(pt(438,String(e)))}function i4(e){var t=null,r=Ft.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=Ft.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=$y(),Ft.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=iP;return t.index++,r}function Ro(e,t){return typeof t=="function"?t(e):t}function Zb(e){var t=gr();return a4(t,fe,e)}function a4(e,t,r){var n=e.queue;if(n===null)throw Error(pt(311));n.lastRenderedReducer=r;var i=e.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,n.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var o=s=null,f=null,c=t,u=!1;do{var l=c.lane&-536870913;if(l!==c.lane?(Wt&l)===l:(rc&l)===l){var h=c.revertLane;if(h===0)f!==null&&(f=f.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),l===od&&(u=!0);else if((rc&h)===h){c=c.next,h===od&&(u=!0);continue}else l={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(o=f=l,s=a):f=f.next=l,Ft.lanes|=h,ic|=h;l=c.action,hu&&r(a,l),a=c.hasEagerState?c.eagerState:r(a,l)}else h={lane:l,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},f===null?(o=f=h,s=a):f=f.next=h,Ft.lanes|=l,ic|=l;c=c.next}while(c!==null&&c!==t);if(f===null?s=a:f.next=o,!Oi(a,e.memoizedState)&&(Lr=!0,u&&(r=Bl,r!==null)))throw r;e.memoizedState=a,e.baseState=s,e.baseQueue=f,n.lastRenderedState=a}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Kv(e){var t=gr(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Oi(a,t.memoizedState)||(Lr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function JS(e,t,r){var n=Ft,i=gr(),a=te;if(a){if(r===void 0)throw Error(pt(407));r=r()}else r=t();var s=!Oi((fe||i).memoizedState,r);if(s&&(i.memoizedState=r,Lr=!0),i=i.queue,s4(rC.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||br!==null&&br.memoizedState.tag&1){if(n.flags|=2048,fd(9,eC.bind(null,n,i,r,t),{destroy:void 0},null),_e===null)throw Error(pt(349));a||rc&60||tC(n,t,r)}return r}function tC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ft.updateQueue,t===null?(t=$y(),Ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function eC(e,t,r,n){t.value=r,t.getSnapshot=n,nC(t)&&iC(e)}function rC(e,t,r){return r(function(){nC(t)&&iC(e)})}function nC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Oi(e,r)}catch{return!0}}function iC(e){var t=ec(e,2);t!==null&&qn(t,e,2)}function Km(e){var t=ei();if(typeof e=="function"){var r=e;if(e=r(),hu){Nf(!0);try{r()}finally{Nf(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:e},t}function aC(e,t,r,n){return e.baseState=r,a4(e,fe,typeof n=="function"?n:Ro)}function EN(e,t,r,n,i){if(Qy(e))throw Error(pt(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};kt.T!==null?r(!0):a.isTransition=!1,n(a),r=t.pending,r===null?(a.next=t.pending=a,sC(t,a)):(a.next=r.next,t.pending=r.next=a)}}function sC(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var a=kt.T,s={};kt.T=s;try{var o=r(i,n),f=kt.S;f!==null&&f(s,o),a7(e,t,o)}catch(c){Qm(e,t,c)}finally{kt.T=a}}else try{a=r(i,n),a7(e,t,a)}catch(c){Qm(e,t,c)}}function a7(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){s7(e,t,n)},function(n){return Qm(e,t,n)}):s7(e,t,r)}function s7(e,t,r){t.status="fulfilled",t.value=r,oC(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,sC(e,r)))}function Qm(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,oC(t),t=t.next;while(t!==n)}e.action=null}function oC(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fC(e,t){return t}function cC(e,t){if(te){var r=_e.formState;if(r!==null){t:{var n=Ft;if(te){if(Gr){e:{for(var i=Gr,a=ms;i.nodeType!==8;){if(!a){i=null;break e}if(i=Wa(i.nextSibling),i===null){i=null;break e}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Gr=Wa(i.nextSibling),n=i.data==="F!";break t}}lu(n)}n=!1}n&&(t=r[0])}}return r=ei(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fC,lastRenderedState:t},r.queue=n,r=CC.bind(null,Ft,n),n.dispatch=r,n=Km(!1),a=u4.bind(null,Ft,!1,n.queue),n=ei(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,r=EN.bind(null,Ft,i,a,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function uC(e){var t=gr();return lC(t,fe,e)}function lC(e,t,r){t=a4(e,t,fC)[0],e=Zb(Ro)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Vp(t):t;var n=gr(),i=n.queue,a=i.dispatch;return r!==n.memoizedState&&(Ft.flags|=2048,fd(9,xN.bind(null,i,r),{destroy:void 0},null)),[t,a,e]}function xN(e,t){e.action=t}function dC(e){var t=gr(),r=fe;if(r!==null)return lC(t,r,e);gr(),t=t.memoizedState,r=gr();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fd(e,t,r,n){return e={tag:e,create:t,inst:r,deps:n,next:null},t=Ft.updateQueue,t===null&&(t=$y(),Ft.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function hC(){return gr().memoizedState}function Jb(e,t,r,n){var i=ei();Ft.flags|=e,i.memoizedState=fd(1|t,r,{destroy:void 0},n===void 0?null:n)}function Ky(e,t,r,n){var i=gr();n=n===void 0?null:n;var a=i.memoizedState.inst;fe!==null&&n!==null&&J6(n,fe.memoizedState.deps)?i.memoizedState=fd(t,r,a,n):(Ft.flags|=e,i.memoizedState=fd(1|t,r,a,n))}function o7(e,t){Jb(8390656,8,e,t)}function s4(e,t){Ky(2048,8,e,t)}function pC(e,t){return Ky(4,2,e,t)}function bC(e,t){return Ky(4,4,e,t)}function gC(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yC(e,t,r){r=r!=null?r.concat([e]):null,Ky(4,4,gC.bind(null,t,e),r)}function o4(){}function vC(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&J6(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _C(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&J6(t,n[1]))return n[0];if(n=e(),hu){Nf(!0);try{e()}finally{Nf(!1)}}return r.memoizedState=[n,t],n}function f4(e,t,r){return r===void 0||rc&1073741824?e.memoizedState=t:(e.memoizedState=r,e=oI(),Ft.lanes|=e,ic|=e,r)}function mC(e,t,r,n){return Oi(r,t)?r:sd.current!==null?(e=f4(e,r,n),Oi(e,t)||(Lr=!0),e):rc&42?(e=oI(),Ft.lanes|=e,ic|=e,t):(Lr=!0,e.memoizedState=r)}function wC(e,t,r,n,i){var a=Ie.p;Ie.p=a!==0&&8>a?a:8;var s=kt.T,o={};kt.T=o,u4(e,!1,t,r);try{var f=i(),c=kt.S;if(c!==null&&c(o,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var u=mN(f,n);Lh(e,t,u,Ti(e))}else Lh(e,t,n,Ti(e))}catch(l){Lh(e,t,{then:function(){},status:"rejected",reason:l},Ti())}finally{Ie.p=a,kt.T=s}}function SN(){}function Ym(e,t,r,n){if(e.tag!==5)throw Error(pt(476));var i=AC(e).queue;wC(e,i,t,eu,r===null?SN:function(){return EC(e),r(n)})}function AC(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:eu,baseState:eu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:eu},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function EC(e){var t=AC(e).next.queue;Lh(e,t,{},Ti())}function c4(){return _n(hp)}function xC(){return gr().memoizedState}function SC(){return gr().memoizedState}function CN(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Ti();e=Ff(r);var n=$f(t,e,r);n!==null&&(qn(n,t,r),Ph(n,t,r)),t={cache:X6()},e.payload=t;return}t=t.return}}function IN(e,t,r){var n=Ti();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qy(e)?IC(t,r):(r=Y6(e,t,r,n),r!==null&&(qn(r,e,n),TC(r,t,n)))}function CC(e,t,r){var n=Ti();Lh(e,t,r,n)}function Lh(e,t,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qy(e))IC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Oi(o,s))return Fy(e,t,i,0),_e===null&&jy(),!1}catch{}finally{}if(r=Y6(e,t,i,n),r!==null)return qn(r,e,n),TC(r,t,n),!0}return!1}function u4(e,t,r,n){if(n={lane:2,revertLane:m4(),action:n,hasEagerState:!1,eagerState:null,next:null},Qy(e)){if(t)throw Error(pt(479))}else t=Y6(e,r,n,2),t!==null&&qn(t,e,2)}function Qy(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function IC(e,t){Ol=Ig=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function TC(e,t,r){if(r&4194176){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gS(e,r)}}var ks={readContext:_n,use:qy,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useInsertionEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useSyncExternalStore:cr,useId:cr};ks.useCacheRefresh=cr;ks.useMemoCache=cr;ks.useHostTransitionStatus=cr;ks.useFormState=cr;ks.useActionState=cr;ks.useOptimistic=cr;var Bu={readContext:_n,use:qy,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:o7,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Jb(4194308,4,gC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jb(4194308,4,e,t)},useInsertionEffect:function(e,t){Jb(4,2,e,t)},useMemo:function(e,t){var r=ei();t=t===void 0?null:t;var n=e();if(hu){Nf(!0);try{e()}finally{Nf(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=ei();if(r!==void 0){var i=r(t);if(hu){Nf(!0);try{r(t)}finally{Nf(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=IN.bind(null,Ft,e),[n.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:function(e){e=Km(e);var t=e.queue,r=CC.bind(null,Ft,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:o4,useDeferredValue:function(e,t){var r=ei();return f4(r,e,t)},useTransition:function(){var e=Km(!1);return e=wC.bind(null,Ft,e.queue,!0,!1),ei().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Ft,i=ei();if(te){if(r===void 0)throw Error(pt(407));r=r()}else{if(r=t(),_e===null)throw Error(pt(349));Wt&60||tC(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,o7(rC.bind(null,n,a,e),[e]),n.flags|=2048,fd(9,eC.bind(null,n,a,r,t),{destroy:void 0},null),r},useId:function(){var e=ei(),t=_e.identifierPrefix;if(te){var r=_o,n=vo;r=(n&~(1<<32-Ii(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Tg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return ei().memoizedState=CN.bind(null,Ft)}};Bu.useMemoCache=i4;Bu.useHostTransitionStatus=c4;Bu.useFormState=cC;Bu.useActionState=cC;Bu.useOptimistic=function(e){var t=ei();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=u4.bind(null,Ft,!0,r),r.dispatch=t,[e,t]};var hc={readContext:_n,use:qy,useCallback:vC,useContext:_n,useEffect:s4,useImperativeHandle:yC,useInsertionEffect:pC,useLayoutEffect:bC,useMemo:_C,useReducer:Zb,useRef:hC,useState:function(){return Zb(Ro)},useDebugValue:o4,useDeferredValue:function(e,t){var r=gr();return mC(r,fe.memoizedState,e,t)},useTransition:function(){var e=Zb(Ro)[0],t=gr().memoizedState;return[typeof e=="boolean"?e:Vp(e),t]},useSyncExternalStore:JS,useId:xC};hc.useCacheRefresh=SC;hc.useMemoCache=i4;hc.useHostTransitionStatus=c4;hc.useFormState=uC;hc.useActionState=uC;hc.useOptimistic=function(e,t){var r=gr();return aC(r,fe,e,t)};var Ou={readContext:_n,use:qy,useCallback:vC,useContext:_n,useEffect:s4,useImperativeHandle:yC,useInsertionEffect:pC,useLayoutEffect:bC,useMemo:_C,useReducer:Kv,useRef:hC,useState:function(){return Kv(Ro)},useDebugValue:o4,useDeferredValue:function(e,t){var r=gr();return fe===null?f4(r,e,t):mC(r,fe.memoizedState,e,t)},useTransition:function(){var e=Kv(Ro)[0],t=gr().memoizedState;return[typeof e=="boolean"?e:Vp(e),t]},useSyncExternalStore:JS,useId:xC};Ou.useCacheRefresh=SC;Ou.useMemoCache=i4;Ou.useHostTransitionStatus=c4;Ou.useFormState=dC;Ou.useActionState=dC;Ou.useOptimistic=function(e,t){var r=gr();return fe!==null?aC(r,fe,e,t):(r.baseState=e,[e,r.queue.dispatch])};function Qv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vm={isMounted:function(e){return(e=e._reactInternals)?$d(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ti(),i=Ff(n);i.payload=t,r!=null&&(i.callback=r),t=$f(e,i,n),t!==null&&(qn(t,e,n),Ph(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ti(),i=Ff(n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$f(e,i,n),t!==null&&(qn(t,e,n),Ph(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ti(),n=Ff(r);n.tag=2,t!=null&&(n.callback=t),t=$f(e,n,r),t!==null&&(qn(t,e,r),Ph(t,e,r))}};function f7(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!sp(r,n)||!sp(i,a):!0}function c7(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vm.enqueueReplaceState(t,t.state,null)}function pu(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Oe({},r));for(var i in e)r[i]===void 0&&(r[i]=e[i])}return r}var Bg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function BC(e){Bg(e)}function OC(e){console.error(e)}function DC(e){Bg(e)}function Og(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function u7(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Gm(e,t,r){return r=Ff(r),r.tag=3,r.payload={element:null},r.callback=function(){Og(e,t)},r}function MC(e){return e=Ff(e),e.tag=3,e}function RC(e,t,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;e.payload=function(){return i(a)},e.callback=function(){u7(t,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){u7(t,r,n),typeof i!="function"&&(Kf===null?Kf=new Set([this]):Kf.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function TN(e,t,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&Gp(t,r,i,!0),r=pa.current,r!==null){switch(r.tag){case 13:return Ds===null?u3():r.alternate===null&&ar===0&&(ar=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Fm?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),a_(e,n,i)),!1;case 22:return r.flags|=65536,n===Fm?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),a_(e,n,i)),!1}throw Error(pt(435,r.tag))}return a_(e,n,i),u3(),!1}if(te)return t=pa.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==jm&&(e=Error(pt(422),{cause:n}),op(na(e,r)))):(n!==jm&&(t=Error(pt(423),{cause:n}),op(na(t,r))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=na(n,r),i=Gm(e.stateNode,n,i),Zv(e,i),ar!==4&&(ar=2)),!1;var a=Error(pt(520),{cause:n});if(a=na(a,r),zh===null?zh=[a]:zh.push(a),ar!==4&&(ar=2),t===null)return!0;n=na(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,e=Gm(r.stateNode,n,e),Zv(r,e),!1;case 1:if(t=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Kf===null||!Kf.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=MC(i),RC(i,e,r,n),Zv(r,i),!1}r=r.return}while(r!==null);return!1}var LC=Error(pt(461)),Lr=!1;function Yr(e,t,r,n){t.child=e===null?VS(t,null,r,n):du(t,e.child,r,n)}function l7(e,t,r,n,i){r=r.render;var a=t.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return bu(t),n=t4(e,t,r,s,a,i),o=e4(),e!==null&&!Lr?(r4(e,t,i),Lo(e,t,i)):(te&&o&&V6(t),t.flags|=1,Yr(e,t,n,i),t.child)}function d7(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!b4(a)&&a.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=a,HC(e,t,a,n,i)):(e=eg(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!l4(e,i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:sp,r(s,n)&&e.ref===t.ref)return Lo(e,t,i)}return t.flags|=1,e=qf(a,n),e.ref=t.ref,e.return=t,t.child=e}function HC(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(sp(a,n)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=n=a,l4(e,i))e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,Lo(e,t,i)}return Wm(e,t,r,n,i)}function PC(e,t,r){var n=t.pendingProps,i=n.children,a=(t.stateNode._pendingVisibility&2)!==0,s=e!==null?e.memoizedState:null;if(Hh(e,t),n.mode==="hidden"||a){if(t.flags&128){if(n=s!==null?s.baseLanes|r:r,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~n}else t.childLanes=0,t.child=null;return h7(e,t,n,r)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xb(t,s!==null?s.cachePool:null),s!==null?r7(t,s):$m(),GS(t);else return t.lanes=t.childLanes=536870912,h7(e,t,s!==null?s.baseLanes|r:r,r)}else s!==null?(Xb(t,s.cachePool),r7(t,s),Sf(),t.memoizedState=null):(e!==null&&Xb(t,null),$m(),Sf());return Yr(e,t,i,r),t.child}function h7(e,t,r,n){var i=Z6();return i=i===null?null:{parent:_r._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Xb(t,null),$m(),GS(t),e!==null&&Gp(e,t,n,!0),null}function Hh(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(pt(284));(e===null||e.ref!==r)&&(t.flags|=2097664)}}function Wm(e,t,r,n,i){return bu(t),r=t4(e,t,r,n,void 0,i),n=e4(),e!==null&&!Lr?(r4(e,t,i),Lo(e,t,i)):(te&&n&&V6(t),t.flags|=1,Yr(e,t,r,i),t.child)}function p7(e,t,r,n,i,a){return bu(t),t.updateQueue=null,r=ZS(t,n,r,i),XS(e),n=e4(),e!==null&&!Lr?(r4(e,t,a),Lo(e,t,a)):(te&&n&&V6(t),t.flags|=1,Yr(e,t,r,a),t.child)}function b7(e,t,r,n,i){if(bu(t),t.stateNode===null){var a=pl,s=r.contextType;typeof s=="object"&&s!==null&&(a=_n(s)),a=new r(n,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vm,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=n,a.state=t.memoizedState,a.refs={},d4(t),s=r.contextType,a.context=typeof s=="object"&&s!==null?_n(s):pl,a.state=t.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(Qv(t,r,s,n),a.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Vm.enqueueReplaceState(a,a.state,null),Uh(t,n,a,i),Nh(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,f=pu(r,o);a.props=f;var c=a.context,u=r.contextType;s=pl,typeof u=="object"&&u!==null&&(s=_n(u));var l=r.getDerivedStateFromProps;u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&c7(t,a,n,s),mf=!1;var h=t.memoizedState;a.state=h,Uh(t,n,a,i),Nh(),c=t.memoizedState,o||h!==c||mf?(typeof l=="function"&&(Qv(t,r,l,n),c=t.memoizedState),(f=mf||f7(t,r,f,n,h,c,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=s,n=f):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,r3(e,t),s=t.memoizedProps,u=pu(r,s),a.props=u,l=t.pendingProps,h=a.context,c=r.contextType,f=pl,typeof c=="object"&&c!==null&&(f=_n(c)),o=r.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==l||h!==f)&&c7(t,a,n,f),mf=!1,h=t.memoizedState,a.state=h,Uh(t,n,a,i),Nh();var g=t.memoizedState;s!==l||h!==g||mf||e!==null&&e.dependencies!==null&&Dg(e.dependencies)?(typeof o=="function"&&(Qv(t,r,o,n),g=t.memoizedState),(u=mf||f7(t,r,u,n,h,g,f)||e!==null&&e.dependencies!==null&&Dg(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=f,n=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Hh(e,t),n=(t.flags&128)!==0,a||n?(a=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&n?(t.child=du(t,e.child,null,i),t.child=du(t,null,r,i)):Yr(e,t,r,i),t.memoizedState=a.state,e=t.child):e=Lo(e,t,i),e}function g7(e,t,r,n){return Qp(),t.flags|=256,Yr(e,t,r,n),t.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Vv(e){return{baseLanes:e,cachePool:WS()}}function Gv(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=oa),e}function NC(e,t,r){var n=t.pendingProps,i=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(mr.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(te){if(i?xf(t):Sf(),te){var o=Gr,f;if(f=o){t:{for(f=o,o=ms;f.nodeType!==8;){if(!o){o=null;break t}if(f=Wa(f.nextSibling),f===null){o=null;break t}}o=f}o!==null?(t.memoizedState={dehydrated:o,treeContext:ru!==null?{id:vo,overflow:_o}:null,retryLane:536870912},f=sa(18,null,null,0),f.stateNode=o,f.return=t,t.child=f,zn=t,Gr=null,f=!0):f=!1}f||lu(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?t.lanes=16:t.lanes=536870912,null;mo(t)}return o=n.children,n=n.fallback,i?(Sf(),i=t.mode,o=Zm({mode:"hidden",children:o},i),n=iu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,i=t.child,i.memoizedState=Vv(r),i.childLanes=Gv(e,s,r),t.memoizedState=Yv,n):(xf(t),Xm(t,o))}if(f=e.memoizedState,f!==null&&(o=f.dehydrated,o!==null)){if(a)t.flags&256?(xf(t),t.flags&=-257,t=Wv(e,t,r)):t.memoizedState!==null?(Sf(),t.child=e.child,t.flags|=128,t=null):(Sf(),i=n.fallback,o=t.mode,n=Zm({mode:"visible",children:n.children},o),i=iu(i,o,r,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,du(t,e.child,null,r),n=t.child,n.memoizedState=Vv(r),n.childLanes=Gv(e,s,r),t.memoizedState=Yv,t=i);else if(xf(t),o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,n=Error(pt(419)),n.stack="",n.digest=s,op({value:n,source:null,stack:null}),t=Wv(e,t,r)}else if(Lr||Gp(e,t,r,!1),s=(r&e.childLanes)!==0,Lr||s){if(s=_e,s!==null){if(n=r&-r,n&42)n=1;else switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=64;break;case 268435456:n=134217728;break;default:n=0}if(n=n&(s.suspendedLanes|r)?0:n,n!==0&&n!==f.retryLane)throw f.retryLane=n,ec(e,n),qn(s,e,n),LC}o.data==="$?"||u3(),t=Wv(e,t,r)}else o.data==="$?"?(t.flags|=128,t.child=e.child,t=$N.bind(null,e),o._reactRetry=t,t=null):(e=f.treeContext,Gr=Wa(o.nextSibling),zn=t,te=!0,za=null,ms=!1,e!==null&&(ta[ea++]=vo,ta[ea++]=_o,ta[ea++]=ru,vo=e.id,_o=e.overflow,ru=t),t=Xm(t,n.children),t.flags|=4096);return t}return i?(Sf(),i=n.fallback,o=t.mode,f=e.child,c=f.sibling,n=qf(f,{mode:"hidden",children:n.children}),n.subtreeFlags=f.subtreeFlags&31457280,c!==null?i=qf(c,i):(i=iu(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o===null?o=Vv(r):(f=o.cachePool,f!==null?(c=_r._currentValue,f=f.parent!==c?{parent:c,pool:c}:f):f=WS(),o={baseLanes:o.baseLanes|r,cachePool:f}),i.memoizedState=o,i.childLanes=Gv(e,s,r),t.memoizedState=Yv,n):(xf(t),r=e.child,e=r.sibling,r=qf(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r)}function Xm(e,t){return t=Zm({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zm(e,t){return aI(e,t,0,null)}function Wv(e,t,r){return du(t,e.child,null,r),e=Xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y7(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),t3(e.return,t,r)}function Xv(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function UC(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Yr(e,t,n.children,r),n=mr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y7(e,r,t);else if(e.tag===19)y7(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(Ue(mr,n),i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Cg(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Xv(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cg(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Xv(t,!0,r,null,a);break;case"together":Xv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ic|=t.lanes,!(r&t.childLanes))if(e!==null){if(Gp(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(pt(153));if(t.child!==null){for(e=t.child,r=qf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function l4(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Dg(e)))}function BN(e,t,r){switch(t.tag){case 3:yg(t,t.stateNode.containerInfo),Cf(t,_r,e.memoizedState.cache),Qp();break;case 27:case 5:Mm(t);break;case 4:yg(t,t.stateNode.containerInfo);break;case 10:Cf(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(xf(t),t.flags|=128,null):r&t.child.childLanes?NC(e,t,r):(xf(t),e=Lo(e,t,r),e!==null?e.sibling:null);xf(t);break;case 19:var i=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(Gp(e,t,r,!1),n=(r&t.childLanes)!==0),i){if(n)return UC(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ue(mr,mr.current),n)break;return null;case 22:case 23:return t.lanes=0,PC(e,t,r);case 24:Cf(t,_r,e.memoizedState.cache)}return Lo(e,t,r)}function kC(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lr=!0;else{if(!l4(e,r)&&!(t.flags&128))return Lr=!1,BN(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,te&&t.flags&1048576&&qS(t,xg,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,typeof n=="function")b4(n)?(e=pu(n,e),t.tag=1,t=b7(null,t,n,e,r)):(t.tag=0,t=Wm(null,t,n,e,r));else{if(n!=null){if(i=n.$$typeof,i===P6){t.tag=11,t=l7(null,t,n,e,r);break t}else if(i===N6){t.tag=14,t=d7(null,t,n,e,r);break t}}throw t=Om(n)||n,Error(pt(306,t,""))}}return t;case 0:return Wm(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,i=pu(n,t.pendingProps),b7(e,t,n,i,r);case 3:t:{if(yg(t,t.stateNode.containerInfo),e===null)throw Error(pt(387));var a=t.pendingProps;i=t.memoizedState,n=i.element,r3(e,t),Uh(t,a,null,r);var s=t.memoizedState;if(a=s.cache,Cf(t,_r,a),a!==i.cache&&e3(t,[_r],r,!0),Nh(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=g7(e,t,a,r);break t}else if(a!==n){n=na(Error(pt(424)),t),op(n),t=g7(e,t,a,r);break t}else for(Gr=Wa(t.stateNode.containerInfo.firstChild),zn=t,te=!0,za=null,ms=!0,r=VS(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qp(),a===n){t=Lo(e,t,r);break t}Yr(e,t,a,r)}t=t.child}return t;case 26:return Hh(e,t),e===null?(r=H7(t.type,null,t.pendingProps,null))?t.memoizedState=r:te||(r=t.type,e=t.pendingProps,n=Ug(jf.current).createElement(r),n[vn]=t,n[ni]=e,Zr(n,r,e),Mr(n),t.stateNode=n):t.memoizedState=H7(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mm(t),e===null&&te&&(n=t.stateNode=EI(t.type,t.pendingProps,jf.current),zn=t,ms=!0,Gr=Wa(n.firstChild)),n=t.pendingProps.children,e!==null||te?Yr(e,t,n,r):t.child=du(t,null,n,r),Hh(e,t),t.child;case 5:return e===null&&te&&((i=n=Gr)&&(n=aU(n,t.type,t.pendingProps,ms),n!==null?(t.stateNode=n,zn=t,Gr=Wa(n.firstChild),ms=!1,i=!0):i=!1),i||lu(t)),Mm(t),i=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,n=a.children,b3(i,a)?n=null:s!==null&&b3(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=t4(e,t,AN,null,null,r),hp._currentValue=i),Hh(e,t),Yr(e,t,n,r),t.child;case 6:return e===null&&te&&((e=r=Gr)&&(r=sU(r,t.pendingProps,ms),r!==null?(t.stateNode=r,zn=t,Gr=null,e=!0):e=!1),e||lu(t)),null;case 13:return NC(e,t,r);case 4:return yg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=du(t,null,n,r):Yr(e,t,n,r),t.child;case 11:return l7(e,t,t.type,t.pendingProps,r);case 7:return Yr(e,t,t.pendingProps,r),t.child;case 8:return Yr(e,t,t.pendingProps.children,r),t.child;case 12:return Yr(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Cf(t,t.type,n.value),Yr(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,bu(t),i=_n(i),n=n(i),t.flags|=1,Yr(e,t,n,r),t.child;case 14:return d7(e,t,t.type,t.pendingProps,r);case 15:return HC(e,t,t.type,t.pendingProps,r);case 19:return UC(e,t,r);case 22:return PC(e,t,r);case 24:return bu(t),n=_n(_r),e===null?(i=Z6(),i===null&&(i=_e,a=X6(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),t.memoizedState={parent:n,cache:i},d4(t),Cf(t,_r,i)):(e.lanes&r&&(r3(e,t),Uh(t,null,null,r),Nh()),i=e.memoizedState,a=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Cf(t,_r,n)):(n=a.cache,Cf(t,_r,n),n!==i.cache&&e3(t,[_r],r,!0))),Yr(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(pt(156,t.tag))}var Jm=$s(null),Du=null,wo=null;function Cf(e,t,r){Ue(Jm,t._currentValue),t._currentValue=r}function Io(e){e._currentValue=Jm.current,Ur(Jm)}function t3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function e3(e,t,r,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=i;for(var f=0;f<t.length;f++)if(o.context===t[f]){a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),t3(a.return,r,e),n||(s=null);break t}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(pt(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),t3(s,r,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Gp(e,t,r,n){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(pt(387));if(s=s.memoizedProps,s!==null){var o=i.type;Oi(i.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(i===gg.current){if(s=i.alternate,s===null)throw Error(pt(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(hp):e=[hp])}i=i.return}e!==null&&e3(t,e,r,n),t.flags|=262144}function Dg(e){for(e=e.firstContext;e!==null;){if(!Oi(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bu(e){Du=e,wo=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _n(e){return zC(Du,e)}function bb(e,t){return Du===null&&bu(e),zC(e,t)}function zC(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},wo===null){if(e===null)throw Error(pt(308));wo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wo=wo.next=t;return r}var mf=!1;function d4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function r3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ff(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $f(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Ag(e),$S(e,null,r),t}return Fy(e,n,t,r),Ag(e)}function Ph(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194176)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gS(e,r)}}function Zv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var n3=!1;function Nh(){if(n3){var e=Bl;if(e!==null)throw e}}function Uh(e,t,r,n){n3=!1;var i=e.updateQueue;mf=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var f=o,c=f.next;f.next=null,s===null?a=c:s.next=c,s=f;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=f))}if(a!==null){var l=i.baseState;s=0,u=c=f=null,o=a;do{var h=o.lane&-536870913,g=h!==o.lane;if(g?(Wt&h)===h:(n&h)===h){h!==0&&h===od&&(n3=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var m=e,A=o;h=t;var S=r;switch(A.tag){case 1:if(m=A.payload,typeof m=="function"){l=m.call(S,l,h);break t}l=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=A.payload,h=typeof m=="function"?m.call(S,l,h):m,h==null)break t;l=Oe({},l,h);break t;case 2:mf=!0}}h=o.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=i.callbacks,g===null?i.callbacks=[h]:g.push(h))}else g={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=g,f=l):u=u.next=g,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);u===null&&(f=l),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),ic|=s,e.lanes=s,e.memoizedState=l}}function jC(e,t){if(typeof e!="function")throw Error(pt(191,e));e.call(t)}function FC(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)jC(r[e],t)}function Wp(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(o){pe(t,t.return,o)}}function nc(e,t,r){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=t;var f=r;try{o()}catch(c){pe(i,f,c)}}}n=n.next}while(n!==a)}}catch(c){pe(t,t.return,c)}}function $C(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{FC(t,r)}catch(n){pe(e,e.return,n)}}}function qC(e,t,r){r.props=pu(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){pe(e,t,n)}}function Fc(e,t){try{var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 26:case 27:case 5:var i=n;break;default:i=n}typeof r=="function"?e.refCleanup=r(i):r.current=i}}catch(a){pe(e,t,a)}}function mi(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){pe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){pe(e,t,i)}else r.current=null}function KC(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break t;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){pe(e,e.return,i)}}function v7(e,t,r){try{var n=e.stateNode;tU(n,e.type,r,t),n[ni]=t}catch(i){pe(e,e.return,i)}}function QC(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Jv(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||QC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gy));else if(n!==4&&n!==27&&(e=e.child,e!==null))for(i3(e,t,r),e=e.sibling;e!==null;)i3(e,t,r),e=e.sibling}function Mg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&n!==27&&(e=e.child,e!==null))for(Mg(e,t,r),e=e.sibling;e!==null;)Mg(e,t,r),e=e.sibling}var fo=!1,ir=!1,t_=!1,_7=typeof WeakSet=="function"?WeakSet:Set,Dr=null,m7=!1;function ON(e,t){if(e=e.containerInfo,h3=Fg,e=PS(e),K6(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break t}var s=0,o=-1,f=-1,c=0,u=0,l=e,h=null;e:for(;;){for(var g;l!==r||i!==0&&l.nodeType!==3||(o=s+i),l!==a||n!==0&&l.nodeType!==3||(f=s+n),l.nodeType===3&&(s+=l.nodeValue.length),(g=l.firstChild)!==null;)h=l,l=g;for(;;){if(l===e)break e;if(h===r&&++c===i&&(o=s),h===a&&++u===n&&(f=s),(g=l.nextSibling)!==null)break;l=h,h=l.parentNode}l=g}r=o===-1||f===-1?null:{start:o,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(p3={focusedElem:e,selectionRange:r},Fg=!1,Dr=t;Dr!==null;)if(t=Dr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dr=e;else for(;Dr!==null;){switch(t=Dr,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,r=t,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var m=pu(r.type,i,r.elementType===r.type);e=n.getSnapshotBeforeUpdate(m,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(A){pe(r,r.return,A)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)g3(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":g3(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(pt(163))}if(e=t.sibling,e!==null){e.return=t.return,Dr=e;break}Dr=t.return}return m=m7,m7=!1,m}function YC(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:to(e,r),n&4&&Wp(5,r);break;case 1:if(to(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){pe(r,r.return,o)}else{var i=pu(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){pe(r,r.return,o)}}n&64&&$C(r),n&512&&Fc(r,r.return);break;case 3:if(to(e,r),n&64&&(n=r.updateQueue,n!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{FC(n,e)}catch(o){pe(r,r.return,o)}}break;case 26:to(e,r),n&512&&Fc(r,r.return);break;case 27:case 5:to(e,r),t===null&&n&4&&KC(r),n&512&&Fc(r,r.return);break;case 12:to(e,r);break;case 13:to(e,r),n&4&&WC(e,r);break;case 22:if(i=r.memoizedState!==null||fo,!i){t=t!==null&&t.memoizedState!==null||ir;var a=fo,s=ir;fo=i,(ir=t)&&!s?gf(e,r,(r.subtreeFlags&8772)!==0):to(e,r),fo=a,ir=s}n&512&&(r.memoizedProps.mode==="manual"?Fc(r,r.return):mi(r,r.return));break;default:to(e,r)}}function VC(e){var t=e.alternate;t!==null&&(e.alternate=null,VC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&k6(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pr=null,yi=!1;function Js(e,t,r){for(r=r.child;r!==null;)GC(e,t,r),r=r.sibling}function GC(e,t,r){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(Fp,r)}catch{}switch(r.tag){case 26:ir||mi(r,t),Js(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ir||mi(r,t);var n=pr,i=yi;for(pr=r.stateNode,Js(e,t,r),r=r.stateNode,t=r.attributes;t.length;)r.removeAttributeNode(t[0]);k6(r),pr=n,yi=i;break;case 5:ir||mi(r,t);case 6:i=pr;var a=yi;if(pr=null,Js(e,t,r),pr=i,yi=a,pr!==null)if(yi)try{e=pr,n=r.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)}catch(s){pe(r,t,s)}else try{pr.removeChild(r.stateNode)}catch(s){pe(r,t,s)}break;case 18:pr!==null&&(yi?(t=pr,r=r.stateNode,t.nodeType===8?d_(t.parentNode,r):t.nodeType===1&&d_(t,r),gp(t)):d_(pr,r.stateNode));break;case 4:n=pr,i=yi,pr=r.stateNode.containerInfo,yi=!0,Js(e,t,r),pr=n,yi=i;break;case 0:case 11:case 14:case 15:ir||nc(2,r,t),ir||nc(4,r,t),Js(e,t,r);break;case 1:ir||(mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&qC(r,t,n)),Js(e,t,r);break;case 21:Js(e,t,r);break;case 22:ir||mi(r,t),ir=(n=ir)||r.memoizedState!==null,Js(e,t,r),ir=n;break;default:Js(e,t,r)}}function WC(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gp(e)}catch(r){pe(t,t.return,r)}}function DN(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _7),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _7),t;default:throw Error(pt(435,e.tag))}}function e_(e,t){var r=DN(e);t.forEach(function(n){var i=qN.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}function ji(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:case 5:pr=o.stateNode,yi=!1;break t;case 3:pr=o.stateNode.containerInfo,yi=!0;break t;case 4:pr=o.stateNode.containerInfo,yi=!0;break t}o=o.return}if(pr===null)throw Error(pt(160));GC(a,s,i),pr=null,yi=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)XC(t,e),t=t.sibling}var Ua=null;function XC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ji(t,e),Fi(e),n&4&&(nc(3,e,e.return),Wp(3,e),nc(5,e,e.return));break;case 1:ji(t,e),Fi(e),n&512&&(ir||r===null||mi(r,r.return)),n&64&&fo&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=Ua;if(ji(t,e),Fi(e),n&512&&(ir||r===null||mi(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){t:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;e:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[np]||a[vn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),Zr(a,n,r),a[vn]=e,Mr(a),n=a;break t;case"link":var s=N7("link","href",i).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(r.href==null?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break e}}a=i.createElement(n),Zr(a,n,r),i.head.appendChild(a);break;case"meta":if(s=N7("meta","content",i).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break e}}a=i.createElement(n),Zr(a,n,r),i.head.appendChild(a);break;default:throw Error(pt(468,n))}a[vn]=e,Mr(a),n=a}e.stateNode=n}else U7(i,e.type,e.stateNode);else e.stateNode=P7(i,n,e.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?U7(i,e.type,e.stateNode):P7(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&v7(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(n&4&&e.alternate===null){i=e.stateNode,a=e.memoizedProps;try{for(var f=i.firstChild;f;){var c=f.nextSibling,u=f.nodeName;f[np]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=c}for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Zr(i,l,a),i[vn]=e,i[ni]=a}catch(m){pe(e,e.return,m)}}case 5:if(ji(t,e),Fi(e),n&512&&(ir||r===null||mi(r,r.return)),e.flags&32){i=e.stateNode;try{ad(i,"")}catch(m){pe(e,e.return,m)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,v7(e,i,r!==null?r.memoizedProps:i)),n&1024&&(t_=!0);break;case 6:if(ji(t,e),Fi(e),n&4){if(e.stateNode===null)throw Error(pt(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){pe(e,e.return,m)}}break;case 3:if(ng=null,i=Ua,Ua=kg(t.containerInfo),ji(t,e),Ua=i,Fi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gp(t.containerInfo)}catch(m){pe(e,e.return,m)}t_&&(t_=!1,ZC(e));break;case 4:n=Ua,Ua=kg(e.stateNode.containerInfo),ji(t,e),Fi(e),Ua=n;break;case 12:ji(t,e),Fi(e);break;case 13:ji(t,e),Fi(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(v4=Os()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,e_(e,n)));break;case 22:if(n&512&&(ir||r===null||mi(r,r.return)),f=e.memoizedState!==null,c=r!==null&&r.memoizedState!==null,u=fo,l=ir,fo=u||f,ir=l||c,ji(t,e),ir=l,fo=u,Fi(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,n&8192&&(t._visibility=f?t._visibility&-2:t._visibility|1,f&&(t=fo||ir,r===null||c||t||rl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(r=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(r===null){c=r=t;try{if(i=c.stateNode,f)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=c.stateNode,o=c.memoizedProps.style;var g=o!=null&&o.hasOwnProperty("display")?o.display:null;s.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(m){pe(c,c.return,m)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=f?"":c.memoizedProps}catch(m){pe(c,c.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,e_(e,r))));break;case 19:ji(t,e),Fi(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,e_(e,n)));break;case 21:break;default:ji(t,e),Fi(e)}}function Fi(e){var t=e.flags;if(t&2){try{if(e.tag!==27){t:{for(var r=e.return;r!==null;){if(QC(r)){var n=r;break t}r=r.return}throw Error(pt(160))}switch(n.tag){case 27:var i=n.stateNode,a=Jv(e);Mg(e,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(ad(s,""),n.flags&=-33);var o=Jv(e);Mg(e,o,s);break;case 3:case 4:var f=n.stateNode.containerInfo,c=Jv(e);i3(e,c,f);break;default:throw Error(pt(161))}}}catch(u){pe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZC(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ZC(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function to(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)YC(e,t.alternate,t),t=t.sibling}function rl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:nc(4,t,t.return),rl(t);break;case 1:mi(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&qC(t,t.return,r),rl(t);break;case 26:case 27:case 5:mi(t,t.return),rl(t);break;case 22:mi(t,t.return),t.memoizedState===null&&rl(t);break;default:rl(t)}e=e.sibling}}function gf(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:gf(i,a,r),Wp(4,a);break;case 1:if(gf(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){pe(n,n.return,c)}if(n=a,i=n.updateQueue,i!==null){var o=n.stateNode;try{var f=i.shared.hiddenCallbacks;if(f!==null)for(i.shared.hiddenCallbacks=null,i=0;i<f.length;i++)jC(f[i],o)}catch(c){pe(n,n.return,c)}}r&&s&64&&$C(a),Fc(a,a.return);break;case 26:case 27:case 5:gf(i,a,r),r&&n===null&&s&4&&KC(a),Fc(a,a.return);break;case 12:gf(i,a,r);break;case 13:gf(i,a,r),r&&s&4&&WC(i,a);break;case 22:a.memoizedState===null&&gf(i,a,r),Fc(a,a.return);break;default:gf(i,a,r)}t=t.sibling}}function h4(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Yp(r))}function p4(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yp(e))}function rf(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)JC(e,t,r,n),t=t.sibling}function JC(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:rf(e,t,r,n),i&2048&&Wp(9,t);break;case 3:rf(e,t,r,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yp(e)));break;case 12:if(i&2048){rf(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){pe(t,t.return,f)}}else rf(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,t.memoizedState!==null?a._visibility&4?rf(e,t,r,n):kh(e,t):a._visibility&4?rf(e,t,r,n):(a._visibility|=4,nl(e,t,r,n,(t.subtreeFlags&10256)!==0)),i&2048&&h4(t.alternate,t);break;case 24:rf(e,t,r,n),i&2048&&p4(t.alternate,t);break;default:rf(e,t,r,n)}}function nl(e,t,r,n,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,s=t,o=r,f=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:nl(a,s,o,f,i),Wp(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&4?nl(a,s,o,f,i):kh(a,s):(u._visibility|=4,nl(a,s,o,f,i)),i&&c&2048&&h4(s.alternate,s);break;case 24:nl(a,s,o,f,i),i&&c&2048&&p4(s.alternate,s);break;default:nl(a,s,o,f,i)}t=t.sibling}}function kh(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:kh(r,n),i&2048&&h4(n.alternate,n);break;case 24:kh(r,n),i&2048&&p4(n.alternate,n);break;default:kh(r,n)}t=t.sibling}}var bh=8192;function Qu(e){if(e.subtreeFlags&bh)for(e=e.child;e!==null;)tI(e),e=e.sibling}function tI(e){switch(e.tag){case 26:Qu(e),e.flags&bh&&e.memoizedState!==null&&_U(Ua,e.memoizedState,e.memoizedProps);break;case 5:Qu(e);break;case 3:case 4:var t=Ua;Ua=kg(e.stateNode.containerInfo),Qu(e),Ua=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=bh,bh=16777216,Qu(e),bh=t):Qu(e));break;default:Qu(e)}}function eI(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Q0(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];Dr=n,nI(n,e)}eI(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rI(e),e=e.sibling}function rI(e){switch(e.tag){case 0:case 11:case 15:Q0(e),e.flags&2048&&nc(9,e,e.return);break;case 3:Q0(e);break;case 12:Q0(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,tg(e)):Q0(e);break;default:Q0(e)}}function tg(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];Dr=n,nI(n,e)}eI(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:nc(8,t,t.return),tg(t);break;case 22:r=t.stateNode,r._visibility&4&&(r._visibility&=-5,tg(t));break;default:tg(t)}e=e.sibling}}function nI(e,t){for(;Dr!==null;){var r=Dr;switch(r.tag){case 0:case 11:case 15:nc(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Yp(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Dr=n;else t:for(r=e;Dr!==null;){n=Dr;var i=n.sibling,a=n.return;if(VC(n),n===r){Dr=null;break t}if(i!==null){i.return=a,Dr=i;break t}Dr=a}}}function MN(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,t,r,n){return new MN(e,t,r,n)}function b4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qf(e,t){var r=e.alternate;return r===null?(r=sa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function iI(e,t){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function eg(e,t,r,n,i,a){var s=0;if(n=e,typeof e=="function")b4(e)&&(s=1);else if(typeof e=="string")s=yU(e,r,Bs.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case ol:return iu(r.children,i,a,t);case aS:s=8,i|=24;break;case Im:return e=sa(12,r,t,i|2),e.elementType=Im,e.lanes=a,e;case Tm:return e=sa(13,r,t,i),e.elementType=Tm,e.lanes=a,e;case Bm:return e=sa(19,r,t,i),e.elementType=Bm,e.lanes=a,e;case oS:return aI(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nP:case yo:s=10;break t;case sS:s=9;break t;case P6:s=11;break t;case N6:s=14;break t;case _f:s=16,n=null;break t}s=29,r=Error(pt(130,e===null?"null":typeof e,"")),n=null}return t=sa(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function iu(e,t,r,n){return e=sa(7,e,n,t),e.lanes=r,e}function aI(e,t,r,n){e=sa(22,e,n,t),e.elementType=oS,e.lanes=r;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=i._current;if(a===null)throw Error(pt(456));if(!(i._pendingVisibility&2)){var s=ec(a,2);s!==null&&(i._pendingVisibility|=2,qn(s,a,2))}},attach:function(){var a=i._current;if(a===null)throw Error(pt(456));if(i._pendingVisibility&2){var s=ec(a,2);s!==null&&(i._pendingVisibility&=-3,qn(s,a,2))}}};return e.stateNode=i,e}function r_(e,t,r){return e=sa(6,e,null,t),e.lanes=r,e}function n_(e,t,r){return t=sa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eo(e){e.flags|=4}function w7(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!CI(t)){if(t=pa.current,t!==null&&((Wt&4194176)===Wt?Ds!==null:(Wt&62914560)!==Wt&&!(Wt&536870912)||t!==Ds))throw Mh=Fm,KS;e.flags|=8192}}function gb(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?pS():536870912,e.lanes|=t,cd|=t)}function Y0(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&31457280,n|=i.flags&31457280,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function RN(e,t,r){var n=t.pendingProps;switch(G6(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Io(_r),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(q0(t)?eo(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,za!==null&&(c3(za),za=null))),$e(t),null;case 26:return r=t.memoizedState,e===null?(eo(t),r!==null?($e(t),w7(t,r)):($e(t),t.flags&=-16777217)):r?r!==e.memoizedState?(eo(t),$e(t),w7(t,r)):($e(t),t.flags&=-16777217):(e.memoizedProps!==n&&eo(t),$e(t),t.flags&=-16777217),null;case 27:vg(t),r=jf.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&eo(t);else{if(!n){if(t.stateNode===null)throw Error(pt(166));return $e(t),null}e=Bs.current,q0(t)?Xw(t):(e=EI(i,n,r),t.stateNode=e,eo(t))}return $e(t),null;case 5:if(vg(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&eo(t);else{if(!n){if(t.stateNode===null)throw Error(pt(166));return $e(t),null}if(e=Bs.current,q0(t))Xw(t);else{switch(i=Ug(jf.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}e[vn]=t,e[ni]=n;t:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;t:switch(Zr(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&eo(t)}}return $e(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&eo(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pt(166));if(e=jf.current,q0(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,i=zn,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[vn]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||mI(e.nodeValue,r)),e||lu(t)}else e=Ug(e).createTextNode(n),e[vn]=t,t.stateNode=e}return $e(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=q0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pt(317));i[vn]=t}else Qp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else za!==null&&(c3(za),za=null),i=!0;if(!i)return t.flags&256?(mo(t),t):(mo(t),null)}if(mo(t),t.flags&128)return t.lanes=r,t;if(r=n!==null,e=e!==null&&e.memoizedState!==null,r){n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),gb(t,t.updateQueue),$e(t),null;case 4:return nd(),e===null&&w4(t.stateNode.containerInfo),$e(t),null;case 10:return Io(t.type),$e(t),null;case 19:if(Ur(mr),i=t.memoizedState,i===null)return $e(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Y0(i,!1);else{if(ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cg(e),a!==null){for(t.flags|=128,Y0(i,!1),e=a.updateQueue,t.updateQueue=e,gb(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)iI(r,e),r=r.sibling;return Ue(mr,mr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Os()>Rg&&(t.flags|=128,n=!0,Y0(i,!1),t.lanes=4194304)}else{if(!n)if(e=Cg(a),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,gb(t,e),Y0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!te)return $e(t),null}else 2*Os()-i.renderingStartTime>Rg&&r!==536870912&&(t.flags|=128,n=!0,Y0(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Os(),t.sibling=null,e=mr.current,Ue(mr,n?e&1|2:e&1),t):($e(t),null);case 22:case 23:return mo(t),W6(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),r=t.updateQueue,r!==null&&gb(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&Ur(nu),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Io(_r),$e(t),null;case 25:return null}throw Error(pt(156,t.tag))}function LN(e,t){switch(G6(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(_r),nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vg(t),null;case 13:if(mo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pt(340));Qp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ur(mr),null;case 4:return nd(),null;case 10:return Io(t.type),null;case 22:case 23:return mo(t),W6(),e!==null&&Ur(nu),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Io(_r),null;case 25:return null;default:return null}}function sI(e,t){switch(G6(t),t.tag){case 3:Io(_r),nd();break;case 26:case 27:case 5:vg(t);break;case 4:nd();break;case 13:mo(t);break;case 19:Ur(mr);break;case 10:Io(t.type);break;case 22:case 23:mo(t),W6(),e!==null&&Ur(nu);break;case 24:Io(_r)}}var HN={getCacheForType:function(e){var t=_n(_r),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r}},PN=typeof WeakMap=="function"?WeakMap:Map,Ke=0,_e=null,qt=null,Wt=0,ve=0,_i=null,co=!1,Qd=!1,g4=!1,Ho=0,ar=0,ic=0,au=0,y4=0,oa=0,cd=0,zh=null,ws=null,a3=!1,v4=0,Rg=1/0,Lg=null,Kf=null,yb=!1,Rc=null,jh=0,s3=0,o3=null,Fh=0,f3=null;function Ti(){if(Ke&2&&Wt!==0)return Wt&-Wt;if(kt.T!==null){var e=od;return e!==0?e:m4()}return vS()}function oI(){oa===0&&(oa=!(Wt&536870912)||te?hS():536870912);var e=pa.current;return e!==null&&(e.flags|=32),oa}function qn(e,t,r){(e===_e&&ve===2||e.cancelPendingCommit!==null)&&(ud(e,0),uo(e,Wt,oa,!1)),qp(e,r),(!(Ke&2)||e!==_e)&&(e===_e&&(!(Ke&2)&&(au|=r),ar===4&&uo(e,Wt,oa,!1)),qs(e))}function fI(e,t,r){if(Ke&6)throw Error(pt(327));var n=!r&&(t&60)===0&&(t&e.expiredLanes)===0||$p(e,t),i=n?kN(e,t):i_(e,t,!0),a=n;do{if(i===0){Qd&&!n&&uo(e,t,0,!1);break}else if(i===6)uo(e,t,0,!co);else{if(r=e.current.alternate,a&&!NN(r)){i=i_(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;i=zh;var f=o.current.memoizedState.isDehydrated;if(f&&(ud(o,s).flags|=256),s=i_(o,s,!1),s!==2){if(g4&&!f){o.errorRecoveryDisabledLanes|=a,au|=a,i=4;break t}a=ws,ws=i,a!==null&&c3(a)}i=s}if(a=!1,i!==2)continue}}if(i===1){ud(e,0),uo(e,t,0,!0);break}t:{switch(n=e,i){case 0:case 1:throw Error(pt(345));case 4:if((t&4194176)===t){uo(n,t,oa,!co);break t}break;case 2:ws=null;break;case 3:case 5:break;default:throw Error(pt(329))}if(n.finishedWork=r,n.finishedLanes=t,(t&62914560)===t&&(a=v4+300-Os(),10<a)){if(uo(n,t,oa,!co),Ny(n,0)!==0)break t;n.timeoutHandle=AI(A7.bind(null,n,r,ws,Lg,a3,t,oa,au,cd,co,2,-0,0),a);break t}A7(n,r,ws,Lg,a3,t,oa,au,cd,co,0,-0,0)}}break}while(!0);qs(e)}function c3(e){ws===null?ws=e:ws.push.apply(ws,e)}function A7(e,t,r,n,i,a,s,o,f,c,u,l,h){var g=t.subtreeFlags;if((g&8192||(g&16785408)===16785408)&&(dp={stylesheets:null,count:0,unsuspend:vU},tI(t),t=mU(),t!==null)){e.cancelPendingCommit=t(x7.bind(null,e,r,n,i,s,o,f,1,l,h)),uo(e,a,s,!c);return}x7(e,r,n,i,s,o,f,u,l,h)}function NN(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Oi(a(),i))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function uo(e,t,r,n){t&=~y4,t&=~au,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var a=31-Ii(i),s=1<<a;n[a]=-1,i&=~s}r!==0&&bS(e,r,t)}function Yy(){return Ke&6?!0:(Xp(0),!1)}function _4(){if(qt!==null){if(ve===0)var e=qt.return;else e=qt,wo=Du=null,n4(e),Tl=null,fp=0,e=qt;for(;e!==null;)sI(e.alternate,e),e=e.return;qt=null}}function ud(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,rU(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),_4(),_e=e,qt=r=qf(e.current,null),Wt=t,ve=0,_i=null,co=!1,Qd=$p(e,t),g4=!1,cd=oa=y4=au=ic=ar=0,ws=zh=null,a3=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Ii(n),a=1<<i;t|=e[i],n&=~a}return Ho=t,jy(),r}function cI(e,t){Ft=null,kt.H=ks,t===Dh?(t=t7(),ve=3):t===KS?(t=t7(),ve=4):ve=t===LC?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_i=t,qt===null&&(ar=1,Og(e,na(t,e.current)))}function uI(){var e=kt.H;return kt.H=ks,e===null?ks:e}function lI(){var e=kt.A;return kt.A=HN,e}function u3(){ar=4,co||(Wt&4194176)!==Wt&&pa.current!==null||(Qd=!0),!(ic&134217727)&&!(au&134217727)||_e===null||uo(_e,Wt,oa,!1)}function i_(e,t,r){var n=Ke;Ke|=2;var i=uI(),a=lI();(_e!==e||Wt!==t)&&(Lg=null,ud(e,t)),t=!1;var s=ar;t:do try{if(ve!==0&&qt!==null){var o=qt,f=_i;switch(ve){case 8:_4(),s=6;break t;case 3:case 2:case 6:pa.current===null&&(t=!0);var c=ve;if(ve=0,_i=null,yl(e,o,f,c),r&&Qd){s=0;break t}break;default:c=ve,ve=0,_i=null,yl(e,o,f,c)}}UN(),s=ar;break}catch(u){cI(e,u)}while(!0);return t&&e.shellSuspendCounter++,wo=Du=null,Ke=n,kt.H=i,kt.A=a,qt===null&&(_e=null,Wt=0,jy()),s}function UN(){for(;qt!==null;)dI(qt)}function kN(e,t){var r=Ke;Ke|=2;var n=uI(),i=lI();_e!==e||Wt!==t?(Lg=null,Rg=Os()+500,ud(e,t)):Qd=$p(e,t);t:do try{if(ve!==0&&qt!==null){t=qt;var a=_i;e:switch(ve){case 1:ve=0,_i=null,yl(e,t,a,1);break;case 2:if(Jw(a)){ve=0,_i=null,E7(t);break}t=function(){ve===2&&_e===e&&(ve=7),qs(e)},a.then(t,t);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:Jw(a)?(ve=0,_i=null,E7(t)):(ve=0,_i=null,yl(e,t,a,7));break;case 5:var s=null;switch(qt.tag){case 26:s=qt.memoizedState;case 5:case 27:var o=qt;if(!s||CI(s)){ve=0,_i=null;var f=o.sibling;if(f!==null)qt=f;else{var c=o.return;c!==null?(qt=c,Vy(c)):qt=null}break e}}ve=0,_i=null,yl(e,t,a,5);break;case 6:ve=0,_i=null,yl(e,t,a,6);break;case 8:_4(),ar=6;break t;default:throw Error(pt(462))}}zN();break}catch(u){cI(e,u)}while(!0);return wo=Du=null,kt.H=n,kt.A=i,Ke=r,qt!==null?0:(_e=null,Wt=0,jy(),ar)}function zN(){for(;qt!==null&&!fP();)dI(qt)}function dI(e){var t=kC(e.alternate,e,Ho);e.memoizedProps=e.pendingProps,t===null?Vy(e):qt=t}function E7(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=p7(r,t,t.pendingProps,t.type,void 0,Wt);break;case 11:t=p7(r,t,t.pendingProps,t.type.render,t.ref,Wt);break;case 5:n4(t);default:sI(r,t),t=qt=iI(t,Ho),t=kC(r,t,Ho)}e.memoizedProps=e.pendingProps,t===null?Vy(e):qt=t}function yl(e,t,r,n){wo=Du=null,n4(t),Tl=null,fp=0;var i=t.return;try{if(TN(e,i,t,r,Wt)){ar=1,Og(e,na(r,e.current)),qt=null;return}}catch(a){if(i!==null)throw qt=i,a;ar=1,Og(e,na(r,e.current)),qt=null;return}t.flags&32768?(te||n===1?e=!0:Qd||Wt&536870912?e=!1:(co=e=!0,(n===2||n===3||n===6)&&(n=pa.current,n!==null&&n.tag===13&&(n.flags|=16384))),hI(t,e)):Vy(t)}function Vy(e){var t=e;do{if(t.flags&32768){hI(t,co);return}e=t.return;var r=RN(t.alternate,t,Ho);if(r!==null){qt=r;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);ar===0&&(ar=5)}function hI(e,t){do{var r=LN(e.alternate,e);if(r!==null){r.flags&=32767,qt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){qt=e;return}qt=e=r}while(e!==null);ar=6,qt=null}function x7(e,t,r,n,i,a,s,o,f,c){var u=kt.T,l=Ie.p;try{Ie.p=2,kt.T=null,jN(e,t,r,n,l,i,a,s,o,f,c)}finally{kt.T=u,Ie.p=l}}function jN(e,t,r,n,i,a,s,o){do Ml();while(Rc!==null);if(Ke&6)throw Error(pt(327));var f=e.finishedWork;if(n=e.finishedLanes,f===null)return null;if(e.finishedWork=null,e.finishedLanes=0,f===e.current)throw Error(pt(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=f.lanes|f.childLanes;if(c|=Q6,_P(e,n,c,a,s,o),e===_e&&(qt=_e=null,Wt=0),!(f.subtreeFlags&10256)&&!(f.flags&10256)||yb||(yb=!0,s3=c,o3=r,KN(_g,function(){return Ml(),null})),r=(f.flags&15990)!==0,f.subtreeFlags&15990||r?(r=kt.T,kt.T=null,a=Ie.p,Ie.p=2,s=Ke,Ke|=4,ON(e,f),XC(f,e),lN(p3,e.containerInfo),Fg=!!h3,p3=h3=null,e.current=f,YC(e,f.alternate,f),cP(),Ke=s,Ie.p=a,kt.T=r):e.current=f,yb?(yb=!1,Rc=e,jh=n):pI(e,c),c=e.pendingLanes,c===0&&(Kf=null),pP(f.stateNode),qs(e),t!==null)for(i=e.onRecoverableError,f=0;f<t.length;f++)c=t[f],i(c.value,{componentStack:c.stack});return jh&3&&Ml(),c=e.pendingLanes,n&4194218&&c&42?e===f3?Fh++:(Fh=0,f3=e):Fh=0,Xp(0),null}function pI(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yp(t)))}function Ml(){if(Rc!==null){var e=Rc,t=s3;s3=0;var r=yS(jh),n=kt.T,i=Ie.p;try{if(Ie.p=32>r?32:r,kt.T=null,Rc===null)var a=!1;else{r=o3,o3=null;var s=Rc,o=jh;if(Rc=null,jh=0,Ke&6)throw Error(pt(331));var f=Ke;if(Ke|=4,rI(s.current),JC(s,s.current,o,r),Ke=f,Xp(0,!1),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(Fp,s)}catch{}a=!0}return a}finally{Ie.p=i,kt.T=n,pI(e,t)}}return!1}function S7(e,t,r){t=na(r,t),t=Gm(e.stateNode,t,2),e=$f(e,t,2),e!==null&&(qp(e,2),qs(e))}function pe(e,t,r){if(e.tag===3)S7(e,e,r);else for(;t!==null;){if(t.tag===3){S7(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kf===null||!Kf.has(n))){e=na(r,e),r=MC(2),n=$f(t,r,2),n!==null&&(RC(r,n,t,e),qp(n,2),qs(n));break}}t=t.return}}function a_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PN;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(g4=!0,i.add(r),e=FN.bind(null,e,t,r),t.then(e,e))}function FN(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,_e===e&&(Wt&r)===r&&(ar===4||ar===3&&(Wt&62914560)===Wt&&300>Os()-v4?!(Ke&2)&&ud(e,0):y4|=r,cd===Wt&&(cd=0)),qs(e)}function bI(e,t){t===0&&(t=pS()),e=ec(e,t),e!==null&&(qp(e,t),qs(e))}function $N(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bI(e,r)}function qN(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(pt(314))}n!==null&&n.delete(t),bI(e,r)}function KN(e,t){return U6(e,t)}var Hg=null,il=null,l3=!1,Pg=!1,s_=!1,su=0;function qs(e){e!==il&&e.next===null&&(il===null?Hg=il=e:il=il.next=e),Pg=!0,l3||(l3=!0,YN(QN))}function Xp(e,t){if(!s_&&Pg){s_=!0;do for(var r=!1,n=Hg;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var s=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-Ii(42|e)+1)-1,a&=i&~(s&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(r=!0,C7(n,a))}else a=Wt,a=Ny(n,n===_e?a:0),!(a&3)||$p(n,a)||(r=!0,C7(n,a));n=n.next}while(r);s_=!1}}function QN(){Pg=l3=!1;var e=0;su!==0&&(eU()&&(e=su),su=0);for(var t=Os(),r=null,n=Hg;n!==null;){var i=n.next,a=gI(n,t);a===0?(n.next=null,r===null?Hg=i:r.next=i,i===null&&(il=r)):(r=n,(e!==0||a&3)&&(Pg=!0)),n=i}Xp(e)}function gI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-Ii(a),o=1<<s,f=i[s];f===-1?(!(o&r)||o&n)&&(i[s]=vP(o,t)):f<=t&&(e.expiredLanes|=o),a&=~o}if(t=_e,r=Wt,r=Ny(e,e===t?r:0),n=e.callbackNode,r===0||e===t&&ve===2||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Pv(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||$p(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Pv(n),yS(r)){case 2:case 8:r=lS;break;case 32:r=_g;break;case 268435456:r=dS;break;default:r=_g}return n=yI.bind(null,e),r=U6(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Pv(n),e.callbackPriority=2,e.callbackNode=null,2}function yI(e,t){var r=e.callbackNode;if(Ml()&&e.callbackNode!==r)return null;var n=Wt;return n=Ny(e,e===_e?n:0),n===0?null:(fI(e,n,t),gI(e,Os()),e.callbackNode!=null&&e.callbackNode===r?yI.bind(null,e):null)}function C7(e,t){if(Ml())return null;fI(e,t,!0)}function YN(e){nU(function(){Ke&6?U6(uS,e):e()})}function m4(){return su===0&&(su=hS()),su}function I7(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vb(""+e)}function T7(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function VN(e,t,r,n,i){if(t==="submit"&&r&&r.stateNode===i){var a=I7((i[ni]||null).action),s=n.submitter;s&&(t=(t=s[ni]||null)?I7(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Uy("action","action",null,n,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(su!==0){var f=s?T7(i,s):new FormData(i);Ym(r,{pending:!0,data:f,method:i.method,action:a},null,f)}}else typeof a=="function"&&(o.preventDefault(),f=s?T7(i,s):new FormData(i),Ym(r,{pending:!0,data:f,method:i.method,action:a},a,f))},currentTarget:i}]})}}for(var o_=0;o_<Gw.length;o_++){var f_=Gw[o_],GN=f_.toLowerCase(),WN=f_[0].toUpperCase()+f_.slice(1);ss(GN,"on"+WN)}ss(US,"onAnimationEnd");ss(kS,"onAnimationIteration");ss(zS,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(hN,"onTransitionRun");ss(pN,"onTransitionStart");ss(bN,"onTransitionCancel");ss(jS,"onTransitionEnd");id("onMouseEnter",["mouseout","mouseover"]);id("onMouseLeave",["mouseout","mouseover"]);id("onPointerEnter",["pointerout","pointerover"]);id("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(up));function vI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;t:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],f=o.instance,c=o.currentTarget;if(o=o.listener,f!==a&&i.isPropagationStopped())break t;a=o,i.currentTarget=c;try{a(i)}catch(u){Bg(u)}i.currentTarget=null,a=f}else for(s=0;s<n.length;s++){if(o=n[s],f=o.instance,c=o.currentTarget,o=o.listener,f!==a&&i.isPropagationStopped())break t;a=o,i.currentTarget=c;try{a(i)}catch(u){Bg(u)}i.currentTarget=null,a=f}}}}function Vt(e,t){var r=t[Lm];r===void 0&&(r=t[Lm]=new Set);var n=e+"__bubble";r.has(n)||(_I(t,e,2,!1),r.add(n))}function c_(e,t,r){var n=0;t&&(n|=4),_I(r,e,n,t)}var vb="_reactListening"+Math.random().toString(36).slice(2);function w4(e){if(!e[vb]){e[vb]=!0,_S.forEach(function(r){r!=="selectionchange"&&(XN.has(r)||c_(r,!1,e),c_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vb]||(t[vb]=!0,c_("selectionchange",!1,t))}}function _I(e,t,r,n){switch(DI(t)){case 2:var i=EU;break;case 8:i=xU;break;default:i=S4}r=i.bind(null,t,r,e),i=void 0,!Um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function u_(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;o!==null;){if(s=jc(o),s===null)return;if(f=s.tag,f===5||f===6||f===26||f===27){n=a=s;continue t}o=o.parentNode}}n=n.return}IS(function(){var c=a,u=j6(r),l=[];t:{var h=FS.get(e);if(h!==void 0){var g=Uy,m=e;switch(e){case"keypress":if(Wb(r)===0)break t;case"keydown":case"keyup":g=qP;break;case"focusin":m="focus",g=jv;break;case"focusout":m="blur",g=jv;break;case"beforeblur":case"afterblur":g=jv;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=MP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=YP;break;case US:case kS:case zS:g=HP;break;case jS:g=GP;break;case"scroll":case"scrollend":g=OP;break;case"wheel":g=XP;break;case"copy":case"cut":case"paste":g=NP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=kw;break;case"toggle":case"beforetoggle":g=JP}var A=(t&4)!==0,S=!A&&(e==="scroll"||e==="scrollend"),w=A?h!==null?h+"Capture":null:h;A=[];for(var C=c,B;C!==null;){var M=C;if(B=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||B===null||w===null||(M=ip(C,w),M!=null&&A.push(lp(C,M,B))),S)break;C=C.return}0<A.length&&(h=new g(h,m,null,r,u),l.push({event:h,listeners:A}))}}if(!(t&7)){t:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==Nm&&(m=r.relatedTarget||r.fromElement)&&(jc(m)||m[qd]))break t;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?jc(m):null,m!==null&&(S=$d(m),A=m.tag,m!==S||A!==5&&A!==27&&A!==6)&&(m=null)):(g=null,m=c),g!==m)){if(A=Nw,M="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(A=kw,M="onPointerLeave",w="onPointerEnter",C="pointer"),S=g==null?h:ph(g),B=m==null?h:ph(m),h=new A(M,C+"leave",g,r,u),h.target=S,h.relatedTarget=B,M=null,jc(u)===c&&(A=new A(w,C+"enter",m,r,u),A.target=B,A.relatedTarget=S,M=A),S=M,g&&m)e:{for(A=g,w=m,C=0,B=A;B;B=Yu(B))C++;for(B=0,M=w;M;M=Yu(M))B++;for(;0<C-B;)A=Yu(A),C--;for(;0<B-C;)w=Yu(w),B--;for(;C--;){if(A===w||w!==null&&A===w.alternate)break e;A=Yu(A),w=Yu(w)}A=null}else A=null;g!==null&&B7(l,h,g,A,!1),m!==null&&S!==null&&B7(l,S,m,A,!0)}}t:{if(h=c?ph(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=$w;else if(Fw(h))if(RS)N=cN;else{N=oN;var K=sN}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&z6(c.elementType)&&(N=$w):N=fN;if(N&&(N=N(e,c))){MS(l,N,r,u);break t}K&&K(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Pm(h,"number",h.value)}switch(K=c?ph(c):window,e){case"focusin":(Fw(K)||K.contentEditable==="true")&&(ll=K,km=c,Oh=null);break;case"focusout":Oh=km=ll=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,Vw(l,r,u);break;case"selectionchange":if(dN)break;case"keydown":case"keyup":Vw(l,r,u)}var Q;if(q6)t:{switch(e){case"compositionstart":var j="onCompositionStart";break t;case"compositionend":j="onCompositionEnd";break t;case"compositionupdate":j="onCompositionUpdate";break t}j=void 0}else ul?OS(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(BS&&r.locale!=="ko"&&(ul||j!=="onCompositionStart"?j==="onCompositionEnd"&&ul&&(Q=TS()):(Uf=u,F6="value"in Uf?Uf.value:Uf.textContent,ul=!0)),K=Ng(c,j),0<K.length&&(j=new Uw(j,e,null,r,u),l.push({event:j,listeners:K}),Q?j.data=Q:(Q=DS(r),Q!==null&&(j.data=Q)))),(Q=eN?rN(e,r):nN(e,r))&&(j=Ng(c,"onBeforeInput"),0<j.length&&(K=new Uw("onBeforeInput","beforeinput",null,r,u),l.push({event:K,listeners:j}),K.data=Q)),VN(l,e,c,r,u)}vI(l,t)})}function lp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ng(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ip(e,r),i!=null&&n.unshift(lp(e,i,a)),i=ip(e,t),i!=null&&n.push(lp(e,i,a))),e=e.return}return n}function Yu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B7(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,f=o.alternate,c=o.stateNode;if(o=o.tag,f!==null&&f===n)break;o!==5&&o!==26&&o!==27||c===null||(f=c,i?(c=ip(r,a),c!=null&&s.unshift(lp(r,c,f))):i||(c=ip(r,a),c!=null&&s.push(lp(r,c,f)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var ZN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function O7(e){return(typeof e=="string"?e:""+e).replace(ZN,`
`).replace(JN,"")}function mI(e,t){return t=O7(t),O7(e)===t}function Gy(){}function oe(e,t,r,n,i,a){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||ad(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&ad(e,""+n);break;case"className":ub(e,"class",n);break;case"tabIndex":ub(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ub(e,r,n);break;case"style":CS(e,n,a);break;case"data":if(t!=="object"){ub(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Vb(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(t!=="input"&&oe(e,t,"name",i.name,i,null),oe(e,t,"formEncType",i.formEncType,i,null),oe(e,t,"formMethod",i.formMethod,i,null),oe(e,t,"formTarget",i.formTarget,i,null)):(oe(e,t,"encType",i.encType,i,null),oe(e,t,"method",i.method,i,null),oe(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Vb(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=Gy);break;case"onScroll":n!=null&&Vt("scroll",e);break;case"onScrollEnd":n!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(pt(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(pt(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=Vb(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Yb(e,"popover",n);break;case"xlinkActuate":Zs(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Zs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Zs(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Zs(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Zs(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Zs(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Zs(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Yb(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=TP.get(r)||r,Yb(e,r,n))}}function d3(e,t,r,n,i,a){switch(r){case"style":CS(e,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(pt(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(pt(60));e.innerHTML=r}}break;case"children":typeof n=="string"?ad(e,n):(typeof n=="number"||typeof n=="bigint")&&ad(e,""+n);break;case"onScroll":n!=null&&Vt("scroll",e);break;case"onScrollEnd":n!=null&&Vt("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Gy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mS.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),a=e[ni]||null,a=a!=null?a[r]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i);break t}r in e?e[r]=n:n===!0?e.setAttribute(r,""):Yb(e,r,n)}}}function Zr(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(pt(137,t));default:oe(e,t,a,s,r,null)}}i&&oe(e,t,"srcSet",r.srcSet,r,null),n&&oe(e,t,"src",r.src,r,null);return;case"input":Vt("invalid",e);var o=a=s=i=null,f=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":s=u;break;case"checked":f=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(pt(137,t));break;default:oe(e,t,n,u,r,null)}}ES(e,a,o,f,c,s,i,!1),mg(e);return;case"select":Vt("invalid",e),n=s=a=null;for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:oe(e,t,i,o,r,null)}t=a,r=s,e.multiple=!!n,t!=null?Cl(e,!!n,t,!1):r!=null&&Cl(e,!!n,r,!0);return;case"textarea":Vt("invalid",e),a=i=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(pt(91));break;default:oe(e,t,s,o,r,null)}SS(e,n,i,a),mg(e);return;case"option":for(f in r)if(r.hasOwnProperty(f)&&(n=r[f],n!=null))switch(f){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:oe(e,t,f,n,r,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(n=0;n<up.length;n++)Vt(up[n],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(pt(137,t));default:oe(e,t,c,n,r,null)}return;default:if(z6(t)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&d3(e,t,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&oe(e,t,o,n,r,null))}function tU(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,f=null,c=null,u=null;for(g in r){var l=r[g];if(r.hasOwnProperty(g)&&l!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":f=l;default:n.hasOwnProperty(g)||oe(e,t,g,null,n,l)}}for(var h in n){var g=n[h];if(l=r[h],n.hasOwnProperty(h)&&(g!=null||l!=null))switch(h){case"type":a=g;break;case"name":i=g;break;case"checked":c=g;break;case"defaultChecked":u=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(pt(137,t));break;default:g!==l&&oe(e,t,h,g,n,l)}}Hm(e,s,o,f,c,u,a,i);return;case"select":g=s=o=h=null;for(a in r)if(f=r[a],r.hasOwnProperty(a)&&f!=null)switch(a){case"value":break;case"multiple":g=f;default:n.hasOwnProperty(a)||oe(e,t,a,null,n,f)}for(i in n)if(a=n[i],f=r[i],n.hasOwnProperty(i)&&(a!=null||f!=null))switch(i){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==f&&oe(e,t,i,a,n,f)}t=o,r=s,n=g,h!=null?Cl(e,!!r,h,!1):!!n!=!!r&&(t!=null?Cl(e,!!r,t,!0):Cl(e,!!r,r?[]:"",!1));return;case"textarea":g=h=null;for(o in r)if(i=r[o],r.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:oe(e,t,o,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(pt(91));break;default:i!==a&&oe(e,t,s,i,n,a)}xS(e,h,g);return;case"option":for(var m in r)if(h=r[m],r.hasOwnProperty(m)&&h!=null&&!n.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:oe(e,t,m,null,n,h)}for(f in n)if(h=n[f],g=r[f],n.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:oe(e,t,f,h,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in r)h=r[A],r.hasOwnProperty(A)&&h!=null&&!n.hasOwnProperty(A)&&oe(e,t,A,null,n,h);for(c in n)if(h=n[c],g=r[c],n.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(pt(137,t));break;default:oe(e,t,c,h,n,g)}return;default:if(z6(t)){for(var S in r)h=r[S],r.hasOwnProperty(S)&&h!==void 0&&!n.hasOwnProperty(S)&&d3(e,t,S,void 0,n,h);for(u in n)h=n[u],g=r[u],!n.hasOwnProperty(u)||h===g||h===void 0&&g===void 0||d3(e,t,u,h,n,g);return}}for(var w in r)h=r[w],r.hasOwnProperty(w)&&h!=null&&!n.hasOwnProperty(w)&&oe(e,t,w,null,n,h);for(l in n)h=n[l],g=r[l],!n.hasOwnProperty(l)||h===g||h==null&&g==null||oe(e,t,l,h,n,g)}var h3=null,p3=null;function Ug(e){return e.nodeType===9?e:e.ownerDocument}function D7(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wI(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function b3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l_=null;function eU(){var e=window.event;return e&&e.type==="popstate"?e===l_?!1:(l_=e,!0):(l_=null,!1)}var AI=typeof setTimeout=="function"?setTimeout:void 0,rU=typeof clearTimeout=="function"?clearTimeout:void 0,M7=typeof Promise=="function"?Promise:void 0,nU=typeof queueMicrotask=="function"?queueMicrotask:typeof M7<"u"?function(e){return M7.resolve(null).then(e).catch(iU)}:AI;function iU(e){setTimeout(function(){throw e})}function d_(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),gp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gp(t)}function g3(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":g3(r),k6(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function aU(e,t,r,n){for(;e.nodeType===1;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[np])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Wa(e.nextSibling),e===null)break}return null}function sU(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Wa(e.nextSibling),e===null))return null;return e}function Wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function R7(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}function EI(e,t,r){switch(t=Ug(r),e){case"html":if(e=t.documentElement,!e)throw Error(pt(452));return e;case"head":if(e=t.head,!e)throw Error(pt(453));return e;case"body":if(e=t.body,!e)throw Error(pt(454));return e;default:throw Error(pt(451))}}var ba=new Map,L7=new Set;function kg(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var qo=Ie.d;Ie.d={f:oU,r:fU,D:cU,C:uU,L:lU,m:dU,X:pU,S:hU,M:bU};function oU(){var e=qo.f(),t=Yy();return e||t}function fU(e){var t=Kd(e);t!==null&&t.tag===5&&t.type==="form"?EC(t):qo.r(e)}var Yd=typeof document>"u"?null:document;function xI(e,t,r){var n=Yd;if(n&&typeof t=="string"&&t){var i=ra(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),L7.has(i)||(L7.add(i),e={rel:e,crossOrigin:r,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Zr(t,"link",e),Mr(t),n.head.appendChild(t)))}}function cU(e){qo.D(e),xI("dns-prefetch",e,null)}function uU(e,t){qo.C(e,t),xI("preconnect",e,t)}function lU(e,t,r){qo.L(e,t,r);var n=Yd;if(n&&e&&t){var i='link[rel="preload"][as="'+ra(t)+'"]';t==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+ra(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+ra(r.imageSizes)+'"]')):i+='[href="'+ra(e)+'"]';var a=i;switch(t){case"style":a=ld(e);break;case"script":a=Vd(e)}ba.has(a)||(e=Oe({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),ba.set(a,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Zp(a))||t==="script"&&n.querySelector(Jp(a))||(t=n.createElement("link"),Zr(t,"link",e),Mr(t),n.head.appendChild(t)))}}function dU(e,t){qo.m(e,t);var r=Yd;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+ra(n)+'"][href="'+ra(e)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Vd(e)}if(!ba.has(a)&&(e=Oe({rel:"modulepreload",href:e},t),ba.set(a,e),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jp(a)))return}n=r.createElement("link"),Zr(n,"link",e),Mr(n),r.head.appendChild(n)}}}function hU(e,t,r){qo.S(e,t,r);var n=Yd;if(n&&e){var i=Sl(n).hoistableStyles,a=ld(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Zp(a)))o.loading=5;else{e=Oe({rel:"stylesheet",href:e,"data-precedence":t},r),(r=ba.get(a))&&A4(e,r);var f=s=n.createElement("link");Mr(f),Zr(f,"link",e),f._p=new Promise(function(c,u){f.onload=c,f.onerror=u}),f.addEventListener("load",function(){o.loading|=1}),f.addEventListener("error",function(){o.loading|=2}),o.loading|=4,rg(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function pU(e,t){qo.X(e,t);var r=Yd;if(r&&e){var n=Sl(r).hoistableScripts,i=Vd(e),a=n.get(i);a||(a=r.querySelector(Jp(i)),a||(e=Oe({src:e,async:!0},t),(t=ba.get(i))&&E4(e,t),a=r.createElement("script"),Mr(a),Zr(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function bU(e,t){qo.M(e,t);var r=Yd;if(r&&e){var n=Sl(r).hoistableScripts,i=Vd(e),a=n.get(i);a||(a=r.querySelector(Jp(i)),a||(e=Oe({src:e,async:!0,type:"module"},t),(t=ba.get(i))&&E4(e,t),a=r.createElement("script"),Mr(a),Zr(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function H7(e,t,r,n){var i=(i=jf.current)?kg(i):null;if(!i)throw Error(pt(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=ld(r.href),r=Sl(i).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ld(r.href);var a=Sl(i).hoistableStyles,s=a.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=i.querySelector(Zp(e)))&&!a._p&&(s.instance=a,s.state.loading=5),ba.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ba.set(e,r),a||gU(i,e,r,s.state))),t&&n===null)throw Error(pt(528,""));return s}if(t&&n!==null)throw Error(pt(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vd(r),r=Sl(i).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(pt(444,e))}}function ld(e){return'href="'+ra(e)+'"'}function Zp(e){return'link[rel="stylesheet"]['+e+"]"}function SI(e){return Oe({},e,{"data-precedence":e.precedence,precedence:null})}function gU(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Zr(t,"link",r),Mr(t),e.head.appendChild(t))}function Vd(e){return'[src="'+ra(e)+'"]'}function Jp(e){return"script[async]"+e}function P7(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ra(r.href)+'"]');if(n)return t.instance=n,Mr(n),n;var i=Oe({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Mr(n),Zr(n,"style",i),rg(n,r.precedence,e),t.instance=n;case"stylesheet":i=ld(r.href);var a=e.querySelector(Zp(i));if(a)return t.state.loading|=4,t.instance=a,Mr(a),a;n=SI(r),(i=ba.get(i))&&A4(n,i),a=(e.ownerDocument||e).createElement("link"),Mr(a);var s=a;return s._p=new Promise(function(o,f){s.onload=o,s.onerror=f}),Zr(a,"link",n),t.state.loading|=4,rg(a,r.precedence,e),t.instance=a;case"script":return a=Vd(r.src),(i=e.querySelector(Jp(a)))?(t.instance=i,Mr(i),i):(n=r,(i=ba.get(a))&&(n=Oe({},r),E4(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Mr(i),Zr(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(pt(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,rg(n,r.precedence,e));return t.instance}function rg(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function A4(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function E4(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ng=null;function N7(e,t,r){if(ng===null){var n=new Map,i=ng=new Map;i.set(r,n)}else i=ng,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var a=r[i];if(!(a[np]||a[vn]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(a):n.set(s,[a])}}return n}function U7(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function yU(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function CI(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var dp=null;function vU(){}function _U(e,t,r){if(dp===null)throw Error(pt(475));var n=dp;if(t.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=ld(r.href),a=e.querySelector(Zp(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=zg.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=a,Mr(a);return}a=e.ownerDocument||e,r=SI(r),(i=ba.get(i))&&A4(r,i),a=a.createElement("link"),Mr(a);var s=a;s._p=new Promise(function(o,f){s.onload=o,s.onerror=f}),Zr(a,"link",r),t.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(n.count++,t=zg.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function mU(){if(dp===null)throw Error(pt(475));var e=dp;return e.stylesheets&&e.count===0&&y3(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&y3(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}function zg(){if(this.count--,this.count===0){if(this.stylesheets)y3(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jg=null;function y3(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jg=new Map,t.forEach(wU,e),jg=null,zg.call(e))}function wU(e,t){if(!(t.state.loading&4)){var r=jg.get(e);if(r)var n=r.get(null);else{r=new Map,jg.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}i=t.instance,s=i.getAttribute("data-precedence"),a=r.get(s)||n,a===n&&r.set(null,i),r.set(s,i),this.count++,n=zg.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var hp={$$typeof:yo,Provider:null,Consumer:null,_currentValue:eu,_currentValue2:eu,_threadCount:0};function AU(e,t,r,n,i,a,s,o){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nv(0),this.hiddenUpdates=Nv(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function II(e,t,r,n,i,a,s,o,f,c,u,l){return e=new AU(e,t,r,s,o,f,c,l),t=1,a===!0&&(t|=24),a=sa(3,null,null,t),e.current=a,a.stateNode=e,t=X6(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},d4(a),e}function TI(e){return e?(e=pl,e):pl}function BI(e,t,r,n,i,a){i=TI(i),n.context===null?n.context=i:n.pendingContext=i,n=Ff(t),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=$f(e,n,t),r!==null&&(qn(r,e,t),Ph(r,e,t))}function k7(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function x4(e,t){k7(e,t),(e=e.alternate)&&k7(e,t)}function OI(e){if(e.tag===13){var t=ec(e,67108864);t!==null&&qn(t,e,67108864),x4(e,67108864)}}var Fg=!0;function EU(e,t,r,n){var i=kt.T;kt.T=null;var a=Ie.p;try{Ie.p=2,S4(e,t,r,n)}finally{Ie.p=a,kt.T=i}}function xU(e,t,r,n){var i=kt.T;kt.T=null;var a=Ie.p;try{Ie.p=8,S4(e,t,r,n)}finally{Ie.p=a,kt.T=i}}function S4(e,t,r,n){if(Fg){var i=v3(n);if(i===null)u_(e,t,n,$g,r),z7(e,n);else if(CU(i,e,t,r,n))n.stopPropagation();else if(z7(e,n),t&4&&-1<SU.indexOf(e)){for(;i!==null;){var a=Kd(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Dc(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var f=1<<31-Ii(s);o.entanglements[1]|=f,s&=~f}qs(a),!(Ke&6)&&(Rg=Os()+500,Xp(0))}}break;case 13:o=ec(a,2),o!==null&&qn(o,a,2),Yy(),x4(a,2)}if(a=v3(n),a===null&&u_(e,t,n,$g,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else u_(e,t,n,null,r)}}function v3(e){return e=j6(e),C4(e)}var $g=null;function C4(e){if($g=null,e=jc(e),e!==null){var t=$d(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=fS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $g=e,null}function DI(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uP()){case uS:return 2;case lS:return 8;case _g:case lP:return 32;case dS:return 268435456;default:return 32}default:return 32}}var _3=!1,Qf=null,Yf=null,Vf=null,pp=new Map,bp=new Map,If=[],SU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z7(e,t){switch(e){case"focusin":case"focusout":Qf=null;break;case"dragenter":case"dragleave":Yf=null;break;case"mouseover":case"mouseout":Vf=null;break;case"pointerover":case"pointerout":pp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bp.delete(t.pointerId)}}function V0(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Kd(t),t!==null&&OI(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CU(e,t,r,n,i){switch(t){case"focusin":return Qf=V0(Qf,e,t,r,n,i),!0;case"dragenter":return Yf=V0(Yf,e,t,r,n,i),!0;case"mouseover":return Vf=V0(Vf,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return pp.set(a,V0(pp.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bp.set(a,V0(bp.get(a)||null,e,t,r,n,i)),!0}return!1}function MI(e){var t=jc(e.target);if(t!==null){var r=$d(t);if(r!==null){if(t=r.tag,t===13){if(t=fS(r),t!==null){e.blockedOn=t,mP(e.priority,function(){if(r.tag===13){var n=Ti(),i=ec(r,n);i!==null&&qn(i,r,n),x4(r,n)}});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ig(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=v3(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nm=n,r.target.dispatchEvent(n),Nm=null}else return t=Kd(r),t!==null&&OI(t),e.blockedOn=r,!1;t.shift()}return!0}function j7(e,t,r){ig(e)&&r.delete(t)}function IU(){_3=!1,Qf!==null&&ig(Qf)&&(Qf=null),Yf!==null&&ig(Yf)&&(Yf=null),Vf!==null&&ig(Vf)&&(Vf=null),pp.forEach(j7),bp.forEach(j7)}function _b(e,t){e.blockedOn===t&&(e.blockedOn=null,_3||(_3=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,IU)))}var mb=null;function F7(e){mb!==e&&(mb=e,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,function(){mb===e&&(mb=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(C4(n||r)===null)continue;break}var a=Kd(r);a!==null&&(e.splice(t,3),t-=3,Ym(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function gp(e){function t(f){return _b(f,e)}Qf!==null&&_b(Qf,e),Yf!==null&&_b(Yf,e),Vf!==null&&_b(Vf,e),pp.forEach(t),bp.forEach(t);for(var r=0;r<If.length;r++){var n=If[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<If.length&&(r=If[0],r.blockedOn===null);)MI(r),r.blockedOn===null&&If.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[ni]||null;if(typeof a=="function")s||F7(r);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[ni]||null)o=s.formAction;else if(C4(i)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),F7(r)}}}function I4(e){this._internalRoot=e}Wy.prototype.render=I4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pt(409));var r=t.current,n=Ti();BI(r,n,e,t,null,null)};Wy.prototype.unmount=I4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Ml(),BI(e.current,2,null,e,null,null),Yy(),t[qd]=null}};function Wy(e){this._internalRoot=e}Wy.prototype.unstable_scheduleHydration=function(e){if(e){var t=vS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<If.length&&t!==0&&t<If[r].priority;r++);If.splice(r,0,e),r===0&&MI(e)}};var $7=nS.version;if($7!=="19.0.0")throw Error(pt(527,$7,"19.0.0"));Ie.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pt(188)):(e=Object.keys(e).join(","),Error(pt(268,e)));return e=oP(t),e=e!==null?cS(e):null,e=e===null?null:e.stateNode,e};var TU={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:kt,findFiberByHostInstance:jc,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wb.isDisabled&&wb.supportsFiber)try{Fp=wb.inject(TU),Ci=wb}catch{}}Hy.createRoot=function(e,t){if(!iS(e))throw Error(pt(299));var r=!1,n="",i=BC,a=OC,s=DC,o=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=II(e,1,!1,null,null,r,n,i,a,s,o,null),e[qd]=t.current,w4(e.nodeType===8?e.parentNode:e),new I4(t)};Hy.hydrateRoot=function(e,t,r){if(!iS(e))throw Error(pt(299));var n=!1,i="",a=BC,s=OC,o=DC,f=null,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(f=r.unstable_transitionCallbacks),r.formState!==void 0&&(c=r.formState)),t=II(e,1,!0,t,r??null,n,i,a,s,o,f,c),t.context=TI(null),r=t.current,n=Ti(),i=Ff(n),i.callback=null,$f(r,i,n),t.current.lanes=n,qp(t,n),qs(t),e[qd]=t.current,w4(e),new Wy(t)};Hy.version="19.0.0";function RI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RI)}catch(e){console.error(e)}}RI(),Xx.exports=Hy;var BU=Xx.exports,t1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gu=typeof window>"u"||"Deno"in globalThis;function Xi(){}function OU(e,t){return typeof e=="function"?e(t):e}function m3(e){return typeof e=="number"&&e>=0&&e!==1/0}function LI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rl(e,t){return typeof e=="function"?e(t):e}function ja(e,t){return typeof e=="function"?e(t):e}function q7(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==T4(s,t.options))return!1}else if(!vp(t.queryKey,s))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function K7(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(yp(t.options.mutationKey)!==yp(a))return!1}else if(!vp(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function T4(e,t){return((t==null?void 0:t.queryKeyHashFn)||yp)(e)}function yp(e){return JSON.stringify(e,(t,r)=>A3(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function vp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!vp(e[r],t[r])):!1}function HI(e,t){if(e===t)return e;const r=Q7(e)&&Q7(t);if(r||A3(e)&&A3(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),s=a.length,o=r?[]:{};let f=0;for(let c=0;c<s;c++){const u=r?c:a[c];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(o[u]=void 0,f++):(o[u]=HI(e[u],t[u]),o[u]===e[u]&&e[u]!==void 0&&f++)}return i===s&&f===i?e:o}return t}function w3(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Q7(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function A3(e){if(!Y7(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Y7(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Y7(e){return Object.prototype.toString.call(e)==="[object Object]"}function DU(e){return new Promise(t=>{setTimeout(t,e)})}function E3(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?HI(e,t):t}function MU(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function RU(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var B4=Symbol();function PI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===B4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Yc,Of,jl,Ox,LU=(Ox=class extends t1{constructor(){super();Ot(this,Yc);Ot(this,Of);Ot(this,jl);_t(this,jl,t=>{if(!gu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){st(this,Of)||this.setEventListener(st(this,jl))}onUnsubscribe(){var t;this.hasListeners()||((t=st(this,Of))==null||t.call(this),_t(this,Of,void 0))}setEventListener(t){var r;_t(this,jl,t),(r=st(this,Of))==null||r.call(this),_t(this,Of,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){st(this,Yc)!==t&&(_t(this,Yc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof st(this,Yc)=="boolean"?st(this,Yc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yc=new WeakMap,Of=new WeakMap,jl=new WeakMap,Ox),O4=new LU,Fl,Df,$l,Dx,HU=(Dx=class extends t1{constructor(){super();Ot(this,Fl,!0);Ot(this,Df);Ot(this,$l);_t(this,$l,t=>{if(!gu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){st(this,Df)||this.setEventListener(st(this,$l))}onUnsubscribe(){var t;this.hasListeners()||((t=st(this,Df))==null||t.call(this),_t(this,Df,void 0))}setEventListener(t){var r;_t(this,$l,t),(r=st(this,Df))==null||r.call(this),_t(this,Df,t(this.setOnline.bind(this)))}setOnline(t){st(this,Fl)!==t&&(_t(this,Fl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return st(this,Fl)}},Fl=new WeakMap,Df=new WeakMap,$l=new WeakMap,Dx),qg=new HU;function x3(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function PU(e){return Math.min(1e3*2**e,3e4)}function NI(e){return(e??"online")==="online"?qg.isOnline():!0}var UI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function h_(e){return e instanceof UI}function kI(e){let t=!1,r=0,n=!1,i;const a=x3(),s=A=>{var S;n||(h(new UI(A)),(S=e.abort)==null||S.call(e))},o=()=>{t=!0},f=()=>{t=!1},c=()=>O4.isFocused()&&(e.networkMode==="always"||qg.isOnline())&&e.canRun(),u=()=>NI(e.networkMode)&&e.canRun(),l=A=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,A),i==null||i(),a.resolve(A))},h=A=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,A),i==null||i(),a.reject(A))},g=()=>new Promise(A=>{var S;i=w=>{(n||c())&&A(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var A;i=void 0,n||(A=e.onContinue)==null||A.call(e)}),m=()=>{if(n)return;let A;const S=r===0?e.initialPromise:void 0;try{A=S??e.fn()}catch(w){A=Promise.reject(w)}Promise.resolve(A).then(l).catch(w=>{var K;if(n)return;const C=e.retry??(gu?0:3),B=e.retryDelay??PU,M=typeof B=="function"?B(r,w):B,N=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,w);if(t||!N){h(w);return}r++,(K=e.onFail)==null||K.call(e,r,w),DU(M).then(()=>c()?void 0:g()).then(()=>{t?h(w):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:f,canStart:u,start:()=>(u()?m():g().then(m),a)}}function NU(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{t?e.push(o):i(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(f=>{r(f)})})})};return{batch:o=>{let f;t++;try{f=o()}finally{t--,t||s()}return f},batchCalls:o=>(...f)=>{a(()=>{o(...f)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Wr=NU(),Vc,Mx,zI=(Mx=class{constructor(){Ot(this,Vc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m3(this.gcTime)&&_t(this,Vc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gu?1/0:5*60*1e3))}clearGcTimeout(){st(this,Vc)&&(clearTimeout(st(this,Vc)),_t(this,Vc,void 0))}},Vc=new WeakMap,Mx),ql,Kl,Gi,dn,Up,Gc,Na,no,Rx,UU=(Rx=class extends zI{constructor(t){super();Ot(this,Na);Ot(this,ql);Ot(this,Kl);Ot(this,Gi);Ot(this,dn);Ot(this,Up);Ot(this,Gc);_t(this,Gc,!1),_t(this,Up,t.defaultOptions),this.setOptions(t.options),this.observers=[],_t(this,Gi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_t(this,ql,kU(this.options)),this.state=t.state??st(this,ql),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=st(this,dn))==null?void 0:t.promise}setOptions(t){this.options={...st(this,Up),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&st(this,Gi).remove(this)}setData(t,r){const n=E3(this.state.data,t,this.options);return Qt(this,Na,no).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Qt(this,Na,no).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=st(this,dn))==null?void 0:n.promise;return(i=st(this,dn))==null||i.cancel(t),r?r.then(Xi).catch(Xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(st(this,ql))}isActive(){return this.observers.some(t=>ja(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===B4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!LI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=st(this,dn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=st(this,dn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),st(this,Gi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(st(this,dn)&&(st(this,Gc)?st(this,dn).cancel({revert:!0}):st(this,dn).cancelRetry()),this.scheduleGc()),st(this,Gi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,Na,no).call(this,{type:"invalidate"})}fetch(t,r){var f,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(st(this,dn))return st(this,dn).continueRetry(),st(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(h=>h.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(_t(this,Gc,!0),n.signal)})},a=()=>{const l=PI(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),_t(this,Gc,!1),this.options.persister?this.options.persister(l,h,this):l(h)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(f=this.options.behavior)==null||f.onFetch(s,this),_t(this,Kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&Qt(this,Na,no).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const o=l=>{var h,g,m,A;h_(l)&&l.silent||Qt(this,Na,no).call(this,{type:"error",error:l}),h_(l)||((g=(h=st(this,Gi).config).onError)==null||g.call(h,l,this),(A=(m=st(this,Gi).config).onSettled)==null||A.call(m,this.state.data,l,this)),this.scheduleGc()};return _t(this,dn,kI({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{var h,g,m,A;if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(S){o(S);return}(g=(h=st(this,Gi).config).onSuccess)==null||g.call(h,l,this),(A=(m=st(this,Gi).config).onSettled)==null||A.call(m,l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,h)=>{Qt(this,Na,no).call(this,{type:"failed",failureCount:l,error:h})},onPause:()=>{Qt(this,Na,no).call(this,{type:"pause"})},onContinue:()=>{Qt(this,Na,no).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),st(this,dn).start()}},ql=new WeakMap,Kl=new WeakMap,Gi=new WeakMap,dn=new WeakMap,Up=new WeakMap,Gc=new WeakMap,Na=new WeakSet,no=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jI(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return h_(i)&&i.revert&&st(this,Kl)?{...st(this,Kl),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Wr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),st(this,Gi).notify({query:this,type:"updated",action:t})})},Rx);function jI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kU(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var gs,Lx,zU=(Lx=class extends t1{constructor(t={}){super();Ot(this,gs);this.config=t,_t(this,gs,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??T4(i,r);let s=this.get(a);return s||(s=new UU({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){st(this,gs).has(t.queryHash)||(st(this,gs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=st(this,gs).get(t.queryHash);r&&(t.destroy(),r===t&&st(this,gs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return st(this,gs).get(t)}getAll(){return[...st(this,gs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>q7(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>q7(t,n)):r}notify(t){Wr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Wr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gs=new WeakMap,Lx),ys,Rn,Wc,vs,yf,Hx,jU=(Hx=class extends zI{constructor(t){super();Ot(this,vs);Ot(this,ys);Ot(this,Rn);Ot(this,Wc);this.mutationId=t.mutationId,_t(this,Rn,t.mutationCache),_t(this,ys,[]),this.state=t.state||FU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){st(this,ys).includes(t)||(st(this,ys).push(t),this.clearGcTimeout(),st(this,Rn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_t(this,ys,st(this,ys).filter(r=>r!==t)),this.scheduleGc(),st(this,Rn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){st(this,ys).length||(this.state.status==="pending"?this.scheduleGc():st(this,Rn).remove(this))}continue(){var t;return((t=st(this,Wc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,s,o,f,c,u,l,h,g,m,A,S,w,C,B,M,N,K,Q;_t(this,Wc,kI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,G)=>{Qt(this,vs,yf).call(this,{type:"failed",failureCount:j,error:G})},onPause:()=>{Qt(this,vs,yf).call(this,{type:"pause"})},onContinue:()=>{Qt(this,vs,yf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>st(this,Rn).canRun(this)}));const r=this.state.status==="pending",n=!st(this,Wc).canStart();try{if(!r){Qt(this,vs,yf).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=st(this,Rn).config).onMutate)==null?void 0:a.call(i,t,this));const G=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,t));G!==this.state.context&&Qt(this,vs,yf).call(this,{type:"pending",context:G,variables:t,isPaused:n})}const j=await st(this,Wc).start();return await((c=(f=st(this,Rn).config).onSuccess)==null?void 0:c.call(f,j,t,this.state.context,this)),await((l=(u=this.options).onSuccess)==null?void 0:l.call(u,j,t,this.state.context)),await((g=(h=st(this,Rn).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((A=(m=this.options).onSettled)==null?void 0:A.call(m,j,null,t,this.state.context)),Qt(this,vs,yf).call(this,{type:"success",data:j}),j}catch(j){try{throw await((w=(S=st(this,Rn).config).onError)==null?void 0:w.call(S,j,t,this.state.context,this)),await((B=(C=this.options).onError)==null?void 0:B.call(C,j,t,this.state.context)),await((N=(M=st(this,Rn).config).onSettled)==null?void 0:N.call(M,void 0,j,this.state.variables,this.state.context,this)),await((Q=(K=this.options).onSettled)==null?void 0:Q.call(K,void 0,j,t,this.state.context)),j}finally{Qt(this,vs,yf).call(this,{type:"error",error:j})}}finally{st(this,Rn).runNext(this)}}},ys=new WeakMap,Rn=new WeakMap,Wc=new WeakMap,vs=new WeakSet,yf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wr.batch(()=>{st(this,ys).forEach(n=>{n.onMutationUpdate(t)}),st(this,Rn).notify({mutation:this,type:"updated",action:t})})},Hx);function FU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gi,kp,Px,$U=(Px=class extends t1{constructor(t={}){super();Ot(this,gi);Ot(this,kp);this.config=t,_t(this,gi,new Map),_t(this,kp,Date.now())}build(t,r,n){const i=new jU({mutationCache:this,mutationId:++ab(this,kp)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Ab(t),n=st(this,gi).get(r)??[];n.push(t),st(this,gi).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Ab(t);if(st(this,gi).has(r)){const i=(n=st(this,gi).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?st(this,gi).delete(r):st(this,gi).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=st(this,gi).get(Ab(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=st(this,gi).get(Ab(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Wr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...st(this,gi).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>K7(r,n))}findAll(t={}){return this.getAll().filter(r=>K7(t,r))}notify(t){Wr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Wr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xi))))}},gi=new WeakMap,kp=new WeakMap,Px);function Ab(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function V7(e){return{onFetch:(t,r)=>{var u,l,h,g,m;const n=t.options,i=(h=(l=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:l.fetchMore)==null?void 0:h.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],s=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},f=0;const c=async()=>{let A=!1;const S=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(t.signal.aborted?A=!0:t.signal.addEventListener("abort",()=>{A=!0}),t.signal)})},w=PI(t.options,t.fetchOptions),C=async(B,M,N)=>{if(A)return Promise.reject();if(M==null&&B.pages.length)return Promise.resolve(B);const K={queryKey:t.queryKey,pageParam:M,direction:N?"backward":"forward",meta:t.options.meta};S(K);const Q=await w(K),{maxPages:j}=t.options,G=N?RU:MU;return{pages:G(B.pages,Q,j),pageParams:G(B.pageParams,M,j)}};if(i&&a.length){const B=i==="backward",M=B?qU:G7,N={pages:a,pageParams:s},K=M(n,N);o=await C(N,K,B)}else{const B=e??a.length;do{const M=f===0?s[0]??n.initialPageParam:G7(n,o);if(f>0&&M==null)break;o=await C(o,M),f++}while(f<B)}return o};t.options.persister?t.fetchFn=()=>{var A,S;return(S=(A=t.options).persister)==null?void 0:S.call(A,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function G7(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qU(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nr,Mf,Rf,Ql,Yl,Lf,Vl,Gl,Nx,FI=(Nx=class{constructor(e={}){Ot(this,nr);Ot(this,Mf);Ot(this,Rf);Ot(this,Ql);Ot(this,Yl);Ot(this,Lf);Ot(this,Vl);Ot(this,Gl);_t(this,nr,e.queryCache||new zU),_t(this,Mf,e.mutationCache||new $U),_t(this,Rf,e.defaultOptions||{}),_t(this,Ql,new Map),_t(this,Yl,new Map),_t(this,Lf,0)}mount(){ab(this,Lf)._++,st(this,Lf)===1&&(_t(this,Vl,O4.subscribe(async e=>{e&&(await this.resumePausedMutations(),st(this,nr).onFocus())})),_t(this,Gl,qg.subscribe(async e=>{e&&(await this.resumePausedMutations(),st(this,nr).onOnline())})))}unmount(){var e,t;ab(this,Lf)._--,st(this,Lf)===0&&((e=st(this,Vl))==null||e.call(this),_t(this,Vl,void 0),(t=st(this,Gl))==null||t.call(this),_t(this,Gl,void 0))}isFetching(e){return st(this,nr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return st(this,Mf).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=st(this,nr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=st(this,nr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Rl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return st(this,nr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=st(this,nr).get(n.queryHash),a=i==null?void 0:i.state.data,s=OU(t,a);if(s!==void 0)return st(this,nr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Wr.batch(()=>st(this,nr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=st(this,nr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=st(this,nr);Wr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=st(this,nr),n={type:"active",...e};return Wr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Wr.batch(()=>st(this,nr).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Xi).catch(Xi)}invalidateQueries(e,t={}){return Wr.batch(()=>{if(st(this,nr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const r={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Wr.batch(()=>st(this,nr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Xi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Xi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=st(this,nr).build(this,t);return r.isStaleByTime(Rl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xi).catch(Xi)}fetchInfiniteQuery(e){return e.behavior=V7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xi).catch(Xi)}ensureInfiniteQueryData(e){return e.behavior=V7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qg.isOnline()?st(this,Mf).resumePausedMutations():Promise.resolve()}getQueryCache(){return st(this,nr)}getMutationCache(){return st(this,Mf)}getDefaultOptions(){return st(this,Rf)}setDefaultOptions(e){_t(this,Rf,e)}setQueryDefaults(e,t){st(this,Ql).set(yp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...st(this,Ql).values()],r={};return t.forEach(n=>{vp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){st(this,Yl).set(yp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...st(this,Yl).values()];let r={};return t.forEach(n=>{vp(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...st(this,Rf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=T4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===B4&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...st(this,Rf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){st(this,nr).clear(),st(this,Mf).clear()}},nr=new WeakMap,Mf=new WeakMap,Rf=new WeakMap,Ql=new WeakMap,Yl=new WeakMap,Lf=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,Nx),ti,Yt,zp,Ln,Xc,Wl,Hf,_s,jp,Xl,Zl,Zc,Jc,Pf,Jl,ne,gh,S3,C3,I3,T3,B3,O3,D3,$I,Ux,KU=(Ux=class extends t1{constructor(t,r){super();Ot(this,ne);Ot(this,ti);Ot(this,Yt);Ot(this,zp);Ot(this,Ln);Ot(this,Xc);Ot(this,Wl);Ot(this,Hf);Ot(this,_s);Ot(this,jp);Ot(this,Xl);Ot(this,Zl);Ot(this,Zc);Ot(this,Jc);Ot(this,Pf);Ot(this,Jl,new Set);this.options=r,_t(this,ti,t),_t(this,_s,null),_t(this,Hf,x3()),this.options.experimental_prefetchInRender||st(this,Hf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(st(this,Yt).addObserver(this),W7(st(this,Yt),this.options)?Qt(this,ne,gh).call(this):this.updateResult(),Qt(this,ne,T3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return M3(st(this,Yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return M3(st(this,Yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qt(this,ne,B3).call(this),Qt(this,ne,O3).call(this),st(this,Yt).removeObserver(this)}setOptions(t,r){const n=this.options,i=st(this,Yt);if(this.options=st(this,ti).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ja(this.options.enabled,st(this,Yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qt(this,ne,D3).call(this),st(this,Yt).setOptions(this.options),n._defaulted&&!w3(this.options,n)&&st(this,ti).getQueryCache().notify({type:"observerOptionsUpdated",query:st(this,Yt),observer:this});const a=this.hasListeners();a&&X7(st(this,Yt),i,this.options,n)&&Qt(this,ne,gh).call(this),this.updateResult(r),a&&(st(this,Yt)!==i||ja(this.options.enabled,st(this,Yt))!==ja(n.enabled,st(this,Yt))||Rl(this.options.staleTime,st(this,Yt))!==Rl(n.staleTime,st(this,Yt)))&&Qt(this,ne,S3).call(this);const s=Qt(this,ne,C3).call(this);a&&(st(this,Yt)!==i||ja(this.options.enabled,st(this,Yt))!==ja(n.enabled,st(this,Yt))||s!==st(this,Pf))&&Qt(this,ne,I3).call(this,s)}getOptimisticResult(t){const r=st(this,ti).getQueryCache().build(st(this,ti),t),n=this.createResult(r,t);return YU(this,n)&&(_t(this,Ln,n),_t(this,Wl,this.options),_t(this,Xc,st(this,Yt).state)),n}getCurrentResult(){return st(this,Ln)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){st(this,Jl).add(t)}getCurrentQuery(){return st(this,Yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=st(this,ti).defaultQueryOptions(t),n=st(this,ti).getQueryCache().build(st(this,ti),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Qt(this,ne,gh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),st(this,Ln)))}createResult(t,r){var j;const n=st(this,Yt),i=this.options,a=st(this,Ln),s=st(this,Xc),o=st(this,Wl),c=t!==n?t.state:st(this,zp),{state:u}=t;let l={...u},h=!1,g;if(r._optimisticResults){const G=this.hasListeners(),W=!G&&W7(t,r),R=G&&X7(t,n,r,i);(W||R)&&(l={...l,...jI(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:m,errorUpdatedAt:A,status:S}=l;if(r.select&&l.data!==void 0)if(a&&l.data===(s==null?void 0:s.data)&&r.select===st(this,jp))g=st(this,Xl);else try{_t(this,jp,r.select),g=r.select(l.data),g=E3(a==null?void 0:a.data,g,r),_t(this,Xl,g),_t(this,_s,null)}catch(G){_t(this,_s,G)}else g=l.data;if(r.placeholderData!==void 0&&g===void 0&&S==="pending"){let G;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))G=a.data;else if(G=typeof r.placeholderData=="function"?r.placeholderData((j=st(this,Zl))==null?void 0:j.state.data,st(this,Zl)):r.placeholderData,r.select&&G!==void 0)try{G=r.select(G),_t(this,_s,null)}catch(W){_t(this,_s,W)}G!==void 0&&(S="success",g=E3(a==null?void 0:a.data,G,r),h=!0)}st(this,_s)&&(m=st(this,_s),g=st(this,Xl),A=Date.now(),S="error");const w=l.fetchStatus==="fetching",C=S==="pending",B=S==="error",M=C&&w,N=g!==void 0,Q={status:S,fetchStatus:l.fetchStatus,isPending:C,isSuccess:S==="success",isError:B,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:l.dataUpdatedAt,error:m,errorUpdatedAt:A,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>c.dataUpdateCount||l.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!C,isLoadingError:B&&!N,isPaused:l.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:B&&N,isStale:D4(t,r),refetch:this.refetch,promise:st(this,Hf)};if(this.options.experimental_prefetchInRender){const G=_=>{Q.status==="error"?_.reject(Q.error):Q.data!==void 0&&_.resolve(Q.data)},W=()=>{const _=_t(this,Hf,Q.promise=x3());G(_)},R=st(this,Hf);switch(R.status){case"pending":t.queryHash===n.queryHash&&G(R);break;case"fulfilled":(Q.status==="error"||Q.data!==R.value)&&W();break;case"rejected":(Q.status!=="error"||Q.error!==R.reason)&&W();break}}return Q}updateResult(t){const r=st(this,Ln),n=this.createResult(st(this,Yt),this.options);if(_t(this,Xc,st(this,Yt).state),_t(this,Wl,this.options),st(this,Xc).data!==void 0&&_t(this,Zl,st(this,Yt)),w3(n,r))return;_t(this,Ln,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!st(this,Jl).size)return!0;const f=new Set(o??st(this,Jl));return this.options.throwOnError&&f.add("error"),Object.keys(st(this,Ln)).some(c=>{const u=c;return st(this,Ln)[u]!==r[u]&&f.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Qt(this,ne,$I).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qt(this,ne,T3).call(this)}},ti=new WeakMap,Yt=new WeakMap,zp=new WeakMap,Ln=new WeakMap,Xc=new WeakMap,Wl=new WeakMap,Hf=new WeakMap,_s=new WeakMap,jp=new WeakMap,Xl=new WeakMap,Zl=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,Pf=new WeakMap,Jl=new WeakMap,ne=new WeakSet,gh=function(t){Qt(this,ne,D3).call(this);let r=st(this,Yt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xi)),r},S3=function(){Qt(this,ne,B3).call(this);const t=Rl(this.options.staleTime,st(this,Yt));if(gu||st(this,Ln).isStale||!m3(t))return;const n=LI(st(this,Ln).dataUpdatedAt,t)+1;_t(this,Zc,setTimeout(()=>{st(this,Ln).isStale||this.updateResult()},n))},C3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(st(this,Yt)):this.options.refetchInterval)??!1},I3=function(t){Qt(this,ne,O3).call(this),_t(this,Pf,t),!(gu||ja(this.options.enabled,st(this,Yt))===!1||!m3(st(this,Pf))||st(this,Pf)===0)&&_t(this,Jc,setInterval(()=>{(this.options.refetchIntervalInBackground||O4.isFocused())&&Qt(this,ne,gh).call(this)},st(this,Pf)))},T3=function(){Qt(this,ne,S3).call(this),Qt(this,ne,I3).call(this,Qt(this,ne,C3).call(this))},B3=function(){st(this,Zc)&&(clearTimeout(st(this,Zc)),_t(this,Zc,void 0))},O3=function(){st(this,Jc)&&(clearInterval(st(this,Jc)),_t(this,Jc,void 0))},D3=function(){const t=st(this,ti).getQueryCache().build(st(this,ti),this.options);if(t===st(this,Yt))return;const r=st(this,Yt);_t(this,Yt,t),_t(this,zp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$I=function(t){Wr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(st(this,Ln))}),st(this,ti).getQueryCache().notify({query:st(this,Yt),type:"observerResultsUpdated"})})},Ux);function QU(e,t){return ja(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function W7(e,t){return QU(e,t)||e.state.data!==void 0&&M3(e,t,t.refetchOnMount)}function M3(e,t,r){if(ja(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&D4(e,t)}return!1}function X7(e,t,r,n){return(e!==t||ja(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&D4(e,r)}function D4(e,t){return ja(t.enabled,e)!==!1&&e.isStaleByTime(Rl(t.staleTime,e))}function YU(e,t){return!w3(e.getCurrentResult(),t)}var qI=dr.createContext(void 0),VU=e=>{const t=dr.useContext(qI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},GU=({client:e,children:t})=>(dr.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),mt.jsx(qI.Provider,{value:e,children:t})),KI=dr.createContext(!1),WU=()=>dr.useContext(KI);KI.Provider;function XU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ZU=dr.createContext(XU()),JU=()=>dr.useContext(ZU);function tk(e,t){return typeof e=="function"?e(...t):!!e}function Z7(){}var ek=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},rk=e=>{dr.useEffect(()=>{e.clearReset()},[e])},nk=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&tk(r,[e.error,n]),ik=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},ak=(e,t)=>e.isLoading&&e.isFetching&&!t,sk=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,J7=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function ok(e,t,r){var u,l,h,g,m;const n=VU(),i=WU(),a=JU(),s=n.defaultQueryOptions(e);(l=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||l.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",ik(s),ek(s,a),rk(a);const o=!n.getQueryCache().get(s.queryHash),[f]=dr.useState(()=>new t(n,s)),c=f.getOptimisticResult(s);if(dr.useSyncExternalStore(dr.useCallback(A=>{const S=i?Z7:f.subscribe(Wr.batchCalls(A));return f.updateResult(),S},[f,i]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),dr.useEffect(()=>{f.setOptions(s,{listeners:!1})},[s,f]),sk(s,c))throw J7(s,f,a);if(nk({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw c.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,s,c),s.experimental_prefetchInRender&&!gu&&ak(c,i)){const A=o?J7(s,f,a):(m=n.getQueryCache().get(s.queryHash))==null?void 0:m.promise;A==null||A.catch(Z7).finally(()=>{f.updateResult()})}return s.notifyOnChangeProps?c:f.trackResult(c)}function M4(e,t){return ok(e,KU)}var QI={exports:{}},YI={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=dr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;YI.c=function(e){return fk.H.useMemoCache(e)};QI.exports=YI;var Xy=QI.exports,p_={},ae={},Ko={},wa={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.CodecExecuteError=da.CodecBaseParseError=da.CODEC_OPTIONAL_PATH=void 0;da.isCodecExecuteError=uk;const ck=da.CODEC_OPTIONAL_PATH="__lc_option__";class VI extends Error{constructor(t,r){super(t),this.expectedType=r}}da.CodecBaseParseError=VI;const GI="CodecExecuteError";function uk(e){return e instanceof Error?e.name===GI:!1}class lk extends Error{constructor(r){super();Qr(this,"name",GI);Qr(this,"keys",[]);this.origin=r}updateKey(r){this.keys.push(r),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var r;const n=(s,o,f)=>(o===ck?o=f===0?"?":"?.":typeof o=="number"?o=`[${o}]`:o=`.${o}`,s+o),i=this.keys.reduceRight(n,"input");return`${this.origin instanceof VI?`Expect type ${this.origin.expectedType} at ${i} but got error:`:`Error at ${i}:`} ${this.origin.message}
    ${(r=this.origin.stack)===null||r===void 0?void 0:r.replace(/Error:.+?\n/,"")}
    `}}da.CodecExecuteError=lk;Object.defineProperty(wa,"__esModule",{value:!0});wa.assertBufferLength=wk;wa.assertHexDecimal=vk;wa.assertHexString=_k;wa.assertMinBufferLength=Ak;wa.assertUtf8String=mk;wa.isObjectLike=Ek;wa.trackCodeExecuteError=xk;var t9=da;const dk=48,hk=57,pk=65,bk=70,gk=97,yk=102;function WI(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function XI(e){const t=e.length;for(let r=2;r<t;r++){const n=e[r].charCodeAt(0);if(!(n>=dk&&n<=hk||n>=gk&&n<=yk||n>=pk&&n<=bk))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}function vk(e,t){if(WI(e),e.length===2)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if(typeof t=="number"&&r>t*2+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);XI(e)}function _k(e,t){WI(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if(typeof t=="number"&&r!==t*2+2)throw new Error("Invalid hex string length, not match with byteLength!");XI(e)}function mk(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}function wk(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)}function Ak(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)}function Ek(e){return e?typeof e=="object":!1}function xk(e,t){try{return t()}catch(r){const n=(0,t9.isCodecExecuteError)(r)?r:new t9.CodecExecuteError(r);throw n.updateKey(e),n}}var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.bytify=_p;Aa.bytifyRawString=Sk;Aa.concat=Mk;Aa.equal=Tk;var pc=Aa.hexify=Dk,ZI=wa;function Sk(e){(0,ZI.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);r.setUint8(n,i)}return new Uint8Array(t)}const e9=48,r9=57,n9=65,i9=70,a9=97;function Ck(e){(0,ZI.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r=r+2,n++){const i=e.charCodeAt(r),a=e.charCodeAt(r+1),s=i<=r9?i-e9:i<=i9?i-n9+10:i-a9+10,o=a<=r9?a-e9:a<=i9?a-n9+10:a-a9+10;t[n]=s<<4|o}return t}function Ik(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}function _p(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if(typeof e=="string")return Ck(e);if(Array.isArray(e))return Ik(e);throw new Error(`Cannot convert ${e}`)}function Tk(e,t){const r=_p(e),n=_p(t);return Bk(r,n)}function Bk(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}const Ok=Array.from({length:256}).map((e,t)=>t.toString(16).padStart(2,"0"));function Dk(e){let t="";const r=_p(e);for(let n=0;n<r.length;n++)t+=Ok[r[n]];return"0x"+t}function Mk(...e){const t=e.map(_p),r=t.reduce((a,s)=>a+s.length,0),n=new Uint8Array(r);let i=0;return t.forEach(a=>{n.set(a,i),i+=a.length}),n}Object.defineProperty(Ko,"__esModule",{value:!0});Ko.createBytesCodec=JI;Ko.createFixedBytesCodec=Hk;Ko.isFixedCodec=Lk;var R3=wa,Rk=Aa;function JI(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,Rk.bytify)(t))}}function Lk(e){return(0,R3.isObjectLike)(e)&&!!e.__isFixedCodec__}function Hk(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...JI({pack:r=>{const n=e.pack(r);return(0,R3.assertBufferLength)(n,t),n},unpack:r=>((0,R3.assertBufferLength)(r,t),e.unpack(r))})}}var R4={},Gd={};Object.defineProperty(Gd,"__esModule",{value:!0});Gd.createArrayCodec=kk;Gd.createNullableCodec=Nk;Gd.createObjectCodec=Uk;Gd.enhancePack=zk;var L4=wa,Pk=da;function Nk(e){return{pack:t=>t==null?t:(0,L4.trackCodeExecuteError)(Pk.CODEC_OPTIONAL_PATH,()=>e.pack(t)),unpack:t=>t==null?t:e.unpack(t)}}function Uk(e){const t=Object.entries(e);return{pack:r=>{const n={};return t.forEach(([i,a])=>{Object.assign(n,{[i]:(0,L4.trackCodeExecuteError)(i,()=>a.pack(r[i]))})}),n},unpack:r=>{const n={};return t.forEach(([i,a])=>{Object.assign(n,{[i]:a.unpack(r[i])})}),n}}}function kk(e){return{pack:t=>t.map((r,n)=>(0,L4.trackCodeExecuteError)(n,()=>e.pack(r))),unpack:t=>t.map(r=>e.unpack(r))}}function zk(e,t,r){return{pack:n=>t(e.pack(n)),unpack:n=>e.unpack(r(n))}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"createArrayCodec",{enumerable:!0,get:function(){return t.createArrayCodec}}),Object.defineProperty(e,"createNullableCodec",{enumerable:!0,get:function(){return t.createNullableCodec}}),Object.defineProperty(e,"createObjectCodec",{enumerable:!0,get:function(){return t.createObjectCodec}}),Object.defineProperty(e,"enhancePack",{enumerable:!0,get:function(){return t.enhancePack}});var t=Gd})(R4);var Wd={},Po={},me={},tT={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jn,function(){var r=Math.imul,n=Math.clz32;function i(W){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},i(W)}function a(W,R){if(!(W instanceof R))throw new TypeError("Cannot call a class as a function")}function s(W,R){for(var _,I=0;I<R.length;I++)_=R[I],_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(W,_.key,_)}function o(W,R,_){return R&&s(W.prototype,R),_&&s(W,_),Object.defineProperty(W,"prototype",{writable:!1}),W}function f(W,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(R&&R.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),R&&u(W,R)}function c(W){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},c(W)}function u(W,R){return u=Object.setPrototypeOf||function(_,I){return _.__proto__=I,_},u(W,R)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(){return h=l()?Reflect.construct:function(W,R,_){var I=[null];I.push.apply(I,R);var b=Function.bind.apply(W,I),v=new b;return _&&u(v,_.prototype),v},h.apply(null,arguments)}function g(W){return Function.toString.call(W).indexOf("[native code]")!==-1}function m(W){var R=typeof Map=="function"?new Map:void 0;return m=function(_){function I(){return h(_,arguments,c(this).constructor)}if(_===null||!g(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(_))return R.get(_);R.set(_,I)}return I.prototype=Object.create(_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),u(I,_)},m(W)}function A(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function S(W,R){if(R&&(typeof R=="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(W)}function w(W){var R=l();return function(){var _,I=c(W);if(R){var b=c(this).constructor;_=Reflect.construct(I,arguments,b)}else _=I.apply(this,arguments);return S(this,_)}}function C(W,R){return B(W)||M(W,R)||N(W,R)||Q()}function B(W){if(Array.isArray(W))return W}function M(W,R){var _=W==null?null:typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(_!=null){var I,b,v=[],d=!0,y=!1;try{for(_=_.call(W);!(d=(I=_.next()).done)&&(v.push(I.value),!(R&&v.length===R));d=!0);}catch(x){y=!0,b=x}finally{try{d||_.return==null||_.return()}finally{if(y)throw b}}return v}}function N(W,R){if(W){if(typeof W=="string")return K(W,R);var _=Object.prototype.toString.call(W).slice(8,-1);return _==="Object"&&W.constructor&&(_=W.constructor.name),_==="Map"||_==="Set"?Array.from(W):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?K(W,R):void 0}}function K(W,R){(R==null||R>W.length)&&(R=W.length);for(var _=0,I=Array(R);_<R;_++)I[_]=W[_];return I}function Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(W,R){var _=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!_){if(Array.isArray(W)||(_=N(W))||R){_&&(W=_);var I=0,b=function(){};return{s:b,n:function(){return I>=W.length?{done:!0}:{done:!1,value:W[I++]}},e:function(x){throw x},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,d=!0,y=!1;return{s:function(){_=_.call(W)},n:function(){var x=_.next();return d=x.done,x},e:function(x){y=!0,v=x},f:function(){try{d||_.return==null||_.return()}finally{if(y)throw v}}}}var G=function(W){var R=Math.abs,_=Math.max,I=Math.floor;function b(d,y){var x;if(a(this,b),x=v.call(this,d),x.sign=y,Object.setPrototypeOf(A(x),b.prototype),d>b.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return x}f(b,W);var v=w(b);return o(b,[{key:"toDebugString",value:function(){var d,y=["BigInt["],x=j(this);try{for(x.s();!(d=x.n()).done;){var E=d.value;y.push((E&&(E>>>0).toString(16))+", ")}}catch(p){x.e(p)}finally{x.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":d&d-1?b.__toStringGeneric(this,d,!1):b.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new b(this.length,this.sign),y=0;y<this.length;y++)d[y]=this[y];return d}},{key:"__trim",value:function(){for(var d=this.length,y=this[d-1];y===0;)d--,y=this[d-1],this.pop();return d===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return b.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,y,x){x>this.length&&(x=this.length);for(var E=32767&d,p=d>>>15,T=0,F=y,L=0;L<x;L++){var k=this.__digit(L),$=32767&k,H=k>>>15,q=b.__imul($,E),X=b.__imul($,p),et=b.__imul(H,E),rt=b.__imul(H,p),U=F+q+T;T=U>>>30,U&=1073741823,U+=((32767&X)<<15)+((32767&et)<<15),T+=U>>>30,F=rt+(X>>>15)+(et>>>15),this.__setDigit(L,1073741823&U)}if(T!==0||F!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,y,x){for(var E,p=0,T=0;T<x;T++)E=this.__halfDigit(y+T)+d.__halfDigit(T)+p,p=E>>>15,this.__setHalfDigit(y+T,32767&E);return p}},{key:"__inplaceSub",value:function(d,y,x){var E=0;if(1&y){y>>=1;for(var p=this.__digit(y),T=32767&p,F=0;F<x-1>>>1;F++){var L=d.__digit(F),k=(p>>>15)-(32767&L)-E;E=1&k>>>15,this.__setDigit(y+F,(32767&k)<<15|32767&T),p=this.__digit(y+F+1),T=(32767&p)-(L>>>15)-E,E=1&T>>>15}var $=d.__digit(F),H=(p>>>15)-(32767&$)-E;if(E=1&H>>>15,this.__setDigit(y+F,(32767&H)<<15|32767&T),y+F+1>=this.length)throw new RangeError("out of bounds");!(1&x)&&(p=this.__digit(y+F+1),T=(32767&p)-($>>>15)-E,E=1&T>>>15,this.__setDigit(y+d.length,1073709056&p|32767&T))}else{y>>=1;for(var q=0;q<d.length-1;q++){var X=this.__digit(y+q),et=d.__digit(q),rt=(32767&X)-(32767&et)-E;E=1&rt>>>15;var U=(X>>>15)-(et>>>15)-E;E=1&U>>>15,this.__setDigit(y+q,(32767&U)<<15|32767&rt)}var P=this.__digit(y+q),nt=d.__digit(q),ft=(32767&P)-(32767&nt)-E;E=1&ft>>>15;var dt=0;!(1&x)&&(dt=(P>>>15)-(nt>>>15)-E,E=1&dt>>>15),this.__setDigit(y+q,(32767&dt)<<15|32767&ft)}return E}},{key:"__inplaceRightShift",value:function(d){if(d!==0){for(var y,x=this.__digit(0)>>>d,E=this.length-1,p=0;p<E;p++)y=this.__digit(p+1),this.__setDigit(p,1073741823&y<<30-d|x),x=y>>>d;this.__setDigit(E,x)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,y){this[d]=0|y}},{key:"__setDigitGrow",value:function(d,y){this[d]=0|y}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,y){var x=d>>>1,E=this.__digit(x),p=1&d?32767&E|y<<15:1073709056&E|32767&y;this.__setDigit(x,p)}}],[{key:"BigInt",value:function(d){var y=Number.isFinite;if(typeof d=="number"){if(d===0)return b.__zero();if(b.__isOneDigitInt(d))return 0>d?b.__oneDigit(-d,!0):b.__oneDigit(d,!1);if(!y(d)||I(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return b.__fromDouble(d)}if(typeof d=="string"){var x=b.__fromString(d);if(x===null)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return x}if(typeof d=="boolean")return d===!0?b.__oneDigit(1,!1):b.__zero();if(i(d)==="object"){if(d.constructor===b)return d;var E=b.__toPrimitive(d);return b.BigInt(E)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var y=d.length;if(y===0)return 0;if(y===1){var x=d.__unsignedDigit(0);return d.sign?-x:x}var E=d.__digit(y-1),p=b.__clz30(E),T=30*y-p;if(1024<T)return d.sign?-1/0:1/0;var F=T-1,L=E,k=y-1,$=p+3,H=$===32?0:L<<$;H>>>=12;var q=$-12,X=12<=$?0:L<<20+$,et=20+$;for(0<q&&0<k&&(k--,L=d.__digit(k),H|=L>>>30-q,X=L<<q+2,et=q+2);0<et&&0<k;)k--,L=d.__digit(k),X|=30<=et?L<<et-30:L>>>30-et,et-=30;var rt=b.__decideRounding(d,et,k,L);if((rt===1||rt===0&&(1&X)==1)&&(X=X+1>>>0,X===0&&(H++,H>>>20!=0&&(H=0,F++,1023<F))))return d.sign?-1/0:1/0;var U=d.sign?-2147483648:0;return F=F+1023<<20,b.__kBitConversionInts[1]=U|F|H,b.__kBitConversionInts[0]=X,b.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(d){if(d.length===0)return d;var y=d.__copy();return y.sign=!d.sign,y}},{key:"bitwiseNot",value:function(d){return d.sign?b.__absoluteSubOne(d).__trim():b.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,y){if(y.sign)throw new RangeError("Exponent must be positive");if(y.length===0)return b.__oneDigit(1,!1);if(d.length===0)return d;if(d.length===1&&d.__digit(0)===1)return d.sign&&!(1&y.__digit(0))?b.unaryMinus(d):d;if(1<y.length)throw new RangeError("BigInt too big");var x=y.__unsignedDigit(0);if(x===1)return d;if(x>=b.__kMaxLengthBits)throw new RangeError("BigInt too big");if(d.length===1&&d.__digit(0)===2){var E=1+(0|x/30),p=d.sign&&(1&x)!=0,T=new b(E,p);T.__initializeDigits();var F=1<<x%30;return T.__setDigit(E-1,F),T}var L=null,k=d;for(1&x&&(L=d),x>>=1;x!==0;x>>=1)k=b.multiply(k,k),1&x&&(L===null?L=k:L=b.multiply(L,k));return L}},{key:"multiply",value:function(d,y){if(d.length===0)return d;if(y.length===0)return y;var x=d.length+y.length;30<=d.__clzmsd()+y.__clzmsd()&&x--;var E=new b(x,d.sign!==y.sign);E.__initializeDigits();for(var p=0;p<d.length;p++)b.__multiplyAccumulate(y,d.__digit(p),E,p);return E.__trim()}},{key:"divide",value:function(d,y){if(y.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(d,y))return b.__zero();var x,E=d.sign!==y.sign,p=y.__unsignedDigit(0);if(y.length===1&&32767>=p){if(p===1)return E===d.sign?d:b.unaryMinus(d);x=b.__absoluteDivSmall(d,p,null)}else x=b.__absoluteDivLarge(d,y,!0,!1);return x.sign=E,x.__trim()}},{key:"remainder",value:function(y,x){if(x.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(y,x))return y;var E=x.__unsignedDigit(0);if(x.length===1&&32767>=E){if(E===1)return b.__zero();var p=b.__absoluteModSmall(y,E);return p===0?b.__zero():b.__oneDigit(p,y.sign)}var T=b.__absoluteDivLarge(y,x,!1,!0);return T.sign=y.sign,T.__trim()}},{key:"add",value:function(d,y){var x=d.sign;return x===y.sign?b.__absoluteAdd(d,y,x):0<=b.__absoluteCompare(d,y)?b.__absoluteSub(d,y,x):b.__absoluteSub(y,d,!x)}},{key:"subtract",value:function(d,y){var x=d.sign;return x===y.sign?0<=b.__absoluteCompare(d,y)?b.__absoluteSub(d,y,x):b.__absoluteSub(y,d,!x):b.__absoluteAdd(d,y,x)}},{key:"leftShift",value:function(d,y){return y.length===0||d.length===0?d:y.sign?b.__rightShiftByAbsolute(d,y):b.__leftShiftByAbsolute(d,y)}},{key:"signedRightShift",value:function(d,y){return y.length===0||d.length===0?d:y.sign?b.__leftShiftByAbsolute(d,y):b.__rightShiftByAbsolute(d,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,y){return 0>b.__compareToBigInt(d,y)}},{key:"lessThanOrEqual",value:function(d,y){return 0>=b.__compareToBigInt(d,y)}},{key:"greaterThan",value:function(d,y){return 0<b.__compareToBigInt(d,y)}},{key:"greaterThanOrEqual",value:function(d,y){return 0<=b.__compareToBigInt(d,y)}},{key:"equal",value:function(d,y){if(d.sign!==y.sign||d.length!==y.length)return!1;for(var x=0;x<d.length;x++)if(d.__digit(x)!==y.__digit(x))return!1;return!0}},{key:"notEqual",value:function(d,y){return!b.equal(d,y)}},{key:"bitwiseAnd",value:function(d,y){if(!d.sign&&!y.sign)return b.__absoluteAnd(d,y).__trim();if(d.sign&&y.sign){var x=_(d.length,y.length)+1,E=b.__absoluteSubOne(d,x),p=b.__absoluteSubOne(y);return E=b.__absoluteOr(E,p,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var T=[y,d];d=T[0],y=T[1]}return b.__absoluteAndNot(d,b.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(d,y){if(!d.sign&&!y.sign)return b.__absoluteXor(d,y).__trim();if(d.sign&&y.sign){var x=_(d.length,y.length),E=b.__absoluteSubOne(d,x),p=b.__absoluteSubOne(y);return b.__absoluteXor(E,p,E).__trim()}var T=_(d.length,y.length)+1;if(d.sign){var F=[y,d];d=F[0],y=F[1]}var L=b.__absoluteSubOne(y,T);return L=b.__absoluteXor(L,d,L),b.__absoluteAddOne(L,!0,L).__trim()}},{key:"bitwiseOr",value:function(d,y){var x=_(d.length,y.length);if(!d.sign&&!y.sign)return b.__absoluteOr(d,y).__trim();if(d.sign&&y.sign){var E=b.__absoluteSubOne(d,x),p=b.__absoluteSubOne(y);return E=b.__absoluteAnd(E,p,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var T=[y,d];d=T[0],y=T[1]}var F=b.__absoluteSubOne(y,x);return F=b.__absoluteAndNot(F,d,F),b.__absoluteAddOne(F,!0,F).__trim()}},{key:"asIntN",value:function(d,y){if(y.length===0)return y;if(d=I(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(d>=b.__kMaxLengthBits)return y;var x=0|(d+29)/30;if(y.length<x)return y;var E=y.__unsignedDigit(x-1),p=1<<(d-1)%30;if(y.length===x&&E<p)return y;if((E&p)!==p)return b.__truncateToNBits(d,y);if(!y.sign)return b.__truncateAndSubFromPowerOfTwo(d,y,!0);if(!(E&p-1)){for(var T=x-2;0<=T;T--)if(y.__digit(T)!==0)return b.__truncateAndSubFromPowerOfTwo(d,y,!1);return y.length===x&&E===p?y:b.__truncateToNBits(d,y)}return b.__truncateAndSubFromPowerOfTwo(d,y,!1)}},{key:"asUintN",value:function(d,y){if(y.length===0)return y;if(d=I(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(y.sign){if(d>b.__kMaxLengthBits)throw new RangeError("BigInt too big");return b.__truncateAndSubFromPowerOfTwo(d,y,!1)}if(d>=b.__kMaxLengthBits)return y;var x=0|(d+29)/30;if(y.length<x)return y;var E=d%30;if(y.length==x){if(E===0)return y;var p=y.__digit(x-1);if(!(p>>>E))return y}return b.__truncateToNBits(d,y)}},{key:"ADD",value:function(d,y){if(d=b.__toPrimitive(d),y=b.__toPrimitive(y),typeof d=="string")return typeof y!="string"&&(y=y.toString()),d+y;if(typeof y=="string")return d.toString()+y;if(d=b.__toNumeric(d),y=b.__toNumeric(y),b.__isBigInt(d)&&b.__isBigInt(y))return b.add(d,y);if(typeof d=="number"&&typeof y=="number")return d+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,y){return b.__compare(d,y,0)}},{key:"LE",value:function(d,y){return b.__compare(d,y,1)}},{key:"GT",value:function(d,y){return b.__compare(d,y,2)}},{key:"GE",value:function(d,y){return b.__compare(d,y,3)}},{key:"EQ",value:function(d,y){for(;;){if(b.__isBigInt(d))return b.__isBigInt(y)?b.equal(d,y):b.EQ(y,d);if(typeof d=="number"){if(b.__isBigInt(y))return b.__equalToNumber(y,d);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(typeof d=="string"){if(b.__isBigInt(y))return d=b.__fromString(d),d!==null&&b.equal(d,y);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(typeof d=="boolean"){if(b.__isBigInt(y))return b.__equalToNumber(y,+d);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(i(d)==="symbol"){if(b.__isBigInt(y))return!1;if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(i(d)==="object"){if(i(y)==="object"&&y.constructor!==b)return d==y;d=b.__toPrimitive(d)}else return d==y}}},{key:"NE",value:function(d,y){return!b.EQ(d,y)}},{key:"DataViewGetBigInt64",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return b.asIntN(64,b.DataViewGetBigUint64(d,y,x))}},{key:"DataViewGetBigUint64",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0&&arguments[2],E=x?[4,0]:[0,4],p=C(E,2),T=p[0],F=p[1],L=d.getUint32(y+T,x),k=d.getUint32(y+F,x),$=new b(3,!1);return $.__setDigit(0,1073741823&k),$.__setDigit(1,(268435455&L)<<2|k>>>30),$.__setDigit(2,L>>>28),$.__trim()}},{key:"DataViewSetBigInt64",value:function(d,y,x){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];b.DataViewSetBigUint64(d,y,x,E)}},{key:"DataViewSetBigUint64",value:function(d,y,x){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];x=b.asUintN(64,x);var p=0,T=0;if(0<x.length&&(T=x.__digit(0),1<x.length)){var F=x.__digit(1);T|=F<<30,p=F>>>2,2<x.length&&(p|=x.__digit(2)<<28)}var L=E?[4,0]:[0,4],k=C(L,2),$=k[0],H=k[1];d.setUint32(y+$,p,E),d.setUint32(y+H,T,E)}},{key:"__zero",value:function(){return new b(0,!1)}},{key:"__oneDigit",value:function(d,y){var x=new b(1,y);return x.__setDigit(0,d),x}},{key:"__decideRounding",value:function(d,y,x,E){if(0<y)return-1;var p;if(0>y)p=-y-1;else{if(x===0)return-1;x--,E=d.__digit(x),p=29}var T=1<<p;if(!(E&T))return-1;if(T-=1,(E&T)!=0)return 1;for(;0<x;)if(x--,d.__digit(x)!==0)return 1;return 0}},{key:"__fromDouble",value:function(d){b.__kBitConversionDouble[0]=d;var y,x=2047&b.__kBitConversionInts[1]>>>20,E=x-1023,p=(0|E/30)+1,T=new b(p,0>d),F=1048575&b.__kBitConversionInts[1]|1048576,L=b.__kBitConversionInts[0],k=20,$=E%30,H=0;if($<k){var q=k-$;H=q+32,y=F>>>q,F=F<<32-q|L>>>q,L<<=32-q}else if($===k)H=32,y=F,F=L,L=0;else{var X=$-k;H=32-X,y=F<<X|L>>>32-X,F=L<<X,L=0}T.__setDigit(p-1,y);for(var et=p-2;0<=et;et--)0<H?(H-=30,y=F>>>2,F=F<<30|L>>>2,L<<=30):y=0,T.__setDigit(et,y);return T.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?d==32:131071>=d?d==160||d==5760:196607>=d?(d&=131071,10>=d||d==40||d==41||d==47||d==95||d==4096):d==65279)}},{key:"__fromString",value:function(d){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,x=0,E=d.length,p=0;if(p===E)return b.__zero();for(var T=d.charCodeAt(p);b.__isWhitespace(T);){if(++p===E)return b.__zero();T=d.charCodeAt(p)}if(T===43){if(++p===E)return null;T=d.charCodeAt(p),x=1}else if(T===45){if(++p===E)return null;T=d.charCodeAt(p),x=-1}if(y===0){if(y=10,T===48){if(++p===E)return b.__zero();if(T=d.charCodeAt(p),T===88||T===120){if(y=16,++p===E)return null;T=d.charCodeAt(p)}else if(T===79||T===111){if(y=8,++p===E)return null;T=d.charCodeAt(p)}else if(T===66||T===98){if(y=2,++p===E)return null;T=d.charCodeAt(p)}}}else if(y===16&&T===48){if(++p===E)return b.__zero();if(T=d.charCodeAt(p),T===88||T===120){if(++p===E)return null;T=d.charCodeAt(p)}}if(x!==0&&y!==10)return null;for(;T===48;){if(++p===E)return b.__zero();T=d.charCodeAt(p)}var F=E-p,L=b.__kMaxBitsPerChar[y],k=b.__kBitsPerCharTableMultiplier-1;if(F>1073741824/L)return null;var $=L*F+k>>>b.__kBitsPerCharTableShift,H=new b(0|($+29)/30,!1),q=10>y?y:10,X=10<y?y-10:0;if(y&y-1){H.__initializeDigits();var dt=!1,V=0;do{for(var J,it=0,ut=1;;){if(J=void 0,T-48>>>0<q)J=T-48;else if((32|T)-97>>>0<X)J=(32|T)-87;else{dt=!0;break}var yt=ut*y;if(1073741823<yt)break;if(ut=yt,it=it*y+J,V++,++p===E){dt=!0;break}T=d.charCodeAt(p)}k=30*b.__kBitsPerCharTableMultiplier-1;var gt=0|(L*V+k>>>b.__kBitsPerCharTableShift)/30;H.__inplaceMultiplyAdd(ut,it,gt)}while(!dt)}else{L>>=b.__kBitsPerCharTableShift;var et=[],rt=[],U=!1;do{for(var P,nt=0,ft=0;;){if(P=void 0,T-48>>>0<q)P=T-48;else if((32|T)-97>>>0<X)P=(32|T)-87;else{U=!0;break}if(ft+=L,nt=nt<<L|P,++p===E){U=!0;break}if(T=d.charCodeAt(p),30<ft+L)break}et.push(nt),rt.push(ft)}while(!U);b.__fillFromParts(H,et,rt)}if(p!==E){if(!b.__isWhitespace(T))return null;for(p++;p<E;p++)if(T=d.charCodeAt(p),!b.__isWhitespace(T))return null}return H.sign=x===-1,H.__trim()}},{key:"__fillFromParts",value:function(d,y,x){for(var E=0,p=0,T=0,F=y.length-1;0<=F;F--){var L=y[F],k=x[F];p|=L<<T,T+=k,T===30?(d.__setDigit(E++,p),T=0,p=0):30<T&&(d.__setDigit(E++,1073741823&p),T-=30,p=L>>>k-T)}if(p!==0){if(E>=d.length)throw new Error("implementation bug");d.__setDigit(E++,p)}for(;E<d.length;E++)d.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,y){var x=d.length,E=y-1;E=(85&E>>>1)+(85&E),E=(51&E>>>2)+(51&E),E=(15&E>>>4)+(15&E);var p=E,T=y-1,F=d.__digit(x-1),L=b.__clz30(F),k=0|(30*x-L+p-1)/p;if(d.sign&&k++,268435456<k)throw new Error("string too long");for(var $=Array(k),H=k-1,q=0,X=0,et=0;et<x-1;et++){var rt=d.__digit(et),U=(q|rt<<X)&T;$[H--]=b.__kConversionChars[U];var P=p-X;for(q=rt>>>P,X=30-P;X>=p;)$[H--]=b.__kConversionChars[q&T],q>>>=p,X-=p}var nt=(q|F<<X)&T;for($[H--]=b.__kConversionChars[nt],q=F>>>p-X;q!==0;)$[H--]=b.__kConversionChars[q&T],q>>>=p;if(d.sign&&($[H--]="-"),H!==-1)throw new Error("implementation bug");return $.join("")}},{key:"__toStringGeneric",value:function(d,y,x){var E=d.length;if(E===0)return"";if(E===1){var p=d.__unsignedDigit(0).toString(y);return x===!1&&d.sign&&(p="-"+p),p}var T=30*E-b.__clz30(d.__digit(E-1)),F=b.__kMaxBitsPerChar[y],L=F-1,k=T*b.__kBitsPerCharTableMultiplier;k+=L-1,k=0|k/L;var $,H,q=k+1>>1,X=b.exponentiate(b.__oneDigit(y,!1),b.__oneDigit(q,!1)),et=X.__unsignedDigit(0);if(X.length===1&&32767>=et){$=new b(d.length,!1),$.__initializeDigits();for(var rt,U=0,P=2*d.length-1;0<=P;P--)rt=U<<15|d.__halfDigit(P),$.__setHalfDigit(P,0|rt/et),U=0|rt%et;H=U.toString(y)}else{var nt=b.__absoluteDivLarge(d,X,!0,!0);$=nt.quotient;var ft=nt.remainder.__trim();H=b.__toStringGeneric(ft,y,!0)}$.__trim();for(var dt=b.__toStringGeneric($,y,!0);H.length<q;)H="0"+H;return x===!1&&d.sign&&(dt="-"+dt),dt+H}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,y){var x=d.sign;if(x!==y.sign)return b.__unequalSign(x);var E=b.__absoluteCompare(d,y);return 0<E?b.__absoluteGreater(x):0>E?b.__absoluteLess(x):0}},{key:"__compareToNumber",value:function(d,y){if(b.__isOneDigitInt(y)){var x=d.sign,E=0>y;if(x!==E)return b.__unequalSign(x);if(d.length===0){if(E)throw new Error("implementation bug");return y===0?0:-1}if(1<d.length)return b.__absoluteGreater(x);var p=R(y),T=d.__unsignedDigit(0);return T>p?b.__absoluteGreater(x):T<p?b.__absoluteLess(x):0}return b.__compareToDouble(d,y)}},{key:"__compareToDouble",value:function(d,y){if(y!==y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var x=d.sign;if(x!==0>y)return b.__unequalSign(x);if(y===0)throw new Error("implementation bug: should be handled elsewhere");if(d.length===0)return-1;b.__kBitConversionDouble[0]=y;var E=2047&b.__kBitConversionInts[1]>>>20;if(E==2047)throw new Error("implementation bug: handled elsewhere");var p=E-1023;if(0>p)return b.__absoluteGreater(x);var T=d.length,F=d.__digit(T-1),L=b.__clz30(F),k=30*T-L,$=p+1;if(k<$)return b.__absoluteLess(x);if(k>$)return b.__absoluteGreater(x);var H=1048576|1048575&b.__kBitConversionInts[1],q=b.__kBitConversionInts[0],X=20,et=29-L;if(et!==(0|(k-1)%30))throw new Error("implementation bug");var rt,U=0;if(et<X){var P=X-et;U=P+32,rt=H>>>P,H=H<<32-P|q>>>P,q<<=32-P}else if(et===X)U=32,rt=H,H=q,q=0;else{var nt=et-X;U=32-nt,rt=H<<nt|q>>>32-nt,H=q<<nt,q=0}if(F>>>=0,rt>>>=0,F>rt)return b.__absoluteGreater(x);if(F<rt)return b.__absoluteLess(x);for(var ft=T-2;0<=ft;ft--){0<U?(U-=30,rt=H>>>2,H=H<<30|q>>>2,q<<=30):rt=0;var dt=d.__unsignedDigit(ft);if(dt>rt)return b.__absoluteGreater(x);if(dt<rt)return b.__absoluteLess(x)}if(H!==0||q!==0){if(U===0)throw new Error("implementation bug");return b.__absoluteLess(x)}return 0}},{key:"__equalToNumber",value:function(d,y){return b.__isOneDigitInt(y)?y===0?d.length===0:d.length===1&&d.sign===0>y&&d.__unsignedDigit(0)===R(y):b.__compareToDouble(d,y)===0}},{key:"__comparisonResultToBool",value:function(d,y){return y===0?0>d:y===1?0>=d:y===2?0<d:y===3?0<=d:void 0}},{key:"__compare",value:function(d,y,x){if(d=b.__toPrimitive(d),y=b.__toPrimitive(y),typeof d=="string"&&typeof y=="string")switch(x){case 0:return d<y;case 1:return d<=y;case 2:return d>y;case 3:return d>=y}if(b.__isBigInt(d)&&typeof y=="string")return y=b.__fromString(y),y!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,y),x);if(typeof d=="string"&&b.__isBigInt(y))return d=b.__fromString(d),d!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,y),x);if(d=b.__toNumeric(d),y=b.__toNumeric(y),b.__isBigInt(d)){if(b.__isBigInt(y))return b.__comparisonResultToBool(b.__compareToBigInt(d,y),x);if(typeof y!="number")throw new Error("implementation bug");return b.__comparisonResultToBool(b.__compareToNumber(d,y),x)}if(typeof d!="number")throw new Error("implementation bug");if(b.__isBigInt(y))return b.__comparisonResultToBool(b.__compareToNumber(y,d),2^x);if(typeof y!="number")throw new Error("implementation bug");return x===0?d<y:x===1?d<=y:x===2?d>y:x===3?d>=y:void 0}},{key:"__absoluteAdd",value:function(d,y,x){if(d.length<y.length)return b.__absoluteAdd(y,d,x);if(d.length===0)return d;if(y.length===0)return d.sign===x?d:b.unaryMinus(d);var E=d.length;(d.__clzmsd()===0||y.length===d.length&&y.__clzmsd()===0)&&E++;for(var p,T=new b(E,x),F=0,L=0;L<y.length;L++)p=d.__digit(L)+y.__digit(L)+F,F=p>>>30,T.__setDigit(L,1073741823&p);for(;L<d.length;L++){var k=d.__digit(L)+F;F=k>>>30,T.__setDigit(L,1073741823&k)}return L<T.length&&T.__setDigit(L,F),T.__trim()}},{key:"__absoluteSub",value:function(d,y,x){if(d.length===0)return d;if(y.length===0)return d.sign===x?d:b.unaryMinus(d);for(var E,p=new b(d.length,x),T=0,F=0;F<y.length;F++)E=d.__digit(F)-y.__digit(F)-T,T=1&E>>>30,p.__setDigit(F,1073741823&E);for(;F<d.length;F++){var L=d.__digit(F)-T;T=1&L>>>30,p.__setDigit(F,1073741823&L)}return p.__trim()}},{key:"__absoluteAddOne",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length;x===null?x=new b(E,y):x.sign=y;for(var p,T=1,F=0;F<E;F++)p=d.__digit(F)+T,T=p>>>30,x.__setDigit(F,1073741823&p);return T!==0&&x.__setDigitGrow(E,1),x}},{key:"__absoluteSubOne",value:function(d,y){var x=d.length;y=y||x;for(var E,p=new b(y,!1),T=1,F=0;F<x;F++)E=d.__digit(F)-T,T=1&E>>>30,p.__setDigit(F,1073741823&E);if(T!==0)throw new Error("implementation bug");for(var L=x;L<y;L++)p.__setDigit(L,0);return p}},{key:"__absoluteAnd",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,T=p;if(E<p){T=E;var F=d,L=E;d=y,E=p,y=F,p=L}var k=T;x===null?x=new b(k,!1):k=x.length;for(var $=0;$<T;$++)x.__setDigit($,d.__digit($)&y.__digit($));for(;$<k;$++)x.__setDigit($,0);return x}},{key:"__absoluteAndNot",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,T=p;E<p&&(T=E);var F=E;x===null?x=new b(F,!1):F=x.length;for(var L=0;L<T;L++)x.__setDigit(L,d.__digit(L)&~y.__digit(L));for(;L<E;L++)x.__setDigit(L,d.__digit(L));for(;L<F;L++)x.__setDigit(L,0);return x}},{key:"__absoluteOr",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,T=p;if(E<p){T=E;var F=d,L=E;d=y,E=p,y=F,p=L}var k=E;x===null?x=new b(k,!1):k=x.length;for(var $=0;$<T;$++)x.__setDigit($,d.__digit($)|y.__digit($));for(;$<E;$++)x.__setDigit($,d.__digit($));for(;$<k;$++)x.__setDigit($,0);return x}},{key:"__absoluteXor",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,T=p;if(E<p){T=E;var F=d,L=E;d=y,E=p,y=F,p=L}var k=E;x===null?x=new b(k,!1):k=x.length;for(var $=0;$<T;$++)x.__setDigit($,d.__digit($)^y.__digit($));for(;$<E;$++)x.__setDigit($,d.__digit($));for(;$<k;$++)x.__setDigit($,0);return x}},{key:"__absoluteCompare",value:function(d,y){var x=d.length-y.length;if(x!=0)return x;for(var E=d.length-1;0<=E&&d.__digit(E)===y.__digit(E);)E--;return 0>E?0:d.__unsignedDigit(E)>y.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(d,y,x,E){if(y!==0){for(var p=32767&y,T=y>>>15,F=0,L=0,k=0;k<d.length;k++,E++){var $=x.__digit(E),H=d.__digit(k),q=32767&H,X=H>>>15,et=b.__imul(q,p),rt=b.__imul(q,T),U=b.__imul(X,p),P=b.__imul(X,T);$+=L+et+F,F=$>>>30,$&=1073741823,$+=((32767&rt)<<15)+((32767&U)<<15),F+=$>>>30,L=P+(rt>>>15)+(U>>>15),x.__setDigit(E,1073741823&$)}for(;F!==0||L!==0;E++){var nt=x.__digit(E);nt+=F+L,L=0,F=nt>>>30,x.__setDigit(E,1073741823&nt)}}}},{key:"__internalMultiplyAdd",value:function(d,y,x,E,p){for(var T=x,F=0,L=0;L<E;L++){var k=d.__digit(L),$=b.__imul(32767&k,y),H=b.__imul(k>>>15,y),q=$+((32767&H)<<15)+F+T;T=q>>>30,F=H>>>15,p.__setDigit(L,1073741823&q)}if(p.length>E)for(p.__setDigit(E++,T+F);E<p.length;)p.__setDigit(E++,0);else if(T+F!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;x===null&&(x=new b(d.length,!1));for(var E=0,p=2*d.length-1;0<=p;p-=2){var T=(E<<15|d.__halfDigit(p))>>>0,F=0|T/y;E=0|T%y,T=(E<<15|d.__halfDigit(p-1))>>>0;var L=0|T/y;E=0|T%y,x.__setDigit(p>>>1,F<<15|L)}return x}},{key:"__absoluteModSmall",value:function(d,y){for(var x,E=0,p=2*d.length-1;0<=p;p--)x=(E<<15|d.__halfDigit(p))>>>0,E=0|x%y;return E}},{key:"__absoluteDivLarge",value:function(d,y,x,E){var p=y.__halfDigitLength(),T=y.length,F=d.__halfDigitLength()-p,L=null;x&&(L=new b(F+2>>>1,!1),L.__initializeDigits());var k=new b(p+2>>>1,!1);k.__initializeDigits();var $=b.__clz15(y.__halfDigit(p-1));0<$&&(y=b.__specialLeftShift(y,$,0));for(var H=b.__specialLeftShift(d,$,1),q=y.__halfDigit(p-1),X=0,et=F;0<=et;et--){var rt=32767,U=H.__halfDigit(et+p);if(U!==q){var P=(U<<15|H.__halfDigit(et+p-1))>>>0;rt=0|P/q;for(var nt=0|P%q,ft=y.__halfDigit(p-2),dt=H.__halfDigit(et+p-2);b.__imul(rt,ft)>>>0>(nt<<16|dt)>>>0&&(rt--,nt+=q,!(32767<nt)););}b.__internalMultiplyAdd(y,rt,0,T,k);var V=H.__inplaceSub(k,et,p+1);V!==0&&(V=H.__inplaceAdd(y,et,p),H.__setHalfDigit(et+p,32767&H.__halfDigit(et+p)+V),rt--),x&&(1&et?X=rt<<15:L.__setDigit(et>>>1,X|rt))}if(E)return H.__inplaceRightShift($),x?{quotient:L,remainder:H}:H;if(x)return L;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return b.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,y,x){var E=d.length,p=new b(E+x,!1);if(y===0){for(var T=0;T<E;T++)p.__setDigit(T,d.__digit(T));return 0<x&&p.__setDigit(E,0),p}for(var F,L=0,k=0;k<E;k++)F=d.__digit(k),p.__setDigit(k,1073741823&F<<y|L),L=F>>>30-y;return 0<x&&p.__setDigit(E,L),p}},{key:"__leftShiftByAbsolute",value:function(d,y){var x=b.__toShiftAmount(y);if(0>x)throw new RangeError("BigInt too big");var E=0|x/30,p=x%30,T=d.length,F=p!==0&&d.__digit(T-1)>>>30-p!=0,L=T+E+(F?1:0),k=new b(L,d.sign);if(p===0){for(var $=0;$<E;$++)k.__setDigit($,0);for(;$<L;$++)k.__setDigit($,d.__digit($-E))}else{for(var H=0,q=0;q<E;q++)k.__setDigit(q,0);for(var X,et=0;et<T;et++)X=d.__digit(et),k.__setDigit(et+E,1073741823&X<<p|H),H=X>>>30-p;if(F)k.__setDigit(T+E,H);else if(H!==0)throw new Error("implementation bug")}return k.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,y){var x=d.length,E=d.sign,p=b.__toShiftAmount(y);if(0>p)return b.__rightShiftByMaximum(E);var T=0|p/30,F=p%30,L=x-T;if(0>=L)return b.__rightShiftByMaximum(E);var k=!1;if(E){if(d.__digit(T)&(1<<F)-1)k=!0;else for(var $=0;$<T;$++)if(d.__digit($)!==0){k=!0;break}}if(k&&F===0){var H=d.__digit(x-1);!~H&&L++}var q=new b(L,E);if(F===0){q.__setDigit(L-1,0);for(var X=T;X<x;X++)q.__setDigit(X-T,d.__digit(X))}else{for(var et,rt=d.__digit(T)>>>F,U=x-T-1,P=0;P<U;P++)et=d.__digit(P+T+1),q.__setDigit(P,1073741823&et<<30-F|rt),rt=et>>>F;q.__setDigit(U,rt)}return k&&(q=b.__absoluteAddOne(q,!0,q)),q.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?b.__oneDigit(1,!0):b.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var y=d.__unsignedDigit(0);return y>b.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(d){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(i(d)!=="object"||d.constructor===b)return d;if(typeof Symbol<"u"&&i(Symbol.toPrimitive)==="symbol"){var x=d[Symbol.toPrimitive];if(x){var E=x(y);if(i(E)!=="object")return E;throw new TypeError("Cannot convert object to primitive value")}}var p=d.valueOf;if(p){var T=p.call(d);if(i(T)!=="object")return T}var F=d.toString;if(F){var L=F.call(d);if(i(L)!=="object")return L}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return b.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return i(d)==="object"&&d!==null&&d.constructor===b}},{key:"__truncateToNBits",value:function(d,y){for(var x=0|(d+29)/30,E=new b(x,y.sign),p=x-1,T=0;T<p;T++)E.__setDigit(T,y.__digit(T));var F=y.__digit(p);if(d%30!=0){var L=32-d%30;F=F<<L>>>L}return E.__setDigit(p,F),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,y,x){for(var E=Math.min,p,T=0|(d+29)/30,F=new b(T,x),L=0,k=T-1,$=0,H=E(k,y.length);L<H;L++)p=0-y.__digit(L)-$,$=1&p>>>30,F.__setDigit(L,1073741823&p);for(;L<k;L++)F.__setDigit(L,0|1073741823&-$);var q,X=k<y.length?y.__digit(k):0,et=d%30;if(et===0)q=0-X-$,q&=1073741823;else{var rt=32-et;X=X<<rt>>>rt;var U=1<<32-rt;q=U-X-$,q&=U-1}return F.__setDigit(k,q),F.__trim()}},{key:"__digitPow",value:function(d,y){for(var x=1;0<y;)1&y&&(x*=d),y>>>=1,d*=d;return x}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),b}(m(Array));return G.__kMaxLength=33554432,G.__kMaxLengthBits=G.__kMaxLength<<5,G.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],G.__kBitsPerCharTableShift=5,G.__kBitsPerCharTableMultiplier=1<<G.__kBitsPerCharTableShift,G.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],G.__kBitConversionBuffer=new ArrayBuffer(8),G.__kBitConversionDouble=new Float64Array(G.__kBitConversionBuffer),G.__kBitConversionInts=new Int32Array(G.__kBitConversionBuffer),G.__clz30=n?function(W){return n(W)-2}:function(W){var R=Math.LN2,_=Math.log;return W===0?30:0|29-(0|_(W>>>0)/R)},G.__imul=r||function(W,R){return 0|W*R},G})})(tT);var jk=tT.exports;Object.defineProperty(me,"__esModule",{value:!0});me.ckbDecimals=me.BI=void 0;me.formatUnit=Kk;me.isBIish=eT;me.parseUnit=Qk;me.toJSBI=le;var Xt=Fk(jk);function Fk(e){return e&&e.__esModule?e:{default:e}}function eT(e){return e!==null&&(typeof e=="number"&&e%1===0||typeof e=="string"&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||typeof e=="bigint"||No.isBI(e))}class No{constructor(t){this.jsbi=t,this._isBI=!0}add(t){return Ir(Xt.default.add(this.jsbi,le(t)))}sub(t){return Ir(Xt.default.subtract(this.jsbi,le(t)))}div(t){return Ir(Xt.default.divide(this.jsbi,le(t)))}mul(t){return Ir(Xt.default.multiply(this.jsbi,le(t)))}mod(t){return Ir(Xt.default.remainder(this.jsbi,le(t)))}abs(){return Xt.default.greaterThanOrEqual(this.jsbi,le(0))?Ir(this.jsbi):Ir(Xt.default.unaryMinus(this.jsbi))}pow(t){return Ir(Xt.default.exponentiate(this.jsbi,le(t)))}and(t){return Ir(Xt.default.bitwiseAnd(this.jsbi,le(t)))}or(t){return Ir(Xt.default.bitwiseOr(this.jsbi,le(t)))}xor(t){return Ir(Xt.default.bitwiseXor(this.jsbi,le(t)))}not(){return Ir(Xt.default.bitwiseNot(this.jsbi))}mask(t){const r=le(t);if(Xt.default.lessThan(r,le(0))||Xt.default.lessThan(this.jsbi,le(0)))throw new Error("mask works only with positive numbers");const n=le(this.jsbi.toString(2).length);if(Xt.default.lessThanOrEqual(n,r))return Ir(this.jsbi);{const i=Xt.default.leftShift(Xt.default.signedRightShift(this.jsbi,r),r);return Ir(Xt.default.bitwiseXor(this.jsbi,i))}}shl(t){return Ir(Xt.default.leftShift(this.jsbi,le(t)))}shr(t){return Ir(Xt.default.signedRightShift(this.jsbi,le(t)))}eq(t){return Xt.default.equal(this.jsbi,le(t))}lt(t){return Xt.default.lessThan(this.jsbi,le(t))}lte(t){return Xt.default.lessThanOrEqual(this.jsbi,le(t))}gt(t){return Xt.default.greaterThan(this.jsbi,le(t))}gte(t){return Xt.default.greaterThanOrEqual(this.jsbi,le(t))}isNegative(){return Xt.default.lessThan(this.jsbi,le(0))}isZero(){return Xt.default.equal(this.jsbi,le(0))}toNumber(){return Xt.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch{throw new Error("this platform does not support BigInt")}}toString(t){return t=t||10,this.jsbi.toString(t)}toHexString(){return Xt.default.lessThan(this.jsbi,le(0))?"-0x"+Xt.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(t){if(t instanceof No)return t;if(eT(t))return Ir(le(t));if(t instanceof Xt.default)return Ir(le(t.toString()));throw new Error(`invalid type: ${t} can't be converted into BI`)}static isBI(t){return $k(t)&&!!t._isBI}}me.BI=No;function $k(e){return e==null?!1:typeof e=="object"}function Ir(e){return new No(e)}function le(e){return typeof e=="number"||typeof e=="string"?Xt.default.BigInt(e):Xt.default.BigInt(e.toString())}const s9=["shannon","ckb"],qk=me.ckbDecimals=8,rT=No.from(-1);function Kk(e,t){const r=nT(t);return Yk(e,r)}function Qk(e,t){const r=nT(t);return Vk(e,r)}function Yk(e,t){if(!H4(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=No.from(e);const n=e.isNegative();n&&(e=e.mul(rT));let a=e.div(r).toString();if(r.length>1){let s=e.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1],a+="."+s}return n&&(a="-"+a),a}function Vk(e,t){if(!H4(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n=e.substring(0,1)==="-";n&&(e=e.substring(1));let i,a;const s=e.split(".");if(s.length===1)i=s[0],a="0";else if(s.length===2)i=s[0],a=s[1];else throw new Error("too many decimal points (should not happen)");for(;i.length>0&&i[0]==="0";)i=i.substring(1);for(i===""&&(i="0");a.length>0&&a[a.length-1]==="0";)a=a.substring(0,a.length-1);if(a.length>r.length-1)throw new Error("decimal part exceeds max decimals");for(a===""&&(a="0");a.length<r.length-1;)a+="0";const o=No.from(i),f=No.from(a);let c=o.mul(r).add(f);return n&&(c=c.mul(rT)),c}function nT(e){let t=0;if(typeof e=="string"){if(s9.indexOf(e)===-1)throw new Error(`invalid unit name, supported names are ${s9.join(", ")}`);e==="ckb"&&(t=qk)}else if(H4(e))t=e;else throw new Error("unit of integer must be a non-negative integer");return t}function H4(e){return Number.isInteger(e)&&e>=0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BI",{enumerable:!0,get:function(){return t.BI}}),Object.defineProperty(e,"BIish",{enumerable:!0,get:function(){return t.BIish}}),e.Uint8=e.Uint64LE=e.Uint64BE=e.Uint64=e.Uint512LE=e.Uint512BE=e.Uint512=e.Uint32LE=e.Uint32BE=e.Uint32=e.Uint256LE=e.Uint256BE=e.Uint256=e.Uint16LE=e.Uint16BE=e.Uint16=e.Uint128LE=e.Uint128BE=e.Uint128=void 0;var t=me,r=Ko,n=da;function i(g,m,A,S){if(g=t.BI.from(g),g.lt(m)||g.gt(A))throw new n.CodecBaseParseError(`Value must be between ${m.toString()} and ${A.toString()}, but got ${g.toString()}`,S)}function a(g,m=!1){const A=s(g,m);return{__isFixedCodec__:!0,byteLength:g,pack:S=>A.pack(S),unpack:S=>A.unpack(S).toNumber()}}const s=(g,m=!1)=>{const A=t.BI.from(1).shl(g*8).sub(1);return(0,r.createFixedBytesCodec)({byteLength:g,pack(S){let w=m?"LE":"BE";g<=1&&(w="");const C=`Uint${g*8}${w}`;if(typeof S=="number"&&!Number.isSafeInteger(S))throw new n.CodecBaseParseError(`${S} is not a safe integer`,C);let B=t.BI.from(S);i(B,0,A,C);const M=new DataView(new ArrayBuffer(g));for(let N=0;N<g;N++)m?M.setUint8(N,B.and(255).toNumber()):M.setUint8(g-N-1,B.and(255).toNumber()),B=B.shr(8);return new Uint8Array(M.buffer)},unpack:S=>{const w=new DataView(Uint8Array.from(S).buffer);let C=t.BI.from(0);for(let B=0;B<g;B++)m?C=C.or(t.BI.from(w.getUint8(B)).shl(B*8)):C=C.shl(8).or(w.getUint8(B));return C}})};e.Uint8=a(1);const o=e.Uint16LE=a(2,!0);e.Uint16BE=a(2),e.Uint16=o;const f=e.Uint32LE=a(4,!0);e.Uint32BE=a(4),e.Uint32=f;const c=e.Uint64LE=s(8,!0);e.Uint64BE=s(8),e.Uint64=c;const u=e.Uint128LE=s(16,!0);e.Uint128BE=s(16),e.Uint128=u;const l=e.Uint256LE=s(32,!0);e.Uint256BE=s(32),e.Uint256=l;const h=e.Uint512LE=s(64,!0);e.Uint512BE=s(64),e.Uint512=h})(Po);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Po;Object.keys(t).forEach(function(r){r==="default"||r==="__esModule"||r in e&&e[r]===t[r]||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})})(Wd);var e1={},r1={};Object.defineProperty(r1,"__esModule",{value:!0});r1.byteArrayOf=aT;r1.byteOf=Wk;r1.byteVecOf=Xk;var o9=wa,Gk=Aa,iT=Ko,f9=Wd;function aT(e){const t=e.byteLength;return(0,iT.createFixedBytesCodec)({byteLength:t,pack:r=>e.pack(r),unpack:r=>e.unpack(r)})}function Wk(e){return aT({...e,byteLength:1})}function Xk(e){return(0,iT.createBytesCodec)({pack(t){const r=e.pack(t),n=f9.Uint32LE.pack(r.byteLength);return(0,Gk.concat)(n,r)},unpack(t){(0,o9.assertMinBufferLength)(t,4);const r=f9.Uint32LE.unpack(t.slice(0,4));return(0,o9.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})}var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.array=sT;Ks.dynvec=fT;Ks.fixvec=oT;Ks.option=rz;Ks.struct=Zk;Ks.table=tz;Ks.union=ez;Ks.vector=Jk;var bc=Ko,wi=Wd,Xa=Aa,c9=da,Xd=R4;function sT(e,t){const r=(0,Xd.createArrayCodec)(e);return(0,bc.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(n){const i=r.pack(n);return(0,Xa.concat)(...i)},unpack(n){const i=[],a=e.byteLength;for(let s=0;s<n.byteLength;s+=a)i.push(e.unpack(n.slice(s,s+a)));return i}})}function u9(e,t){return e.filter(r=>!t.includes(r))}function P4(e,t){const r=Object.keys(e),n=u9(r,t),i=u9(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function Zk(e,t){P4(e,t);const r=(0,Xd.createObjectCodec)(e);return(0,bc.createFixedBytesCodec)({byteLength:t.reduce((n,i)=>n+e[i].byteLength,0),pack(n){const i=r.pack(n);return t.reduce((a,s)=>(0,Xa.concat)(a,i[s]),Uint8Array.from([]))},unpack(n){const i={};let a=0;return t.forEach(s=>{const o=e[s],f=n.slice(a,a+o.byteLength);Object.assign(i,{[s]:o.unpack(f)}),a=a+o.byteLength}),i}})}function oT(e){return(0,bc.createBytesCodec)({pack(t){const r=(0,Xd.createArrayCodec)(e);return(0,Xa.concat)(wi.Uint32LE.pack(t.length),r.pack(t).reduce((n,i)=>(0,Xa.concat)(n,i),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=wi.Uint32LE.unpack(t.slice(0,4));return sT(e,r).unpack(t.slice(4))}})}function fT(e){return(0,bc.createBytesCodec)({pack(t){const n=(0,Xd.createArrayCodec)(e).pack(t).reduce((a,s)=>{const o=wi.Uint32LE.pack(a.offset);return{header:(0,Xa.concat)(a.header,o),body:(0,Xa.concat)(a.body,s),offset:a.offset+s.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+t.length*4}),i=wi.Uint32LE.pack(n.header.byteLength+n.body.byteLength+4);return(0,Xa.concat)(i,n.header,n.body)},unpack(t){const r=wi.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);const n=[];if(r<=4)return n;{const a=(wi.Uint32LE.unpack(t.slice(4,8))-4)/4,s=new Array(a).fill(1).map((f,c)=>wi.Uint32LE.unpack(t.slice(4+c*4,8+c*4)));s.push(r);const o=[];for(let f=0;f<s.length-1;f++){const c=s[f],u=s[f+1],l=t.slice(c,u);o.push(e.unpack(l))}return o}}})}function Jk(e){return(0,bc.isFixedCodec)(e)?oT(e):fT(e)}function tz(e,t){return P4(e,t),(0,bc.createBytesCodec)({pack(r){const n=4+t.length*4,a=(0,Xd.createObjectCodec)(e).pack(r),s=t.reduce((f,c)=>{const u=a[c],l=wi.Uint32LE.pack(f.offset);return{header:(0,Xa.concat)(f.header,l),body:(0,Xa.concat)(f.body,u),offset:f.offset+u.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),o=wi.Uint32LE.pack(s.header.byteLength+s.body.byteLength+4);return(0,Xa.concat)(o,s.header,s.body)},unpack(r){const n=wi.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||t.length===0)return{};{const i=t.map((s,o)=>wi.Uint32LE.unpack(r.slice(4+o*4,8+o*4)));i.push(n);const a={};for(let s=0;s<i.length-1;s++){const o=i[s],f=i[s+1],c=t[s],u=e[c],l=r.slice(o,f);Object.assign(a,{[c]:u.unpack(l)})}return a}}})}function ez(e,t){if(P4(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const r=Object.values(t);if(r.length!==new Set(r).size)throw new Error(`Duplicated id in union: ${r.join(", ")}`)}return(0,bc.createBytesCodec)({pack(r){const n=Object.keys(e),i=r.type,a=`Union(${n.join(" | ")})`;if(typeof i!="string")throw new c9.CodecBaseParseError("Invalid type in union, type must be a string",a);const s=Array.isArray(t)?t.indexOf(i):t[i];if(s<0)throw new c9.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,a);const o=wi.Uint32LE.pack(s),f=e[i].pack(r.value);return(0,Xa.concat)(o,f)},unpack(r){const n=wi.Uint32LE.unpack(r.slice(0,4)),i=(()=>{if(Array.isArray(t))return t[n];const a=Object.entries(t).find(([,s])=>s===n);return a==null?void 0:a[0]})();if(!i)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:i,value:e[i].unpack(r.slice(4))}}})}function rz(e){return(0,bc.createBytesCodec)({pack(t){const r=(0,Xd.createNullableCodec)(e);return t!=null?r.pack(t):Uint8Array.from([])},unpack(t){if(t.byteLength!==0)return e.unpack(t)}})}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return r.array}}),Object.defineProperty(e,"byteArrayOf",{enumerable:!0,get:function(){return t.byteArrayOf}}),Object.defineProperty(e,"byteOf",{enumerable:!0,get:function(){return t.byteOf}}),Object.defineProperty(e,"byteVecOf",{enumerable:!0,get:function(){return t.byteVecOf}}),Object.defineProperty(e,"option",{enumerable:!0,get:function(){return r.option}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return r.struct}}),Object.defineProperty(e,"table",{enumerable:!0,get:function(){return r.table}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return r.union}}),Object.defineProperty(e,"vector",{enumerable:!0,get:function(){return r.vector}});var t=r1,r=Ks})(e1);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};e.bytes=void 0,Object.defineProperty(e,"createBytesCodec",{enumerable:!0,get:function(){return r.createBytesCodec}}),Object.defineProperty(e,"createFixedBytesCodec",{enumerable:!0,get:function(){return r.createFixedBytesCodec}}),Object.defineProperty(e,"isFixedCodec",{enumerable:!0,get:function(){return r.isFixedCodec}}),e.number=e.molecule=void 0;var r=Ko,n=R4;Object.keys(n).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(t,c)||c in e&&e[c]===n[c]||Object.defineProperty(e,c,{enumerable:!0,get:function(){return n[c]}})});var i=f(Aa);e.bytes=i;var a=f(Wd);e.number=a;var s=f(e1);e.molecule=s;function o(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,l=new WeakMap;return(o=function(h){return h?l:u})(c)}function f(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var l=o(u);if(l&&l.has(c))return l.get(c);var h={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in c)if(m!=="default"&&{}.hasOwnProperty.call(c,m)){var A=g?Object.getOwnPropertyDescriptor(c,m):null;A&&(A.get||A.set)?Object.defineProperty(h,m,A):h[m]=c[m]}return h.default=c,l&&l.set(c,h),h}})(ae);var xr={},Qa={},N4={},U4={},cT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(i){const a=[],s=new Array(4),o=[0,192,224,240],f=[127,63,63,63],c=[0,128,128,128];for(const u of i){const l=s,h=u.codePointAt(0),g=0-(-(h&4294967168)>>31)-(-(h&4294965248)>>31)-(-(h&4294901760)>>31),m=f[g],A=c[g];l[3]=A|h&m,l[2]=A|h>>>6&m,l[1]=A|h>>>12&m,l[0]=A|h>>>18&m;const S=3-g;l[S]|=o[g],Array.prototype.push.apply(a,l.slice(S))}return new Uint8Array(a)}e.toUtf8_1=t;function r(i){const a=[];for(const s of i){const o=s.codePointAt(0);o<128?a.push(o):o<2048?a.push(192|o>>6&31,128|o&63):o<65536?a.push(224|o>>12&15,128|o>>6&63,128|o&63):a.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}return new Uint8Array(a)}e.toUtf8_2=r;function n(i){const a=[];for(let s=0,o=i.length;s<o;++s){const f=i.charCodeAt(s);if(f<128)a.push(f);else if(f<2048)a.push(192|f>>6,128|f&63);else if(f<55296||f>=57344)a.push(224|f>>12,128|f>>6&63,128|f&63);else{let c=65536+((f&1023)<<10|i.charCodeAt(++s)&1023);a.push(240|c>>18&7,128|c>>12&63,128|c>>6&63,128|c&63)}}return new Uint8Array(a)}e.toUtf8_3=n,e.toUtf8=n,e.default=e.toUtf8})(cT);Object.defineProperty(U4,"__esModule",{value:!0});const nz=cT,Vu=2654435761,Gu=2246822519,Eb=3266489917,l9=668265263,d9=374761393;function iz(e,t=0){e=typeof e=="string"?nz.default(e):e;const r=e;let n=t+d9&4294967295,i=0;if(r.length>=16){const s=[t+Vu+Gu&4294967295,t+Gu&4294967295,t+0&4294967295,t-Vu&4294967295],o=e,f=o.length-16;let c=0;for(i=0;(i&4294967280)<=f;i+=4){const u=i,l=o[u+0]+(o[u+1]<<8),h=o[u+2]+(o[u+3]<<8),g=l*Gu+(h*Gu<<16);let m=s[c]+g&4294967295;m=m<<13|m>>>19;const A=m&65535,S=m>>>16;s[c]=A*Vu+(S*Vu<<16)&4294967295,c=c+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+e.length&4294967295;let a=e.length-4;for(;i<=a;i+=4){const s=i,o=r[s+0]+(r[s+1]<<8),f=r[s+2]+(r[s+3]<<8),c=o*Eb+(f*Eb<<16);n=n+c&4294967295,n=n<<17|n>>>15,n=(n&65535)*l9+((n>>>16)*l9<<16)&4294967295}for(;i<r.length;++i){const s=r[i];n=n+s*d9,n=n<<11|n>>>21,n=(n&65535)*Vu+((n>>>16)*Vu<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*Gu&4294967295)+((n>>>16)*Gu<<16),n=n^n>>>13,n=((n&65535)*Eb&4294967295)+((n>>>16)*Eb<<16),n=n^n>>>16,n<0?n+4294967296:n}U4.xxHash32=iz;(function(e){function t(r){for(var n in r)e.hasOwnProperty(n)||(e[n]=r[n])}Object.defineProperty(e,"__esModule",{value:!0}),t(U4)})(N4);var xe={},Qn={exports:{}},uT=dT;class lT extends Error{}lT.prototype.name="AssertionError";function dT(e,t){if(!e){var r=new lT(t);throw Error.captureStackTrace&&Error.captureStackTrace(r,dT),r}}var Qs={exports:{}},L3={exports:{}};function hT(e){return e.length}function az(e){const t=e.byteLength;let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}function sz(e,t,r=0,n=hT(t)){const i=Math.min(n,e.byteLength-r);for(let a=0;a<i;a++)e[r+a]=t.charCodeAt(a);return i}var oz={byteLength:hT,toString:az,write:sz};const vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$c=new Uint8Array(256);for(let e=0;e<vl.length;e++)$c[vl.charCodeAt(e)]=e;$c[45]=62;$c[95]=63;function pT(e){let t=e.length;return e.charCodeAt(t-1)===61&&t--,t>1&&e.charCodeAt(t-1)===61&&t--,t*3>>>2}function fz(e){const t=e.byteLength;let r="";for(let n=0;n<t;n+=3)r+=vl[e[n]>>2]+vl[(e[n]&3)<<4|e[n+1]>>4]+vl[(e[n+1]&15)<<2|e[n+2]>>6]+vl[e[n+2]&63];return t%3===2?r=r.substring(0,r.length-1)+"=":t%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function cz(e,t,r=0,n=pT(t)){const i=Math.min(n,e.byteLength-r);for(let a=0,s=0;s<i;a+=4){const o=$c[t.charCodeAt(a)],f=$c[t.charCodeAt(a+1)],c=$c[t.charCodeAt(a+2)],u=$c[t.charCodeAt(a+3)];e[s++]=o<<2|f>>4,e[s++]=(f&15)<<4|c>>2,e[s++]=(c&3)<<6|u&63}return i}var uz={byteLength:pT,toString:fz,write:cz};function bT(e){return e.length>>>1}function lz(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(let i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r}function dz(e,t,r=0,n=bT(t)){const i=Math.min(n,e.byteLength-r);for(let a=0;a<i;a++){const s=h9(t.charCodeAt(a*2)),o=h9(t.charCodeAt(a*2+1));if(s===void 0||o===void 0)return e.subarray(0,a);e[r+a]=s<<4|o}return i}var hz={byteLength:bT,toString:lz,write:dz};function h9(e){if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-65+10;if(e>=97&&e<=102)return e-97+10}function H3(e){let t=0;for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const a=e.charCodeAt(r+1);if(a>=56320&&a<=57343){t+=4,r++;continue}}i<=127?t+=1:i<=2047?t+=2:t+=3}return t}let P3;if(typeof TextDecoder<"u"){const e=new TextDecoder;P3=function(r){return e.decode(r)}}else P3=function(t){const r=t.byteLength;let n="",i=0;for(;i<r;){let a=t[i];if(a<=127){n+=String.fromCharCode(a),i++;continue}let s=0,o=0;if(a<=223?(s=1,o=a&31):a<=239?(s=2,o=a&15):a<=244&&(s=3,o=a&7),r-i-s>0){let f=0;for(;f<s;)a=t[i+f+1],o=o<<6|a&63,f+=1}else o=65533,s=r-i;n+=String.fromCodePoint(o),i+=s+1}return n};let N3;if(typeof TextEncoder<"u"){const e=new TextEncoder;N3=function(r,n,i=0,a=H3(n)){const s=Math.min(a,r.byteLength-i);return e.encodeInto(n,r.subarray(i,i+s)),s}}else N3=function(t,r,n=0,i=H3(r)){const a=Math.min(i,t.byteLength-n);t=t.subarray(n,n+a);let s=0,o=0;for(;s<r.length;){const f=r.codePointAt(s);if(f<=127){t[o++]=f,s++;continue}let c=0,u=0;for(f<=2047?(c=6,u=192):f<=65535?(c=12,u=224):f<=2097151&&(c=18,u=240),t[o++]=u|f>>c,c-=6;c>=0;)t[o++]=128|f>>c&63,c-=6;s+=f>=65536?2:1}return a};var pz={byteLength:H3,toString:P3,write:N3};function gT(e){return e.length*2}function bz(e){const t=e.byteLength;let r="";for(let n=0;n<t-1;n+=2)r+=String.fromCharCode(e[n]+e[n+1]*256);return r}function gz(e,t,r=0,n=gT(t)){const i=Math.min(n,e.byteLength-r);let a=i;for(let s=0;s<t.length&&!((a-=2)<0);++s){const o=t.charCodeAt(s),f=o>>8,c=o%256;e[r+s*2]=c,e[r+s*2+1]=f}return i}var yz={byteLength:gT,toString:bz,write:gz};(function(e,t){const r=oz,n=uz,i=hz,a=pz,s=yz,o=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function f(V){switch(V){case"ascii":return r;case"base64":return n;case"hex":return i;case"utf8":case"utf-8":case void 0:case null:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${V}`)}}function c(V){return V instanceof Uint8Array}function u(V){try{return f(V),!0}catch{return!1}}function l(V,J,it){const ut=new Uint8Array(V);return J!==void 0&&t.fill(ut,J,0,ut.byteLength,it),ut}function h(V){return new Uint8Array(V)}function g(V){return new Uint8Array(V)}function m(V,J){return f(J).byteLength(V)}function A(V,J){if(V===J)return 0;const it=Math.min(V.byteLength,J.byteLength);V=new DataView(V.buffer,V.byteOffset,V.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let ut=0;for(let yt=it-it%4;ut<yt;ut+=4){const gt=V.getUint32(ut,o),Ct=J.getUint32(ut,o);if(gt!==Ct)break}for(;ut<it;ut++){const yt=V.getUint8(ut),gt=J.getUint8(ut);if(yt<gt)return-1;if(yt>gt)return 1}return V.byteLength>J.byteLength?1:V.byteLength<J.byteLength?-1:0}function S(V,J){J===void 0&&(J=V.reduce((yt,gt)=>yt+gt.byteLength,0));const it=new Uint8Array(J);let ut=0;for(const yt of V){if(ut+yt.byteLength>it.byteLength){const gt=yt.subarray(0,it.byteLength-ut);return it.set(gt,ut),it}it.set(yt,ut),ut+=yt.byteLength}return it}function w(V,J,it=0,ut=0,yt=V.byteLength){if(yt>0&&yt<ut||yt===ut||V.byteLength===0||J.byteLength===0)return 0;if(it<0)throw new RangeError("targetStart is out of range");if(ut<0||ut>=V.byteLength)throw new RangeError("sourceStart is out of range");if(yt<0)throw new RangeError("sourceEnd is out of range");it>=J.byteLength&&(it=J.byteLength),yt>V.byteLength&&(yt=V.byteLength),J.byteLength-it<yt-ut&&(yt=J.length-it+ut);const gt=yt-ut;return V===J?J.copyWithin(it,ut,yt):J.set(V.subarray(ut,yt),it),gt}function C(V,J){if(V===J)return!0;if(V.byteLength!==J.byteLength)return!1;const it=V.byteLength;V=new DataView(V.buffer,V.byteOffset,V.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let ut=0;for(let yt=it-it%4;ut<yt;ut+=4)if(V.getUint32(ut,o)!==J.getUint32(ut,o))return!1;for(;ut<it;ut++)if(V.getUint8(ut)!==J.getUint8(ut))return!1;return!0}function B(V,J,it,ut,yt){if(typeof J=="string"?typeof it=="string"?(yt=it,it=0,ut=V.byteLength):typeof ut=="string"&&(yt=ut,ut=V.byteLength):typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=+J),it<0||V.byteLength<it||V.byteLength<ut)throw new RangeError("Out of range index");if(it===void 0&&(it=0),ut===void 0&&(ut=V.byteLength),ut<=it)return V;if(J||(J=0),typeof J=="number")for(let gt=it;gt<ut;++gt)V[gt]=J;else{J=c(J)?J:M(J,yt);const gt=J.byteLength;for(let Ct=0;Ct<ut-it;++Ct)V[Ct+it]=J[Ct%gt]}return V}function M(V,J,it){return typeof V=="string"?N(V,J):Array.isArray(V)?K(V):ArrayBuffer.isView(V)?Q(V):j(V,J,it)}function N(V,J){const it=f(J),ut=new Uint8Array(it.byteLength(V));return it.write(ut,V,0,ut.byteLength),ut}function K(V){const J=new Uint8Array(V.length);return J.set(V),J}function Q(V){const J=new Uint8Array(V.byteLength);return J.set(V),J}function j(V,J,it){return new Uint8Array(V,J,it)}function G(V,J,it,ut){return R(V,J,it,ut)!==-1}function W(V,J,it,ut,yt){if(V.byteLength===0)return-1;if(typeof it=="string"?(ut=it,it=0):it===void 0?it=yt?0:V.length-1:it<0&&(it+=V.byteLength),it>=V.byteLength){if(yt)return-1;it=V.byteLength-1}else if(it<0)if(yt)it=0;else return-1;if(typeof J=="string")J=M(J,ut);else if(typeof J=="number")return J=J&255,yt?V.indexOf(J,it):V.lastIndexOf(J,it);if(J.byteLength===0)return-1;if(yt){let gt=-1;for(let Ct=it;Ct<V.byteLength;Ct++)if(V[Ct]===J[gt===-1?0:Ct-gt]){if(gt===-1&&(gt=Ct),Ct-gt+1===J.byteLength)return gt}else gt!==-1&&(Ct-=Ct-gt),gt=-1}else{it+J.byteLength>V.byteLength&&(it=V.byteLength-J.byteLength);for(let gt=it;gt>=0;gt--){let Ct=!0;for(let ke=0;ke<J.byteLength;ke++)if(V[gt+ke]!==J[ke]){Ct=!1;break}if(Ct)return gt}}return-1}function R(V,J,it,ut){return W(V,J,it,ut,!0)}function _(V,J,it,ut){return W(V,J,it,ut,!1)}function I(V,J,it){const ut=V[J];V[J]=V[it],V[it]=ut}function b(V){const J=V.byteLength;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let it=0;it<J;it+=2)I(V,it,it+1);return V}function v(V){const J=V.byteLength;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let it=0;it<J;it+=4)I(V,it,it+3),I(V,it+1,it+2);return V}function d(V){const J=V.byteLength;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let it=0;it<J;it+=8)I(V,it,it+7),I(V,it+1,it+6),I(V,it+2,it+5),I(V,it+3,it+4);return V}function y(V){return V}function x(V,J,it=0,ut=V.byteLength){const yt=V.byteLength;return it>=yt||ut<=it?"":(it<0&&(it=0),ut>yt&&(ut=yt),(it!==0||ut<yt)&&(V=V.subarray(it,ut)),f(J).toString(V))}function E(V,J,it,ut,yt){return it===void 0?yt="utf8":ut===void 0&&typeof it=="string"?(yt=it,it=void 0):yt===void 0&&typeof ut=="string"&&(yt=ut,ut=void 0),f(yt).write(V,J,it,ut)}function p(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat64(it,J,!0),it+8}function T(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat32(it,J,!0),it+4}function F(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setUint32(it,J,!0),it+4}function L(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setInt32(it,J,!0),it+4}function k(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat64(J,!0)}function $(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat32(J,!0)}function H(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getUint32(J,!0)}function q(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getInt32(J,!0)}function X(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat64(it,J,!1),it+8}function et(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setFloat32(it,J,!1),it+4}function rt(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setUint32(it,J,!1),it+4}function U(V,J,it){return it===void 0&&(it=0),new DataView(V.buffer,V.byteOffset,V.byteLength).setInt32(it,J,!1),it+4}function P(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat64(J,!1)}function nt(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getFloat32(J,!1)}function ft(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getUint32(J,!1)}function dt(V,J){return J===void 0&&(J=0),new DataView(V.buffer,V.byteOffset,V.byteLength).getInt32(J,!1)}e.exports=t={isBuffer:c,isEncoding:u,alloc:l,allocUnsafe:h,allocUnsafeSlow:g,byteLength:m,compare:A,concat:S,copy:w,equals:C,fill:B,from:M,includes:G,indexOf:R,lastIndexOf:_,swap16:b,swap32:v,swap64:d,toBuffer:y,toString:x,write:E,writeDoubleLE:p,writeFloatLE:T,writeUInt32LE:F,writeInt32LE:L,readDoubleLE:k,readFloatLE:$,readUInt32LE:H,readInt32LE:q,writeDoubleBE:X,writeFloatBE:et,writeUInt32BE:rt,writeInt32BE:U,readDoubleBE:P,readFloatBE:nt,readUInt32BE:ft,readInt32BE:dt}})(L3,L3.exports);var vz=L3.exports,b_,p9;function _z(){if(p9)return b_;p9=1;var e=(a,s)=>function(){return s||(0,a[Object.keys(a)[0]])((s={exports:{}}).exports,s),s.exports},t=(()=>{for(var a=new Uint8Array(128),s=0;s<64;s++)a[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return o=>{for(var f=o.length,c=new Uint8Array((f-(o[f-1]=="=")-(o[f-2]=="="))*3/4|0),u=0,l=0;u<f;){var h=a[o.charCodeAt(u++)],g=a[o.charCodeAt(u++)],m=a[o.charCodeAt(u++)],A=a[o.charCodeAt(u++)];c[l++]=h<<2|g>>4,c[l++]=g<<4|m>>2,c[l++]=m<<6|A}return c}})(),r=e({"wasm-binary:./blake2b.wat"(a,s){s.exports=t("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),n=r(),i=WebAssembly.compile(n);return b_=async a=>(await WebAssembly.instantiate(await i,a)).exports,b_}var vi=uT,mz=vz,To=null,b9=typeof WebAssembly<"u"&&_z()().then(e=>{To=e}),lo=64,ag=[];Qs.exports=Yn;var g9=Qs.exports.BYTES_MIN=16,y9=Qs.exports.BYTES_MAX=64;Qs.exports.BYTES=32;var v9=Qs.exports.KEYBYTES_MIN=16,_9=Qs.exports.KEYBYTES_MAX=64;Qs.exports.KEYBYTES=32;var m9=Qs.exports.SALTBYTES=16,w9=Qs.exports.PERSONALBYTES=16;function Yn(e,t,r,n,i){if(!(this instanceof Yn))return new Yn(e,t,r,n,i);if(!To)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),i!==!0&&(vi(e>=g9,"digestLength must be at least "+g9+", was given "+e),vi(e<=y9,"digestLength must be at most "+y9+", was given "+e),t!=null&&(vi(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),vi(t.length>=v9,"key must be at least "+v9+", was given "+t.length),vi(t.length<=_9,"key must be at least "+_9+", was given "+t.length)),r!=null&&(vi(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),vi(r.length===m9,"salt must be exactly "+m9+", was given "+r.length)),n!=null&&(vi(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),vi(n.length===w9,"personal must be exactly "+w9+", was given "+n.length))),ag.length||(ag.push(lo),lo+=216),this.digestLength=e,this.finalized=!1,this.pointer=ag.pop(),this._memory=new Uint8Array(To.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),To.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,lo,lo+t.length),this._memory[this.pointer+200]=128)}Yn.prototype._realloc=function(e){To.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(To.memory.buffer)};Yn.prototype.update=function(e){return vi(this.finalized===!1,"Hash instance finalized"),vi(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),lo+e.length>this._memory.length&&this._realloc(lo+e.length),this._memory.set(e,lo),To.blake2b_update(this.pointer,lo,lo+e.length),this};Yn.prototype.digest=function(e){if(vi(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,ag.push(this.pointer),To.blake2b_final(this.pointer),!e||e==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof e=="string")return mz.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);vi(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e};Yn.prototype.final=Yn.prototype.digest;Yn.WASM=To;Yn.SUPPORTED=typeof WebAssembly<"u";Yn.ready=function(e){return e||(e=wz),b9?b9.then(()=>e(),e):e(new Error("WebAssembly not supported"))};Yn.prototype.ready=Yn.ready;Yn.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Yn.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)};function wz(){}var Az=Qs.exports,Qi=uT,mp=Az;function xb(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function A9(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var a=e[t+1]+n;i>=4294967296&&a++,e[t]=i,e[t+1]=a}function yT(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function nf(e,t,r,n,i,a){var s=yh[i],o=yh[i+1],f=yh[a],c=yh[a+1];xb(Ut,e,t),A9(Ut,e,s,o);var u=Ut[n]^Ut[e],l=Ut[n+1]^Ut[e+1];Ut[n]=l,Ut[n+1]=u,xb(Ut,r,n),u=Ut[t]^Ut[r],l=Ut[t+1]^Ut[r+1],Ut[t]=u>>>24^l<<8,Ut[t+1]=l>>>24^u<<8,xb(Ut,e,t),A9(Ut,e,f,c),u=Ut[n]^Ut[e],l=Ut[n+1]^Ut[e+1],Ut[n]=u>>>16^l<<16,Ut[n+1]=l>>>16^u<<16,xb(Ut,r,n),u=Ut[t]^Ut[r],l=Ut[t+1]^Ut[r+1],Ut[t]=l>>>31^u<<1,Ut[t+1]=u>>>31^l<<1}var vT=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ez=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],on=new Uint8Array(Ez.map(function(e){return e*2})),Ut=new Uint32Array(32),yh=new Uint32Array(32);function _T(e,t){var r=0;for(r=0;r<16;r++)Ut[r]=e.h[r],Ut[r+16]=vT[r];for(Ut[24]=Ut[24]^e.t,Ut[25]=Ut[25]^e.t/4294967296,t&&(Ut[28]=~Ut[28],Ut[29]=~Ut[29]),r=0;r<32;r++)yh[r]=yT(e.b,4*r);for(r=0;r<12;r++)nf(0,8,16,24,on[r*16+0],on[r*16+1]),nf(2,10,18,26,on[r*16+2],on[r*16+3]),nf(4,12,20,28,on[r*16+4],on[r*16+5]),nf(6,14,22,30,on[r*16+6],on[r*16+7]),nf(0,10,20,30,on[r*16+8],on[r*16+9]),nf(2,12,22,24,on[r*16+10],on[r*16+11]),nf(4,14,16,26,on[r*16+12],on[r*16+13]),nf(6,8,18,28,on[r*16+14],on[r*16+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^Ut[r]^Ut[r+16]}var af=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function dd(e,t,r,n){af.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,af[0]=e,t&&(af[1]=t.length),af[2]=1,af[3]=1,r&&af.set(r,32),n&&af.set(n,48);for(var i=0;i<16;i++)this.h[i]=vT[i]^yT(af,i*4);t&&(mT(this,t),this.c=128)}dd.prototype.update=function(e){return Qi(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),mT(this,e),this};dd.prototype.digest=function(e){var t=!e||e==="binary"||e==="hex"?new Uint8Array(this.outlen):e;return Qi(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),Qi(t.length>=this.outlen,"out must have at least outlen bytes of space"),xz(this,t),e==="hex"?Sz(t):t};dd.prototype.final=dd.prototype.digest;dd.ready=function(e){mp.ready(function(){e()})};function mT(e,t){for(var r=0;r<t.length;r++)e.c===128&&(e.t+=e.c,_T(e,!1),e.c=0),e.b[e.c++]=t[r]}function xz(e,t){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;_T(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3);return t}function Sz(e){for(var t="",r=0;r<e.length;r++)t+=Cz(e[r]);return t}function Cz(e){return e<16?"0"+e.toString(16):e.toString(16)}var Iz=dd;Qn.exports=function(t,r,n,i,a){return a!==!0&&(Qi(t>=E9,"outlen must be at least "+E9+", was given "+t),Qi(t<=x9,"outlen must be at most "+x9+", was given "+t),r!=null&&(Qi(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),Qi(r.length>=S9,"key must be at least "+S9+", was given "+r.length),Qi(r.length<=C9,"key must be at most "+C9+", was given "+r.length)),n!=null&&(Qi(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),Qi(n.length===I9,"salt must be exactly "+I9+", was given "+n.length)),i!=null&&(Qi(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),Qi(i.length===T9,"personal must be exactly "+T9+", was given "+i.length))),new Iz(t,r,n,i)};Qn.exports.ready=function(e){mp.ready(function(){e()})};Qn.exports.WASM_SUPPORTED=mp.SUPPORTED;Qn.exports.WASM_LOADED=!1;var E9=Qn.exports.BYTES_MIN=16,x9=Qn.exports.BYTES_MAX=64;Qn.exports.BYTES=32;var S9=Qn.exports.KEYBYTES_MIN=16,C9=Qn.exports.KEYBYTES_MAX=64;Qn.exports.KEYBYTES=32;var I9=Qn.exports.SALTBYTES=16,T9=Qn.exports.PERSONALBYTES=16;mp.ready(function(e){e||(Qn.exports.WASM_LOADED=!0,Qn.exports=mp)});var Tz=Qn.exports,Kg={exports:{}};Kg.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,o="[object Arguments]",f="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",l="[object Date]",h="[object Error]",g="[object Function]",m="[object GeneratorFunction]",A="[object Map]",S="[object Number]",w="[object Null]",C="[object Object]",B="[object Promise]",M="[object Proxy]",N="[object RegExp]",K="[object Set]",Q="[object String]",j="[object Symbol]",G="[object Undefined]",W="[object WeakMap]",R="[object ArrayBuffer]",_="[object DataView]",I="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",d="[object Int16Array]",y="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",p="[object Uint16Array]",T="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,$={};$[I]=$[b]=$[v]=$[d]=$[y]=$[x]=$[E]=$[p]=$[T]=!0,$[o]=$[f]=$[R]=$[u]=$[_]=$[l]=$[h]=$[g]=$[A]=$[S]=$[C]=$[N]=$[K]=$[Q]=$[W]=!1;var H=typeof jn=="object"&&jn&&jn.Object===Object&&jn,q=typeof self=="object"&&self&&self.Object===Object&&self,X=H||q||Function("return this")(),et=t&&!t.nodeType&&t,rt=et&&!0&&e&&!e.nodeType&&e,U=rt&&rt.exports===et,P=U&&H.process,nt=function(){try{return P&&P.binding&&P.binding("util")}catch{}}(),ft=nt&&nt.isTypedArray;function dt(Z,ot){for(var bt=-1,It=Z==null?0:Z.length,Se=0,zt=[];++bt<It;){var rr=Z[bt];ot(rr,bt,Z)&&(zt[Se++]=rr)}return zt}function V(Z,ot){for(var bt=-1,It=ot.length,Se=Z.length;++bt<It;)Z[Se+bt]=ot[bt];return Z}function J(Z,ot){for(var bt=-1,It=Z==null?0:Z.length;++bt<It;)if(ot(Z[bt],bt,Z))return!0;return!1}function it(Z,ot){for(var bt=-1,It=Array(Z);++bt<Z;)It[bt]=ot(bt);return It}function ut(Z){return function(ot){return Z(ot)}}function yt(Z,ot){return Z.has(ot)}function gt(Z,ot){return Z==null?void 0:Z[ot]}function Ct(Z){var ot=-1,bt=Array(Z.size);return Z.forEach(function(It,Se){bt[++ot]=[Se,It]}),bt}function ke(Z,ot){return function(bt){return Z(ot(bt))}}function Ht(Z){var ot=-1,bt=Array(Z.size);return Z.forEach(function(It){bt[++ot]=It}),bt}var $t=Array.prototype,an=Function.prototype,z=Object.prototype,O=X["__core-js_shared__"],D=an.toString,Y=z.hasOwnProperty,at=function(){var Z=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),ct=z.toString,lt=RegExp("^"+D.call(Y).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=U?X.Buffer:void 0,re=X.Symbol,Rt=X.Uint8Array,Lt=z.propertyIsEnumerable,Zt=$t.splice,se=re?re.toStringTag:void 0,ze=Object.getOwnPropertySymbols,W1=Bt?Bt.isBuffer:void 0,Ve=ke(Object.keys,Object),Me=Ku(X,"DataView"),Xo=Ku(X,"Map"),Re=Ku(X,"Promise"),Le=Ku(X,"Set"),qu=Ku(X,"WeakMap"),ge=Ku(Object,"create"),Ge=Cc(Me),X1=Cc(Xo),We=Cc(Re),Xe=Cc(Le),Z1=Cc(qu),je=re?re.prototype:void 0,He=je?je.valueOf:void 0;function us(Z){var ot=-1,bt=Z==null?0:Z.length;for(this.clear();++ot<bt;){var It=Z[ot];this.set(It[0],It[1])}}function Ze(){this.__data__=ge?ge(null):{},this.size=0}function Je(Z){var ot=this.has(Z)&&delete this.__data__[Z];return this.size-=ot?1:0,ot}function J1(Z){var ot=this.__data__;if(ge){var bt=ot[Z];return bt===n?void 0:bt}return Y.call(ot,Z)?ot[Z]:void 0}function tr(Z){var ot=this.__data__;return ge?ot[Z]!==void 0:Y.call(ot,Z)}function er(Z,ot){var bt=this.__data__;return this.size+=this.has(Z)?0:1,bt[Z]=ge&&ot===void 0?n:ot,this}us.prototype.clear=Ze,us.prototype.delete=Je,us.prototype.get=J1,us.prototype.has=tr,us.prototype.set=er;function li(Z){var ot=-1,bt=Z==null?0:Z.length;for(this.clear();++ot<bt;){var It=Z[ot];this.set(It[0],It[1])}}function x0(){this.__data__=[],this.size=0}function S0(Z){var ot=this.__data__,bt=tb(ot,Z);if(bt<0)return!1;var It=ot.length-1;return bt==It?ot.pop():Zt.call(ot,bt,1),--this.size,!0}function C0(Z){var ot=this.__data__,bt=tb(ot,Z);return bt<0?void 0:ot[bt][1]}function I0(Z){return tb(this.__data__,Z)>-1}function T0(Z,ot){var bt=this.__data__,It=tb(bt,Z);return It<0?(++this.size,bt.push([Z,ot])):bt[It][1]=ot,this}li.prototype.clear=x0,li.prototype.delete=S0,li.prototype.get=C0,li.prototype.has=I0,li.prototype.set=T0;function Da(Z){var ot=-1,bt=Z==null?0:Z.length;for(this.clear();++ot<bt;){var It=Z[ot];this.set(It[0],It[1])}}function B0(){this.size=0,this.__data__={hash:new us,map:new(Xo||li),string:new us}}function O0(Z){var ot=eb(this,Z).delete(Z);return this.size-=ot?1:0,ot}function D0(Z){return eb(this,Z).get(Z)}function M0(Z){return eb(this,Z).has(Z)}function R0(Z,ot){var bt=eb(this,Z),It=bt.size;return bt.set(Z,ot),this.size+=bt.size==It?0:1,this}Da.prototype.clear=B0,Da.prototype.delete=O0,Da.prototype.get=D0,Da.prototype.has=M0,Da.prototype.set=R0;function Zo(Z){var ot=-1,bt=Z==null?0:Z.length;for(this.__data__=new Da;++ot<bt;)this.add(Z[ot])}function L0(Z){return this.__data__.set(Z,n),this}function H0(Z){return this.__data__.has(Z)}Zo.prototype.add=Zo.prototype.push=L0,Zo.prototype.has=H0;function Ui(Z){var ot=this.__data__=new li(Z);this.size=ot.size}function P0(){this.__data__=new li,this.size=0}function N0(Z){var ot=this.__data__,bt=ot.delete(Z);return this.size=ot.size,bt}function U0(Z){return this.__data__.get(Z)}function fH(Z){return this.__data__.has(Z)}function cH(Z,ot){var bt=this.__data__;if(bt instanceof li){var It=bt.__data__;if(!Xo||It.length<r-1)return It.push([Z,ot]),this.size=++bt.size,this;bt=this.__data__=new Da(It)}return bt.set(Z,ot),this.size=bt.size,this}Ui.prototype.clear=P0,Ui.prototype.delete=N0,Ui.prototype.get=U0,Ui.prototype.has=fH,Ui.prototype.set=cH;function uH(Z,ot){var bt=rb(Z),It=!bt&&SH(Z),Se=!bt&&!It&&Ov(Z),zt=!bt&&!It&&!Se&&_w(Z),rr=bt||It||Se||zt,Cr=rr?it(Z.length,String):[],Kr=Cr.length;for(var Fe in Z)Y.call(Z,Fe)&&!(rr&&(Fe=="length"||Se&&(Fe=="offset"||Fe=="parent")||zt&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||mH(Fe,Kr)))&&Cr.push(Fe);return Cr}function tb(Z,ot){for(var bt=Z.length;bt--;)if(bw(Z[bt][0],ot))return bt;return-1}function lH(Z,ot,bt){var It=ot(Z);return rb(Z)?It:V(It,bt(Z))}function k0(Z){return Z==null?Z===void 0?G:w:se&&se in Object(Z)?vH(Z):xH(Z)}function lw(Z){return z0(Z)&&k0(Z)==o}function dw(Z,ot,bt,It,Se){return Z===ot?!0:Z==null||ot==null||!z0(Z)&&!z0(ot)?Z!==Z&&ot!==ot:dH(Z,ot,bt,It,dw,Se)}function dH(Z,ot,bt,It,Se,zt){var rr=rb(Z),Cr=rb(ot),Kr=rr?f:Jo(Z),Fe=Cr?f:Jo(ot);Kr=Kr==o?C:Kr,Fe=Fe==o?C:Fe;var di=Kr==C,Ma=Fe==C,sn=Kr==Fe;if(sn&&Ov(Z)){if(!Ov(ot))return!1;rr=!0,di=!1}if(sn&&!di)return zt||(zt=new Ui),rr||_w(Z)?hw(Z,ot,bt,It,Se,zt):gH(Z,ot,Kr,bt,It,Se,zt);if(!(bt&i)){var ki=di&&Y.call(Z,"__wrapped__"),zi=Ma&&Y.call(ot,"__wrapped__");if(ki||zi){var tf=ki?Z.value():Z,Xs=zi?ot.value():ot;return zt||(zt=new Ui),Se(tf,Xs,bt,It,zt)}}return sn?(zt||(zt=new Ui),yH(Z,ot,bt,It,Se,zt)):!1}function hH(Z){if(!vw(Z)||AH(Z))return!1;var ot=gw(Z)?lt:L;return ot.test(Cc(Z))}function pH(Z){return z0(Z)&&yw(Z.length)&&!!$[k0(Z)]}function bH(Z){if(!EH(Z))return Ve(Z);var ot=[];for(var bt in Object(Z))Y.call(Z,bt)&&bt!="constructor"&&ot.push(bt);return ot}function hw(Z,ot,bt,It,Se,zt){var rr=bt&i,Cr=Z.length,Kr=ot.length;if(Cr!=Kr&&!(rr&&Kr>Cr))return!1;var Fe=zt.get(Z);if(Fe&&zt.get(ot))return Fe==ot;var di=-1,Ma=!0,sn=bt&a?new Zo:void 0;for(zt.set(Z,ot),zt.set(ot,Z);++di<Cr;){var ki=Z[di],zi=ot[di];if(It)var tf=rr?It(zi,ki,di,ot,Z,zt):It(ki,zi,di,Z,ot,zt);if(tf!==void 0){if(tf)continue;Ma=!1;break}if(sn){if(!J(ot,function(Xs,Ic){if(!yt(sn,Ic)&&(ki===Xs||Se(ki,Xs,bt,It,zt)))return sn.push(Ic)})){Ma=!1;break}}else if(!(ki===zi||Se(ki,zi,bt,It,zt))){Ma=!1;break}}return zt.delete(Z),zt.delete(ot),Ma}function gH(Z,ot,bt,It,Se,zt,rr){switch(bt){case _:if(Z.byteLength!=ot.byteLength||Z.byteOffset!=ot.byteOffset)return!1;Z=Z.buffer,ot=ot.buffer;case R:return!(Z.byteLength!=ot.byteLength||!zt(new Rt(Z),new Rt(ot)));case u:case l:case S:return bw(+Z,+ot);case h:return Z.name==ot.name&&Z.message==ot.message;case N:case Q:return Z==ot+"";case A:var Cr=Ct;case K:var Kr=It&i;if(Cr||(Cr=Ht),Z.size!=ot.size&&!Kr)return!1;var Fe=rr.get(Z);if(Fe)return Fe==ot;It|=a,rr.set(Z,ot);var di=hw(Cr(Z),Cr(ot),It,Se,zt,rr);return rr.delete(Z),di;case j:if(He)return He.call(Z)==He.call(ot)}return!1}function yH(Z,ot,bt,It,Se,zt){var rr=bt&i,Cr=pw(Z),Kr=Cr.length,Fe=pw(ot),di=Fe.length;if(Kr!=di&&!rr)return!1;for(var Ma=Kr;Ma--;){var sn=Cr[Ma];if(!(rr?sn in ot:Y.call(ot,sn)))return!1}var ki=zt.get(Z);if(ki&&zt.get(ot))return ki==ot;var zi=!0;zt.set(Z,ot),zt.set(ot,Z);for(var tf=rr;++Ma<Kr;){sn=Cr[Ma];var Xs=Z[sn],Ic=ot[sn];if(It)var mw=rr?It(Ic,Xs,sn,ot,Z,zt):It(Xs,Ic,sn,Z,ot,zt);if(!(mw===void 0?Xs===Ic||Se(Xs,Ic,bt,It,zt):mw)){zi=!1;break}tf||(tf=sn=="constructor")}if(zi&&!tf){var nb=Z.constructor,ib=ot.constructor;nb!=ib&&"constructor"in Z&&"constructor"in ot&&!(typeof nb=="function"&&nb instanceof nb&&typeof ib=="function"&&ib instanceof ib)&&(zi=!1)}return zt.delete(Z),zt.delete(ot),zi}function pw(Z){return lH(Z,TH,_H)}function eb(Z,ot){var bt=Z.__data__;return wH(ot)?bt[typeof ot=="string"?"string":"hash"]:bt.map}function Ku(Z,ot){var bt=gt(Z,ot);return hH(bt)?bt:void 0}function vH(Z){var ot=Y.call(Z,se),bt=Z[se];try{Z[se]=void 0;var It=!0}catch{}var Se=ct.call(Z);return It&&(ot?Z[se]=bt:delete Z[se]),Se}var _H=ze?function(Z){return Z==null?[]:(Z=Object(Z),dt(ze(Z),function(ot){return Lt.call(Z,ot)}))}:BH,Jo=k0;(Me&&Jo(new Me(new ArrayBuffer(1)))!=_||Xo&&Jo(new Xo)!=A||Re&&Jo(Re.resolve())!=B||Le&&Jo(new Le)!=K||qu&&Jo(new qu)!=W)&&(Jo=function(Z){var ot=k0(Z),bt=ot==C?Z.constructor:void 0,It=bt?Cc(bt):"";if(It)switch(It){case Ge:return _;case X1:return A;case We:return B;case Xe:return K;case Z1:return W}return ot});function mH(Z,ot){return ot=ot??s,!!ot&&(typeof Z=="number"||k.test(Z))&&Z>-1&&Z%1==0&&Z<ot}function wH(Z){var ot=typeof Z;return ot=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?Z!=="__proto__":Z===null}function AH(Z){return!!at&&at in Z}function EH(Z){var ot=Z&&Z.constructor,bt=typeof ot=="function"&&ot.prototype||z;return Z===bt}function xH(Z){return ct.call(Z)}function Cc(Z){if(Z!=null){try{return D.call(Z)}catch{}try{return Z+""}catch{}}return""}function bw(Z,ot){return Z===ot||Z!==Z&&ot!==ot}var SH=lw(function(){return arguments}())?lw:function(Z){return z0(Z)&&Y.call(Z,"callee")&&!Lt.call(Z,"callee")},rb=Array.isArray;function CH(Z){return Z!=null&&yw(Z.length)&&!gw(Z)}var Ov=W1||OH;function IH(Z,ot){return dw(Z,ot)}function gw(Z){if(!vw(Z))return!1;var ot=k0(Z);return ot==g||ot==m||ot==c||ot==M}function yw(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=s}function vw(Z){var ot=typeof Z;return Z!=null&&(ot=="object"||ot=="function")}function z0(Z){return Z!=null&&typeof Z=="object"}var _w=ft?ut(ft):pH;function TH(Z){return CH(Z)?uH(Z):bH(Z)}function BH(){return[]}function OH(){return!1}e.exports=IH})(Kg,Kg.exports);var Bz=Kg.exports,Et={},k4,z4;Object.defineProperty(Et,"__esModule",{value:!0});var Qg=Et.WitnessArgs=Et.UncleBlockVec=Et.UncleBlock=Et.TransactionVec=z4=Et.Transaction=Et.ScriptOpt=Et.Script=Et.RawTransaction=Et.RawHeader=Et.ProposalShortIdVec=Et.ProposalShortId=k4=Et.OutPoint=Et.Header=Et.HashType=Et.DepType=Et.CellbaseWitness=Et.CellOutputVec=Et.CellOutput=Et.CellInputVec=Et.CellInput=Et.CellDepVec=Et.CellDep=Et.BytesVec=Et.BytesOptVec=Et.BytesOpt=Et.Bytes=Et.Byte32Vec=Et.Byte32=Et.BlockV1=Et.Block=Et.BaseHeader=void 0;Et.WitnessArgsOf=AT;Et.createFixedHexBytesCodec=$4;Et.deTransformHeaderCodecType=BT;Et.deTransformTransactionCodecType=IT;Et.transformHeaderCodecType=TT;Et.transformTransactionCodecType=CT;var Rr=ae,Oz=me;function Zy(e){return{...e,unpack:t=>Oz.BI.from(e.unpack(t)).toHexString()}}const B9=Zy(Rr.number.Uint8),Yg=Zy(Rr.number.Uint32LE),$h=Zy(Rr.number.Uint64LE),Dz=Zy(Rr.number.Uint128LE),{byteVecOf:sg,option:qh,table:Qo,vector:Yo,struct:n1}=Rr.molecule,{bytify:j4,hexify:F4}=Rr.bytes;function $4(e){return(0,Rr.createFixedBytesCodec)({byteLength:e,pack:t=>j4(t),unpack:t=>F4(t)})}const i1=Et.Bytes=sg({pack:j4,unpack:F4}),Mz=Et.BytesOpt=qh(i1),wT=Et.BytesVec=Yo(i1);Et.BytesOptVec=Yo(Mz);const Tf=Et.Byte32=$4(32),Rz=Et.Byte32Vec=Yo(Tf);function AT(e){return Qo({lock:qh(sg(e.lock)),inputType:qh(sg(e.inputType)),outputType:qh(sg(e.outputType))},["lock","inputType","outputType"])}const g_=(0,Rr.createBytesCodec)({pack:j4,unpack:F4});Qg=Et.WitnessArgs=AT({lock:g_,inputType:g_,outputType:g_});const Lz=Et.HashType=(0,Rr.createFixedBytesCodec)({byteLength:1,pack:e=>{if(e==="type")return Rr.number.Uint8.pack(1);if(e==="data")return Rr.number.Uint8.pack(0);if(e==="data1")return Rr.number.Uint8.pack(2);if(e==="data2")return Rr.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${e}`)},unpack:e=>{const t=Rr.number.Uint8.unpack(e);if(t===1)return"type";if(t===0)return"data";if(t===2)return"data1";if(t===4)return"data2";throw new Error(`Invalid hash type: ${t}`)}}),Hz=Et.DepType=(0,Rr.createFixedBytesCodec)({byteLength:1,pack:e=>{if(e==="code")return B9.pack(0);if(e==="depGroup")return B9.pack(1);throw new Error(`Invalid dep type: ${e}`)},unpack:e=>{const t=Rr.number.Uint8.unpack(e);if(t===0)return"code";if(t===1)return"depGroup";throw new Error(`Invalid dep type: ${t}`)}}),q4=Et.Script=Qo({codeHash:Tf,hashType:Lz,args:i1},["codeHash","hashType","args"]),Pz=Et.ScriptOpt=qh(q4),ET=k4=Et.OutPoint=n1({txHash:Tf,index:Yg},["txHash","index"]),Nz=Et.CellInput=n1({since:$h,previousOutput:ET},["since","previousOutput"]),Uz=Et.CellInputVec=Yo(Nz),kz=Et.CellOutput=Qo({capacity:$h,lock:q4,type:Pz},["capacity","lock","type"]),zz=Et.CellOutputVec=Yo(kz),jz=Et.CellDep=n1({outPoint:ET,depType:Hz},["outPoint","depType"]),Fz=Et.CellDepVec=Yo(jz),$z=Et.RawTransaction=Qo({version:Yg,cellDeps:Fz,headerDeps:Rz,inputs:Uz,outputs:zz,outputsData:wT},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),O9=Qo({raw:$z,witnesses:wT},["raw","witnesses"]),qz=z4=Et.Transaction=(0,Rr.createBytesCodec)({pack:e=>O9.pack(CT(e)),unpack:e=>IT(O9.unpack(e))}),xT=Et.TransactionVec=Yo(qz),Kz=Et.RawHeader=n1({version:Yg,compactTarget:Yg,timestamp:$h,number:$h,epoch:$h,parentHash:Tf,transactionsRoot:Tf,proposalsHash:Tf,extraHash:Tf,dao:Tf},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),D9=Et.BaseHeader=n1({raw:Kz,nonce:Dz},["raw","nonce"]),K4=Et.Header=(0,Rr.createBytesCodec)({pack:e=>D9.pack(TT(e)),unpack:e=>BT(D9.unpack(e))}),Qz=Et.ProposalShortId=$4(10),Q4=Et.ProposalShortIdVec=Yo(Qz),Yz=Et.UncleBlock=Qo({header:K4,proposals:Q4},["header","proposals"]),ST=Et.UncleBlockVec=Yo(Yz);Et.Block=Qo({header:K4,uncles:ST,transactions:xT,proposals:Q4},["header","uncles","transactions","proposals"]);Et.BlockV1=Qo({header:K4,uncles:ST,transactions:xT,proposals:Q4,extension:i1},["header","uncles","transactions","proposals","extension"]);Et.CellbaseWitness=Qo({lock:q4,message:i1},["lock","message"]);function CT(e){return{raw:{version:e.version,cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData},witnesses:e.witnesses}}function IT(e){return{cellDeps:e.raw.cellDeps.map(t=>({outPoint:{txHash:t.outPoint.txHash,index:t.outPoint.index},depType:t.depType})),headerDeps:e.raw.headerDeps,inputs:e.raw.inputs.map(t=>({previousOutput:{txHash:t.previousOutput.txHash,index:t.previousOutput.index},since:t.since})),outputs:e.raw.outputs.map(t=>({capacity:t.capacity,lock:t.lock,type:t.type})),outputsData:e.raw.outputsData,version:e.raw.version,witnesses:e.witnesses}}function TT(e){return{raw:{timestamp:e.timestamp,number:e.number,epoch:e.epoch,compactTarget:Number(e.compactTarget),dao:e.dao,parentHash:e.parentHash,proposalsHash:e.proposalsHash,transactionsRoot:e.transactionsRoot,extraHash:e.extraHash,version:e.version},nonce:e.nonce}}function BT(e){return{timestamp:e.raw.timestamp,number:e.raw.number,epoch:e.raw.epoch,compactTarget:e.raw.compactTarget,dao:e.raw.dao,parentHash:e.raw.parentHash,proposalsHash:e.raw.proposalsHash,transactionsRoot:e.raw.transactionsRoot,extraHash:e.raw.extraHash,version:e.raw.version,nonce:e.nonce,hash:""}}Object.defineProperty(xe,"__esModule",{value:!0});xe.CKBHasher=void 0;xe.assertHexString=cj;xe.assertHexadecimal=PT;xe.ckbHash=G4;xe.ckbHash160=rj;var Vz=xe.computeScriptHash=nj;xe.deepCamel=Vg;xe.deepCamelizeTransaction=pj;xe.generateTypeIdScript=hj;xe.hashCode=ij;xe.isDeepEqual=uj;xe.readBigUInt128LE=fj;xe.readBigUInt128LECompatible=HT;xe.readBigUInt64LE=sj;xe.readBigUInt64LECompatible=RT;xe.toBigUInt128LE=oj;xe.toBigUInt128LECompatible=LT;xe.toBigUInt64LE=aj;xe.toBigUInt64LECompatible=MT;var Gz=DT(Tz),Wz=DT(Bz),Xz=N4,hd=ae,Y4=Zz(Et),Jy=Wd;function OT(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(OT=function(n){return n?r:t})(e)}function Zz(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=OT(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function DT(e){return e&&e.__esModule?e:{default:e}}const{bytify:Jz,hexify:tj,bytifyRawString:ej}=hd.bytes;let V4=class{constructor(t={}){const{outLength:r=32}=t;this.outLength=r,this.hasher=(0,Gz.default)(r,void 0,void 0,ej("ckb-default-hash"))}update(t){return this.hasher.update(Jz(t)),this}digestHex(){const t=new Uint8Array(this.outLength);return this.hasher.digest(t),tj(t.buffer)}};xe.CKBHasher=V4;function G4(e){const t=new V4;return t.update(hd.bytes.bytify(e)),t.digestHex()}function rj(e){return G4(e).slice(0,42)}function nj(e){return G4(Y4.Script.pack(e))}function ij(e){return(0,Xz.xxHash32)(e,0)}function aj(e){return MT(e)}function MT(e){return hd.bytes.hexify(Jy.Uint64LE.pack(e))}function sj(e){return RT(e).toBigInt()}function RT(e){return Jy.Uint64LE.unpack(e)}function oj(e){return LT(e)}function LT(e){return hd.bytes.hexify(Jy.Uint128LE.pack(e))}function fj(e){return HT(e).toBigInt()}function HT(e){return Jy.Uint128LE.unpack(e)}function cj(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function PT(e,t){if(!/^0x(0|[0-9a-fA-F]+)$/.test(t))throw new Error(`${e} must be a hexadecimal!`)}function uj(e,t){return(0,Wz.default)(e,t)}const lj="0x00000000000000000000000000000000000000000000000000545950455f4944";function dj(e,t){const r=Y4.CellInput.pack(e),n=hd.bytes.hexify(hd.number.Uint64LE.pack(t)),i=new V4;return i.update(r),i.update(n),i.digestHex()}function hj(e,t="0x0"){Y4.CellInput.pack(e),PT("outputIndex",t);const r=dj(e,t);return{codeHash:lj,hashType:"type",args:r}}function M9(e){return e.replace(/([-_][a-z])/gi,t=>t.toUpperCase().replace("-","").replace("_",""))}function Vg(e){if(Object.prototype.toString.call(e)==="[object Array]")return e.length===0?e:e.map(r=>Vg(r));const t={};if(Object.prototype.toString.call(e)==="[object Object]"){for(const r in e){const n=e[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?t[M9(r)]=Vg(n):t[M9(r)]=n}return t}return e}function U3(e){if(Object.prototype.toString.call(e)==="[object Array]")return e.length===0?e:e.map(r=>U3(r));const t={};if(Object.prototype.toString.call(e)==="[object Object]"){for(const r in e){const n=e[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?t[r]=U3(n):t[r]=n==="dep_group"?"depGroup":n}return t}return e}function pj(e){return U3(Vg(e))}Object.defineProperty(Qa,"__esModule",{value:!0});Qa.TransactionValue=Qa.ScriptValue=Qa.RawTransactionValue=Qa.OutPointValue=void 0;var bj=N4,gj=xe,yj=ae,t2=vj(Et);function NT(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(NT=function(n){return n?r:t})(e)}function vj(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=NT(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}const{hexify:R9}=yj.bytes;class e2{constructor(t){this.buffer=t}equals(t){return R9(this.buffer)===R9(t.buffer)}hashCode(){return(0,bj.xxHash32)(Buffer.from(this.buffer),0)}hash(){return(0,gj.ckbHash)(this.buffer)}}let _j=class extends e2{constructor(t,r={}){super(t2.Script.pack(t))}};Qa.ScriptValue=_j;class mj extends e2{constructor(t,r={}){super(t2.OutPoint.pack(t))}}Qa.OutPointValue=mj;class wj extends e2{constructor(t,r={}){super(t2.RawTransaction.pack(t))}}Qa.RawTransactionValue=wj;class Aj extends e2{constructor(t,r={}){super(t2.Transaction.pack(t))}}Qa.TransactionValue=Aj;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.generateAbsoluteEpochSince=kT;var Ej=Di.generateHeaderEpoch=zT;Di.generateSince=UT;Di.maximumAbsoluteEpochSince=Sj;var wp=Di.parseAbsoluteEpochSince=jT,a1=Di.parseEpoch=Gg;Di.parseSince=xj;Di.parseSinceCompatible=s1;Di.validateAbsoluteEpochSince=FT;Di.validateSince=Cj;var Jt=me;function xj(e){const t=s1(e);return t.type==="epochNumber"?t:{...t,value:t.value.toBigInt()}}function s1(e){const t=Jt.BI.from(e),r=t.shr(56),n=r.shr(5).and("0b11");let i,a;if(n.eq(0))i="blockNumber",a=t.and("0xFFFFFFFFFFFFFF");else if(n.eq(1))i="epochNumber",a={length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()};else if(n.eq(2))i="blockTimestamp",a=t.and("0xFFFFFFFFFFFFFF");else throw new Error("Invalid metric flag!");return{relative:!r.and("0x80").eq(0),type:i,value:a}}function UT({relative:e,type:t,value:r}){let n=Jt.BI.from(0);e&&(n=n.add(128)),t==="epochNumber"?n=n.add(32):t==="blockTimestamp"&&(n=n.add(64));let i;return(0,Jt.isBIish)(r)?i=Jt.BI.from(r):typeof r=="object"?i=zT(r):i=Jt.BI.from(r),$T(n.shl(56).add(i))}function Gg(e){const t=Jt.BI.from(e);return{length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()}}function Sj(...e){const t=e.map(a=>jT(a)),r=Math.max(...t.map(a=>a.number)),n=t.filter(a=>a.number===r);let i=n[0];for(let a=1;a<n.length;++a){const s=n[a];Jt.BI.from(s.index).mul(i.length).gte(Jt.BI.from(i.index).mul(s.length))&&(i=s)}return kT(i)}function kT({length:e,index:t,number:r}){return UT({relative:!1,type:"epochNumber",value:{length:e,index:t,number:r}})}function zT({length:e,index:t,number:r}){return $T(Jt.BI.from(e).shl(40).add(Jt.BI.from(t).shl(24)).add(r))}function jT(e){const{relative:t,type:r,value:n}=s1(e);if(!(t===!1&&r==="epochNumber"))throw new Error("Since format error!");return n}function FT(e,t){const r=s1(e).value,n=Gg(t);return Jt.BI.from(r.number).lt(n.number)||Jt.BI.from(r.number).eq(n.number)&&Jt.BI.from(r.index).mul(n.length).lte(Jt.BI.from(n.index).mul(r.length))}function Cj(e,t,r){const{relative:n,type:i,value:a}=s1(e);if(n){if(i==="epochNumber"){const s=Gg(t.epoch),o=Gg(r.epoch),f={number:Jt.BI.from(a.number).add(o.number),index:Jt.BI.from(a.index).mul(o.length).add(Jt.BI.from(o.index).mul(a.length)),length:Jt.BI.from(a.length).mul(o.length)};return a.length===0&&o.length!==0?(f.index=Jt.BI.from(o.index),f.length=Jt.BI.from(o.length)):o.length===0&&a.length!==0&&(f.index=Jt.BI.from(a.index),f.length=Jt.BI.from(a.length)),!Jt.BI.from(f.length).eq(0)&&Jt.BI.from(f.index).gte(f.length)&&(f.number=f.index.div(f.length).add(f.number),f.index=f.index.mod(f.length)),Jt.BI.from(f.number).lt(s.number)||Jt.BI.from(f.number).eq(s.number)&&Jt.BI.from(f.index).mul(s.length).lte(Jt.BI.from(s.index).mul(f.length))}if(i==="blockNumber")return Jt.BI.from(a).add(r.blockNumber).lte(t.blockNumber);if(i==="blockTimestamp"){if(!t.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return Jt.BI.from(a).mul(1e3).add(r.median_timestamp).lte(t.median_timestamp)}}else{if(i==="epochNumber")return FT(e,t.epoch);if(i==="blockNumber")return Jt.BI.from(a).lte(t.blockNumber);if(i==="blockTimestamp"){if(!t.median_timestamp)throw new Error("Must provide tip median_timestamp!");return Jt.BI.from(a).mul(1e3).lte(t.median_timestamp)}}return!1}function $T(e){return"0x"+e.toString(16)}var o1={};Object.defineProperty(o1,"__esModule",{value:!0});o1.isCellMatchQueryOptions=Ij;o1.isScriptWrapper=og;var Sb=Qa,Cb=me;function og(e){return e!==null&&e.script!==void 0}function Ij(e,{lock:t=void 0,type:r=void 0,argsLen:n=-1,data:i="any",fromBlock:a=void 0,toBlock:s=void 0}){let o=null,f=null;if(t&&!og(t)?o={script:t,argsLen:n}:t&&(o=t,t.argsLen||(o.argsLen=n)),r&&r==="empty"?f=r:r&&typeof r=="object"&&!og(r)?f={script:r,argsLen:n}:r&&typeof r=="object"&&og(r)&&(f=r,r.argsLen||(f.argsLen=n)),o&&o.script&&o.argsLen===-1&&!new Sb.ScriptValue(e.cellOutput.lock,{validate:!1}).equals(new Sb.ScriptValue(o.script,{validate:!1})))return!1;if(o&&o.script&&o.argsLen==="any"){const c=e.cellOutput.lock;if(c.codeHash!==o.script.codeHash||c.hashType!==o.script.hashType||!c.args.startsWith(o.script.args))return!1}if(o&&o.script&&typeof o.argsLen=="number"&&o.argsLen>=0){const c=o.argsLen*2+2,u=o.script.args.length,l=Math.min(c,u),h=e.cellOutput.lock;if(h.args.length!==c||!(h.codeHash===o.script.codeHash&&h.hashType===o.script.hashType&&h.args.slice(0,l)===o.script.args.slice(0,l)))return!1}return!(f&&f==="empty"&&e.cellOutput.type||f&&typeof f=="object"&&(!e.cellOutput.type||!new Sb.ScriptValue(e.cellOutput.type,{validate:!1}).equals(new Sb.ScriptValue(f.script,{validate:!1})))||i&&i!=="any"&&e.data!==i||a&&e.blockNumber&&Cb.BI.from(e.blockNumber).lt(Cb.BI.from(a))||s&&e.blockNumber&&Cb.BI.from(e.blockNumber).gt(Cb.BI.from(s)))}var Gf={},W4={},f1={};Object.defineProperty(f1,"__esModule",{value:!0});f1.Reader=void 0;class c1{constructor(){this.__isByteLikeReader__=!0}static isReader(t){return t==null?!1:t instanceof c1?!0:t.__isByteLikeReader__===!0}}class Ib extends c1{constructor(t){super(),this.view=new DataView(t)}length(){return this.view.byteLength}indexAt(t){return this.view.getUint8(t)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),t=>("00"+t.toString(16)).slice(-2)).join("")}}class L9 extends c1{constructor(t){super(),this.string=t}length(){return this.string.length/2-1}indexAt(t){return parseInt(this.string.substr(2+t*2,2),16)}toArrayBuffer(){const t=new ArrayBuffer(this.length()),r=new DataView(t);for(let n=0;n<this.length();n++)r.setUint8(n,this.indexAt(n));return t}serializeJson(){return this.string}}class X4 extends c1{constructor(t){if(super(),t instanceof L9||t instanceof Ib)return t;if(typeof t=="string"){if(!t.startsWith("0x")||t.length%2!==0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new L9(t)}if(t instanceof ArrayBuffer)return new Ib(t);if(t instanceof Uint8Array)return new Ib(Uint8Array.from(t).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(t){return new X4(t)}static fromRawString(t){const r=new ArrayBuffer(t.length),n=new DataView(r);for(let i=0;i<t.length;i++){const a=t.charCodeAt(i);if(a>255)throw new Error("fromRawString can only accept UTF-8 raw string!");n.setUint8(i,a)}return new Ib(r)}}f1.Reader=X4;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.NormalizeBlock=Oj;Xn.NormalizeCellDep=QT;Xn.NormalizeCellInput=qT;Xn.NormalizeCellOutput=KT;Xn.NormalizeCellbaseWitness=Dj;Xn.NormalizeHeader=J4;Xn.NormalizeOutPoint=Z4;Xn.NormalizeRawHeader=GT;Xn.NormalizeRawTransaction=YT;Xn.NormalizeScript=Wg;Xn.NormalizeTransaction=VT;Xn.NormalizeUncleBlock=WT;Xn.NormalizeWitnessArgs=Mj;var Tj=me,Bj=f1;function As(e){return function(t,r){if(!(r instanceof ArrayBuffer)){let n=Tj.BI.from(r).toString(16);if(n.length%2!==0&&(n="0"+n),n.length/2>e)throw new Error(`${t} is ${n.length/2} bytes long, expected length is ${e}!`);const i=new DataView(new ArrayBuffer(e));for(let a=0;a<n.length/2;a++){const s=n.length-(a+1)*2;i.setUint8(a,parseInt(n.substr(s,2),16))}r=i.buffer}if(r.byteLength<e){const n=new Uint8Array(e);n.set(new Uint8Array(r),0),r=n.buffer}return r}}function Xr(e){return function(t,r){if(r=new Bj.Reader(r).toArrayBuffer(),e>0&&r.byteLength!==e)throw new Error(`${t} has invalid length ${r.byteLength}, required: ${e}`);return r}}function Ea(e,t,r){const n={};for(const[i,a]of Object.entries(r)){const s=t[i];if(s==null)throw new Error(`${e} is missing ${i}!`);n[i]=a(`${e}.${i}`,s)}return n}function Wg(e,{debugPath:t="script"}={}){return Ea(t,e,{codeHash:Xr(32),hashType:function(r,n){switch(n){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:return n;case 1:return n;case 2:return n;case 4:return n;default:throw new Error(`${r}.hashType has invalid value: ${n}`)}},args:Xr(-1)})}function Z4(e,{debugPath:t="outPoint"}={}){return Ea(t,e,{txHash:Xr(32),index:As(4)})}function Za(e){return function(t,r){return e(r,{debugPath:t})}}function qT(e,{debugPath:t="cell_input"}={}){return Ea(t,e,{since:As(8),previousOutput:Za(Z4)})}function KT(e,{debugPath:t="cellOutput"}={}){const r=Ea(t,e,{capacity:As(8),lock:Za(Wg)});return e.type&&(r.type_=Wg(e.type,{debugPath:`${t}.type`})),r}function QT(e,{debugPath:t="cell_dep"}={}){return Ea(t,e,{outPoint:Za(Z4),depType:function(r,n){switch(n){case"code":return 0;case"depGroup":return 1;case 0:return n;case 1:return n;default:throw new Error(`${r}.depType has invalid value: ${n}`)}}})}function Es(e){return function(t,r){return r.map((n,i)=>e(`${t}[${i}]`,n))}}function YT(e,{debugPath:t="raw_transaction"}={}){return Ea(t,e,{version:As(4),cellDeps:Es(Za(QT)),headerDeps:Es(Xr(32)),inputs:Es(Za(qT)),outputs:Es(Za(KT)),outputsData:Es(Xr(-1))})}function VT(e,{debugPath:t="transaction"}={}){const r=YT(e,{debugPath:`(raw)${t}`}),n=Ea(t,e,{witnesses:Es(Xr(-1))});return n.raw=r,n}function GT(e,{debugPath:t="raw_header"}={}){return Ea(t,e,{version:As(4),compactTarget:As(4),timestamp:As(8),number:As(8),epoch:As(8),parentHash:Xr(32),transactionsRoot:Xr(32),proposalsHash:Xr(32),extraHash:Xr(32),dao:Xr(32)})}function J4(e,{debugPath:t="header"}={}){const r=GT(e,{debugPath:`(raw)${t}`}),n=Ea(t,e,{nonce:As(16)});return n.raw=r,n}function WT(e,{debugPath:t="uncle_block"}={}){return Ea(t,e,{header:Za(J4),proposals:Es(Xr(10))})}function Oj(e,{debugPath:t="block"}={}){return Ea(t,e,{header:Za(J4),uncles:Es(Za(WT)),transactions:Es(Za(VT)),proposals:Es(Xr(10))})}function Dj(e,{debugPath:t="cellbase_witness"}={}){return Ea(t,e,{lock:Za(Wg),message:Xr(-1)})}function Mj(e,{debugPath:t="witness_args"}={}){const r={};return e.lock&&(r.lock=Xr(-1)(`${t}.lock`,e.lock)),e.inputType&&(r.inputType=Xr(-1)(`${t}.inputType`,e.inputType)),e.outputType&&(r.outputType=Xr(-1)(`${t}.outputType`,e.outputType)),r}var ci={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.ValidateBlock=Nj;Bn.ValidateCellDep=JT;Bn.ValidateCellInput=XT;Bn.ValidateCellOutput=ZT;Bn.ValidateCellbaseWitness=Uj;Bn.ValidateHeader=e8;Bn.ValidateOutPoint=t8;Bn.ValidateRawHeader=Pj;Bn.ValidateRawTransaction=Lj;Bn.ValidateScript=Xg;Bn.ValidateTransaction=eB;Bn.ValidateUncleBlock=nB;Bn.ValidateWitnessArgs=kj;function Rj(e,t){if(!(t instanceof Object))throw new Error(`${e} is not an object!`)}function Mi(e,t,r,n=[]){Rj(e,t);const i=Object.keys(t).sort(),a=r.length,s=r.length+n.length,o=`${e} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<a||i.length>s)throw new Error(o);let f=i.filter(c=>!r.includes(c));if(i.length-f.length!==a)throw new Error(o);if(f.find(c=>!n.includes(c)))throw new Error(o)}function Ms(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function Bf(e,t){if(Ms(e,t),t.length!==66)throw new Error(`${e} must be a hex string of 66 bytes long!`)}function ho(e,t){if(t!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function Xg(e,{nestedValidation:t=!0,debugPath:r="script"}={}){if(Mi(r,e,["codeHash","hashType","args"],[]),Bf(`${r}.codeHash`,e.codeHash),Ms(`${r}.args`,e.args),e.hashType!=="data"&&e.hashType!=="type"&&e.hashType!=="data1"&&e.hashType!=="data2")throw new Error(`${r}.hashType must be either data or type!`)}function t8(e,{nestedValidation:t=!0,debugPath:r="outPoint"}={}){Mi(r,e,["txHash","index"],[]),Bf(`${r}.txHash`,e.txHash),ho(`${r}.index`,e.index)}function XT(e,{nestedValidation:t=!0,debugPath:r="cellInput"}={}){Mi(r,e,["since","previousOutput"],[]),ho(`${r}.since`,e.since),t&&t8(e.previousOutput,{debugPath:`${r}.previousOutput`})}function ZT(e,{nestedValidation:t=!0,debugPath:r="cellOutput"}={}){Mi(r,e,["capacity","lock"],["type"]),ho(`${r}.capacity`,e.capacity),t&&(Xg(e.lock,{debugPath:`${r}.lock`}),e.type&&Xg(e.type,{debugPath:`${r}.type`}))}function JT(e,{nestedValidation:t=!0,debugPath:r="cellDep"}={}){if(Mi(r,e,["outPoint","depType"],[]),e.depType!=="code"&&e.depType!=="depGroup")throw new Error(`${r}.depType must be either code or depGroup!`);t&&t8(e.outPoint,{debugPath:`${r}.outPoint`})}function xs(e,t,r,n){if(!Array.isArray(t))throw new Error(`${e} is not an array!`);if(n)for(let i=0;i<t.length;i++)r(`${e}[${i}]`,t[i])}function Kh(e,t){return function(r,n){e(n,{nestedValidation:t,debugPath:r})}}function tB(e,t,r){ho(`${e}.version`,t.version),xs(`${e}.cellDeps`,t.cellDeps,Kh(JT,r),r),xs(`${e}.headerDeps`,t.headerDeps,Bf,r),xs(`${e}.inputs`,t.inputs,Kh(XT,r),r),xs(`${e}.outputs`,t.outputs,Kh(ZT,r),r),xs(`${e}.outputsData`,t.outputsData,Ms,r)}function Lj(e,{nestedValidation:t=!0,debugPath:r="rawTransaction"}={}){Mi(r,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),tB(r,e,t)}function eB(e,{nestedValidation:t=!0,debugPath:r="transaction"}={}){Mi(r,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),tB(r,e,t),xs(`${r}.witnesses`,e.witnesses,Ms,t)}function Hj(e,t){ho(`${e}.version`,t.version),ho(`${e}.compactTarget`,t.compactTarget),ho(`${e}.timestamp`,t.timestamp),ho(`${e}.number`,t.number),ho(`${e}.epoch`,t.epoch),Bf(`${e}.parentHash`,t.parentHash),Bf(`${e}.transactionsRoot`,t.transactionsRoot),Bf(`${e}.proposalsHash`,t.proposalsHash),Bf(`${e}.extraHash`,t.extraHash),Bf(`${e}.dao`,t.dao)}function Pj(e,{nestedValidation:t=!0,debugPath:r="rawHeader"}={}){Mi(r,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),Hj(r,e)}function e8(e,{nestedValidation:t=!0,debugPath:r="header"}={}){if(Mi(r,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),Ms(`${r}.nonce`,e.nonce),e.nonce.length!==34)throw new Error(`${r}.nonce must be a hex string of 34 bytes long!`)}function rB(e,t){if(Ms(e,t),t.length!==22)throw new Error(`${e} must be a hex string of 22 bytes long!`)}function nB(e,{nestedValidation:t=!0,debugPath:r="uncleBlock"}={}){Mi(r,e,["header","proposals"],[]),t&&e8(e.header,{debugPath:`${r}.header`}),xs(`${r}.proposals`,e.proposals,rB,t)}function Nj(e,{nestedValidation:t=!0,debugPath:r="block"}={}){Mi(r,e,["header","uncles","transactions","proposals"],[]),t&&e8(e.header,{debugPath:`${r}.header`}),xs(`${r}.uncles`,e.uncles,Kh(nB,t),t),xs(`${r}.transactions`,e.transactions,Kh(eB,t),t),xs(`${r}.proposals`,e.proposals,rB,t)}function Uj(e,{nestedValidation:t=!0,debugPath:r="cellbaseWitness"}={}){Mi(r,e,["lock","message"],[]),Ms(`${r}.message`,e.message),t&&Xg(e.lock,{debugPath:`${r}.lock`})}function kj(e,{nestedValidation:t=!0,debugPath:r="witnessArgs"}={}){Mi(r,e,[],["lock","inputType","outputType"]),e.lock&&Ms(`${r}.lock`,e.lock),e.inputType&&Ms(`${r}.inputType`,e.inputType),e.outputType&&Ms(`${r}.outputType`,e.outputType)}Object.defineProperty(ci,"__esModule",{value:!0});ci.TransformBlock=$j;ci.TransformCellInput=n8;ci.TransformCellOutput=i8;ci.TransformCellbaseWitness=qj;ci.TransformHeader=a8;ci.TransformOutPoint=r8;ci.TransformRawHeader=Fj;ci.TransformRawTransaction=jj;ci.TransformScript=Zg;ci.TransformTransaction=sB;ci.TransformUncleBlock=oB;ci.TransformWitnessArgs=Kj;var Ri=zj(Bn);function iB(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(iB=function(n){return n?r:t})(e)}function zj(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=iB(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}function Nt(e,t){return t instanceof Object&&t.serializeJson instanceof Function?t.serializeJson.call(t):t}function Li(e,t,r){if(t=Nt(e,t),!(t instanceof Object))throw new Error(`Transformed ${e} is not an object!`);const n={};for(const[i,a]of Object.entries(r)){let s=t[i];if(!s){const o=i.replace(/(_[a-z])/g,f=>f.toUpperCase().replace("_",""));s=t[o]}s&&(n[i]=a(`${e}.${i}`,s))}return n}function Zg(e,{validation:t=!0,debugPath:r="script"}={}){return e=Li(r,e,{codeHash:Nt,hashType:Nt,args:Nt}),t&&Ri.ValidateScript(e,{debugPath:`(transformed) ${r}`}),e}function r8(e,{validation:t=!0,debugPath:r="outPoint"}={}){return e=Li(r,e,{txHash:Nt,index:Nt}),t&&Ri.ValidateOutPoint(e,{debugPath:`(transformed) ${r}`}),e}function Kn(e){return function(t,r){return e(r,{validation:!1,debugPath:t})}}function n8(e,{validation:t=!0,debugPath:r="cell_input"}={}){return e=Li(r,e,{since:Nt,previousOutput:Kn(r8)}),t&&Ri.ValidateCellInput(e,{debugPath:`(transformed) ${r}`}),e}function i8(e,{validation:t=!0,debugPath:r="cellOutput"}={}){return e=Li(r,e,{capacity:Nt,lock:Kn(Zg),type:Kn(Zg)}),t&&Ri.ValidateCellOutput(e,{debugPath:`(transformed) ${r}`}),e}function aB(e,{validation:t=!0,debugPath:r="cell_dep"}={}){return e=Li(r,e,{outPoint:Kn(r8),depType:Nt}),t&&Ri.ValidateCellDep(e,{debugPath:`(transformed) ${r}`}),e}function Un(e){return function(t,r){return r.map((n,i)=>e(`${t}[${i}]`,n))}}function jj(e,{validation:t=!0,debugPath:r="raw_transaction"}={}){return e=Li(r,e,{version:Nt,cellDeps:Un(Kn(aB)),headerDeps:Un(Nt),inputs:Un(Kn(n8)),outputs:Un(Kn(i8)),outputsData:Un(Nt)}),t&&Ri.ValidateRawTransaction(e,{debugPath:`(transformed) ${r}`}),e}function sB(e,{validation:t=!0,debugPath:r="transaction"}={}){return e=Li(r,e,{version:Nt,cellDeps:Un(Kn(aB)),headerDeps:Un(Nt),inputs:Un(Kn(n8)),outputs:Un(Kn(i8)),outputsData:Un(Nt),witnesses:Un(Nt)}),t&&Ri.ValidateTransaction(e,{debugPath:`(transformed) ${r}`}),e}function Fj(e,{validation:t=!0,debugPath:r="raw_header"}={}){return e=Li(r,e,{version:Nt,compactTarget:Nt,timestamp:Nt,number:Nt,epoch:Nt,parentHash:Nt,transactionsRoot:Nt,proposalsHash:Nt,extraHash:Nt,dao:Nt}),t&&Ri.ValidateRawHeader(e,{debugPath:`(transformed) ${r}`}),e}function a8(e,{validation:t=!0,debugPath:r="header"}={}){return e=Li(r,e,{version:Nt,compactTarget:Nt,timestamp:Nt,number:Nt,epoch:Nt,parentHash:Nt,transactionsRoot:Nt,proposalsHash:Nt,extraHash:Nt,dao:Nt,nonce:Nt}),t&&Ri.ValidateHeader(e,{debugPath:`(transformed) ${r}`}),e}function oB(e,{validation:t=!0,debugPath:r="uncle_block"}={}){return e=Li(r,e,{header:Kn(a8),proposals:Un(Nt)}),t&&Ri.ValidateUncleBlock(e,{debugPath:`(transformed) ${r}`}),e}function $j(e,{validation:t=!0,debugPath:r="block"}={}){return e=Li(r,e,{header:Kn(a8),uncles:Un(Kn(oB)),transactions:Un(Kn(sB)),proposals:Un(Nt)}),t&&Ri.ValidateBlock(e,{debugPath:`(transformed) ${r}`}),e}function qj(e,{validation:t=!0,debugPath:r="cellbase_witness"}={}){return e=Li(r,e,{lock:Kn(Zg),message:Nt}),t&&Ri.ValidateCellbaseWitness(e,{debugPath:`(transformed) ${r}`}),e}function Kj(e,{validation:t=!0,debugPath:r="witness_args"}={}){return e=Li(r,e,{lock:Nt,inputType:Nt,outputType:Nt}),t&&Ri.ValidateWitnessArgs(e,{debugPath:`(transformed) ${r}`}),e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Reader",{enumerable:!0,get:function(){return t.Reader}}),e.validators=e.transformers=e.normalizers=e.VERSION=void 0;var t=f1,r=s(Xn);e.normalizers=r;var n=s(ci);e.transformers=n;var i=s(Bn);e.validators=i;function a(o){if(typeof WeakMap!="function")return null;var f=new WeakMap,c=new WeakMap;return(a=function(u){return u?c:f})(o)}function s(o,f){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var c=a(f);if(c&&c.has(o))return c.get(o);var u={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&{}.hasOwnProperty.call(o,h)){var g=l?Object.getOwnPropertyDescriptor(o,h):null;g&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=o[h]}return u.default=o,c&&c.set(o,u),u}e.VERSION="__development_build__"})(W4);Object.defineProperty(Gf,"__esModule",{value:!0});Gf.default=Gf.TransactionCollector=Gf.Indexer=void 0;var Tb=W4,H9=xe,P9=o1;class Qj{}Gf.Indexer=Qj;class fB{constructor(t,{lock:r,type:n,argsLen:i=-1,fromBlock:a,toBlock:s,order:o="asc",skip:f}={},{skipMissing:c=!1,includeStatus:u=!0}={}){if(!r&&(!n||n==="empty"))throw new Error("Either lock or type script must be provided!");if(r&&!(0,P9.isScriptWrapper)(r)?(Tb.validators.ValidateScript(r),this.lock={script:r,ioType:"both",argsLen:i}):r&&r.script&&(Tb.validators.ValidateScript(r.script),this.lock=r,r.argsLen||(this.lock.argsLen=i),r.ioType||(this.lock.ioType="both")),n==="empty"?this.type=n:n&&!(0,P9.isScriptWrapper)(n)?(Tb.validators.ValidateScript(n),this.type={script:n,ioType:"both",argsLen:i}):n&&n.script&&(Tb.validators.ValidateScript(n.script),this.type=n,n.argsLen||(this.type.argsLen=i),n.ioType||(this.type.ioType="both")),a&&(0,H9.assertHexadecimal)("fromBlock",a),s&&(0,H9.assertHexadecimal)("toBlock",s),o!=="asc"&&o!=="desc")throw new Error("Order must be either asc or desc!");this.indexer=t,this.skipMissing=c,this.includeStatus=u,this.fromBlock=a,this.toBlock=s,this.order=o,this.skip=f,this.rpc=t.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const t=await this.getTransactionHashes();for(const r of t){const n=await this.rpc.get_transaction(r);if(!this.skipMissing&&!n)throw new Error(`Transaction ${r} is missing!`);this.includeStatus?yield n:yield n.transaction}}}Gf.TransactionCollector=fB;const Yj={TransactionCollector:fB};Gf.default=Yj;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});r2.defaultLogger=cB;r2.deprecated=Vj;function cB(e,t){const r=`[${e}] ${t}`;if(e==="error"||e==="warn")return console.warn(r);console.log(`[${e}] ${t}`)}function Vj(e){cB("deprecated",e)}var uB={};Object.defineProperty(uB,"__esModule",{value:!0});var lB={};Object.defineProperty(lB,"__esModule",{value:!0});(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};e.values=e.utils=e.since=e.logger=e.indexer=e.helpers=e.blockchain=void 0;var r=h(Qa);e.values=r;var n=h(xe);e.utils=n;var i=h(Di);e.since=i;var a=h(o1);e.helpers=a;var s=h(Gf);e.indexer=s,Object.keys(s).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(t,g)||g in e&&e[g]===s[g]||Object.defineProperty(e,g,{enumerable:!0,get:function(){return s[g]}})});var o=h(r2);e.logger=o;var f=h(Et);e.blockchain=f;var c=uB;Object.keys(c).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(t,g)||g in e&&e[g]===c[g]||Object.defineProperty(e,g,{enumerable:!0,get:function(){return c[g]}})});var u=lB;Object.keys(u).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(t,g)||g in e&&e[g]===u[g]||Object.defineProperty(e,g,{enumerable:!0,get:function(){return u[g]}})});function l(g){if(typeof WeakMap!="function")return null;var m=new WeakMap,A=new WeakMap;return(l=function(S){return S?A:m})(g)}function h(g,m){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var A=l(m);if(A&&A.has(g))return A.get(g);var S={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in g)if(C!=="default"&&{}.hasOwnProperty.call(g,C)){var B=w?Object.getOwnPropertyDescriptor(g,C):null;B&&(B.get||B.set)?Object.defineProperty(S,C,B):S[C]=g[C]}return S.default=g,A&&A.set(g,S),S}})(xr);var ac={};Object.defineProperty(ac,"__esModule",{value:!0});var Ap=ac.bech32m=yu=ac.bech32=void 0;const Jg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",dB={};for(let e=0;e<Jg.length;e++){const t=Jg.charAt(e);dB[t]=e}function Ll(e){const t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function N9(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=Ll(t)^n>>5}t=Ll(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=Ll(t)^n&31}return t}function s8(e,t,r,n){let i=0,a=0;const s=(1<<r)-1,o=[];for(let f=0;f<e.length;++f)for(i=i<<t|e[f],a+=t;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=t)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function Gj(e){return s8(e,8,5,!0)}function Wj(e){const t=s8(e,5,8,!1);if(Array.isArray(t))return t}function Xj(e){const t=s8(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function hB(e){let t;e==="bech32"?t=1:t=734539939;function r(s,o,f){if(f=f||90,s.length+7+o.length>f)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let c=N9(s);if(typeof c=="string")throw new Error(c);let u=s+"1";for(let l=0;l<o.length;++l){const h=o[l];if(h>>5)throw new Error("Non 5-bit word");c=Ll(c)^h,u+=Jg.charAt(h)}for(let l=0;l<6;++l)c=Ll(c);c^=t;for(let l=0;l<6;++l){const h=c>>(5-l)*5&31;u+=Jg.charAt(h)}return u}function n(s,o){if(o=o||90,s.length<8)return s+" too short";if(s.length>o)return"Exceeds length limit";const f=s.toLowerCase(),c=s.toUpperCase();if(s!==f&&s!==c)return"Mixed-case string "+s;s=f;const u=s.lastIndexOf("1");if(u===-1)return"No separator character for "+s;if(u===0)return"Missing prefix for "+s;const l=s.slice(0,u),h=s.slice(u+1);if(h.length<6)return"Data too short";let g=N9(l);if(typeof g=="string")return g;const m=[];for(let A=0;A<h.length;++A){const S=h.charAt(A),w=dB[S];if(w===void 0)return"Unknown character "+S;g=Ll(g)^w,!(A+6>=h.length)&&m.push(w)}return g!==t?"Invalid checksum for "+s:{prefix:l,words:m}}function i(s,o){const f=n(s,o);if(typeof f=="object")return f}function a(s,o){const f=n(s,o);if(typeof f=="object")return f;throw new Error(f)}return{decodeUnsafe:i,decode:a,encode:r,toWords:Gj,fromWordsUnsafe:Wj,fromWords:Xj}}var yu=ac.bech32=hB("bech32");Ap=ac.bech32m=hB("bech32m");var u1="delete",Ce=5,fa=1<<Ce,$n=fa-1,Gt={};function k3(){return{value:!1}}function ca(e){e&&(e.value=!0)}function o8(){}function pd(e){return e.size===void 0&&(e.size=e.__iterate(pB)),e.size}function sc(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?pd(e)+t:t}function pB(){return!0}function l1(e,t,r){return(e===0&&!gB(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function Zd(e,t){return bB(e,t,0)}function d1(e,t){return bB(e,t,t)}function bB(e,t,r){return e===void 0?r:gB(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function gB(e){return e<0||e===0&&1/e===-1/0}var yB="@@__IMMUTABLE_ITERABLE__@@";function Sn(e){return!!(e&&e[yB])}var vB="@@__IMMUTABLE_KEYED__@@";function be(e){return!!(e&&e[vB])}var _B="@@__IMMUTABLE_INDEXED__@@";function Jr(e){return!!(e&&e[_B])}function Jd(e){return be(e)||Jr(e)}var Te=function(t){return Sn(t)?t:Cn(t)},xa=function(e){function t(r){return be(r)?r:yc(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Te),Mu=function(e){function t(r){return Jr(r)?r:Sa(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Te),t0=function(e){function t(r){return Sn(r)&&!Jd(r)?r:n0(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Te);Te.Keyed=xa;Te.Indexed=Mu;Te.Set=t0;var mB="@@__IMMUTABLE_SEQ__@@";function h1(e){return!!(e&&e[mB])}var wB="@@__IMMUTABLE_RECORD__@@";function gc(e){return!!(e&&e[wB])}function Hi(e){return Sn(e)||gc(e)}var e0="@@__IMMUTABLE_ORDERED__@@";function Bi(e){return!!(e&&e[e0])}var p1=0,rs=1,ga=2,z3=typeof Symbol=="function"&&Symbol.iterator,AB="@@iterator",n2=z3||AB,ee=function(t){this.next=t};ee.prototype.toString=function(){return"[Iterator]"};ee.KEYS=p1;ee.VALUES=rs;ee.ENTRIES=ga;ee.prototype.inspect=ee.prototype.toSource=function(){return this.toString()};ee.prototype[n2]=function(){return this};function Be(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function Vn(){return{value:void 0,done:!0}}function f8(e){return Array.isArray(e)?!0:!!i2(e)}function U9(e){return e&&typeof e.next=="function"}function j3(e){var t=i2(e);return t&&t.call(e)}function i2(e){var t=e&&(z3&&e[z3]||e[AB]);if(typeof t=="function")return t}function Zj(e){var t=i2(e);return t&&t===e.entries}function Jj(e){var t=i2(e);return t&&t===e.keys}var r0=Object.prototype.hasOwnProperty;function c8(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Cn=function(e){function t(r){return r==null?l8():Hi(r)?r.toSeq():eF(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var s=a.length,o=0;o!==s;){var f=a[i?s-++o:o++];if(n(f[1],f[0],this)===!1)break}return o}return this.__iterateUncached(n,i)},t.prototype.__iterator=function(n,i){var a=this._cache;if(a){var s=a.length,o=0;return new ee(function(){if(o===s)return Vn();var f=a[i?s-++o:o++];return Be(n,f[0],f[1])})}return this.__iteratorUncached(n,i)},t}(Te),yc=function(e){function t(r){return r==null?l8().toKeyedSeq():Sn(r)?be(r)?r.toSeq():r.fromEntrySeq():gc(r)?r.toSeq():d8(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Cn),Sa=function(e){function t(r){return r==null?l8():Sn(r)?be(r)?r.entrySeq():r.toIndexedSeq():gc(r)?r.toSeq().entrySeq():EB(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Cn),n0=function(e){function t(r){return(Sn(r)&&!Jd(r)?r:Sa(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Cn);Cn.isSeq=h1;Cn.Keyed=yc;Cn.Set=n0;Cn.Indexed=Sa;Cn.prototype[mB]=!0;var vu=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this.has(n)?this._array[sc(this,n)]:i},t.prototype.__iterate=function(n,i){for(var a=this._array,s=a.length,o=0;o!==s;){var f=i?s-++o:o++;if(n(a[f],f,this)===!1)break}return o},t.prototype.__iterator=function(n,i){var a=this._array,s=a.length,o=0;return new ee(function(){if(o===s)return Vn();var f=i?s-++o:o++;return Be(n,f,a[f])})},t}(Sa),u8=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},t.prototype.has=function(n){return r0.call(this._object,n)},t.prototype.__iterate=function(n,i){for(var a=this._object,s=this._keys,o=s.length,f=0;f!==o;){var c=s[i?o-++f:f++];if(n(a[c],c,this)===!1)break}return f},t.prototype.__iterator=function(n,i){var a=this._object,s=this._keys,o=s.length,f=0;return new ee(function(){if(f===o)return Vn();var c=s[i?o-++f:f++];return Be(n,c,a[c])})},t}(yc);u8.prototype[e0]=!0;var tF=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,s=j3(a),o=0;if(U9(s))for(var f;!(f=s.next()).done&&n(f.value,o++,this)!==!1;);return o},t.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,s=j3(a);if(!U9(s))return new ee(Vn);var o=0;return new ee(function(){var f=s.next();return f.done?f:Be(n,o++,f.value)})},t}(Sa),k9;function l8(){return k9||(k9=new vu([]))}function d8(e){var t=h8(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new u8(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function EB(e){var t=h8(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function eF(e){var t=h8(e);if(t)return Zj(e)?t.fromEntrySeq():Jj(e)?t.toSetSeq():t;if(typeof e=="object")return new u8(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function h8(e){return c8(e)?new vu(e):f8(e)?new tF(e):void 0}var xB="@@__IMMUTABLE_MAP__@@";function b1(e){return!!(e&&e[xB])}function a2(e){return b1(e)&&Bi(e)}function ty(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Ar(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(ty(e)&&ty(t)&&e.equals(t))}var G0=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,i=r&65535;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function s2(e){return e>>>1&1073741824|e&3221225471}var rF=Object.prototype.valueOf;function kn(e){if(e==null)return z9(e);if(typeof e.hashCode=="function")return s2(e.hashCode(e));var t=fF(e);if(t==null)return z9(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return nF(t);case"string":return t.length>cF?iF(t):F3(t);case"object":case"function":return sF(t);case"symbol":return aF(t);default:if(typeof t.toString=="function")return F3(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function z9(e){return e===null?1108378658:1108378659}function nF(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return s2(t)}function iF(e){var t=__[e];return t===void 0&&(t=F3(e),v_===uF&&(v_=0,__={}),v_++,__[e]=t),t}function F3(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return s2(t)}function aF(e){var t=$9[e];return t!==void 0||(t=SB(),$9[e]=t),t}function sF(e){var t;if($3&&(t=q3.get(e),t!==void 0)||(t=e[Lc],t!==void 0)||!F9&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Lc],t!==void 0||(t=oF(e),t!==void 0)))return t;if(t=SB(),$3)q3.set(e,t);else{if(j9!==void 0&&j9(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(F9)Object.defineProperty(e,Lc,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Lc]=t;else if(e.nodeType!==void 0)e[Lc]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var j9=Object.isExtensible,F9=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function oF(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function fF(e){return e.valueOf!==rF&&typeof e.valueOf=="function"?e.valueOf(e):e}function SB(){var e=++y_;return y_&1073741824&&(y_=0),e}var $3=typeof WeakMap=="function",q3;$3&&(q3=new WeakMap);var $9=Object.create(null),y_=0,Lc="__immutablehash__";typeof Symbol=="function"&&(Lc=Symbol(Lc));var cF=16,uF=255,v_=0,__={},o2=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,i){return this._iter.get(n,i)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,i=p8(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},t.prototype.map=function(n,i){var a=this,s=OB(this,n,i);return this._useKeys||(s.valueSeq=function(){return a._iter.toSeq().map(n,i)}),s},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s,o){return n(s,o,a)},i)},t.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},t}(yc);o2.prototype[e0]=!0;var CB=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this,s=0;return i&&pd(this),this._iter.__iterate(function(o){return n(o,i?a.size-++s:s++,a)},i)},t.prototype.__iterator=function(n,i){var a=this,s=this._iter.__iterator(rs,i),o=0;return i&&pd(this),new ee(function(){var f=s.next();return f.done?f:Be(n,i?a.size-++o:o++,f.value,f)})},t}(Sa),IB=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){return n(s,s,a)},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(rs,i);return new ee(function(){var s=a.next();return s.done?s:Be(n,s.value,s.value,s)})},t}(n0),TB=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){if(s){K9(s);var o=Sn(s);return n(o?s.get(1):s[1],o?s.get(0):s[0],a)}},i)},t.prototype.__iterator=function(n,i){var a=this._iter.__iterator(rs,i);return new ee(function(){for(;;){var s=a.next();if(s.done)return s;var o=s.value;if(o){K9(o);var f=Sn(o);return Be(n,f?o.get(0):o[0],f?o.get(1):o[1],s)}}})},t}(yc);CB.prototype.cacheResult=o2.prototype.cacheResult=IB.prototype.cacheResult=TB.prototype.cacheResult=y8;function BB(e){var t=Ys(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=y8,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(a,s){return r(s,a,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===ga){var i=e.__iterator(r,n);return new ee(function(){var a=i.next();if(!a.done){var s=a.value[0];a.value[0]=a.value[1],a.value[1]=s}return a})}return e.__iterator(r===rs?p1:rs,n)},t}function OB(e,t,r){var n=Ys(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,a){var s=e.get(i,Gt);return s===Gt?a:t.call(r,s,i,e)},n.__iterateUncached=function(i,a){var s=this;return e.__iterate(function(o,f,c){return i(t.call(r,o,f,c),f,s)!==!1},a)},n.__iteratorUncached=function(i,a){var s=e.__iterator(ga,a);return new ee(function(){var o=s.next();if(o.done)return o;var f=o.value,c=f[0];return Be(i,c,t.call(r,f[1],c,e),o)})},n}function p8(e,t){var r=this,n=Ys(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=BB(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,a){return e.get(t?i:-1-i,a)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=y8,n.__iterate=function(i,a){var s=this,o=0;return a&&pd(e),e.__iterate(function(f,c){return i(f,t?c:a?s.size-++o:o++,s)},!a)},n.__iterator=function(i,a){var s=0;a&&pd(e);var o=e.__iterator(ga,!a);return new ee(function(){var f=o.next();if(f.done)return f;var c=f.value;return Be(i,t?c[0]:a?r.size-++s:s++,c[1],f)})},n}function DB(e,t,r,n){var i=Ys(e);return n&&(i.has=function(a){var s=e.get(a,Gt);return s!==Gt&&!!t.call(r,s,a,e)},i.get=function(a,s){var o=e.get(a,Gt);return o!==Gt&&t.call(r,o,a,e)?o:s}),i.__iterateUncached=function(a,s){var o=this,f=0;return e.__iterate(function(c,u,l){if(t.call(r,c,u,l))return f++,a(c,n?u:f-1,o)},s),f},i.__iteratorUncached=function(a,s){var o=e.__iterator(ga,s),f=0;return new ee(function(){for(;;){var c=o.next();if(c.done)return c;var u=c.value,l=u[0],h=u[1];if(t.call(r,h,l,e))return Be(a,n?l:f++,h,c)}})},i}function lF(e,t,r){var n=Vo().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(s){return s+1})}),n.asImmutable()}function dF(e,t,r){var n=be(e),i=(Bi(e)?ns():Vo()).asMutable();e.__iterate(function(s,o){i.update(t.call(r,s,o,e),function(f){return f=f||[],f.push(n?[o,s]:s),f})});var a=g8(e);return i.map(function(s){return de(e,a(s))}).asImmutable()}function hF(e,t,r){var n=be(e),i=[[],[]];e.__iterate(function(s,o){i[t.call(r,s,o,e)?1:0].push(n?[o,s]:s)});var a=g8(e);return i.map(function(s){return de(e,a(s))})}function b8(e,t,r,n){var i=e.size;if(l1(t,r,i))return e;if(typeof i>"u"&&(t<0||r<0))return b8(e.toSeq().cacheResult(),t,r,n);var a=Zd(t,i),s=d1(r,i),o=s-a,f;o===o&&(f=o<0?0:o);var c=Ys(e);return c.size=f===0?f:e.size&&f||void 0,!n&&h1(e)&&f>=0&&(c.get=function(u,l){return u=sc(this,u),u>=0&&u<f?e.get(u+a,l):l}),c.__iterateUncached=function(u,l){var h=this;if(f===0)return 0;if(l)return this.cacheResult().__iterate(u,l);var g=0,m=!0,A=0;return e.__iterate(function(S,w){if(!(m&&(m=g++<a)))return A++,u(S,n?w:A-1,h)!==!1&&A!==f}),A},c.__iteratorUncached=function(u,l){if(f!==0&&l)return this.cacheResult().__iterator(u,l);if(f===0)return new ee(Vn);var h=e.__iterator(u,l),g=0,m=0;return new ee(function(){for(;g++<a;)h.next();if(++m>f)return Vn();var A=h.next();return n||u===rs||A.done?A:u===p1?Be(u,m-1,void 0,A):Be(u,m-1,A.value[1],A)})},c}function pF(e,t,r){var n=Ys(e);return n.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var o=0;return e.__iterate(function(f,c,u){return t.call(r,f,c,u)&&++o&&i(f,c,s)}),o},n.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(ga,a),f=!0;return new ee(function(){if(!f)return Vn();var c=o.next();if(c.done)return c;var u=c.value,l=u[0],h=u[1];return t.call(r,h,l,s)?i===ga?c:Be(i,l,h,c):(f=!1,Vn())})},n}function MB(e,t,r,n){var i=Ys(e);return i.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var f=!0,c=0;return e.__iterate(function(u,l,h){if(!(f&&(f=t.call(r,u,l,h))))return c++,a(u,n?l:c-1,o)}),c},i.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var f=e.__iterator(ga,s),c=!0,u=0;return new ee(function(){var l,h,g;do{if(l=f.next(),l.done)return n||a===rs?l:a===p1?Be(a,u++,void 0,l):Be(a,u++,l.value[1],l);var m=l.value;h=m[0],g=m[1],c&&(c=t.call(r,g,h,o))}while(c);return a===ga?l:Be(a,h,g,l)})},i}function bF(e,t){var r=be(e),n=[e].concat(t).map(function(s){return Sn(s)?r&&(s=xa(s)):s=r?d8(s):EB(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&be(i)||Jr(e)&&Jr(i))return i}var a=new vu(n);return r?a=a.toKeyedSeq():Jr(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(s,o){if(s!==void 0){var f=o.size;if(f!==void 0)return s+f}},0),a}function RB(e,t,r){var n=Ys(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var s=0,o=!1;function f(c,u){c.__iterate(function(l,h){return(!t||u<t)&&Sn(l)?f(l,u+1):(s++,i(l,r?h:s-1,n)===!1&&(o=!0)),!o},a)}return f(e,0),s},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(i,a),o=[],f=0;return new ee(function(){for(;s;){var c=s.next();if(c.done!==!1){s=o.pop();continue}var u=c.value;if(i===ga&&(u=u[1]),(!t||o.length<t)&&Sn(u))o.push(s),s=u.__iterator(i,a);else return r?c:Be(i,f++,u,c)}return Vn()})},n}function gF(e,t,r){var n=g8(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}function yF(e,t){var r=Ys(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var a=this,s=0;return e.__iterate(function(o){return(!s||n(t,s++,a)!==!1)&&n(o,s++,a)!==!1},i),s},r.__iteratorUncached=function(n,i){var a=e.__iterator(rs,i),s=0,o;return new ee(function(){return(!o||s%2)&&(o=a.next(),o.done)?o:s%2?Be(n,s++,t):Be(n,s++,o.value,o)})},r}function bd(e,t,r){t||(t=LB);var n=be(e),i=0,a=e.toSeq().map(function(s,o){return[o,s,i++,r?r(s,o,e):s]}).valueSeq().toArray();return a.sort(function(s,o){return t(s[3],o[3])||s[2]-o[2]}).forEach(n?function(s,o){a[o].length=2}:function(s,o){a[o]=s[1]}),n?yc(a):Jr(e)?Sa(a):n0(a)}function Bb(e,t,r){if(t||(t=LB),r){var n=e.toSeq().map(function(i,a){return[i,r(i,a,e)]}).reduce(function(i,a){return q9(t,i[1],a[1])?a:i});return n&&n[0]}return e.reduce(function(i,a){return q9(t,i,a)?a:i})}function q9(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function Ob(e,t,r,n){var i=Ys(e),a=new vu(r).map(function(s){return s.size});return i.size=n?a.max():a.min(),i.__iterate=function(s,o){for(var f=this.__iterator(rs,o),c,u=0;!(c=f.next()).done&&s(c.value,u++,this)!==!1;);return u},i.__iteratorUncached=function(s,o){var f=r.map(function(l){return l=Te(l),j3(o?l.reverse():l)}),c=0,u=!1;return new ee(function(){var l;return u||(l=f.map(function(h){return h.next()}),u=n?l.every(function(h){return h.done}):l.some(function(h){return h.done})),u?Vn():Be(s,c++,t.apply(null,l.map(function(h){return h.value})))})},i}function de(e,t){return e===t?e:h1(e)?t:e.constructor(t)}function K9(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function g8(e){return be(e)?xa:Jr(e)?Mu:t0}function Ys(e){return Object.create((be(e)?yc:Jr(e)?Sa:n0).prototype)}function y8(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Cn.prototype.cacheResult.call(this)}function LB(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Ss(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function v8(e,t){if(!e)throw new Error(t)}function Ai(e){v8(e!==1/0,"Cannot perform this action with an infinite size.")}function HB(e){if(c8(e)&&typeof e!="string")return e;if(Bi(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var vF=Object.prototype.toString;function f2(e){if(!e||typeof e!="object"||vF.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function oc(e){return typeof e=="object"&&(Hi(e)||Array.isArray(e)||f2(e))}function Ep(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function _8(e,t){return Hi(e)?e.has(t):oc(e)&&r0.call(e,t)}function c2(e,t,r){return Hi(e)?e.get(t,r):_8(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function ey(e){if(Array.isArray(e))return Ss(e);var t={};for(var r in e)r0.call(e,r)&&(t[r]=e[r]);return t}function m8(e,t){if(!oc(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Hi(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!r0.call(e,t))return e;var r=ey(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function w8(e,t,r){if(!oc(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Hi(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(r0.call(e,t)&&r===e[t])return e;var n=ey(e);return n[t]=r,n}function vc(e,t,r,n){n||(n=r,r=void 0);var i=PB(Hi(e),e,HB(t),0,r,n);return i===Gt?r:i}function PB(e,t,r,n,i,a){var s=t===Gt;if(n===r.length){var o=s?i:t,f=a(o);return f===o?t:f}if(!s&&!oc(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Ep)+"]: "+t);var c=r[n],u=s?Gt:c2(t,c,Gt),l=PB(u===Gt?e:Hi(u),u,r,n+1,i,a);return l===u?t:l===Gt?m8(t,c):w8(s?e?$a():{}:t,c,l)}function A8(e,t,r){return vc(e,t,Gt,function(){return r})}function E8(e,t){return A8(this,e,t)}function x8(e,t){return vc(e,t,function(){return Gt})}function S8(e){return x8(this,e)}function u2(e,t,r,n){return vc(e,[t],r,n)}function C8(e,t,r){return arguments.length===1?e(this):u2(this,e,t,r)}function I8(e,t,r){return vc(this,e,t,r)}function NB(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return kB(this,e)}function UB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return kB(this,t,e)}function kB(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=xa(t[i]);a.size!==0&&n.push(a)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(s){for(var o=r?function(c,u){u2(s,u,Gt,function(l){return l===Gt?c:r(l,c,u)})}:function(c,u){s.set(u,c)},f=0;f<n.length;f++)n[f].forEach(o)})}function zB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return y1(e,t)}function jB(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return y1(t,r,e)}function FB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return g1(e,t)}function $B(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return g1(t,r,e)}function g1(e,t,r){return y1(e,t,_F(r))}function y1(e,t,r){if(!oc(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Hi(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?Mu:xa,s=n?function(f){i===e&&(i=ey(i)),i.push(f)}:function(f,c){var u=r0.call(i,c),l=u&&r?r(i[c],f,c):f;(!u||l!==i[c])&&(i===e&&(i=ey(i)),i[c]=l)},o=0;o<t.length;o++)a(t[o]).forEach(s);return i}function _F(e){function t(r,n,i){return oc(r)&&oc(n)&&mF(r,n)?y1(r,[n],t):e?e(r,n,i):n}return t}function mF(e,t){var r=Cn(e),n=Cn(t);return Jr(r)===Jr(n)&&be(r)===be(n)}function qB(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return g1(this,e)}function KB(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return g1(this,t,e)}function T8(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return vc(this,e,$a(),function(n){return y1(n,t)})}function B8(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return vc(this,e,$a(),function(n){return g1(n,t)})}function v1(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function _1(){return this.__ownerID?this:this.__ensureOwner(new o8)}function m1(){return this.__ensureOwner()}function O8(){return this.__altered}var Vo=function(e){function t(r){return r==null?$a():b1(r)&&!Bi(r)?r:$a().withMutations(function(n){var i=e(r);Ai(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return $a().withMutations(function(a){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);a.set(n[s],n[s+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},t.prototype.set=function(n,i){return V9(this,n,i)},t.prototype.remove=function(n){return V9(this,n,Gt)},t.prototype.deleteAll=function(n){var i=Te(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(s){return a.remove(s)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$a()},t.prototype.sort=function(n){return ns(bd(this,n))},t.prototype.sortBy=function(n,i){return ns(bd(this,i,n))},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){s.forEach(function(o,f){s.set(f,n.call(i,o,f,a))})})},t.prototype.__iterator=function(n,i){return new wF(this,n,i)},t.prototype.__iterate=function(n,i){var a=this,s=0;return this._root&&this._root.iterate(function(o){return s++,n(o[1],o[0],a)},i),s},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?D8(this.size,this._root,n,this.__hash):this.size===0?$a():(this.__ownerID=n,this.__altered=!1,this)},t}(xa);Vo.isMap=b1;var De=Vo.prototype;De[xB]=!0;De[u1]=De.remove;De.removeAll=De.deleteAll;De.setIn=E8;De.removeIn=De.deleteIn=S8;De.update=C8;De.updateIn=I8;De.merge=De.concat=NB;De.mergeWith=UB;De.mergeDeep=qB;De.mergeDeepWith=KB;De.mergeIn=T8;De.mergeDeepIn=B8;De.withMutations=v1;De.wasAltered=O8;De.asImmutable=m1;De["@@transducer/init"]=De.asMutable=_1;De["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};De["@@transducer/result"]=function(e){return e.asImmutable()};var xp=function(t,r){this.ownerID=t,this.entries=r};xp.prototype.get=function(t,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(Ar(n,a[s][0]))return a[s][1];return i};xp.prototype.update=function(t,r,n,i,a,s,o){for(var f=a===Gt,c=this.entries,u=0,l=c.length;u<l&&!Ar(i,c[u][0]);u++);var h=u<l;if(h?c[u][1]===a:f)return this;if(ca(o),(f||!h)&&ca(s),!(f&&c.length===1)){if(!h&&!f&&c.length>=IF)return AF(t,c,i,a);var g=t&&t===this.ownerID,m=g?c:Ss(c);return h?f?u===l-1?m.pop():m[u]=m.pop():m[u]=[i,a]:m.push([i,a]),g?(this.entries=m,this):new xp(t,m)}};var gd=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};gd.prototype.get=function(t,r,n,i){r===void 0&&(r=kn(n));var a=1<<((t===0?r:r>>>t)&$n),s=this.bitmap;return s&a?this.nodes[QB(s&a-1)].get(t+Ce,r,n,i):i};gd.prototype.update=function(t,r,n,i,a,s,o){n===void 0&&(n=kn(i));var f=(r===0?n:n>>>r)&$n,c=1<<f,u=this.bitmap,l=(u&c)!==0;if(!l&&a===Gt)return this;var h=QB(u&c-1),g=this.nodes,m=l?g[h]:void 0,A=M8(m,t,r+Ce,n,i,a,s,o);if(A===m)return this;if(!l&&A&&g.length>=TF)return xF(t,g,u,f,A);if(l&&!A&&g.length===2&&G9(g[h^1]))return g[h^1];if(l&&A&&g.length===1&&G9(A))return A;var S=t&&t===this.ownerID,w=l?A?u:u^c:u|c,C=l?A?YB(g,h,A,S):CF(g,h,S):SF(g,h,A,S);return S?(this.bitmap=w,this.nodes=C,this):new gd(t,w,C)};var Sp=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};Sp.prototype.get=function(t,r,n,i){r===void 0&&(r=kn(n));var a=(t===0?r:r>>>t)&$n,s=this.nodes[a];return s?s.get(t+Ce,r,n,i):i};Sp.prototype.update=function(t,r,n,i,a,s,o){n===void 0&&(n=kn(i));var f=(r===0?n:n>>>r)&$n,c=a===Gt,u=this.nodes,l=u[f];if(c&&!l)return this;var h=M8(l,t,r+Ce,n,i,a,s,o);if(h===l)return this;var g=this.count;if(!l)g++;else if(!h&&(g--,g<BF))return EF(t,u,g,f);var m=t&&t===this.ownerID,A=YB(u,f,h,m);return m?(this.count=g,this.nodes=A,this):new Sp(t,g,A)};var yd=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};yd.prototype.get=function(t,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(Ar(n,a[s][0]))return a[s][1];return i};yd.prototype.update=function(t,r,n,i,a,s,o){n===void 0&&(n=kn(i));var f=a===Gt;if(n!==this.keyHash)return f?this:(ca(o),ca(s),R8(this,t,r,n,[i,a]));for(var c=this.entries,u=0,l=c.length;u<l&&!Ar(i,c[u][0]);u++);var h=u<l;if(h?c[u][1]===a:f)return this;if(ca(o),(f||!h)&&ca(s),f&&l===2)return new Uo(t,this.keyHash,c[u^1]);var g=t&&t===this.ownerID,m=g?c:Ss(c);return h?f?u===l-1?m.pop():m[u]=m.pop():m[u]=[i,a]:m.push([i,a]),g?(this.entries=m,this):new yd(t,this.keyHash,m)};var Uo=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};Uo.prototype.get=function(t,r,n,i){return Ar(n,this.entry[0])?this.entry[1]:i};Uo.prototype.update=function(t,r,n,i,a,s,o){var f=a===Gt,c=Ar(i,this.entry[0]);if(c?a===this.entry[1]:f)return this;if(ca(o),f){ca(s);return}return c?t&&t===this.ownerID?(this.entry[1]=a,this):new Uo(t,this.keyHash,[i,a]):(ca(s),R8(this,t,r,kn(i),[i,a]))};xp.prototype.iterate=yd.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1};gd.prototype.iterate=Sp.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&a.iterate(e,t)===!1)return!1}};Uo.prototype.iterate=function(e,t){return e(this.entry)};var wF=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&Q9(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,s=i.index++,o=void 0;if(a.entry){if(s===0)return m_(n,a.entry)}else if(a.entries){if(o=a.entries.length-1,s<=o)return m_(n,a.entries[this._reverse?o-s:s])}else if(o=a.nodes.length-1,s<=o){var f=a.nodes[this._reverse?o-s:s];if(f){if(f.entry)return m_(n,f.entry);i=this._stack=Q9(f,i)}continue}i=this._stack=this._stack.__prev}return Vn()},t}(ee);function m_(e,t){return Be(e,t[0],t[1])}function Q9(e,t){return{node:e,index:0,__prev:t}}function D8(e,t,r,n){var i=Object.create(De);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Y9;function $a(){return Y9||(Y9=D8(0))}function V9(e,t,r){var n,i;if(e._root){var a=k3(),s=k3();if(n=M8(e._root,e.__ownerID,0,void 0,t,r,a,s),!s.value)return e;i=e.size+(a.value?r===Gt?-1:1:0)}else{if(r===Gt)return e;i=1,n=new xp(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?D8(i,n):$a()}function M8(e,t,r,n,i,a,s,o){return e?e.update(t,r,n,i,a,s,o):a===Gt?e:(ca(o),ca(s),new Uo(t,n,[i,a]))}function G9(e){return e.constructor===Uo||e.constructor===yd}function R8(e,t,r,n,i){if(e.keyHash===n)return new yd(t,n,[e.entry,i]);var a=(r===0?e.keyHash:e.keyHash>>>r)&$n,s=(r===0?n:n>>>r)&$n,o,f=a===s?[R8(e,t,r+Ce,n,i)]:(o=new Uo(t,n,i),a<s?[e,o]:[o,e]);return new gd(t,1<<a|1<<s,f)}function AF(e,t,r,n){e||(e=new o8);for(var i=new Uo(e,kn(r),[r,n]),a=0;a<t.length;a++){var s=t[a];i=i.update(e,0,void 0,s[0],s[1])}return i}function EF(e,t,r,n){for(var i=0,a=0,s=new Array(r),o=0,f=1,c=t.length;o<c;o++,f<<=1){var u=t[o];u!==void 0&&o!==n&&(i|=f,s[a++]=u)}return new gd(e,i,s)}function xF(e,t,r,n,i){for(var a=0,s=new Array(fa),o=0;r!==0;o++,r>>>=1)s[o]=r&1?t[a++]:void 0;return s[n]=i,new Sp(e,a+1,s)}function QB(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function YB(e,t,r,n){var i=n?e:Ss(e);return i[t]=r,i}function SF(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),s=0,o=0;o<i;o++)o===t?(a[o]=r,s=-1):a[o]=e[o+s];return a}function CF(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,s=0;s<n;s++)s===t&&(a=1),i[s]=e[s+a];return i}var IF=fa/4,TF=fa/2,BF=fa/4,VB="@@__IMMUTABLE_LIST__@@";function l2(e){return!!(e&&e[VB])}var ya=function(e){function t(r){var n=fg();if(r==null)return n;if(l2(r))return r;var i=e(r),a=i.size;return a===0?n:(Ai(a),a>0&&a<fa?Cp(0,a,Ce,null,new Wf(i.toArray())):n.withMutations(function(s){s.setSize(a),i.forEach(function(o,f){return s.set(f,o)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,i){if(n=sc(this,n),n>=0&&n<this.size){n+=this._origin;var a=GB(this,n);return a&&a.array[n&$n]}return i},t.prototype.set=function(n,i){return OF(this,n,i)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,i){return this.splice(n,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ce,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):fg()},t.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){wf(a,0,i+n.length);for(var s=0;s<n.length;s++)a.set(i+s,n[s])})},t.prototype.pop=function(){return wf(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){wf(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},t.prototype.shift=function(){return wf(this,1)},t.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var s=n[a],o=e(typeof s!="string"&&f8(s)?s:[s]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(f){i.forEach(function(c){return c.forEach(function(u){return f.push(u)})})})},t.prototype.setSize=function(n){return wf(this,0,n)},t.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){for(var o=0;o<a.size;o++)s.set(o,n.call(i,s.get(o),o,a))})},t.prototype.slice=function(n,i){var a=this.size;return l1(n,i,a)?this:wf(this,Zd(n,a),d1(i,a))},t.prototype.__iterator=function(n,i){var a=i?this.size:0,s=W9(this,i);return new ee(function(){var o=s();return o===Qh?Vn():Be(n,i?--a:a++,o)})},t.prototype.__iterate=function(n,i){for(var a=i?this.size:0,s=W9(this,i),o;(o=s())!==Qh&&n(o,i?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Cp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?fg():(this.__ownerID=n,this.__altered=!1,this)},t}(Mu);ya.isList=l2;var yr=ya.prototype;yr[VB]=!0;yr[u1]=yr.remove;yr.merge=yr.concat;yr.setIn=E8;yr.deleteIn=yr.removeIn=S8;yr.update=C8;yr.updateIn=I8;yr.mergeIn=T8;yr.mergeDeepIn=B8;yr.withMutations=v1;yr.wasAltered=O8;yr.asImmutable=m1;yr["@@transducer/init"]=yr.asMutable=_1;yr["@@transducer/step"]=function(e,t){return e.push(t)};yr["@@transducer/result"]=function(e){return e.asImmutable()};var Wf=function(t,r){this.array=t,this.ownerID=r};Wf.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&$n;if(i>=this.array.length)return new Wf([],t);var a=i===0,s;if(r>0){var o=this.array[i];if(s=o&&o.removeBefore(t,r-Ce,n),s===o&&a)return this}if(a&&!s)return this;var f=vd(this,t);if(!a)for(var c=0;c<i;c++)f.array[c]=void 0;return s&&(f.array[i]=s),f};Wf.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&$n;if(i>=this.array.length)return this;var a;if(r>0){var s=this.array[i];if(a=s&&s.removeAfter(t,r-Ce,n),a===s&&i===this.array.length-1)return this}var o=vd(this,t);return o.array.splice(i+1),a&&(o.array[i]=a),o};var Qh={};function W9(e,t){var r=e._origin,n=e._capacity,i=Ip(n),a=e._tail;return s(e._root,e._level,0);function s(c,u,l){return u===0?o(c,l):f(c,u,l)}function o(c,u){var l=u===i?a&&a.array:c&&c.array,h=u>r?0:r-u,g=n-u;return g>fa&&(g=fa),function(){if(h===g)return Qh;var m=t?--g:h++;return l&&l[m]}}function f(c,u,l){var h,g=c&&c.array,m=l>r?0:r-l>>u,A=(n-l>>u)+1;return A>fa&&(A=fa),function(){for(;;){if(h){var S=h();if(S!==Qh)return S;h=null}if(m===A)return Qh;var w=t?--A:m++;h=s(g&&g[w],u-Ce,l+(w<<u))}}}}function Cp(e,t,r,n,i,a,s){var o=Object.create(yr);return o.size=t-e,o._origin=e,o._capacity=t,o._level=r,o._root=n,o._tail=i,o.__ownerID=a,o.__hash=s,o.__altered=!1,o}var X9;function fg(){return X9||(X9=Cp(0,0,Ce))}function OF(e,t,r){if(t=sc(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(s){t<0?wf(s,t).set(0,r):wf(s,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a=k3();return t>=Ip(e._capacity)?n=K3(n,e.__ownerID,0,t,r,a):i=K3(i,e.__ownerID,e._level,t,r,a),a.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Cp(e._origin,e._capacity,e._level,i,n):e}function K3(e,t,r,n,i,a){var s=n>>>r&$n,o=e&&s<e.array.length;if(!o&&i===void 0)return e;var f;if(r>0){var c=e&&e.array[s],u=K3(c,t,r-Ce,n,i,a);return u===c?e:(f=vd(e,t),f.array[s]=u,f)}return o&&e.array[s]===i?e:(a&&ca(a),f=vd(e,t),i===void 0&&s===f.array.length-1?f.array.pop():f.array[s]=i,f)}function vd(e,t){return t&&e&&t===e.ownerID?e:new Wf(e?e.array.slice():[],t)}function GB(e,t){if(t>=Ip(e._capacity))return e._tail;if(t<1<<e._level+Ce){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&$n],n-=Ce;return r}}function wf(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new o8,i=e._origin,a=e._capacity,s=i+t,o=r===void 0?a:r<0?a+r:i+r;if(s===i&&o===a)return e;if(s>=o)return e.clear();for(var f=e._level,c=e._root,u=0;s+u<0;)c=new Wf(c&&c.array.length?[void 0,c]:[],n),f+=Ce,u+=1<<f;u&&(s+=u,i+=u,o+=u,a+=u);for(var l=Ip(a),h=Ip(o);h>=1<<f+Ce;)c=new Wf(c&&c.array.length?[c]:[],n),f+=Ce;var g=e._tail,m=h<l?GB(e,o-1):h>l?new Wf([],n):g;if(g&&h>l&&s<a&&g.array.length){c=vd(c,n);for(var A=c,S=f;S>Ce;S-=Ce){var w=l>>>S&$n;A=A.array[w]=vd(A.array[w],n)}A.array[l>>>Ce&$n]=g}if(o<a&&(m=m&&m.removeAfter(n,0,o)),s>=h)s-=h,o-=h,f=Ce,c=null,m=m&&m.removeBefore(n,0,s);else if(s>i||h<l){for(u=0;c;){var C=s>>>f&$n;if(C!==h>>>f&$n)break;C&&(u+=(1<<f)*C),f-=Ce,c=c.array[C]}c&&s>i&&(c=c.removeBefore(n,f,s-u)),c&&h<l&&(c=c.removeAfter(n,f,h-u)),u&&(s-=u,o-=u)}return e.__ownerID?(e.size=o-s,e._origin=s,e._capacity=o,e._level=f,e._root=c,e._tail=m,e.__hash=void 0,e.__altered=!0,e):Cp(s,o,f,c,m)}function Ip(e){return e<fa?0:e-1>>>Ce<<Ce}var ns=function(e){function t(r){return r==null?vh():a2(r)?r:vh().withMutations(function(n){var i=xa(r);Ai(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):vh()},t.prototype.set=function(n,i){return J9(this,n,i)},t.prototype.remove=function(n){return J9(this,n,Gt)},t.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],a)},i)},t.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?L8(i,a,n,this.__hash):this.size===0?vh():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},t}(Vo);ns.isOrderedMap=a2;ns.prototype[e0]=!0;ns.prototype[u1]=ns.prototype.remove;function L8(e,t,r,n){var i=Object.create(ns.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var Z9;function vh(){return Z9||(Z9=L8($a(),fg()))}function J9(e,t,r){var n=e._map,i=e._list,a=n.get(t),s=a!==void 0,o,f;if(r===Gt){if(!s)return e;i.size>=fa&&i.size>=n.size*2?(f=i.filter(function(c,u){return c!==void 0&&a!==u}),o=f.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(o.__ownerID=f.__ownerID=e.__ownerID)):(o=n.remove(t),f=a===i.size-1?i.pop():i.set(a,void 0))}else if(s){if(r===i.get(a)[1])return e;o=n,f=i.set(a,[t,r])}else o=n.set(t,i.size),f=i.set(i.size,[t,r]);return e.__ownerID?(e.size=o.size,e._map=o,e._list=f,e.__hash=void 0,e.__altered=!0,e):L8(o,f)}var WB="@@__IMMUTABLE_STACK__@@";function Tp(e){return!!(e&&e[WB])}var w1=function(e){function t(r){return r==null?Db():Tp(r)?r:Db().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,i){var a=this._head;for(n=sc(this,n);a&&n--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,s=arguments.length-1;s>=0;s--)a={value:n[s],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):_h(i,a)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&Tp(n))return n;Ai(n.size);var i=this.size,a=this._head;return n.__iterate(function(s){i++,a={value:s,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):_h(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Db()},t.prototype.slice=function(n,i){if(l1(n,i,this.size))return this;var a=Zd(n,this.size),s=d1(i,this.size);if(s!==this.size)return e.prototype.slice.call(this,n,i);for(var o=this.size-a,f=this._head;a--;)f=f.next;return this.__ownerID?(this.size=o,this._head=f,this.__hash=void 0,this.__altered=!0,this):_h(o,f)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?_h(this.size,this._head,n,this.__hash):this.size===0?Db():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,i){var a=this;if(i)return new vu(this.toArray()).__iterate(function(f,c){return n(f,c,a)},i);for(var s=0,o=this._head;o&&n(o.value,s++,this)!==!1;)o=o.next;return s},t.prototype.__iterator=function(n,i){if(i)return new vu(this.toArray()).__iterator(n,i);var a=0,s=this._head;return new ee(function(){if(s){var o=s.value;return s=s.next,Be(n,a++,o)}return Vn()})},t}(Mu);w1.isStack=Tp;var Gn=w1.prototype;Gn[WB]=!0;Gn.shift=Gn.pop;Gn.unshift=Gn.push;Gn.unshiftAll=Gn.pushAll;Gn.withMutations=v1;Gn.wasAltered=O8;Gn.asImmutable=m1;Gn["@@transducer/init"]=Gn.asMutable=_1;Gn["@@transducer/step"]=function(e,t){return e.unshift(t)};Gn["@@transducer/result"]=function(e){return e.asImmutable()};function _h(e,t,r,n){var i=Object.create(Gn);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var tA;function Db(){return tA||(tA=_h(0))}var XB="@@__IMMUTABLE_SET__@@";function A1(e){return!!(e&&e[XB])}function d2(e){return A1(e)&&Bi(e)}function H8(e,t){if(e===t)return!0;if(!Sn(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||be(e)!==be(t)||Jr(e)!==Jr(t)||Bi(e)!==Bi(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!Jd(e);if(Bi(e)){var n=e.entries();return t.every(function(f,c){var u=n.next().value;return u&&Ar(u[1],f)&&(r||Ar(u[0],c))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var s=!0,o=t.__iterate(function(f,c){if(r?!e.has(f):i?!Ar(f,e.get(c,Gt)):!Ar(e.get(c,Gt),f))return s=!1,!1});return s&&e.size===o}function Ru(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function ry(e){if(!e||typeof e!="object")return e;if(!Sn(e)){if(!oc(e))return e;e=Cn(e)}if(be(e)){var t={};return e.__iterate(function(n,i){t[i]=ry(n)}),t}var r=[];return e.__iterate(function(n){r.push(ry(n))}),r}var i0=function(e){function t(r){return r==null?mh():A1(r)&&!Bi(r)?r:mh().withMutations(function(n){var i=e(r);Ai(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(xa(n).keySeq())},t.intersect=function(n){return n=Te(n).toArray(),n.length?tn.intersect.apply(t(n.pop()),n):mh()},t.union=function(n){return n=Te(n).toArray(),n.length?tn.union.apply(t(n.pop()),n):mh()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Mb(this,this._map.set(n,n))},t.prototype.remove=function(n){return Mb(this,this._map.remove(n))},t.prototype.clear=function(){return Mb(this,this._map.clear())},t.prototype.map=function(n,i){var a=this,s=!1,o=Mb(this,this._map.mapEntries(function(f){var c=f[1],u=n.call(i,c,c,a);return u!==c&&(s=!0),[u,u]},i));return s?o:this},t.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var s=0;s<n.length;s++)typeof n[s]=="string"?a.add(n[s]):e(n[s]).forEach(function(o){return a.add(o)})})},t.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return e(s)});var a=[];return this.forEach(function(s){n.every(function(o){return o.includes(s)})||a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},t.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return e(s)});var a=[];return this.forEach(function(s){n.some(function(o){return o.includes(s)})&&a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},t.prototype.sort=function(n){return _u(bd(this,n))},t.prototype.sortBy=function(n,i){return _u(bd(this,i,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(s){return n(s,s,a)},i)},t.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},t}(t0);i0.isSet=A1;var tn=i0.prototype;tn[XB]=!0;tn[u1]=tn.remove;tn.merge=tn.concat=tn.union;tn.withMutations=v1;tn.asImmutable=m1;tn["@@transducer/init"]=tn.asMutable=_1;tn["@@transducer/step"]=function(e,t){return e.add(t)};tn["@@transducer/result"]=function(e){return e.asImmutable()};tn.__empty=mh;tn.__make=ZB;function Mb(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function ZB(e,t){var r=Object.create(tn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var eA;function mh(){return eA||(eA=ZB($a()))}var P8=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(v8(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(w_)return w_;w_=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,i){return this.has(n)?this._start+sc(this,n)*this._step:i},t.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(n,i){return l1(n,i,this.size)?this:(n=Zd(n,this.size),i=d1(i,this.size),i<=n?new t(0,0):new t(this.get(n,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,i){for(var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,f=0;f!==a&&n(o,i?a-++f:f++,this)!==!1;)o+=i?-s:s;return f},t.prototype.__iterator=function(n,i){var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,f=0;return new ee(function(){if(f===a)return Vn();var c=o;return o+=i?-s:s,Be(n,i?a-++f:f++,c)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:H8(this,n)},t}(Sa),w_;function h2(e,t,r){for(var n=HB(t),i=0;i!==n.length;)if(e=c2(e,n[i++],Gt),e===Gt)return r;return e}function JB(e,t){return h2(this,e,t)}function N8(e,t){return h2(e,t,Gt)!==Gt}function DF(e){return N8(this,e)}function tO(){Ai(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}Te.isIterable=Sn;Te.isKeyed=be;Te.isIndexed=Jr;Te.isAssociative=Jd;Te.isOrdered=Bi;Te.Iterator=ee;Ru(Te,{toArray:function(){Ai(this.size);var t=new Array(this.size||0),r=be(this),n=0;return this.__iterate(function(i,a){t[n++]=r?[a,i]:i}),t},toIndexedSeq:function(){return new CB(this)},toJS:function(){return ry(this)},toKeyedSeq:function(){return new o2(this,!0)},toMap:function(){return Vo(this.toKeyedSeq())},toObject:tO,toOrderedMap:function(){return ns(this.toKeyedSeq())},toOrderedSet:function(){return _u(be(this)?this.valueSeq():this)},toSet:function(){return i0(be(this)?this.valueSeq():this)},toSetSeq:function(){return new IB(this)},toSeq:function(){return Jr(this)?this.toIndexedSeq():be(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return w1(be(this)?this.valueSeq():this)},toList:function(){return ya(be(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return de(this,bF(this,t))},includes:function(t){return this.some(function(r){return Ar(r,t)})},entries:function(){return this.__iterator(ga)},every:function(t,r){Ai(this.size);var n=!0;return this.__iterate(function(i,a,s){if(!t.call(r,i,a,s))return n=!1,!1}),n},filter:function(t,r){return de(this,DB(this,t,r,!0))},partition:function(t,r){return hF(this,t,r)},find:function(t,r,n){var i=this.findEntry(t,r);return i?i[1]:n},forEach:function(t,r){return Ai(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){Ai(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=t,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(p1)},map:function(t,r){return de(this,OB(this,t,r))},reduce:function(t,r,n){return rA(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return rA(this,t,r,n,arguments.length<2,!0)},reverse:function(){return de(this,p8(this,!0))},slice:function(t,r){return de(this,b8(this,t,r,!0))},some:function(t,r){Ai(this.size);var n=!1;return this.__iterate(function(i,a,s){if(t.call(r,i,a,s))return n=!0,!1}),n},sort:function(t){return de(this,bd(this,t))},values:function(){return this.__iterator(rs)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return pd(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return lF(this,t,r)},equals:function(t){return H8(this,t)},entrySeq:function(){var t=this;if(t._cache)return new vu(t._cache);var r=t.toSeq().map(RF).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(A_(t),r)},findEntry:function(t,r,n){var i=n;return this.__iterate(function(a,s,o){if(t.call(r,a,s,o))return i=[s,a],!1}),i},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(pB,null,t)},flatMap:function(t,r){return de(this,gF(this,t,r))},flatten:function(t){return de(this,RB(this,t,!0))},fromEntrySeq:function(){return new TB(this)},get:function(t,r){return this.find(function(n,i){return Ar(i,t)},void 0,r)},getIn:JB,groupBy:function(t,r){return dF(this,t,r)},has:function(t){return this.get(t,Gt)!==Gt},hasIn:DF,isSubset:function(t){return t=typeof t.includes=="function"?t:Te(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Te(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return Ar(r,t)})},keySeq:function(){return this.toSeq().map(MF).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Bb(this,t)},maxBy:function(t,r){return Bb(this,r,t)},min:function(t){return Bb(this,t?nA(t):aA)},minBy:function(t,r){return Bb(this,r?nA(r):aA,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return de(this,MB(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(A_(t),r)},sortBy:function(t,r){return de(this,bd(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return de(this,pF(this,t,r))},takeUntil:function(t,r){return this.takeWhile(A_(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=LF(this))}});var In=Te.prototype;In[yB]=!0;In[n2]=In.values;In.toJSON=In.toArray;In.__toStringMapper=Ep;In.inspect=In.toSource=function(){return this.toString()};In.chain=In.flatMap;In.contains=In.includes;Ru(xa,{flip:function(){return de(this,BB(this))},mapEntries:function(t,r){var n=this,i=0;return de(this,this.toSeq().map(function(a,s){return t.call(r,[s,a],i++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return de(this,this.toSeq().flip().map(function(i,a){return t.call(r,i,a,n)}).flip())}});var E1=xa.prototype;E1[vB]=!0;E1[n2]=In.entries;E1.toJSON=tO;E1.__toStringMapper=function(e,t){return Ep(t)+": "+Ep(e)};Ru(Mu,{toKeyedSeq:function(){return new o2(this,!1)},filter:function(t,r){return de(this,DB(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return de(this,p8(this,!1))},slice:function(t,r){return de(this,b8(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=Zd(t,t<0?this.count():this.size);var i=this.slice(0,t);return de(this,n===1?i:i.concat(Ss(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return de(this,RB(this,t,!1))},get:function(t,r){return t=sc(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,i){return i===t},void 0,r)},has:function(t){return t=sc(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return de(this,yF(this,t))},interleave:function(){var t=[this].concat(Ss(arguments)),r=Ob(this.toSeq(),Sa.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),de(this,n)},keySeq:function(){return P8(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return de(this,MB(this,t,r,!1))},zip:function(){var t=[this].concat(Ss(arguments));return de(this,Ob(this,iA,t))},zipAll:function(){var t=[this].concat(Ss(arguments));return de(this,Ob(this,iA,t,!0))},zipWith:function(t){var r=Ss(arguments);return r[0]=this,de(this,Ob(this,t,r))}});var a0=Mu.prototype;a0[_B]=!0;a0[e0]=!0;Ru(t0,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var _d=t0.prototype;_d.has=In.includes;_d.contains=_d.includes;_d.keys=_d.values;Ru(yc,E1);Ru(Sa,a0);Ru(n0,_d);function rA(e,t,r,n,i,a){return Ai(e.size),e.__iterate(function(s,o,f){i?(i=!1,r=s):r=t.call(n,r,s,o,f)},a),r}function MF(e,t){return t}function RF(e,t){return[t,e]}function A_(e){return function(){return!e.apply(this,arguments)}}function nA(e){return function(){return-e.apply(this,arguments)}}function iA(){return Ss(arguments)}function aA(e,t){return e<t?1:e>t?-1:0}function LF(e){if(e.size===1/0)return 0;var t=Bi(e),r=be(e),n=t?1:0,i=e.__iterate(r?t?function(a,s){n=31*n+sA(kn(a),kn(s))|0}:function(a,s){n=n+sA(kn(a),kn(s))|0}:t?function(a){n=31*n+kn(a)|0}:function(a){n=n+kn(a)|0});return HF(i,n)}function HF(e,t){return t=G0(t,3432918353),t=G0(t<<15|t>>>-15,461845907),t=G0(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=G0(t^t>>>16,2246822507),t=G0(t^t>>>13,3266489909),t=s2(t^t>>>16),t}function sA(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var _u=function(e){function t(r){return r==null?Q3():d2(r)?r:Q3().withMutations(function(n){var i=t0(r);Ai(i.size),i.forEach(function(a){return n.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(xa(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(i0);_u.isOrderedSet=d2;var Lu=_u.prototype;Lu[e0]=!0;Lu.zip=a0.zip;Lu.zipWith=a0.zipWith;Lu.zipAll=a0.zipAll;Lu.__empty=Q3;Lu.__make=eO;function eO(e,t){var r=Object.create(Lu);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var oA;function Q3(){return oA||(oA=eO(vh()))}var rO={LeftThenRight:-1,RightThenLeft:1};function PF(e){if(gc(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Hi(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var hr=function(t,r){var n;PF(t);var i=function(o){var f=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var c=Object.keys(t),u=a._indices={};a._name=r,a._keys=c,a._defaultValues=t;for(var l=0;l<c.length;l++){var h=c[l];u[h]=l,a[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+k8(this)+' with property "'+h+'" since that property name is part of the Record API.'):NF(a,h)}}return this.__ownerID=void 0,this._values=ya().withMutations(function(g){g.setSize(f._keys.length),xa(o).forEach(function(m,A){g.set(f._indices[A],m===f._defaultValues[A]?void 0:m)})}),this},a=i.prototype=Object.create(we);return a.constructor=i,r&&(i.displayName=r),i};hr.prototype.toString=function(){for(var t=k8(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],t+=(i?", ":"")+n+": "+Ep(this.get(n));return t+" }"};hr.prototype.equals=function(t){return this===t||gc(t)&&md(this).equals(md(t))};hr.prototype.hashCode=function(){return md(this).hashCode()};hr.prototype.has=function(t){return this._indices.hasOwnProperty(t)};hr.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],i=this._values.get(n);return i===void 0?this._defaultValues[t]:i};hr.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return U8(this,n)}return this};hr.prototype.remove=function(t){return this.set(t)};hr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:U8(this,t)};hr.prototype.wasAltered=function(){return this._values.wasAltered()};hr.prototype.toSeq=function(){return md(this)};hr.prototype.toJS=function(){return ry(this)};hr.prototype.entries=function(){return this.__iterator(ga)};hr.prototype.__iterator=function(t,r){return md(this).__iterator(t,r)};hr.prototype.__iterate=function(t,r){return md(this).__iterate(t,r)};hr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?U8(this,r,t):(this.__ownerID=t,this._values=r,this)};hr.isRecord=gc;hr.getDescriptiveName=k8;var we=hr.prototype;we[wB]=!0;we[u1]=we.remove;we.deleteIn=we.removeIn=S8;we.getIn=JB;we.hasIn=In.hasIn;we.merge=NB;we.mergeWith=UB;we.mergeIn=T8;we.mergeDeep=qB;we.mergeDeepWith=KB;we.mergeDeepIn=B8;we.setIn=E8;we.update=C8;we.updateIn=I8;we.withMutations=v1;we.asMutable=_1;we.asImmutable=m1;we[n2]=we.entries;we.toJSON=we.toObject=In.toObject;we.inspect=we.toSource=function(){return this.toString()};function U8(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function k8(e){return e.constructor.displayName||e.constructor.name||"Record"}function md(e){return d8(e._keys.map(function(t){return[t,e.get(t)]}))}function NF(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){v8(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var nO=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(E_)return E_;E_=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,i){return this.has(n)?this._value:i},t.prototype.includes=function(n){return Ar(this._value,n)},t.prototype.slice=function(n,i){var a=this.size;return l1(n,i,a)?this:new t(this._value,d1(i,a)-Zd(n,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Ar(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Ar(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,i){for(var a=this.size,s=0;s!==a&&n(this._value,i?a-++s:s++,this)!==!1;);return s},t.prototype.__iterator=function(n,i){var a=this,s=this.size,o=0;return new ee(function(){return o===s?Vn():Be(n,i?s-++o:o++,a._value)})},t.prototype.equals=function(n){return n instanceof t?Ar(this._value,n._value):H8(this,n)},t}(Sa),E_;function iO(e,t){return aO([],t||UF,e,"",t&&t.length>2?[]:void 0,{"":e})}function aO(e,t,r,n,i,a){if(typeof r!="string"&&!Hi(r)&&(c8(r)||f8(r)||f2(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&n!==""&&i.push(n);var s=t.call(a,n,Cn(r).map(function(o,f){return aO(e,t,o,f,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),s}return r}function UF(e,t){return Jr(t)?t.toList():be(t)?t.toMap():t.toSet()}var sO="4.3.7",kF={version:sO,Collection:Te,Iterable:Te,Seq:Cn,Map:Vo,OrderedMap:ns,List:ya,Stack:w1,Set:i0,OrderedSet:_u,PairSorting:rO,Record:hr,Range:P8,Repeat:nO,is:Ar,fromJS:iO,hash:kn,isImmutable:Hi,isCollection:Sn,isKeyed:be,isIndexed:Jr,isAssociative:Jd,isOrdered:Bi,isValueObject:ty,isPlainObject:f2,isSeq:h1,isList:l2,isMap:b1,isOrderedMap:a2,isStack:Tp,isSet:A1,isOrderedSet:d2,isRecord:gc,get:c2,getIn:h2,has:_8,hasIn:N8,merge:zB,mergeDeep:FB,mergeWith:jB,mergeDeepWith:$B,remove:m8,removeIn:x8,set:w8,setIn:A8,update:u2,updateIn:vc},zF=Te;const jF=Object.freeze(Object.defineProperty({__proto__:null,Collection:Te,Iterable:zF,List:ya,Map:Vo,OrderedMap:ns,OrderedSet:_u,PairSorting:rO,Range:P8,Record:hr,Repeat:nO,Seq:Cn,Set:i0,Stack:w1,default:kF,fromJS:iO,get:c2,getIn:h2,has:_8,hasIn:N8,hash:kn,is:Ar,isAssociative:Jd,isCollection:Sn,isImmutable:Hi,isIndexed:Jr,isKeyed:be,isList:l2,isMap:b1,isOrdered:Bi,isOrderedMap:a2,isOrderedSet:d2,isPlainObject:f2,isRecord:gc,isSeq:h1,isSet:A1,isStack:Tp,isValueObject:ty,merge:zB,mergeDeep:FB,mergeDeepWith:$B,mergeWith:jB,remove:m8,removeIn:x8,set:w8,setIn:A8,update:u2,updateIn:vc,version:sO},Symbol.toStringTag,{value:"Module"})),Go=jx(jF);var Hr={},oO={};Object.defineProperty(oO,"__esModule",{value:!0});var Hu={},fO=function e(t){Object.freeze(t);var r=typeof t=="function",n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach(function(i){n.call(t,i)&&(!r||i!=="caller"&&i!=="callee"&&i!=="arguments")&&t[i]!==null&&(typeof t[i]=="object"||typeof t[i]=="function")&&!Object.isFrozen(t[i])&&e(t[i])}),t},s0={};Object.defineProperty(s0,"__esModule",{value:!0});s0.createConfig=z8;s0.predefined=void 0;var FF=$F(fO);function $F(e){return e&&e.__esModule?e:{default:e}}function z8(e){return(0,FF.default)(e)}const qF=z8({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),KF=z8({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});s0.predefined={LINA:qF,AGGRON4:KF};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.assertHashType=cO;Hu.getConfig=XF;Hu.initializeConfig=ZF;Hu.validateConfig=uO;var QF=VF(fO),YF=s0;function VF(e){return e&&e.__esModule?e:{default:e}}function GF(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function fA(e,t){if(GF(e,t),t.length!==66)throw new Error(`${e} must be a hex string of 66 characters long!`)}function WF(e,t){if(t!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function cO(e,t){if(t!=="type"&&t!=="data"&&t!=="data1"&&t!=="data2")throw new Error(`${e} must one of type, data, data1, data2!`)}function cA(e,t="variable"){if(!e)throw new Error(`${t} is not valid`)}function uO(e){cA(typeof e.SCRIPTS=="object"&&e.SCRIPTS!=null,"config.SCRIPT");for(const t of Object.keys(e.SCRIPTS)){const r=e.SCRIPTS[t];cA(r==null?void 0:r.CODE_HASH),fA(`SCRIPTS.${t}.CODE_HASH`,r.CODE_HASH),cO(`SCRIPTS.${t}.HASH_TYPE`,r.HASH_TYPE),fA(`SCRIPTS.${t}.TX_HASH`,r.TX_HASH),WF(`SCRIPTS.${t}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if(n!=="depGroup"&&n!=="code")throw new Error(`SCRIPTS.${t}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(i!=null&&typeof i!="number")throw new Error("SHORT_ID must be a number!")}}let lO=YF.predefined.LINA;function XF(){return lO}function ZF(e){uO(e),lO=(0,QF.default)(e)}var p2={};Object.defineProperty(p2,"__esModule",{value:!0});p2.findConfigByScript=JF;p2.nameOfScript=t$;var dO=Hu;function JF(e,t){const r=t||(0,dO.getConfig)().SCRIPTS;return Object.values(r).find(n=>(n==null?void 0:n.CODE_HASH)===e.codeHash&&(n==null?void 0:n.HASH_TYPE)===e.hashType)}function t$(e,t){const r=t||(0,dO.getConfig)().SCRIPTS,n=Object.entries(r).find(([,i])=>(i==null?void 0:i.CODE_HASH)===e.codeHash&&(i==null?void 0:i.HASH_TYPE)===e.hashType);if(n)return n[0]}var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SIGHASH_OUTPUT_LOC=Ei.SIGHASH_GROUP_OUTPUT_LOC=Ei.MULTISIG_OUTPUT_LOC=Ei.MULTISIG_GROUP_OUTPUT_LOC=Ei.DAO_OUTPUT_LOC=void 0;Ei.generateGenesisScriptConfigs=r$;var e$=xr;const uA=Ei.SIGHASH_OUTPUT_LOC=[0,1],lA=Ei.MULTISIG_OUTPUT_LOC=[0,4],dA=Ei.DAO_OUTPUT_LOC=[0,2],hA=Ei.SIGHASH_GROUP_OUTPUT_LOC=[1,0],pA=Ei.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function r$(e){if(!e||Number(e.header.number)!==0)throw new Error("The block must be a genesis block");const t=e.transactions;return{SECP256K1_BLAKE160:{...x_({transaction:t[uA[0]],outputIndex:uA[1],depGroupTransaction:t[hA[0]],depGroupOutputIndex:hA[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...x_({transaction:t[lA[0]],outputIndex:lA[1],depGroupTransaction:t[pA[0]],depGroupOutputIndex:pA[1]}),SHORT_ID:1},DAO:x_({transaction:t[dA[0]],outputIndex:dA[1]})}}function x_(e){var t;const{transaction:r,outputIndex:n}=e,i=e$.utils.computeScriptHash(S_((t=r.outputs[n])===null||t===void 0?void 0:t.type));if("depGroupTransaction"in e){const{depGroupOutputIndex:a,depGroupTransaction:s}=e;return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"depGroup",TX_HASH:S_(s.hash),INDEX:bA(a)}}return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"code",INDEX:bA(n),TX_HASH:S_(r.hash)}}function S_(e){if(e==null)throw new Error("The block must be a genesis block");return e}function bA(e){return`0x${e.toString(16)}`}var x1={};Object.defineProperty(x1,"__esModule",{value:!0});x1.createLatestTypeIdResolver=hO;x1.createRpcResolver=n$;x1.refreshScriptConfigs=i$;function n$(e){return hO(async n=>{const i=await e.createBatchRequest(n.map(a=>["getTransaction",a])).exec();return ny(n,i,(a,s)=>{if(!(s!=null&&s.transaction))throw new Error(`Cannot find transaction ${a}`);return s.transaction})},async n=>(await e.createBatchRequest(n.map(a=>["getCells",{script:a,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"])).exec()).map(a=>a.objects[0]))}function hO(e,t){return async r=>{const n=await e(r.map(s=>s.txHash)),i=ny(r,n,(s,o)=>(Yh(s),Yh(o,`Cannot find the OutPoint ${s.txHash}#${s.index}`),o.outputs[Number(s.index)].type)),a=await t(i.filter(Boolean));return ny(r,i,(s,o)=>{if(Yh(s),!o)return s;const[f]=a.splice(0,1);return f.outPoint})}}async function i$(e,{resolve:t,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const n=Object.entries(e).filter(([o,f])=>!r.includes(o)&&(f==null?void 0:f.HASH_TYPE)==="type"),i=n.map(([o,f])=>({txHash:f.TX_HASH,index:f.INDEX})),a=await t(i),s=Object.fromEntries(ny(n,a,(o,f)=>{Yh(o);const[c,u]=o;return Yh(f,`Refreshing failed, cannot load config of ${c}, please check whether the scriptConfig is correct`),[c,{...u,TX_HASH:f.txHash,INDEX:f.index}]}));return Object.assign({},e,s)}function ny(e,t,r){return e.map((n,i)=>r(e[i],t[i]))}function Yh(e,t="Not nullable"){if(e==null)throw new Error(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(e,"createConfig",{enumerable:!0,get:function(){return a.createConfig}}),Object.defineProperty(e,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return o.createLatestTypeIdResolver}}),Object.defineProperty(e,"createRpcResolver",{enumerable:!0,get:function(){return o.createRpcResolver}}),Object.defineProperty(e,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(e,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return s.generateGenesisScriptConfigs}}),Object.defineProperty(e,"getConfig",{enumerable:!0,get:function(){return n.getConfig}}),e.helpers=void 0,Object.defineProperty(e,"initializeConfig",{enumerable:!0,get:function(){return n.initializeConfig}}),Object.defineProperty(e,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(e,"predefined",{enumerable:!0,get:function(){return a.predefined}}),Object.defineProperty(e,"refreshScriptConfigs",{enumerable:!0,get:function(){return o.refreshScriptConfigs}}),Object.defineProperty(e,"validateConfig",{enumerable:!0,get:function(){return n.validateConfig}});var r=oO;Object.keys(r).forEach(function(u){u==="default"||u==="__esModule"||Object.prototype.hasOwnProperty.call(t,u)||u in e&&e[u]===r[u]||Object.defineProperty(e,u,{enumerable:!0,get:function(){return r[u]}})});var n=Hu,i=c(p2);e.helpers=i;var a=s0,s=Ei,o=x1;function f(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,h=new WeakMap;return(f=function(g){return g?h:l})(u)}function c(u,l){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var h=f(l);if(h&&h.has(u))return h.get(u);var g={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in u)if(A!=="default"&&{}.hasOwnProperty.call(u,A)){var S=m?Object.getOwnPropertyDescriptor(u,A):null;S&&(S.get||S.set)?Object.defineProperty(g,A,S):g[A]=u[A]}return g.default=u,h&&h.set(u,g),g}})(Hr);var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.ADDRESS_FORMAT_SHORT=ua.ADDRESS_FORMAT_FULLTYPE=ua.ADDRESS_FORMAT_FULLDATA=ua.ADDRESS_FORMAT_FULL=void 0;ua.parseDeprecatedCkb2019Address=l$;ua.parseFullFormatAddress=u$;var a$=xr,Hc=ae,pO=Hr,iy=ac;const bO=1023,s$=ua.ADDRESS_FORMAT_FULL=0,o$=ua.ADDRESS_FORMAT_SHORT=1,f$=ua.ADDRESS_FORMAT_FULLDATA=2,c$=ua.ADDRESS_FORMAT_FULLTYPE=4;function u$(e,{config:t}){t=t||(0,pO.getConfig)();const{words:r,prefix:n}=iy.bech32m.decode(e,bO);if(n!==t.PREFIX)throw Error(`Invalid prefix! Expected: ${t.PREFIX}, actual: ${n}`);const[i,...a]=iy.bech32m.fromWords(r);if(i!==s$)throw new Error("Invalid address format type");if(a.length<33)throw new Error("Invalid payload length, too short!");const s=Hc.bytes.hexify(a.slice(0,32)),o=a$.blockchain.HashType.unpack(a.slice(32,33)),f=Hc.bytes.hexify(a.slice(33));return{codeHash:s,hashType:o,args:f}}function l$(e,{config:t}){t=t||(0,pO.getConfig)();const{prefix:r,words:n}=iy.bech32.decode(e,bO);if(r!==t.PREFIX)throw Error(`Invalid prefix! Expected: ${t.PREFIX}, actual: ${r}`);const[i,...a]=iy.bech32.fromWords(n);switch(i){case o$:{const[s,...o]=a;if(o.length!==20)throw Error("Invalid payload length!");const f=Object.values(t.SCRIPTS).find(c=>c&&c.SHORT_ID===s);if(!f)throw Error(`Invalid code hash index: ${s}!`);return{codeHash:f.CODE_HASH,hashType:f.HASH_TYPE,args:Hc.bytes.hexify(o)}}case f$:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:Hc.bytes.hexify(a.slice(0,32)),hashType:"data",args:Hc.bytes.hexify(a.slice(32))}}case c$:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:Hc.bytes.hexify(a.slice(0,32)),hashType:"type",args:Hc.bytes.hexify(a.slice(32))}}}throw Error(`Invalid payload format type: ${i}`)}var j8={};Object.defineProperty(j8,"__esModule",{value:!0});j8.hexToByteArray=d$;function d$(e){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error("Invalid hex string!");e.startsWith("0x")&&(e=e.slice(2));const t=[];for(;e.length>=2;)t.push(parseInt(e.slice(0,2),16)),e=e.slice(2);return t}var F8={};Object.defineProperty(F8,"__esModule",{value:!0});F8.refreshTypeIdCellDeps=h$;async function h$(e,{resolve:t}){const r=e.cellDeps.map(({outPoint:i})=>i).toArray(),n=await t(r);return e.update("cellDeps",i=>i.map((a,s)=>({...a,outPoint:n[s]})))}var C_={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.createModelHelper=b$;Pu.defaultDeepClone=ay;var gA=ae,p$=xe;function b$(e){return{create:t=>e.unpack(e.pack(t)),hash:t=>gA.bytes.bytify((0,p$.ckbHash)(e.pack(t))),equals:(t,r)=>gA.bytes.equal(e.pack(t),e.pack(r)),clone:ay}}function ay(e){const t=typeof e;if(t==="number"||t==="string"||t==="boolean"||t==="bigint"||e==null)return e;if(Array.isArray(e))return e.map(ay);if(t==="object")return Object.entries(e).reduce((r,[n,i])=>Object.assign(r,{[n]:ay(i)}),{});throw new Error("Cannot clone the value: "+String(e))}var W0={},X0={},yA;function gO(){if(yA)return X0;yA=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.scriptHelper=void 0;var e=xr,t=Hr,r=ui(),n=Pu;function i(a){if(a.startsWith("ckb"))return(0,r.parseAddress)(a,{config:t.predefined.LINA});if(a.startsWith("ckt"))return(0,r.parseAddress)(a,{config:t.predefined.AGGRON4});throw new Error(`The address prefix ${a} is unknown`)}return X0.scriptHelper=(0,n.createModelHelper)({pack:a=>e.blockchain.Script.pack(typeof a=="string"?i(a):a),unpack:a=>e.blockchain.Script.unpack(a)}),X0}var S1={};Object.defineProperty(S1,"__esModule",{value:!0});S1.outPointHelper=void 0;var g$=xr,y$=Pu;S1.outPointHelper=(0,y$.createModelHelper)(g$.blockchain.OutPoint);var vA;function v$(){if(vA)return W0;vA=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.cellHelper=void 0;var e=Pu,t=xr,r=gO(),n=me,i=ae,a=e1,s=S1,o=ui();function f(u){return!u||typeof u!="object"?!1:"lock"in u}const c=(0,a.table)({cellOutput:t.blockchain.CellOutput,data:t.blockchain.Bytes,outPoint:(0,a.option)(t.blockchain.OutPoint)},["cellOutput","data","outPoint"]);return W0.cellHelper=(0,e.createModelHelper)({pack:u=>{const l=f(u)?{cellOutput:{capacity:n.BI.from(u.capacity||"0x0").toHexString(),lock:r.scriptHelper.create(u.lock),type:u.type&&r.scriptHelper.create(u.type)},outPoint:u.outPoint&&s.outPointHelper.create(u.outPoint),data:i.bytes.hexify(u.data||"0x")}:u;return n.BI.from(l.cellOutput.capacity).eq(0)&&(l.cellOutput.capacity=(0,o.minimalCellCapacityCompatible)(l).toHexString()),c.pack(l)},unpack:u=>c.unpack(u)}),W0}var _A;function _$(){return _A||(_A=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cellHelper",{enumerable:!0,get:function(){return r.cellHelper}}),Object.defineProperty(e,"createModelHelper",{enumerable:!0,get:function(){return t.createModelHelper}}),Object.defineProperty(e,"outPointHelper",{enumerable:!0,get:function(){return i.outPointHelper}}),Object.defineProperty(e,"scriptHelper",{enumerable:!0,get:function(){return n.scriptHelper}});var t=Pu,r=v$(),n=gO(),i=S1}(C_)),C_}var mA;function ui(){return mA||(mA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};e.addressToScript=e.TransactionSkeleton=void 0,e.createTransactionFromSkeleton=x,e.createTransactionSkeleton=E,e.encodeToAddress=v,e.encodeToConfigAddress=d,e.generateAddress=W,e.generateSecp256k1Blake160Address=_,e.generateSecp256k1Blake160MultisigAddress=I,e.locateCellDep=K,e.minimalCellCapacity=M,e.minimalCellCapacityCompatible=N,e.minimalScriptCapacity=w,e.minimalScriptCapacityCompatible=B,e.objectToTransactionSkeleton=F,e.parseAddress=b,Object.defineProperty(e,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return h.refreshTypeIdCellDeps}}),e.scriptToAddress=void 0,e.sealTransaction=p,e.transactionSkeletonToObject=T;var r=ae,n=xr,i=ac,a=Go,s=Hr,o=me,f=ua,c=j8,u=W4,l=Et,h=F8,g=_$();Object.keys(g).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(t,L)||L in e&&e[L]===g[L]||Object.defineProperty(e,L,{enumerable:!0,get:function(){return g[L]}})});const{bytify:m,hexify:A}=r.bytes,S=1023;function w(L,{validate:k=!0}={}){const $=B(L,{validate:k});return BigInt($.toString())}const C=1e8;function B(L,{validate:k=!0}={}){k&&u.validators.ValidateScript(L);let $=0;return $+=m(L.codeHash).length,$+=m(L.args).length,$+=1,o.BI.from($).mul(C)}function M(L,{validate:k=!0}={}){const $=N(L,{validate:k});return BigInt($.toString())}function N(L,{validate:k=!0}={}){k&&n.blockchain.CellOutput.pack(L.cellOutput);let $=8;return $+=m(L.cellOutput.lock.codeHash).length,$+=m(L.cellOutput.lock.args).length,$+=1,L.cellOutput.type&&($+=m(L.cellOutput.type.codeHash).length,$+=m(L.cellOutput.type.args).length,$+=1),L.data&&($+=m(L.data).length),o.BI.from($).mul(C)}function K(L,{config:k=void 0}={}){k=k||(0,s.getConfig)();const $=Object.values(k.SCRIPTS).find(H=>H&&H.CODE_HASH===L.codeHash&&H.HASH_TYPE===L.hashType);return $?{depType:$.DEP_TYPE,outPoint:{txHash:$.TX_HASH,index:$.INDEX}}:null}let Q=!1;const j=2,G=4;function W(L,{config:k=void 0}={}){k=k||(0,s.getConfig)(),Q||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),Q=!0),u.validators.ValidateScript(L);const $=Object.values(k.SCRIPTS).find(X=>X&&X.CODE_HASH===L.codeHash&&X.HASH_TYPE===L.hashType),H=[];if($&&$.SHORT_ID!==void 0)H.push(1,$.SHORT_ID),H.push(...(0,c.hexToByteArray)(L.args));else{if(L.hashType==="type")H.push(G);else if(L.hashType==="data")H.push(j);else throw new Error(`Invalid hashType ${L.hashType}`);H.push(...(0,c.hexToByteArray)(L.codeHash)),H.push(...(0,c.hexToByteArray)(L.args))}const q=i.bech32.toWords(H);return i.bech32.encode(k.PREFIX,q,S)}e.scriptToAddress=W;function R(L,k,{config:$=void 0}={}){$=$||(0,s.getConfig)();const H=$.SCRIPTS[k];if(!H){const X=Object.keys($.SCRIPTS);throw new Error(`Invalid script type: ${k}, only support: ${X}`)}const q={codeHash:H.CODE_HASH,hashType:H.HASH_TYPE,args:L};return W(q,{config:$})}function _(L,{config:k=void 0}={}){return R(L,"SECP256K1_BLAKE160",{config:k})}function I(L,{config:k=void 0}={}){return R(L,"SECP256K1_BLAKE160_MULTISIG",{config:k})}function b(L,{config:k=void 0}={}){k=k||(0,s.getConfig)();try{return(0,f.parseFullFormatAddress)(L,{config:k})}catch{return(0,f.parseDeprecatedCkb2019Address)(L,{config:k})}}e.addressToScript=b;function v(L,{config:k=void 0}={}){u.validators.ValidateScript(L),k=k||(0,s.getConfig)();const $=r.bytes.concat([0],L.codeHash,l.HashType.pack(L.hashType),L.args);return i.bech32m.encode(k.PREFIX,i.bech32m.toWords($),S)}function d(L,k,$){const H=($==null?void 0:$.config)||(0,s.getConfig)(),q=H.SCRIPTS[k];if(!q){const et=Object.keys(H.SCRIPTS);throw new Error(`Invalid script type: ${String(k)}, only support: ${et}`)}const X={codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,args:L};return v(X,{config:H})}const y=e.TransactionSkeleton=(0,a.Record)({cellProvider:null,cellDeps:(0,a.List)(),headerDeps:(0,a.List)(),inputs:(0,a.List)(),outputs:(0,a.List)(),witnesses:(0,a.List)(),fixedEntries:(0,a.List)(),signingEntries:(0,a.List)(),inputSinces:(0,a.Map)()});function x(L,{validate:k=!0}={}){const $={version:"0x0",cellDeps:L.get("cellDeps").toArray(),headerDeps:L.get("headerDeps").toArray(),inputs:L.get("inputs").map((H,q)=>{if(!H.outPoint)throw new Error(`cannot find OutPoint in Inputs[${q}] when createTransactionFromSkeleton`);return{since:L.get("inputSinces").get(q,"0x0"),previousOutput:H.outPoint}}).toArray(),outputs:L.get("outputs").map(H=>H.cellOutput).toArray(),outputsData:L.get("outputs").map(H=>H.data||"0x0").toArray(),witnesses:L.get("witnesses").toArray()};return k&&u.validators.ValidateTransaction($),$}async function E(L,k){let $=y();$=$.update("cellDeps",X=>X.push(...L.cellDeps)),$=$.update("headerDeps",X=>X.push(...L.headerDeps));const H=await Promise.all(L.inputs.map(X=>k(X.previousOutput)));$=$.update("inputs",X=>X.push(...H)),$=$.update("inputSinces",X=>L.inputs.reduce((et,rt,U)=>et.set(U,rt.since),X));const q=L.outputs.map((X,et)=>{var rt;return{cellOutput:X,data:(rt=L.outputsData[et])!==null&&rt!==void 0?rt:"0x"}});return $=$.update("outputs",X=>X.push(...q)),$=$.update("witnesses",X=>X.push(...L.witnesses)),$}function p(L,k){const $=x(L);if(k.length!==L.get("signingEntries").size)throw new Error(`Requiring ${L.get("signingEntries").size} sealing contents but provided ${k.length}!`);return L.get("signingEntries").forEach((H,q)=>{switch(H.type){case"witness_args_lock":{const X=$.witnesses[H.index],et=n.blockchain.WitnessArgs.unpack(m(X)),rt={lock:k[q]},U=et.inputType;U&&(rt.inputType=U);const P=et.outputType;P&&(rt.outputType=P),$.witnesses[H.index]=A(n.blockchain.WitnessArgs.pack(rt));break}default:throw new Error(`Invalid signing entry type: ${H.type}`)}}),$}function T(L){return L.toJS()}function F(L){let k=(0,a.Map)();for(const[H,q]of Object.entries(L.inputSinces))k=k.set(+H,q);return y({cellProvider:L.cellProvider,cellDeps:(0,a.List)(L.cellDeps),headerDeps:(0,a.List)(L.headerDeps),inputs:(0,a.List)(L.inputs),outputs:(0,a.List)(L.outputs),witnesses:(0,a.List)(L.witnesses),fixedEntries:(0,a.List)(L.fixedEntries),signingEntries:(0,a.List)(L.signingEntries),inputSinces:k})}}(p_)),p_}var b2=ui(),yO,vO,_O,mO,wO,AO;const o0=Symbol("immutable"),Si=Symbol("cellDeps"),ii=Symbol("headerDeps"),ou=Symbol("witness"),Rs=Symbol("since");class wn{constructor(t){this[yO]=!0,this.codeHash=t.codeHash,this.hashType=t.hashType,this.args=t.args,this[Si]=Object.freeze(t[Si]),this[ii]=Object.freeze(t[ii]),this[ou]=t[ou],this[Rs]=t[Rs]}static from(t){return Object.freeze(t instanceof wn?t:new wn(t))}}yO=o0;const ha=wn.from({codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x",[Si]:[],[ii]:[],[ou]:void 0,[Rs]:"0x0"});class ko{constructor(t){this[vO]=!0,this.txHash=t.txHash,this.index=t.index}static from(t){return Object.freeze(t instanceof ko?t:new ko(t))}}vO=o0;class Bp{constructor(t){this[_O]=!0,this.capacity=t.capacity,this.lock=wn.from(t.lock),this.type=t.type?wn.from(t.type):void 0}static from(t){return Object.freeze(t instanceof Bp?t:new Bp(t))}}_O=o0;class Qe{constructor(t){this[mO]=!0;const{capacity:r,lock:n,type:i}={lock:ha,capacity:"0x0",...t.cellOutput,...t};this.cellOutput=Bp.from({capacity:r,lock:n,type:i}),this.data=t.data??"0x",this.outPoint=t.outPoint?ko.from(t.outPoint):void 0,this.blockHash=t.blockHash,this.blockNumber=t.blockNumber,this.txIndex=t.txIndex,BigInt(r)<=0n&&(this.cellOutput=Bp.from({capacity:b2.minimalCellCapacityCompatible(this,{validate:!1}).toHexString(),lock:n,type:i}))}static from(t){return Object.freeze(t instanceof Qe?t:new Qe(t))}}mO=o0;class fu{constructor(t){this[wO]=!0,this.outPoint=ko.from(t.outPoint),this.depType=t.depType}static from(t){return Object.freeze(t instanceof fu?t:new fu(t))}}wO=o0;class wd{constructor(t){this[AO]=!0,this.timestamp=t.timestamp,this.number=t.number,this.epoch=t.epoch,this.compactTarget=t.compactTarget,this.dao=t.dao,this.hash=t.hash,this.nonce=t.nonce,this.parentHash=t.parentHash,this.proposalsHash=t.proposalsHash,this.transactionsRoot=t.transactionsRoot,this.extraHash=t.extraHash,this.version=t.version}static from(t){return Object.freeze(t instanceof wd?t:new wd(t))}}AO=o0;const m$=Object.freeze(Po.Uint8);Object.freeze(Po.Uint16);const w$=Object.freeze(Po.Uint32),Ad=Object.freeze({...Po.Uint64,unpack:e=>Po.Uint64.unpack(e).toBigInt()}),Y3=Object.freeze({...Po.Uint128,unpack:e=>Po.Uint128.unpack(e).toBigInt()}),EO=Object.freeze(ae.createFixedBytesCodec({byteLength:4,pack:e=>{const t=new Uint8Array([0,0,0,0]);return new DataView(t.buffer).setInt32(0,e,!0),t},unpack:e=>new DataView(e.buffer).getInt32(0,!0)})),A$=Object.freeze(k4);var hi={},Ed={},g2={},Wo={},y2={},pn={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.default=fc.ErrorCode=void 0;let E$=fc.ErrorCode=function(e){return e[e.ParameterInvalid=101]="ParameterInvalid",e[e.IdNotMatch=201]="IdNotMatch",e[e.MethodNotFound=202]="MethodNotFound",e[e.PayloadMessage=203]="PayloadMessage",e[e.ResponseMessage=204]="ResponseMessage",e}({});fc.default=E$;Object.defineProperty(pn,"__esModule",{value:!0});pn.default=pn.StringHashTypeException=pn.PageSizeTooSmallException=pn.PageSizeTooLargeException=pn.OutputsValidatorTypeException=pn.HexStringWithout0xException=pn.BigintOrHexStringTypeException=void 0;var f0=x$(fc);function x$(e){return e&&e.__esModule?e:{default:e}}class xO extends RangeError{constructor(r,n){super(`Expect page size to be at most ${n}, but ${r} received`);Qr(this,"code",f0.default.ParameterInvalid)}}pn.PageSizeTooLargeException=xO;class SO extends RangeError{constructor(r,n){super(`Expect page size to be at least ${n}, but ${r} received`);Qr(this,"code",f0.default.ParameterInvalid)}}pn.PageSizeTooSmallException=SO;class CO extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'");Qr(this,"code",f0.default.ParameterInvalid)}}pn.OutputsValidatorTypeException=CO;class IO extends TypeError{constructor(r){super(`Expect number to be bigint or hex string, but ${r} received`);Qr(this,"code",f0.default.ParameterInvalid)}}pn.BigintOrHexStringTypeException=IO;class TO extends TypeError{constructor(r){super(`Expect hash to be string, but ${r} received`);Qr(this,"code",f0.default.ParameterInvalid)}}pn.StringHashTypeException=TO;class BO extends Error{constructor(r){super(`Hex string ${r} should start with 0x`);Qr(this,"code",f0.default.ParameterInvalid)}}pn.HexStringWithout0xException=BO;pn.default={PageSizeTooLargeException:xO,PageSizeTooSmallException:SO,OutputsValidatorTypeException:CO,BigintOrHexStringTypeException:IO,StringHashTypeException:TO,HexStringWithout0xException:BO};var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=Bo.ResponseException=Bo.IdNotMatchException=void 0;var OO=S$(fc);function S$(e){return e&&e.__esModule?e:{default:e}}class DO extends Error{constructor(r,n){super(`Expect json rpc id to be ${r}, but ${n} received`);Qr(this,"code",OO.default.IdNotMatch)}}Bo.IdNotMatchException=DO;class MO extends Error{constructor(){super(...arguments);Qr(this,"code",OO.default.ResponseMessage)}}Bo.ResponseException=MO;Bo.default={IdNotMatchException:DO,ResponseException:MO};var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.default=Is.PayloadInBatchException=Is.MethodInBatchNotFoundException=Is.IdNotMatchedInBatchException=void 0;var RO=I$(fc),C$=Bo;function I$(e){return e&&e.__esModule?e:{default:e}}const $8="Batch Request";class LO extends Error{constructor(r){super(`[${$8}]: Method ${r} is not found`);Qr(this,"code",RO.default.MethodNotFound)}}Is.MethodInBatchNotFoundException=LO;class HO extends Error{constructor(r,n){super(`[${$8} ${r}]: ${n}`);Qr(this,"code",RO.default.PayloadMessage);this.index=r}}Is.PayloadInBatchException=HO;class PO extends C$.IdNotMatchException{constructor(t,r,n){super(r,n),this.message=`[${$8} ${t}]: ${this.message}`,this.index=t}}Is.IdNotMatchedInBatchException=PO;Is.default={MethodInBatchNotFoundException:LO,PayloadInBatchException:HO,IdNotMatchedInBatchException:PO};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=pn;Object.keys(t).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===t[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}})});var r=Bo;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===r[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[i]}})});var n=Is;Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===n[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return n[i]}})})})(y2);Object.defineProperty(Wo,"__esModule",{value:!0});Wo.formatter=void 0;var Wu=y2,I_=me;const fr=Wo.formatter={toOptional:e=>t=>!e||t===void 0||t===null?t:e(t),toArray:e=>t=>typeof e!="function"||!Array.isArray(t)?t:t.map(e),toHash:e=>{if(typeof e!="string")throw new Wu.StringHashTypeException(e);return e.startsWith("0x")?e:`0x${e}`},toNumber:e=>{if(typeof e=="bigint")return`0x${e.toString(16)}`;if(typeof e!="string")throw new Wu.BigintOrHexStringTypeException(e);if(!e.startsWith("0x"))throw new Wu.HexStringWithout0xException(e);return e},toScript:e=>{const{codeHash:t,hashType:r,...n}=e;return{code_hash:fr.toHash(t),hash_type:r,...n}},toOutPoint:e=>{const{txHash:t,index:r,...n}=e;return{tx_hash:fr.toHash(t),index:fr.toNumber(r),...n}},toInput:e=>{if(!e)return e;const{previousOutput:t,since:r,...n}=e;return{previous_output:fr.toOutPoint(t),since:fr.toNumber(r),...n}},toOutput:e=>{if(!e)return e;const{capacity:t,lock:r,type:n=void 0,...i}=e;return{capacity:fr.toNumber(t),lock:fr.toScript(r),type:n&&fr.toScript(n),...i}},toDepType:e=>e==="depGroup"?"dep_group":e,toOrder:e=>e,toCellDep:e=>{if(!e)return e;const{outPoint:t,depType:r="code",...n}=e;return{out_point:fr.toOutPoint(t),dep_type:fr.toDepType(r),...n}},toRawTransaction:e=>{if(!e)return e;const{version:t,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:a=[],headerDeps:s=[],...o}=e,f=n.map(h=>fr.toInput(h)),c=i.map(h=>fr.toOutput(h)),u=r.map(h=>fr.toCellDep(h));return{version:fr.toNumber(t),cell_deps:u,inputs:f,outputs:c,outputs_data:a,header_deps:s,...o}},toPageNumber:(e="0x1")=>fr.toNumber(e),toPageSize:(e="0x32")=>{const t=I_.BI.from(e),r=50,n=0;if(I_.BI.from(t).gt(r))throw new Wu.PageSizeTooLargeException(e,r);if(I_.BI.from(t).lt(n))throw new Wu.PageSizeTooSmallException(e,n);return fr.toNumber(`0x${t.toString(16)}`)},toReverseOrder:(e=!1)=>!!e,toOutputsValidator:e=>{if(!e)return;if(["default","passthrough"].indexOf(e)>-1)return e;throw new Wu.OutputsValidatorTypeException},toBoolean:e=>!!e,toTransactionProof:e=>{if(!e)return e;const{blockHash:t,witnessesRoot:r,...n}=e;return{block_hash:t,witnesses_root:r,...n}},toTransactionAndWitnessProof:e=>({block_hash:e.blockHash,witnesses_proof:e.witnessesProof,transactions_proof:e.transactionsProof}),toSearchFilter:e=>e&&{script:e.script?fr.toScript(e.script):e.script,output_data_len_range:e.outputDataLenRange,output_capacity_range:e.outputCapacityRange,block_range:e.blockRange,script_len_range:e.scriptLenRange},toSearchKey:e=>e&&{script:fr.toScript(e.script),script_type:e.scriptType,filter:e.filter?fr.toSearchFilter(e.filter):e.filter,script_search_mode:e.scriptSearchMode?e.scriptSearchMode:"prefix"},toGetCellsSearchKey:e=>e&&{...fr.toSearchKey(e),with_data:e.withData},toGetTransactionsSearchKey:e=>e&&{...fr.toSearchKey(e),group_by_transaction:e.groupByTransaction}};var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.toBannedAddresses=ht.toBannedAddress=ht.toArray=ht.toAlertMessage=void 0;ht.toBlock=zO;ht.toHash=ht.toGetTransactionsResult=ht.toGetCellsResult=ht.toForkBlockResult=ht.toFeeRateStatistics=ht.toFeeRate=ht.toEstimateCycles=ht.toEpoch=ht.toDeploymentsInfo=ht.toDeploymentInfo=ht.toDeployment=ht.toDeployState=ht.toDepType=ht.toConsensus=ht.toCellsIncludingOutPoint=ht.toCellsCapacity=ht.toCells=ht.toCellbaseOutputCapacityDetails=ht.toCellIncludingOutPoint=ht.toCellDep=ht.toCell=ht.toCapacityByLockHash=ht.toBlockchainInfo=ht.toBlockFilter=ht.toBlockEconomicState=void 0;ht.toHeader=v2;ht.toTip=ht.toSyncState=ht.toScript=ht.toRemoteNodeInfo=ht.toRawTxPool=ht.toPeers=ht.toOutput=ht.toOutPoint=ht.toNumber=ht.toNullable=ht.toLockHashIndexStates=ht.toLockHashIndexState=ht.toLocalNodeInfo=ht.toLiveCellsByLockHash=ht.toLiveCellWithStatus=ht.toLiveCell=ht.toInput=void 0;ht.toTransaction=m2;ht.toUncleBlock=ht.toTxPoolInfo=ht.toTransactionsByLockHash=ht.toTransactionWithStatus=ht.toTransactionProof=ht.toTransactionPoint=ht.toTransactionAndWitnessProof=void 0;const T$=e=>Array.isArray(e.pending),B$=e=>t=>typeof e!="function"||!Array.isArray(t)?t:t.map(e);ht.toArray=B$;const O$=e=>t=>!e||t===null?t:e(t);ht.toNullable=O$;const D$=e=>e.toString();ht.toNumber=D$;const M$=e=>e;ht.toHash=M$;function v2(e){if(typeof e=="string"||!e)return e;const{compact_target:t,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:a,...s}=e;return{compactTarget:t,parentHash:a,transactionsRoot:r,proposalsHash:n,extraHash:i,...s}}const xd=e=>{if(!e)return e;const{code_hash:t,hash_type:r,...n}=e;return{codeHash:t,hashType:r,...n}};ht.toScript=xd;const NO=e=>{if(!e)return e;const{previous_output:t,...r}=e;return{previousOutput:t&&C1(t),...r}};ht.toInput=NO;const _2=e=>{if(!e)return e;const{lock:t,type:r,...n}=e;return{lock:xd(t),type:r&&xd(r),...n}};ht.toOutput=_2;const C1=e=>{const{tx_hash:t,...r}=e;return{txHash:t,...r}};ht.toOutPoint=C1;const UO=e=>e==="dep_group"?"depGroup":e;ht.toDepType=UO;const kO=e=>{if(!e)return e;const{out_point:t,dep_type:r="code",...n}=e;return{outPoint:C1(t),depType:UO(r),...n}};ht.toCellDep=kO;function m2(e){if(!e||typeof e!="object")return e;const{cell_deps:t=[],inputs:r=[],outputs:n=[],outputs_data:i=[],header_deps:a=[],...s}=e;return{cellDeps:t.map(kO),inputs:r.map(NO),outputs:n.map(_2),outputsData:i,headerDeps:a,...s}}const q8=e=>{if(!e)return e;const{header:t,...r}=e;return{header:v2(t),...r}};ht.toUncleBlock=q8;const R$=e=>({blockHash:e.block_hash,blockNumber:e.block_number});ht.toTip=R$;function zO(e){if(!e||typeof e=="string")return e;if("block"in e&&"cycles"in e)return{cycles:e.cycles,block:zO(e.block)};const{header:t,uncles:r=[],transactions:n=[],...i}=e;return{header:v2(t),uncles:r.map(q8),transactions:n.map(m2),...i}}const jO=e=>{if(!e)return e;const{notice_until:t,...r}=e;return{noticeUntil:t,...r}};ht.toAlertMessage=jO;const L$=e=>{if(!e)return e;const{is_initial_block_download:t,median_time:r,alerts:n,...i}=e;return{isInitialBlockDownload:t,medianTime:r,alerts:n.map(jO),...i}};ht.toBlockchainInfo=L$;const H$=e=>{if(!e)return e;const{node_id:t,protocols:r,...n}=e;return{nodeId:t,protocols:r.map(({id:i,name:a,support_versions:s})=>({id:i,name:a,supportVersions:s})),...n}};ht.toLocalNodeInfo=H$;const FO=e=>{if(!e)return e;const{node_id:t,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:a,...s}=e;return{nodeId:t,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:a.best_known_header_hash,bestKnownHeaderNumber:a.best_known_header_number,canFetchCount:a.can_fetch_count,inflightCount:a.inflight_count,lastCommonHeaderHash:a.last_common_header_hash,lastCommonHeaderNumber:a.last_common_header_number,unknownHeaderListSize:a.unknown_header_list_size},...s}};ht.toRemoteNodeInfo=FO;const P$=e=>{if(!e)return e;const{last_txs_updated_at:t,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:a,min_fee_rate:s,min_rbf_rate:o,tx_size_limit:f,max_tx_pool_size:c,...u}=e;return{lastTxsUpdatedAt:t,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:a,minFeeRate:s,minRbfRate:o,txSizeLimit:f,maxTxPoolSize:c,...u}};ht.toTxPoolInfo=P$;const N$=e=>Array.isArray(e)?e.map(FO):[];ht.toPeers=N$;const K8=e=>{if(!e)return e;const{lock:t,type:r,...n}=e;return{lock:xd(t),type:r?xd(r):void 0,...n}};ht.toCell=K8;const $O=e=>{if(!e)return e;const{data:t,output:r,...n}=e;return{data:t,output:_2(r),...n}};ht.toLiveCell=$O;const U$=e=>{if(!e)return e;const{cell:t,...r}=e;return{cell:$O(t),...r}};ht.toLiveCellWithStatus=U$;const k$=e=>Array.isArray(e)?e.map(K8):[];ht.toCells=k$;const qO=e=>{if(!e)return e;const{lock:t,block_hash:r,out_point:n,output_data_len:i,...a}=e;return{blockHash:r,lock:xd(t),outPoint:C1(n),outputDataLen:i,...a}};ht.toCellIncludingOutPoint=qO;const z$=e=>Array.isArray(e)?e.map(qO):[];ht.toCellsIncludingOutPoint=z$;const j$=e=>{if(!e)return e;const{transaction:t,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:a,fee:s,...o}=e;return{transaction:m2(t),txStatus:{blockHash:r,status:n,..."reason"in e.tx_status?{reason:e.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:a,fee:s,...o}};ht.toTransactionWithStatus=j$;const F$=e=>{if(!e)return e;const{start_number:t,compact_target:r,...n}=e;return{compactTarget:r,startNumber:t,...n}};ht.toEpoch=F$;const sy=e=>{if(!e)return e;const{block_number:t,tx_hash:r,...n}=e;return{blockNumber:t,txHash:r,...n}};ht.toTransactionPoint=sy;const $$=e=>e&&e.map(t=>({consumedBy:t.consumed_by?sy(t.consumed_by):t.consumed_by,createdBy:sy(t.created_by)}));ht.toTransactionsByLockHash=$$;const q$=e=>e&&e.map(t=>({cellOutput:K8(t.cell_output),createdBy:sy(t.created_by),cellbase:t.cellbase,outputDataLen:t.output_data_len}));ht.toLiveCellsByLockHash=q$;const KO=e=>{if(!e)return e;const{block_hash:t,block_number:r,lock_hash:n,...i}=e;return{blockHash:t,blockNumber:r,lockHash:n,...i}};ht.toLockHashIndexState=KO;const K$=e=>e&&e.map(KO);ht.toLockHashIndexStates=K$;const QO=e=>{if(!e)return e;const{ban_reason:t,ban_until:r,created_at:n,...i}=e;return{banReason:t,banUntil:r,createdAt:n,...i}};ht.toBannedAddress=QO;const Q$=e=>e&&e.map(t=>QO(t));ht.toBannedAddresses=Q$;const Y$=e=>{if(!e)return e;const{proposal_reward:t,tx_fee:r,...n}=e;return{proposalReward:t,txFee:r,...n}};ht.toCellbaseOutputCapacityDetails=Y$;const V$=e=>{if(!e)return e;const{fee_rate:t,...r}=e;return{feeRate:t,...r}};ht.toFeeRate=V$;const G$=e=>{if(!e)return e;const{cells_count:t,block_number:r,capacity:n,...i}=e;return{blockNumber:r,capacity:n,cellsCount:t,...i}};ht.toCapacityByLockHash=G$;const W$=e=>{if(!e)return e;const{finalized_at:t,miner_reward:r,txs_fee:n,...i}=e;return{finalizedAt:t,minerReward:r,txsFee:n,...i}};ht.toBlockEconomicState=W$;const X$=e=>e&&{bestKnownBlockNumber:e.best_known_block_number,bestKnownBlockTimestamp:e.best_known_block_timestamp,fastTime:e.fast_time,ibd:e.ibd,inflightBlocksCount:e.inflight_blocks_count,lowTime:e.low_time,normalTime:e.normal_time,orphanBlocksCount:e.orphan_blocks_count};ht.toSyncState=X$;const Z$=e=>{if(!e)return e;const{block_hash:t,witnesses_root:r,...n}=e;return{blockHash:t,witnessesRoot:r,...n}};ht.toTransactionProof=Z$;const J$=e=>({rfc:e.rfc,epochNumber:e.epoch_number}),YO=e=>({bit:e.bit,start:e.start,timeout:e.timeout,minActivationEpoch:e.min_activation_epoch,period:e.period,threshold:e.threshold});ht.toDeployment=YO;const wA=e=>"rfc0043"in e?{status:e.status,rfc0043:YO(e.rfc0043)}:e,tq=e=>{if(!e)return e;const t=e.hardfork_features,r=e.softforks,n=r.light_client&&wA(r.light_client),i=r.testdummy&&wA(r.testdummy);return{blockVersion:e.block_version,cellbaseMaturity:e.cellbase_maturity,daoTypeHash:e.dao_type_hash,epochDurationTarget:e.epoch_duration_target,genesisHash:e.genesis_hash,id:e.id,initialPrimaryEpochReward:e.initial_primary_epoch_reward,maxBlockBytes:e.max_block_bytes,maxBlockCycles:e.max_block_cycles,maxBlockProposalsLimit:e.max_block_proposals_limit,maxUnclesNum:e.max_uncles_num,medianTimeBlockCount:e.median_time_block_count,orphanRateTarget:e.orphan_rate_target,permanentDifficultyInDummy:e.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:e.primary_epoch_reward_halving_interval,proposerRewardRatio:e.proposer_reward_ratio,secondaryEpochReward:e.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:e.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:e.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:e.tx_proposal_window,txVersion:e.tx_version,typeIdCodeHash:e.type_id_code_hash,hardforkFeatures:t.map(J$),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};ht.toConsensus=tq;const eq=e=>{if(!e||T$(e))return e;const t=({ancestors_count:i,ancestors_cycles:a,ancestors_size:s,...o})=>({ancestorsCount:i,ancestorsCycles:a,ancestorsSize:s,...o}),r={},n={};return Object.keys(e.proposed).forEach(i=>{r[i]=t(e.proposed[i])}),Object.keys(e.pending).forEach(i=>{n[i]=t(e.pending[i])}),{proposed:r,pending:n}};ht.toRawTxPool=eq;const rq=e=>e&&{blockNumber:e.block_number,outPoint:C1(e.out_point),output:_2(e.output),outputData:e.output_data,txIndex:e.tx_index},nq=e=>({lastCursor:e.last_cursor,objects:e.objects.map(t=>rq(t))});ht.toGetCellsResult=nq;const iq=e=>!e.cells,aq=e=>e&&(iq(e)?{txHash:e.tx_hash,blockNumber:e.block_number,ioIndex:e.io_index,ioType:e.io_type,txIndex:e.tx_index}:{txHash:e.tx_hash,txIndex:e.tx_index,blockNumber:e.block_number,cells:e.cells}),sq=e=>e&&{lastCursor:e.last_cursor,objects:e.objects.map(t=>aq(t))};ht.toGetTransactionsResult=sq;const oq=e=>e&&{capacity:e.capacity,blockHash:e.block_hash,blockNumber:e.block_number};ht.toCellsCapacity=oq;const fq=e=>({hash:e.hash,data:e.data});ht.toBlockFilter=fq;const cq=e=>({blockHash:e.block_hash,transactionsProof:e.transactions_proof,witnessesProof:e.witnesses_proof});ht.toTransactionAndWitnessProof=cq;const uq=e=>({mean:e.mean,median:e.median});ht.toFeeRateStatistics=uq;const lq=e=>typeof e=="string"?e:{header:v2(e.header),uncles:e.uncles.map(q8),transactions:e.transactions.map(m2),proposals:e.proposals,extension:e.extension};ht.toForkBlockResult=lq;const dq=e=>({cycles:e.cycles});ht.toEstimateCycles=dq;const VO=e=>e==="locked_in"?"lockedIn":e;ht.toDeployState=VO;const V3=e=>({bit:e.bit,start:e.start,timeout:e.timeout,minActivationEpoch:e.min_activation_epoch,period:e.period,threshold:e.threshold,since:e.since,state:VO(e.state)});ht.toDeploymentInfo=V3;const hq=e=>{const{light_client:t,testdummy:r}=e.deployments;return{hash:e.hash,epoch:e.epoch,deployments:{...t?{lightClient:V3(t)}:{},...r?{testdummy:V3(r)}:{}}}};ht.toDeploymentsInfo=hq;Object.defineProperty(g2,"__esModule",{value:!0});g2.default=void 0;var Dn=Wo,Jn=pq(ht);function GO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(GO=function(n){return n?r:t})(e)}function pq(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=GO(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}g2.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:Jn.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:Jn.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:Jn.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[Dn.formatter.toNumber],resultFormatters:Jn.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[Dn.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[Dn.formatter.toHash],resultFormatters:Jn.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[Dn.formatter.toNumber],resultFormatters:Jn.toBlock},getHeader:{method:"get_header",paramsFormatters:[Dn.formatter.toHash],resultFormatters:Jn.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[Dn.formatter.toNumber],resultFormatters:Jn.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[Dn.formatter.toOutPoint],resultFormatters:Jn.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[Dn.formatter.toHash],resultFormatters:Jn.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[Dn.formatter.toHash],resultFormatters:Jn.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[Dn.formatter.toHash],resultFormatters:Jn.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[Dn.formatter.toArray(Dn.formatter.toHash),Dn.formatter.toOptional(Dn.formatter.toHash)],resultFormatters:Jn.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[Dn.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:Jn.toConsensus}};var w2={};Object.defineProperty(w2,"__esModule",{value:!0});w2.default=void 0;var T_=Wo;w2.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[T_.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[T_.formatter.toOutPoint,T_.formatter.toHash]}};var A2={};Object.defineProperty(A2,"__esModule",{value:!0});A2.default=void 0;var bq=Wo,Rb=gq(ht);function WO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(WO=function(n){return n?r:t})(e)}function gq(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=WO(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}A2.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:Rb.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:Rb.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:Rb.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:Rb.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[bq.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}};var E2={};Object.defineProperty(E2,"__esModule",{value:!0});E2.default=void 0;var AA=Wo,B_=yq(ht);function XO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(XO=function(n){return n?r:t})(e)}function yq(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=XO(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}E2.default={sendTransaction:{method:"send_transaction",paramsFormatters:[AA.formatter.toRawTransaction,AA.formatter.toOutputsValidator],resultFormatters:B_.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:B_.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:B_.toRawTxPool}};var x2={};Object.defineProperty(x2,"__esModule",{value:!0});x2.default=void 0;var EA=vq(ht);function ZO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(ZO=function(n){return n?r:t})(e)}function vq(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=ZO(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}x2.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:EA.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:EA.toDeploymentsInfo}};var S2={};Object.defineProperty(S2,"__esModule",{value:!0});S2.default=void 0;var ye=Wo,Tr=_q(ht);function JO(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(JO=function(n){return n?r:t})(e)}function _q(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=JO(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}const mq={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:Tr.toTip},getCells:{method:"get_cells",paramsFormatters:[ye.formatter.toGetCellsSearchKey,ye.formatter.toOrder,ye.formatter.toNumber,ye.formatter.toOptional(ye.formatter.toHash)],resultFormatters:Tr.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[ye.formatter.toGetTransactionsSearchKey,ye.formatter.toOrder,ye.formatter.toNumber,ye.formatter.toOptional(ye.formatter.toHash)],resultFormatters:Tr.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[ye.formatter.toSearchKey],resultFormatters:Tr.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[ye.formatter.toHash],resultFormatters:Tr.toNullable(Tr.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[ye.formatter.toArray(ye.formatter.toHash),ye.formatter.toOptional(ye.formatter.toHash)],resultFormatters:Tr.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[ye.formatter.toTransactionAndWitnessProof],resultFormatters:Tr.toArray(Tr.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[ye.formatter.toHash,ye.formatter.toOptional(ye.formatter.toNumber)],resultFormatters:Tr.toNullable(Tr.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[ye.formatter.toHash],resultFormatters:Tr.toNullable(Tr.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[ye.formatter.toRawTransaction],resultFormatters:Tr.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[ye.formatter.toOptional(ye.formatter.toNumber)],resultFormatters:Tr.toNullable(Tr.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[ye.formatter.toOptional(ye.formatter.toNumber)],resultFormatters:Tr.toNullable(Tr.toFeeRateStatistics)}};S2.default=mq;Object.defineProperty(Ed,"__esModule",{value:!0});Ed.rpcProperties=Ed.Base=void 0;var wq=c0(g2),Aq=c0(w2),Eq=c0(A2),xq=c0(E2),Sq=c0(x2),Cq=c0(S2);function c0(e){return e&&e.__esModule?e:{default:e}}const Iq=Ed.rpcProperties={...wq.default,...Aq.default,...Cq.default,...Eq.default,...xq.default,...Sq.default};var Ry,kx;let Tq=(kx=class{constructor(){Ot(this,Ry,Iq)}get rpcProperties(){return st(this,Ry)}},Ry=new WeakMap,kx);Ed.Base=Tq;var Z0={},C2={exports:{}};const{AbortController:tD,AbortSignal:Bq}=typeof self<"u"?self:typeof window<"u"?window:void 0;C2.exports=tD;C2.exports.AbortSignal=Bq;C2.exports.default=tD;var eD=C2.exports,G3={exports:{}};(function(e,t){var r=typeof self<"u"?self:jn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(b){return b&&DataView.prototype.isPrototypeOf(b)}if(o.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&c.indexOf(Object.prototype.toString.call(b))>-1};function l(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function h(b){return typeof b!="string"&&(b=String(b)),b}function g(b){var v={next:function(){var d=b.shift();return{done:d===void 0,value:d}}};return o.iterable&&(v[Symbol.iterator]=function(){return v}),v}function m(b){this.map={},b instanceof m?b.forEach(function(v,d){this.append(d,v)},this):Array.isArray(b)?b.forEach(function(v){this.append(v[0],v[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(v){this.append(v,b[v])},this)}m.prototype.append=function(b,v){b=l(b),v=h(v);var d=this.map[b];this.map[b]=d?d+", "+v:v},m.prototype.delete=function(b){delete this.map[l(b)]},m.prototype.get=function(b){return b=l(b),this.has(b)?this.map[b]:null},m.prototype.has=function(b){return this.map.hasOwnProperty(l(b))},m.prototype.set=function(b,v){this.map[l(b)]=h(v)},m.prototype.forEach=function(b,v){for(var d in this.map)this.map.hasOwnProperty(d)&&b.call(v,this.map[d],d,this)},m.prototype.keys=function(){var b=[];return this.forEach(function(v,d){b.push(d)}),g(b)},m.prototype.values=function(){var b=[];return this.forEach(function(v){b.push(v)}),g(b)},m.prototype.entries=function(){var b=[];return this.forEach(function(v,d){b.push([d,v])}),g(b)},o.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function A(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function S(b){return new Promise(function(v,d){b.onload=function(){v(b.result)},b.onerror=function(){d(b.error)}})}function w(b){var v=new FileReader,d=S(v);return v.readAsArrayBuffer(b),d}function C(b){var v=new FileReader,d=S(v);return v.readAsText(b),d}function B(b){for(var v=new Uint8Array(b),d=new Array(v.length),y=0;y<v.length;y++)d[y]=String.fromCharCode(v[y]);return d.join("")}function M(b){if(b.slice)return b.slice(0);var v=new Uint8Array(b.byteLength);return v.set(new Uint8Array(b)),v.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:o.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:o.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():o.arrayBuffer&&o.blob&&f(b)?(this._bodyArrayBuffer=M(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=M(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(B(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var K=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Q(b){var v=b.toUpperCase();return K.indexOf(v)>-1?v:b}function j(b,v){v=v||{};var d=v.body;if(b instanceof j){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,v.headers||(this.headers=new m(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!d&&b._bodyInit!=null&&(d=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new m(v.headers)),this.method=Q(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function G(b){var v=new FormData;return b.trim().split("&").forEach(function(d){if(d){var y=d.split("="),x=y.shift().replace(/\+/g," "),E=y.join("=").replace(/\+/g," ");v.append(decodeURIComponent(x),decodeURIComponent(E))}}),v}function W(b){var v=new m,d=b.replace(/\r?\n[\t ]+/g," ");return d.split(/\r?\n/).forEach(function(y){var x=y.split(":"),E=x.shift().trim();if(E){var p=x.join(":").trim();v.append(E,p)}}),v}N.call(j.prototype);function R(b,v){v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"OK",this.headers=new m(v.headers),this.url=v.url||"",this._initBody(b)}N.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},R.error=function(){var b=new R(null,{status:0,statusText:""});return b.type="error",b};var _=[301,302,303,307,308];R.redirect=function(b,v){if(_.indexOf(v)===-1)throw new RangeError("Invalid status code");return new R(null,{status:v,headers:{location:b}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(v,d){this.message=v,this.name=d;var y=Error(v);this.stack=y.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function I(b,v){return new Promise(function(d,y){var x=new j(b,v);if(x.signal&&x.signal.aborted)return y(new s.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function p(){E.abort()}E.onload=function(){var T={status:E.status,statusText:E.statusText,headers:W(E.getAllResponseHeaders()||"")};T.url="responseURL"in E?E.responseURL:T.headers.get("X-Request-URL");var F="response"in E?E.response:E.responseText;d(new R(F,T))},E.onerror=function(){y(new TypeError("Network request failed"))},E.ontimeout=function(){y(new TypeError("Network request failed"))},E.onabort=function(){y(new s.DOMException("Aborted","AbortError"))},E.open(x.method,x.url,!0),x.credentials==="include"?E.withCredentials=!0:x.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&o.blob&&(E.responseType="blob"),x.headers.forEach(function(T,F){E.setRequestHeader(F,T)}),x.signal&&(x.signal.addEventListener("abort",p),E.onreadystatechange=function(){E.readyState===4&&x.signal.removeEventListener("abort",p)}),E.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return I.polyfill=!0,a.fetch||(a.fetch=I,a.Headers=m,a.Request=j,a.Response=R),s.Headers=m,s.Request=j,s.Response=R,s.fetch=I,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(G3,G3.exports);var rD=G3.exports,xA;function Oq(){var s,o,f,c;if(xA)return Z0;xA=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.Method=void 0;var e=y2,t=I2(),r=i(eD),n=i(rD);function i(u){return u&&u.__esModule?u:{default:u}}class a{constructor(l,h,g={}){Ot(this,s);Ot(this,o);Ot(this,f,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0});Ot(this,c);Qr(this,"call",async(...l)=>{const h=this.getPayload(...l),g=new r.default,m=g.signal,A=setTimeout(()=>g.abort(),st(this,o).timeout),S=await st(this,o).fetch(st(this,c).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(h),signal:m}).then(w=>w.json()).then(w=>{var C,B,M;if(w.id!==h.id)throw new e.IdNotMatchException(h.id,w.id);if(w.error)throw new e.ResponseException(JSON.stringify(w.error));return(C=(B=(M=st(this,f)).resultFormatters)===null||B===void 0?void 0:B.call(M,w.result))!==null&&C!==void 0?C:w.result});return clearTimeout(A),S});Qr(this,"getPayload",(...l)=>{const h=l.map((A,S)=>st(this,f).paramsFormatters[S]&&st(this,f).paramsFormatters[S](A)||A);return{id:Math.round(Math.random()*1e4),method:st(this,f).method,params:h,jsonrpc:"2.0"}});_t(this,c,l),_t(this,f,h),_t(this,s,h.name);const{timeout:m=t.DEFAULT_RPC_TIMEOUT,fetch:A=n.default}=g;_t(this,o,{timeout:m,fetch:A}),Object.defineProperty(this.call,"name",{value:h.name,configurable:!1,writable:!1})}get name(){return st(this,s)}}return s=new WeakMap,o=new WeakMap,f=new WeakMap,c=new WeakMap,Z0.Method=a,Z0}var SA;function I2(){var h,g,m,A;if(SA)return hi;SA=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.ResultFormatter=hi.RPC=hi.ParamsFormatter=hi.DEFAULT_RPC_TIMEOUT=hi.CKBRPC=void 0;var e=Ed,t=Oq(),r=Wo,n=c(ht),i=y2,a=o(rD),s=o(eD);function o(S){return S&&S.__esModule?S:{default:S}}function f(S){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(f=function(B){return B?C:w})(S)}function c(S,w){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var C=f(w);if(C&&C.has(S))return C.get(S);var B={__proto__:null},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in S)if(N!=="default"&&{}.hasOwnProperty.call(S,N)){var K=M?Object.getOwnPropertyDescriptor(S,N):null;K&&(K.get||K.set)?Object.defineProperty(B,N,K):B[N]=S[N]}return B.default=S,C&&C.set(S,B),B}hi.ParamsFormatter=r.formatter,hi.ResultFormatter=n;const u=hi.DEFAULT_RPC_TIMEOUT=3e4;class l extends e.Base{constructor(C,B={}){super();Ot(this,h);Ot(this,g,{url:""});Ot(this,m,r.formatter);Ot(this,A,n);Qr(this,"addMethod",(C,B)=>{const M=new t.Method(this.node,C,B);Object.defineProperty(this,C.name,{value:M.call,enumerable:!0})});Qr(this,"createBatchRequest",(C=[])=>{const B=this,M=new Proxy([],{set(...N){const K=Object.keys(B);if(N[1]!=="length"){var Q;const j=N==null||(Q=N[2])===null||Q===void 0?void 0:Q[0];if(K.indexOf(j)===-1)throw new i.MethodInBatchNotFoundException(j)}return Reflect.set(...N)}});return Object.defineProperties(M,{add:{value(...N){return this.push(N),this}},remove:{value(N){return this.splice(N,1),this}},exec:{async value(){const N=M.map(([W,...R],_)=>{try{return new t.Method(B.node,{...B.rpcProperties[W],name:W}).getPayload(...R)}catch(I){throw new i.PayloadInBatchException(_,I.message)}}),K=new s.default,Q=K.signal,j=setTimeout(()=>K.abort(),st(B,h).timeout),G=await st(B,h).fetch(st(B,g).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(N),signal:Q}).then(W=>W.json());return clearTimeout(j),G.map((W,R)=>{var _,I,b;return W.id!==N[R].id?new i.IdNotMatchedInBatchException(R,N[R].id,W.id):(_=(I=(b=B.rpcProperties[M[R][0]]).resultFormatters)===null||I===void 0?void 0:I.call(b,W.result))!==null&&_!==void 0?_:W.result})}}}),C.forEach(N=>M.push(N)),M});this.setNode({url:C});const{timeout:M=u,fetch:N=a.default}=B;_t(this,h,{timeout:M,fetch:N}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach(K=>{this.addMethod({name:K,...this.rpcProperties[K]},st(this,h))})}get node(){return st(this,g)}get paramsFormatter(){return st(this,m)}get resultFormatter(){return st(this,A)}setNode(C){return Object.assign(this.node,C),this.node}}return h=new WeakMap,g=new WeakMap,m=new WeakMap,A=new WeakMap,hi.RPC=hi.CKBRPC=l,hi}var O_=I2();async function nD(e,t=Mq(e),r=!1,...n){const i=Rq(t);let a=Pq(e==="mainnet"?Hr.predefined.LINA:e==="testnet"?Hr.predefined.AGGRON4:{PREFIX:"ckt",SCRIPTS:Hr.generateGenesisScriptConfigs(await i.getBlockByNumber("0x0"))}),s=a.SCRIPTS;for(const o of n)s=Object.freeze({...s,...o(e,s)});return a=new iD(a.prefix,s),Hr.initializeConfig(r?{PREFIX:"",SCRIPTS:{}}:a),{chain:e,rpcUrl:t,rpc:i,config:a}}const Dq=Object.freeze({mainnet:"https://rpc.ankr.com/nervos_ckb",testnet:"https://testnet.ckb.dev",devnet:"http://127.0.0.1:8114/"});function Mq(e){return Dq[e]}function Rq(e){const t=new O_.RPC(e);return t.addMethod({name:"getCellsByLock",method:"get_cells",paramsFormatters:[r=>({script:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},script_type:"lock",script_search_mode:"exact"}),r=>r,r=>r==="max"?"0xffffffff":O_.ParamsFormatter.toNumber(r)],resultFormatters:r=>r.objects.map(({output:{capacity:n,lock:i,type:a},block_number:s,out_point:o,output_data:f,tx_index:c})=>({cellOutput:{capacity:n,lock:{codeHash:i.code_hash,hashType:i.hash_type,args:i.args},type:a?{codeHash:a.code_hash,hashType:a.hash_type,args:a.args}:void 0},data:f??"0x",outPoint:{index:o.index,txHash:o.tx_hash},blockNumber:s,txIndex:c}))}),t.addMethod({name:"getFeeRate",method:"get_fee_rate_statistics",paramsFormatters:[r=>O_.ParamsFormatter.toNumber(r)],resultFormatters:r=>!r||!r.median?1000n:BigInt(r.median)}),t}class Q8 extends Error{constructor(t){super(Lq),this.missingScriptName=t,Object.setPrototypeOf(this,Q8.prototype)}}const Lq="Script name not found";class iD{constructor(t,r){return this.prefix=t,this.scripts=Object.freeze(r),Object.freeze(this)}defaultScript(t){const r=this.scripts[t];if(!r)throw new Q8(t);return r.defaultScript}get PREFIX(){return this.prefix}get SCRIPTS(){return this.scripts}}class Vh{constructor(t,r=0){return t[Si][r].depType,this.defaultScript=t,this.index=r,Object.freeze(this)}get CODE_HASH(){return this.defaultScript.codeHash}get HASH_TYPE(){return this.defaultScript.hashType}get TX_HASH(){return this.defaultScript[Si][this.index].outPoint.txHash}get INDEX(){return this.defaultScript[Si][this.index].outPoint.index}get DEP_TYPE(){return this.defaultScript[Si][this.index].depType}}function Hq(e){if(e instanceof Vh)return e;const t=fu.from({outPoint:ko.from({txHash:e.TX_HASH,index:e.INDEX}),depType:e.DEP_TYPE});return new Vh(wn.from({...ha,codeHash:e.CODE_HASH,hashType:e.HASH_TYPE,[Si]:[t]}))}function Pq(e){const t={};for(const r in e.SCRIPTS)t[r]=Hq(e.SCRIPTS[r]);return new iD(e.PREFIX,t)}var Mn={},Tn={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.SECP_SIGNATURE_PLACEHOLDER=void 0;ue.addCellDep=aD;ue.default=void 0;ue.ensureScript=pD;ue.generateDaoScript=sD;ue.hashWitness=cg;ue.isAcpAddress=dD;ue.isAcpScript=G8;ue.isDaoScript=uD;ue.isOmnilockAddress=jq;ue.isOmnilockScript=fD;ue.isSecp256k1Blake160Address=oD;ue.isSecp256k1Blake160MultisigAddress=cD;ue.isSecp256k1Blake160MultisigScript=V8;ue.isSecp256k1Blake160Script=Y8;ue.isSudtScript=lD;ue.prepareSigningEntries=hD;var Nq=Go,I1=ui(),CA=ae,Hl=xr,Uq=Wd;const{CKBHasher:kq,ckbHash:zq}=Hl.utils;function aD(e,t){return e.get("cellDeps").find(n=>n.depType===t.depType&&new Hl.values.OutPointValue(n.outPoint,{validate:!1}).equals(new Hl.values.OutPointValue(t.outPoint,{validate:!1})))||(e=e.update("cellDeps",n=>n.push({outPoint:t.outPoint,depType:t.depType}))),e}function sD(e){const t=e.SCRIPTS.DAO;return{codeHash:t.CODE_HASH,hashType:t.HASH_TYPE,args:"0x"}}function Y8(e,t){const r=t.SCRIPTS.SECP256K1_BLAKE160;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function oD(e,t){const r=(0,I1.parseAddress)(e,{config:t});return Y8(r,t)}function fD(e,t){const r=t.SCRIPTS.OMNILOCK;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function jq(e,t){const r=(0,I1.parseAddress)(e,{config:t});return fD(r,t)}function V8(e,t){const r=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function cD(e,t){const r=(0,I1.parseAddress)(e,{config:t});return V8(r,t)}function uD(e,t){const r=t.SCRIPTS.DAO;return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function lD(e,t){const r=t.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function G8(e,t){const r=t.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function dD(e,t){const r=(0,I1.parseAddress)(e,{config:t});return G8(r,t)}function cg(e,t){const r=CA.bytes.hexify(Uq.Uint64.pack(CA.bytes.bytify(t).length));e.update(r),e.update(t)}function hD(e,t,r){const n=t.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);let i=(0,Nq.Set)();const a=(0,I1.createTransactionFromSkeleton)(e),s=zq(Hl.blockchain.RawTransaction.pack(a)),o=e.get("inputs"),f=e.get("witnesses");let c=e.get("signingEntries");for(let u=0;u<o.size;u++){const l=o.get(u);if(n.CODE_HASH===l.cellOutput.lock.codeHash&&n.HASH_TYPE===l.cellOutput.lock.hashType&&!i.has(l.cellOutput.lock.args)){i=i.add(l.cellOutput.lock.args);const h=new Hl.values.ScriptValue(l.cellOutput.lock,{validate:!1}),g=new kq;if(g.update(s),u>=f.size)throw new Error(`The first witness in the script group starting at input index ${u} does not exist, maybe some other part has invalidly tampered the transaction?`);cg(g,f.get(u));for(let A=u+1;A<o.size&&A<f.size;A++){const S=o.get(A);h.equals(new Hl.values.ScriptValue(S.cellOutput.lock,{validate:!1}))&&cg(g,f.get(A))}for(let A=o.size;A<f.size;A++)cg(g,f.get(A));const m={type:"witness_args_lock",index:u,message:g.digestHex()};c=c.push(m)}}return e=e.set("signingEntries",c),e}function pD(e,t,r){const n=t.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==e.codeHash||n.HASH_TYPE!==e.hashType)throw new Error(`Provided script is not ${r} script!`)}ue.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";ue.default={addCellDep:aD,generateDaoScript:sD,isSecp256k1Blake160Script:Y8,isSecp256k1Blake160MultisigScript:V8,isDaoScript:uD,isSudtScript:lD,prepareSigningEntries:hD,isSecp256k1Blake160Address:oD,isSecp256k1Blake160MultisigAddress:cD,ensureScript:pD,isAcpScript:G8,isAcpAddress:dD};var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.isMultisigFromInfo=Kq;Zn.multisigArgs=gD;Zn.parseFromInfo=Qq;Zn.serializeMultisigScript=bD;var Fq=xr,IA=ui(),$q=Hr,TA=ae;const{CKBHasher:qq}=Fq.utils;function Kq(e){if(!e||typeof e!="object")return!1;const t=e;return typeof(t==null?void 0:t.R)=="number"&&typeof(t==null?void 0:t.M)=="number"&&Array.isArray(t==null?void 0:t.publicKeyHashes)}function bD({R:e,M:t,publicKeyHashes:r}){if(e<0||e>255)throw new Error("`R` should be less than 256!");if(t<0||t>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+e.toString(16)).slice(-2)+("00"+t.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map(n=>n.slice(2)).join("")}function gD(e,t){let r="0x";return t!=null&&(r=TA.bytes.hexify(TA.number.Uint64LE.pack(t))),new qq().update(e).digestHex().slice(0,42)+r.slice(2)}function Qq(e,{config:t=void 0}={}){t=t||(0,$q.getConfig)();let r,n,i,a;if(typeof e=="string")r=(0,IA.parseAddress)(e,{config:t});else if("R"in e){const s=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!s)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=bD(e);const o=gD(n,e.since);r={codeHash:s.CODE_HASH,hashType:s.HASH_TYPE,args:o}}else if("address"in e){const s=t.SCRIPTS.ANYONE_CAN_PAY;if(!s)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=e.address;if(r=(0,IA.parseAddress)(o,{config:t}),i=e.destroyable,r.codeHash!==s.CODE_HASH||r.hashType!==s.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else if("script"in e)r=e.script,a=e.customData;else throw new Error("Invalid fromInfo format!");return{fromScript:r,multisigScript:n,destroyable:i,customData:a}}Object.defineProperty(Tn,"__esModule",{value:!0});Tn.default=Tn.CellCollector=void 0;Tn.injectCapacity=mD;Tn.payFee=_D;Tn.prepareSigningEntries=wD;Tn.setupInputCell=yD;Tn.transfer=vD;Tn.transferCompatible=T1;var Yq=Go,Lb=ui(),Pl=ae,Op=xr,u0=Hr,Xf=ue,Vq=Zn,Af=me;const{ScriptValue:_l}=Op.values,Gq=Tn.CellCollector=class{constructor(t,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,u0.getConfig)(),this.fromScript=(0,Vq.parseFromInfo)(t,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,Xf.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const t of this.cellCollector.collect())yield t}};async function yD(e,t,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,u0.getConfig)();const s=t.cellOutput.lock;if(!(0,Xf.isSecp256k1Blake160Script)(s,n))throw new Error("Not SECP256K1_BLAKE160 input!");e=e.update("inputs",l=>l.push(t));const o={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",l=>l.push(o)),a&&(e=e.update("inputSinces",l=>l.set(e.get("inputs").size-1,a))),e=e.update("witnesses",l=>l.push(i));const f=n.SCRIPTS.SECP256K1_BLAKE160;if(!f)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const c={txHash:f.TX_HASH,index:f.INDEX};e=(0,Xf.addCellDep)(e,{outPoint:c,depType:f.DEP_TYPE});const u=e.get("inputs").findIndex(l=>new _l(l.cellOutput.lock,{validate:!1}).equals(new _l(s,{validate:!1})));if(u!==-1){for(;u>=e.get("witnesses").size;)e=e.update("witnesses",g=>g.push("0x"));let l=e.get("witnesses").get(u);const h={lock:Xf.SECP_SIGNATURE_PLACEHOLDER};if(l!=="0x"){const g=Op.blockchain.WitnessArgs.unpack(Pl.bytes.bytify(l)),m=g.lock;if(m&&h.lock&&!Pl.bytes.equal(m,h.lock))throw new Error("Lock field in first witness is set aside for signature!");const A=g.inputType;A&&(h.inputType=A);const S=g.outputType;S&&(h.outputType=S)}l=Pl.bytes.hexify(Op.blockchain.WitnessArgs.pack(h)),e=e.update("witnesses",g=>g.set(u,l))}return e}async function vD(e,t,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){const o=await T1(e,t,r,n,{config:i,requireToAddress:a,assertAmountEnough:s});let f,c;return o instanceof Array?(f=o[0],c=BigInt(o[1].toString()),[f,c]):(f=o,f)}async function T1(e,t,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){i=i||(0,u0.getConfig)();const o=i.SCRIPTS.SECP256K1_BLAKE160;if(!o)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const f={txHash:o.TX_HASH,index:o.INDEX};e=(0,Xf.addCellDep)(e,{outPoint:f,depType:o.DEP_TYPE});const c=(0,Lb.parseAddress)(t,{config:i});if((0,Xf.ensureScript)(c,i,"SECP256K1_BLAKE160"),a&&!r)throw new Error("You must provide a to address!");let u=Af.BI.from(n);if(r){const m=(0,Lb.parseAddress)(r,{config:i});e=e.update("outputs",A=>A.push({cellOutput:{capacity:"0x"+u.toString(16),lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const l=e.get("fixedEntries").filter(({field:m})=>m==="outputs").maxBy(({index:m})=>m);let h=l?l.index+1:0;for(;h<e.get("outputs").size&&u.gt(0);h++){const m=e.get("outputs").get(h);if(new _l(m.cellOutput.lock,{validate:!1}).equals(new _l(c,{validate:!1}))){const A=Af.BI.from(m.cellOutput.capacity);let S;u.gte(A)?S=A:(S=A.sub((0,Lb.minimalCellCapacityCompatible)(m)),S.gt(u)&&(S=u)),u=u.sub(S),m.cellOutput.capacity="0x"+A.sub(S).toString(16)}}if(e=e.update("outputs",m=>m.filter(A=>!Af.BI.from(A.cellOutput.capacity).eq(0))),u.gt(0)){const m=e.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const A=m.collector({lock:c}),S={cellOutput:{capacity:"0x0",lock:c,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let w=Af.BI.from(0),C=(0,Yq.Set)();for(const B of e.get("inputs"))C=C.add(`${B.outPoint.txHash}_${B.outPoint.index}`);for await(const B of A.collect()){if(C.has(`${B.outPoint.txHash}_${B.outPoint.index}`))continue;e=e.update("inputs",K=>K.push(B)),e=e.update("witnesses",K=>K.push("0x"));const M=Af.BI.from(B.cellOutput.capacity);let N=M;if(N.gt(u)&&(N=u),u=u.sub(N),w=w.add(M).sub(N),u.eq(0)&&(w.eq(0)||w.gt((0,Lb.minimalCellCapacityCompatible)(S))))break}w.gt(0)&&(S.cellOutput.capacity="0x"+w.toString(16),e=e.update("outputs",B=>B.push(S)))}if(u.gt(0)&&s)throw new Error("Not enough capacity in from address!");const g=e.get("inputs").findIndex(m=>new _l(m.cellOutput.lock,{validate:!1}).equals(new _l(c,{validate:!1})));if(g!==-1){for(;g>=e.get("witnesses").size;)e=e.update("witnesses",S=>S.push("0x"));let m=e.get("witnesses").get(g);const A={lock:Xf.SECP_SIGNATURE_PLACEHOLDER};if(m!=="0x"){const S=Op.blockchain.WitnessArgs.unpack(Pl.bytes.bytify(m)),w=S.lock;if(w&&A.lock&&!Pl.bytes.equal(w,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const C=S.inputType;C&&(A.inputType=C);const B=S.outputType;B&&(A.outputType=B)}m=Pl.bytes.hexify(Op.blockchain.WitnessArgs.pack(A)),e=e.update("witnesses",S=>S.set(g,m))}return s?e:[e,Af.BI.from(u)]}async function _D(e,t,r,{config:n=void 0}={}){return n=n||(0,u0.getConfig)(),await T1(e,t,null,r,{config:n,requireToAddress:!1})}async function mD(e,t,r,{config:n=void 0}={}){if(n=n||(0,u0.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const i=Af.BI.from(e.get("outputs").get(t).cellOutput.capacity);return await T1(e,r,null,Af.BI.from(i),{config:n,requireToAddress:!1})}function wD(e,{config:t=void 0}={}){return t=t||(0,u0.getConfig)(),(0,Xf.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160")}Tn.default={transfer:vD,transferCompatible:T1,payFee:_D,prepareSigningEntries:wD,injectCapacity:mD,setupInputCell:yD,CellCollector:Gq};var B1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CellCollector=void 0,e.injectCapacity=A,Object.defineProperty(e,"multisigArgs",{enumerable:!0,get:function(){return o.multisigArgs}}),e.payFee=m,e.prepareSigningEntries=S,Object.defineProperty(e,"serializeMultisigScript",{enumerable:!0,get:function(){return o.serializeMultisigScript}}),e.setupInputCell=l,e.transfer=h,e.transferCompatible=g;var t=ui(),r=ae,n=xr,i=Hr,a=Go,s=ue,o=Zn,f=me;const{ScriptValue:c}=n.values,u=e.CellCollector=class{constructor(C,B,{config:M=void 0,queryOptions:N={}}={}){if(!B)throw new Error("Cell provider is missing!");M=M||(0,i.getConfig)();const K=(0,o.parseFromInfo)(C,{config:M});this.fromScript=K.fromScript,this.multisigScript=K.multisigScript,this.config=M,N={...N,lock:this.fromScript,type:N.type||"empty"},this.cellCollector=B.collector(N)}async*collect(){if((0,s.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const C of this.cellCollector.collect())yield C}};async function l(w,C,B,{config:M=void 0,defaultWitness:N="0x",since:K=void 0,requireMultisigScript:Q=!0}={}){if(M=M||(0,i.getConfig)(),Q&&typeof B!="object")throw new Error("`fromInfo` must be MultisigScript format!");const j=C.cellOutput.lock;if(B){const I=(0,o.parseFromInfo)(B,{config:M}).fromScript;if(!new c(I,{validate:!1}).equals(new c(j,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,s.isSecp256k1Blake160MultisigScript)(j,M))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");w=w.update("inputs",I=>I.push(C)),K&&(w=w.update("inputSinces",I=>I.set(w.get("inputs").size-1,K))),w=w.update("witnesses",I=>I.push(N));const G={cellOutput:{capacity:C.cellOutput.capacity,lock:C.cellOutput.lock,type:C.cellOutput.type},data:C.data};w=w.update("outputs",I=>I.push(G));const W=M.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!W)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const R={txHash:W.TX_HASH,index:W.INDEX};w=(0,s.addCellDep)(w,{outPoint:R,depType:W.DEP_TYPE});const _=w.get("inputs").findIndex(I=>new c(I.cellOutput.lock,{validate:!1}).equals(new c(j,{validate:!1})));if(_!==-1){for(;_>=w.get("witnesses").size;)w=w.update("witnesses",b=>b.push("0x"));if(w.get("witnesses").get(_)==="0x"&&typeof B!="object")throw new Error("`fromInfo` must be MultisigScript format!");if(typeof B=="object"){const b=(0,o.parseFromInfo)(B,{config:M}).multisigScript;let v=w.get("witnesses").get(_);const d={lock:"0x"+b.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(B.M)};if(v!=="0x"){const y=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(v)),x=y.lock;if(x&&d.lock&&!r.bytes.equal(x,d.lock))throw new Error("Lock field in first witness is set aside for signature!");const E=y.inputType;E&&(d.inputType=E);const p=y.outputType;p&&(d.outputType=p)}v=r.bytes.hexify(n.blockchain.WitnessArgs.pack(d)),w=w.update("witnesses",y=>y.set(_,v))}}return w}async function h(w,C,B,M,{config:N=void 0,requireToAddress:K=!0,assertAmountEnough:Q=!0}={}){const j=await g(w,C,B,M,{config:N,requireToAddress:K,assertAmountEnough:Q});let G,W;return j instanceof Array?(G=j[0],W=BigInt(j[1].toString()),[G,W]):(G=j,G)}async function g(w,C,B,M,{config:N=void 0,requireToAddress:K=!0,assertAmountEnough:Q=!0}={}){N=N||(0,i.getConfig)();const j=N.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!j)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const G={txHash:j.TX_HASH,index:j.INDEX};w=(0,s.addCellDep)(w,{outPoint:G,depType:j.DEP_TYPE});const{fromScript:W,multisigScript:R}=(0,o.parseFromInfo)(C,{config:N});(0,s.ensureScript)(W,N,"SECP256K1_BLAKE160_MULTISIG");const _=!w.get("inputs").find(y=>new c(y.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1})));if(_&&C==="string")throw new Error("MultisigScript is required for witness!");if(K&&!B)throw new Error("You must provide a to address!");let I=M?f.BI.from(M):f.BI.from(0);if(B){const y=(0,t.parseAddress)(B,{config:N});w=w.update("outputs",x=>x.push({cellOutput:{capacity:"0x"+I.toString(16),lock:y,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const b=w.get("fixedEntries").filter(({field:y})=>y==="outputs").maxBy(({index:y})=>y);let v=b?b.index+1:0;for(;v<w.get("outputs").size&&I.gt(0);++v){const y=w.get("outputs").get(v);if(new c(y.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1}))){const x=f.BI.from(y.cellOutput.capacity);let E;I.gte(x)?E=x:(E=x.sub((0,t.minimalCellCapacityCompatible)(y)),E.gt(I)&&(E=I)),I=I.sub(E),y.cellOutput.capacity="0x"+x.sub(E).toString(16)}}if(w=w.update("outputs",y=>y.filter(x=>!f.BI.from(x.cellOutput.capacity).eq(0))),I.gt(0)){const y=w.get("cellProvider");if(!y)throw new Error("cell provider is missing!");const x=y.collector({lock:W}),E={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let p=f.BI.from(0),T=(0,a.Set)();for(const F of w.get("inputs"))T=T.add(`${F.outPoint.txHash}_${F.outPoint.index}`);for await(const F of x.collect()){if(T.has(`${F.outPoint.txHash}_${F.outPoint.index}`))continue;w=w.update("inputs",$=>$.push(F)),w=w.update("witnesses",$=>$.push("0x"));const L=f.BI.from(F.cellOutput.capacity);let k=L;if(k.gt(I)&&(k=I),I=I.sub(k),p=p.add(L.sub(k)),I.eq(0)&&(p.eq(0)||p.gt((0,t.minimalCellCapacityCompatible)(E))))break}p.gt(0)&&(E.cellOutput.capacity="0x"+p.toString(16),w=w.update("outputs",F=>F.push(E)))}if(I.gt(0)&&Q)throw new Error("Not enough capacity in from address!");const d=w.get("inputs").findIndex(y=>new c(y.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1})));if(d!==-1){for(;f.BI.from(d).gte(w.get("witnesses").size);)w=w.update("witnesses",y=>y.push("0x"));if(_||typeof C!="string"){let y=w.get("witnesses").get(d);const x={lock:"0x"+R.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(C.M)};if(y!=="0x"){const E=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(y)),p=E.lock;if(p&&x.lock&&!r.bytes.equal(p,x.lock))throw new Error("Lock field in first witness is set aside for signature!");const T=E.inputType;T&&(x.inputType=T);const F=E.outputType;F&&(x.outputType=F)}y=r.bytes.hexify(n.blockchain.WitnessArgs.pack(x)),w=w.update("witnesses",E=>E.set(d,y))}}return Q?w:[w,f.BI.from(I)]}async function m(w,C,B,{config:M=void 0}={}){return M=M||(0,i.getConfig)(),g(w,C,void 0,B,{config:M,requireToAddress:!1})}async function A(w,C,B,{config:M=void 0}={}){if(M=M||(0,i.getConfig)(),C>=w.get("outputs").size)throw new Error("Invalid output index!");const N=f.BI.from(w.get("outputs").get(C).cellOutput.capacity);return g(w,B,void 0,N,{config:M,requireToAddress:!1})}function S(w,{config:C=void 0}={}){return C=C||(0,i.getConfig)(),(0,s.prepareSigningEntries)(w,C,"SECP256K1_BLAKE160_MULTISIG")}e.default={transfer:h,transferCompatible:g,payFee:m,prepareSigningEntries:S,serializeMultisigScript:o.serializeMultisigScript,multisigArgs:o.multisigArgs,injectCapacity:A,setupInputCell:l,CellCollector:u}})(B1);var $i={},pi={},D_={},ls={},bi={},BA;function W8(){if(BA)return bi;BA=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.CellCollector=void 0,bi.checkLimit=m,bi.default=void 0,bi.injectCapacity=S,bi.prepareSigningEntries=w,bi.setupInputCell=g,bi.setupOutputCell=A,bi.withdraw=C;var e=xr,t=ae,r=Hr,n=ui(),i=Go,a=me,s=Zn,o=ue,f=AD();const{ScriptValue:c}=e.values,{CKBHasher:u,ckbHash:l}=e.utils,h=bi.CellCollector=class{constructor(M,N,{config:K=void 0,queryOptions:Q={}}={}){if(!N)throw new Error("Cell provider is missing!");K=K||(0,r.getConfig)(),this.fromScript=(0,s.parseFromInfo)(M,{config:K}).fromScript,this.config=K,Q={...Q,lock:this.fromScript,type:Q.type||"empty"},this.cellCollector=N.collector(Q)}async*collect(){if((0,o.isAcpScript)(this.fromScript,this.config))for await(const M of this.cellCollector.collect())yield M}};async function g(B,M,N,{config:K=void 0,defaultWitness:Q="0x",since:j=void 0}={}){K=K||(0,r.getConfig)();const G=M.cellOutput.lock;if(!(0,o.isAcpScript)(G,K))throw new Error("Not anyone-can-pay input!");B=B.update("inputs",b=>b.push(M)),j&&(B=B.update("inputSinces",b=>b.set(B.get("inputs").size-1,j))),B=B.update("witnesses",b=>b.push(Q));const W={cellOutput:{capacity:M.cellOutput.capacity,lock:M.cellOutput.lock,type:M.cellOutput.type},data:M.data};B=B.update("outputs",b=>b.push(W)),B=B.update("fixedEntries",b=>b.push({field:"outputs",index:B.get("outputs").size-1}));const R=K.SCRIPTS.ANYONE_CAN_PAY;if(!R)throw new Error("ANYONE_CAN_PAY script not defined in config!");const _={txHash:R.TX_HASH,index:R.INDEX};B=(0,o.addCellDep)(B,{outPoint:_,depType:R.DEP_TYPE});const I=B.get("inputs").findIndex(b=>new c(b.cellOutput.lock,{validate:!1}).equals(new c(G,{validate:!1})));if(I!==-1){for(;I>=B.get("witnesses").size;)B=B.update("witnesses",d=>d.push("0x"));let b=B.get("witnesses").get(I);const v={lock:o.SECP_SIGNATURE_PLACEHOLDER};if(b!=="0x"){const d=e.blockchain.WitnessArgs.unpack(t.bytes.bytify(b)),y=d.lock;if(y&&v.lock&&!t.bytes.equal(y,v.lock))throw new Error("Lock field in first witness is set aside for signature!");const x=d.inputType;x&&(v.inputType=x);const E=d.outputType;E&&(v.outputType=E)}b=t.bytes.hexify(e.blockchain.WitnessArgs.pack(v)),B=B.update("witnesses",d=>d.set(I,b))}return B}function m(B,M){const N=a.BI.from(M);let K,Q;if(B.length>=46&&(K=a.BI.from(10).pow("0x"+B.slice(44,46))),B.length>=44){const j=a.BI.from(10).pow("0x"+B.slice(42,44)),G=a.BI.from(10).pow(8);Q=j.mul(G)}if(Q&&K){if(N.lt(Q))throw new Error(`capacity(${M}) less than toAddress minimal capacity limit(${Q}), and amount less then toAddress minimal amount limit(${K})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(Q&&N.lt(Q))throw new Error(`capacity(${M}) less than toAddress minimal capacity limit(${Q})!`)}async function A(B,M,{config:N=void 0}={}){N=N||(0,r.getConfig)();const K=M.cellOutput.lock,Q=a.BI.from(M.cellOutput.capacity);m(K.args,Q.toString());const j=B.get("cellProvider");if(!j)throw new Error("Cell Provider is missing!");const G=(0,n.generateAddress)(K,{config:N}),R=(await new h(G,j,{config:N}).collect().next()).value;let _=Q;if(R&&(_=Q.add(R.cellOutput.capacity),B=B.update("inputs",I=>I.push(R)),B=B.update("witnesses",I=>I.push("0x"))),M.cellOutput.capacity="0x"+_.toString(16),B=B.update("outputs",I=>I.push(M)),R){const I=N.SCRIPTS.ANYONE_CAN_PAY;if(!I)throw new Error("ANYONE_CAN_PAY script not defined in config!");const b={txHash:I.TX_HASH,index:I.INDEX};B=(0,o.addCellDep)(B,{outPoint:b,depType:I.DEP_TYPE})}return B}async function S(B,M,N,K,{config:Q=void 0}={}){if(Q=Q||(0,r.getConfig)(),N>=M.get("outputs").size)throw new Error("Invalid output index!");let j=a.BI.from(K);if(!Q.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const W=B.fromScript,R=M.get("fixedEntries").filter(({field:b})=>b==="outputs").maxBy(({index:b})=>b);let _=R?R.index+1:0;for(;_<M.get("outputs").size&&j.gt(0);_++){const b=M.get("outputs").get(_);if(new c(b.cellOutput.lock,{validate:!1}).equals(new c(W,{validate:!1}))){const v=a.BI.from(b.cellOutput.capacity),d=v.sub((0,n.minimalCellCapacityCompatible)(b)),y=j.gte(d)?d:j;j=j.sub(y),b.cellOutput.capacity="0x"+v.sub(y).toString(16)}}M=M.update("outputs",b=>b.filter(v=>!a.BI.from(v.cellOutput.capacity).eq(0)));const I=b=>`${b.outPoint.txHash}_${b.outPoint.index}`;if(j.gt(0)){const b={cellOutput:{capacity:"0x0",lock:W,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let v=a.BI.from(0);const d=a.BI.from((0,n.minimalCellCapacityCompatible)(b));let y=(0,i.Set)();for(const x of M.get("inputs"))y=y.add(I(x));for await(const x of B.collect()){if(y.has(I(x)))continue;M=await g(M,x,void 0,{config:Q});const E=M.get("outputs").size-1;M=M.update("outputs",L=>L.remove(E));const p=M.get("fixedEntries").findIndex(L=>L.field==="outputs"&&L.index===E);p>=0&&(M=M.update("fixedEntries",L=>L.remove(p)));const T=a.BI.from(x.cellOutput.capacity);let F=T;if(F.gt(j)&&(F=j),j=j.sub(F),v=v.add(T.sub(F)),j.eq(0)&&v.gte(d))break;b.cellOutput.capacity="0x"+v.toString(16),M=M.update("outputs",L=>L.push(b))}if(j.gt(0)||v<d)throw new Error("Not enough capacity in from address!");b.cellOutput.capacity="0x"+v.toString(16),M=M.update("outputs",x=>x.push(b))}return M}function w(B,{config:M=void 0}={}){M=M||(0,r.getConfig)();const N="ANYONE_CAN_PAY",K=M.SCRIPTS[N];if(!K)throw new Error(`Provided config does not have ${N} script setup!`);let Q=(0,i.Set)();const j=(0,n.createTransactionFromSkeleton)(B),G=l(e.blockchain.RawTransaction.pack(j)),W=B.get("inputs"),R=B.get("witnesses");let _=B.get("signingEntries");for(let I=0;I<W.size;I++){const b=W.get(I);if(K.CODE_HASH===b.cellOutput.lock.codeHash&&K.HASH_TYPE===b.cellOutput.lock.hashType&&!Q.has(b.cellOutput.lock.args)){Q=Q.add(b.cellOutput.lock.args);const v=B.get("outputs").filter(k=>new c(k.cellOutput.lock,{validate:!1}).equals(new c(b.cellOutput.lock,{validate:!1}))),d=v.map(k=>a.BI.from(k.cellOutput.capacity)).reduce((k,$)=>k.add($),a.BI.from(0)),y=v.filter(k=>k.data!=="0x").map(k=>(0,f.unpackAmount)(k.data)).reduce((k,$)=>k.add($),a.BI.from(0)),x=W.filter(k=>new c(k.cellOutput.lock,{validate:!1}).equals(new c(b.cellOutput.lock,{validate:!1}))),E=x.map(k=>a.BI.from(k.cellOutput.capacity)).reduce((k,$)=>k.add($),a.BI.from(0)),p=x.filter(k=>k.data!=="0x").map(k=>a.BI.from((0,f.unpackAmount)(k.data))).reduce((k,$)=>k.add($),a.BI.from(0));if(E.lte(d)&&p.lte(y))continue;const T=new e.values.ScriptValue(b.cellOutput.lock,{validate:!1}),F=new u;if(F.update(G),I>=R.size)throw new Error(`The first witness in the script group starting at input index ${I} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,o.hashWitness)(F,R.get(I));for(let k=I+1;k<W.size&&k<R.size;k++){const $=W.get(k);T.equals(new e.values.ScriptValue($.cellOutput.lock,{validate:!1}))&&(0,o.hashWitness)(F,R.get(k))}for(let k=W.size;k<R.size;k++)(0,o.hashWitness)(F,R.get(k));const L={type:"witness_args_lock",index:I,message:F.digestHex()};_=_.push(L)}}return B=B.set("signingEntries",_),B}async function C(B,M,N,K,{config:Q=void 0}={}){if(Q=Q||(0,r.getConfig)(),!(0,o.isAcpScript)(M.cellOutput.lock,Q))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const j=a.BI.from(K),G=a.BI.from(M.cellOutput.capacity),W=a.BI.from((0,n.minimalCellCapacityCompatible)(M));if(!(j.gte(0)&&j.lte(G.sub(W))||j.eq(G)))throw new Error(`capacity must be in [0, ${G.sub(W)}] or ${G} !`);const R=(0,n.parseAddress)(N,{config:Q}),_={cellOutput:{capacity:"0x"+K.toString(16),lock:R,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,o.isAcpScript)(R,Q)){m(R.args,K);const v=B.get("cellProvider");if(!v)throw new Error("Cell Provider is missing!");const y=(await new h(N,v,{config:Q}).collect().next()).value;if(!y)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const x=j.add(y.cellOutput.capacity);_.cellOutput.capacity="0x"+x.toString(16),B=B.update("inputs",E=>E.push(y)),B=B.update("witnesses",E=>E.push("0x"))}B=B.update("outputs",v=>v.push(_)),B=await g(B,M,(0,n.generateAddress)(M.cellOutput.lock,{config:Q}),{config:Q});const I=B.get("outputs").size-1;B=B.update("outputs",v=>v.remove(I));const b=B.get("fixedEntries").findIndex(v=>v.field==="outputs"&&v.index===I);return b>=0&&(B=B.update("fixedEntries",v=>v.remove(b))),j.eq(G)||(B=B.update("outputs",v=>v.push({cellOutput:{capacity:"0x"+G.sub(K).toString(16),lock:M.cellOutput.lock,type:M.cellOutput.type},data:M.data}))),B}return bi.default={CellCollector:h,setupInputCell:g,setupOutputCell:A,injectCapacity:S,prepareSigningEntries:w,withdraw:C},bi}var OA;function AD(){if(OA)return ls;OA=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.default=void 0,ls.issueToken=C,ls.ownerForSudt=N,ls.packAmount=Q,ls.transfer=B,ls.unpackAmount=K;var e=ue,t=xr,r=A(B1),n=Zn,i=A(s5()),a=ui(),s=Go,o=Hr,f=a5(),c=m(W8()),u=A(Tn),l=me,h=ae;function g(j){if(typeof WeakMap!="function")return null;var G=new WeakMap,W=new WeakMap;return(g=function(R){return R?W:G})(j)}function m(j,G){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var W=g(G);if(W&&W.has(j))return W.get(j);var R={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in j)if(I!=="default"&&{}.hasOwnProperty.call(j,I)){var b=_?Object.getOwnPropertyDescriptor(j,I):null;b&&(b.get||b.set)?Object.defineProperty(R,I,b):R[I]=j[I]}return R.default=j,W&&W.set(j,R),R}function A(j){return j&&j.__esModule?j:{default:j}}const{computeScriptHash:S}=t.utils,{ScriptValue:w}=t.values;async function C(j,G,W,R,_,{config:I=void 0}={}){I=I||(0,o.getConfig)();const b=I.SCRIPTS.SUDT;if(!b)throw new Error("Provided config does not have SUDT script setup!");j=(0,e.addCellDep)(j,{outPoint:{txHash:b.TX_HASH,index:b.INDEX},depType:b.DEP_TYPE});const v=(0,n.parseFromInfo)(G,{config:I}).fromScript,d=v,y={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:S(v)},x={cellOutput:{capacity:"0x0",lock:d,type:y},data:h.bytes.hexify(h.number.Uint128LE.pack(W)),outPoint:void 0,blockHash:void 0};R||(R=(0,a.minimalCellCapacityCompatible)(x));const E=l.BI.from(R);x.cellOutput.capacity="0x"+E.toString(16),j=j.update("outputs",T=>T.push(x));const p=j.get("outputs").size-1;return j=j.update("fixedEntries",T=>T.push({field:"outputs",index:p})),j=await i.default.injectCapacity(j,[G],l.BI.from(l.BI.from(x.cellOutput.capacity)),void 0,_,{config:I}),j}async function B(j,G,W,R,_,I,b,v,{config:d=void 0,LocktimePoolCellCollector:y=f.CellCollector,splitChangeCell:x=!1}={}){d=d||(0,o.getConfig)();let E=l.BI.from(_),p=b?l.BI.from(b):void 0;const T=d.SCRIPTS.SUDT;if(!T)throw new Error("Provided config does not have SUDT script setup!");if(G.length===0)throw new Error("`fromInfos` can't be empty!");if(!R)throw new Error("You must provide a to address!");const F=(0,a.parseAddress)(R,{config:d}),L=G.map(J=>(0,n.parseFromInfo)(J,{config:d}).fromScript),k=I?(0,a.parseAddress)(I,{config:d}):L[0];if(E.lte(0))throw new Error("amount must be greater than 0");const $=M(W,d),H=j.get("cellProvider");if(!H)throw new Error("Cell provider is missing!");let q=l.BI.from(0),X=l.BI.from(0);if((0,e.isAcpScript)(F,d)){const it=(await new c.CellCollector(R,H,{config:d,queryOptions:{type:$,data:"any"}}).collect().next()).value;if(!it)throw new Error("toAddress ANYONE_CAN_PAY input not found!");j=j.update("inputs",ut=>ut.push(it)),j=j.update("witnesses",ut=>ut.push("0x")),q=l.BI.from(it.cellOutput.capacity),X=K(it.data)}const et={cellOutput:{capacity:"0x0",lock:F,type:$},data:h.bytes.hexify(h.number.Uint128LE.pack(E)),outPoint:void 0,blockHash:void 0};(0,e.isAcpScript)(F,d)?(p||(p=l.BI.from(0)),et.cellOutput.capacity="0x"+q.add(p).toString(16),et.data=h.bytes.hexify(h.number.Uint128LE.pack(X.add(E)))):(p||(p=l.BI.from((0,a.minimalCellCapacityCompatible)(et))),et.cellOutput.capacity="0x"+p.toString(16)),j=j.update("outputs",J=>J.push(et)),j=j.update("fixedEntries",J=>J.push({field:"outputs",index:j.get("outputs").size-1})),j=(0,e.addCellDep)(j,{outPoint:{txHash:T.TX_HASH,index:T.INDEX},depType:T.DEP_TYPE});const rt={cellOutput:{capacity:"0x0",lock:k,type:$},data:h.bytes.hexify(h.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},U={cellOutput:{capacity:"0x0",lock:k,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let P=l.BI.from(0),nt=l.BI.from(0),ft=(0,s.Set)();for(const J of j.get("inputs"))ft=ft.add(`${J.outPoint.txHash}_${J.outPoint.index}`);let dt=(0,s.List)();v&&G.forEach((J,it)=>{const ut=new y(J,H,{config:d,tipHeader:v,queryOptions:{type:$,data:"any"}});dt=dt.push({cellCollector:ut,index:it})}),G.forEach((J,it)=>{const ut=new u.default.CellCollector(J,H,{config:d,queryOptions:{type:$,data:"any"}}),yt=new r.default.CellCollector(J,H,{config:d,queryOptions:{type:$,data:"any"}}),gt=new c.default.CellCollector(J,H,{config:d,queryOptions:{type:$,data:"any"}});dt=dt.push({cellCollector:ut,index:it},{cellCollector:yt,index:it},{cellCollector:gt,index:it,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})}),v&&G.forEach((J,it)=>{const ut=new y(J,H,{config:d,tipHeader:v});dt=dt.push({cellCollector:ut,index:it})}),G.forEach((J,it)=>{const ut=new u.default.CellCollector(J,H,{config:d}),yt=new r.default.CellCollector(J,H,{config:d}),gt=new c.default.CellCollector(J,H,{config:d});dt=dt.push({cellCollector:ut,index:it},{cellCollector:yt,index:it},{cellCollector:gt,index:it,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})});for(const{index:J,cellCollector:it,isAnyoneCanPay:ut,destroyable:yt}of dt)for await(const gt of it.collect()){const Ct=`${gt.outPoint.txHash}_${gt.outPoint.index}`;if(ft.has(Ct))continue;ft=ft.add(Ct);const ke=G[J];j=await i.default.setupInputCell(j,gt,ke,{config:d});const Ht=j.get("outputs").size-1;j=j.update("outputs",ct=>ct.remove(Ht));const $t=j.get("fixedEntries").findIndex(ct=>ct.field==="outputs"&&ct.index===Ht);$t>=0&&(j=j.update("fixedEntries",ct=>ct.remove($t)));const an=l.BI.from(gt.cellOutput.capacity),z=gt.cellOutput.type?K(gt.data):l.BI.from(0);let O=ut&&!yt?an.sub((0,a.minimalCellCapacityCompatible)(gt)):an,D=z;O.gt(p)&&(O=l.BI.from(p)),p=p.sub(O);const Y=an.sub(O);(!ut||ut&&yt)&&(P=P.add(Y)),D.gt(E)&&(D=E),E=E.sub(D);const at=z.sub(D);if((!ut||ut&&yt)&&(nt=nt.add(at)),ut&&!yt){const ct={cellOutput:{capacity:"0x"+Y.toString(16),lock:gt.cellOutput.lock,type:gt.cellOutput.type},data:gt.cellOutput.type?h.bytes.hexify(h.number.Uint128LE.pack(at)):"0x"};j=j.update("outputs",lt=>lt.push(ct)),gt.cellOutput.type&&(j=j.update("fixedEntries",lt=>lt.push({field:"outputs",index:j.get("outputs").size-1})))}if(p.eq(0)&&E.eq(0)&&(P.eq(0)&&nt.eq(0)||P.gt((0,a.minimalCellCapacityCompatible)(U))&&nt.eq(0))){rt.cellOutput.type=void 0,rt.data="0x";break}if(p.eq(0)&&E.eq(0)&&P.gt((0,a.minimalCellCapacityCompatible)(U))&&nt.gt(0))break}let V=-1;if((0,e.isAcpScript)(rt.cellOutput.lock,d)&&(V=j.get("outputs").findIndex(J=>new w(rt.cellOutput.lock,{validate:!1}).equals(new w(J.cellOutput.lock,{validate:!1}))&&(nt.eq(0)&&!rt.cellOutput.type&&!J.cellOutput.type||nt.gte(0)&&!!rt.cellOutput.type&&!!J.cellOutput.type&&new w(rt.cellOutput.type,{validate:!1}).equals(new w(J.cellOutput.type,{validate:!1})))))!==-1&&j.get("fixedEntries").findIndex(J=>J.field==="output"&&J.index===V)===-1){const J=j.get("outputs").get(V),it=JSON.parse(JSON.stringify(J));it.cellOutput.capacity="0x"+l.BI.from(J.cellOutput.capacity).add(P).toString(16),nt.gt(0)&&(it.data=h.bytes.hexify(h.number.Uint128LE.pack(K(J.data).add(nt))));const ut=l.BI.from((0,a.minimalCellCapacityCompatible)(rt)),yt=l.BI.from((0,a.minimalCellCapacityCompatible)(U));let gt=!1;nt.gt(0)&&x&&P.gte(ut.add(yt))&&(it.cellOutput.capacity=J.cellOutput.capacity,U.cellOutput.capacity="0x"+P.toString(16),gt=!0),j=j.update("outputs",Ct=>Ct.set(V,it)),gt&&(j=j.update("outputs",Ct=>Ct.push(U)))}else if(P.gte((0,a.minimalCellCapacityCompatible)(rt))){rt.cellOutput.capacity="0x"+P.toString(16),nt.gt(0)&&(rt.data=h.bytes.hexify(h.number.Uint128LE.pack(nt)));const J=l.BI.from((0,a.minimalCellCapacityCompatible)(rt)),it=l.BI.from((0,a.minimalCellCapacityCompatible)(U));let ut=!1;nt.gt(0)&&x&&P.gte(J.add(it))&&(rt.cellOutput.capacity="0x"+J.toString(16),U.cellOutput.capacity="0x"+P.sub(J).toString(16),ut=!0),j=j.update("outputs",yt=>yt.push(rt)),nt.gt(0)&&(j=j.update("fixedEntries",yt=>yt.push({field:"outputs",index:j.get("outputs").size-1}))),ut&&(j=j.update("outputs",yt=>yt.push(U)))}else if(nt.gt(0)&&P.lt((0,a.minimalCellCapacityCompatible)(rt)))throw new Error("Not enough capacity for change in from infos!");if(p.gt(0))throw new Error("Not enough capacity in from infos!");if(E.gt(0))throw new Error("Not enough amount in from infos!");return j}function M(j,G){const W=G.SCRIPTS.SUDT;return{codeHash:W.CODE_HASH,hashType:W.HASH_TYPE,args:j}}function N(j,{config:G=void 0}={}){G=G||(0,o.getConfig)();const{fromScript:W}=(0,n.parseFromInfo)(j,{config:G});return S(W)}function K(j){return h.number.Uint128LE.unpack(h.bytes.bytify(j).slice(0,16))}function Q(j){return h.bytes.hexify(h.number.Uint128LE.pack(j))}return ls.default={issueToken:C,transfer:B,ownerForSudt:N,packAmount:Q,unpackAmount:K},ls}var X8={};Object.defineProperty(X8,"__esModule",{value:!0});X8.createP2PKHMessageGroup=rK;var qc=xr,Wq=ui(),al=ae,Xq=me;function Zq(e,t){const r=new Set;for(const i of t){const a=qc.utils.ckbHash(qc.blockchain.Script.pack(i));r.add(a)}const n=new Map;for(let i=0;i<e.length;i++){const a=qc.utils.ckbHash(qc.blockchain.Script.pack(e[i].cellOutput.lock));r.has(a)&&(n.get(a)===void 0&&n.set(a,[]),n.get(a).push(i))}return n}function Jq(e){const t=(0,Wq.createTransactionFromSkeleton)(e),r={cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData,version:t.version};return qc.utils.ckbHash(qc.blockchain.RawTransaction.pack(r))}const tK=()=>{const e=new qc.utils.CKBHasher;return{update:t=>e.update(t.buffer),digest:()=>al.bytes.bytify(e.digestHex())}};function eK(e){return e instanceof Function?e():e}function rK(e,t,{hasher:r=tK}={}){const n=Zq(e.inputs.toArray(),t),i=Jq(e);if(t.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const a=[];for(const s of n.keys()){const o=eK(r),f=n.get(s),c=f[0],u=e.witnesses.get(c);if(u===void 0)throw new Error("Please fill witnesses with 0 first!");o.update(al.bytes.bytify(i));const l=new ArrayBuffer(8),h=new DataView(l),g=Xq.BI.from(al.bytes.bytify(u).length).toString(16);g.length<=8&&(h.setUint32(0,+("0x"+g),!0),h.setUint32(4,+"0x00000000",!0)),g.length>8&&g.length<=16&&(h.setUint32(0,+("0x"+g.slice(-8)),!0),h.setUint32(4,+("0x"+g.slice(0,-8)),!0)),o.update(new Uint8Array(l)),o.update(al.bytes.bytify(u));for(let S=1;S<f.length;S++){const w=e.witnesses.get(f[S]);o.update(new Uint8Array(l)),o.update(al.bytes.bytify(w))}for(let S=e.inputs.toArray().length;S<e.witnesses.toArray().length;S++){const w=e.witnesses.get(S);o.update(new Uint8Array(l)),o.update(al.bytes.bytify(w))}const m=o.digest(),A={index:c,lock:e.inputs.get(c).cellOutput.lock,message:"0x"+Array.prototype.map.call(m,S=>("00"+S.toString(16)).slice(-2)).join("")};a.push(A)}return a}var _c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.compareScriptBinaryWithOnChainData=TD;_c.default=void 0;_c.generateDeployWithDataTx=SD;_c.generateDeployWithTypeIdTx=CD;_c.generateUpgradeTypeIdDataTx=ID;var is=xr,Gh=ae,oy=Hr,mc=ui(),nK=Go,T2=Zn,bn=me;const{ScriptValue:DA}=is.values;function Z8(e){let t="0x";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}async function iK(e,t){const r=t.collector({lock:e,type:"empty",data:"0x"}),n=[];for await(const i of r.collect())n.push(i);return n}function J8(e,t){const r=(0,mc.minimalCellCapacityCompatible)(t);return t.cellOutput.capacity=`0x${r.toString(16)}`,e=e.update("outputs",n=>n.push(t)),e}function t5(e,t){e=e.update("cellDeps",i=>i.clear()),t=t||(0,oy.getConfig)();const r=t.SCRIPTS.SECP256K1_BLAKE160,n=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return e=e.update("cellDeps",i=>i.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})),e}async function e5(e,t,r,n){const i=e.get("inputs").map(o=>bn.BI.from(o.cellOutput.capacity)).reduce((o,f)=>o.add(f),bn.BI.from(0)),s=e.get("outputs").map(o=>bn.BI.from(o.cellOutput.capacity)).reduce((o,f)=>o.add(f),bn.BI.from(0)).sub(i);return e=await aK(e,t,bn.BI.from(s),{config:r,feeRate:n}),e}async function aK(e,t,r,{config:n=void 0,feeRate:i=void 0}){n=n||(0,oy.getConfig)();const a=i||1e3;let s=bn.BI.from(r);const{fromScript:o,multisigScript:f}=(0,T2.parseFromInfo)(t,{config:n});s=s.add(bn.BI.from(10).pow(8));let c=bn.BI.from(10).pow(8);const u={cellOutput:{capacity:"0x0",lock:o,type:void 0},data:"0x"},l=bn.BI.from((0,mc.minimalCellCapacityCompatible)(u)).add(bn.BI.from(10).pow(8));if(s.lt(0)&&(c=c.sub(s),s=bn.BI.from(0)),s.gt(0)||c.lt(l)){const m=e.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const A=m.collector({lock:o,type:"empty",data:"0x"});let S=(0,nK.Set)();for(const w of e.get("inputs"))S=S.add(`${w.outPoint.txHash}_${w.outPoint.index}`);for await(const w of A.collect()){if(S.has(`${w.outPoint.txHash}_${w.outPoint.index}`))continue;e=e.update("inputs",M=>M.push(w)),e=e.update("witnesses",M=>M.push("0x"));const C=bn.BI.from(w.cellOutput.capacity);let B=C;if(B.gt(s)&&(B=s),s=s.sub(B),c=c.add(C).sub(B),s.eq(0)&&(c.eq(0)||c.gte(l)))break}}if(c.gt(0)&&(u.cellOutput.capacity="0x"+c.toString(16),e=e.update("outputs",m=>m.push(u))),s.gt(0)||c.lt(l))throw new Error("Not enough capacity in from address!");const h=e.get("inputs").findIndex(m=>new DA(m.cellOutput.lock,{validate:!1}).equals(new DA(o,{validate:!1})));if(h!==-1){for(;h>=e.get("witnesses").size;)e=e.update("witnesses",w=>w.push("0x"));let m=e.get("witnesses").get(h),A;const S="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(typeof t!="string"?A={lock:"0x"+f.slice(2)+S.slice(2).repeat(t.M)}:A={lock:S},m!=="0x"){const w=is.blockchain.WitnessArgs.unpack(Gh.bytes.bytify(m)),C=w.lock;if(C&&A.lock&&!Gh.bytes.equal(C,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const B=w.inputType;B&&(A.inputType=B);const M=w.outputType;M&&(A.outputType=M)}m=Gh.bytes.hexify(is.blockchain.WitnessArgs.pack(A)),e=e.update("witnesses",w=>w.set(h,m))}const g=ED(e,a);return c=c.sub(g),e=e.update("outputs",m=>m.pop()),c.gt(0)&&(u.cellOutput.capacity="0x"+c.toString(16),e=e.update("outputs",m=>m.push(u))),e}function sK(e){const t=(0,mc.createTransactionFromSkeleton)(e);return oK(t)}function oK(e){return is.blockchain.Transaction.pack(e).byteLength+4}function fK(e,t){const r=bn.BI.from(1e3),n=bn.BI.from(e).mul(t),i=n.div(r);return i.mul(r).lt(n)?i.add(1):bn.BI.from(i)}function ED(e,t){const r=sK(e);return bn.BI.from(fK(r,t))}function cK(e){const t=e.valueOf();return new is.utils.CKBHasher().update(t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset)).digestHex()}async function uK(e,t){const r=e.txHash,n=parseInt(e.index,10),i=await t.getTransaction(r);if(!i)throw new Error(`TxHash(${r}) is not found`);const a=i.transaction.outputsData[n];if(!a)throw new Error("cannot find output data");return new is.utils.CKBHasher().update(Gh.bytes.bytify(a)).digestHex()}function xD(e){const t=(0,mc.createTransactionFromSkeleton)(e);return is.utils.ckbHash(is.blockchain.RawTransaction.pack(t))}function lK(e,t){const r=e.outputs.get(t).data,n=is.utils.ckbHash(Gh.bytes.bytify(r)),i=xD(e);return{CODE_HASH:n,HASH_TYPE:"data2",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function dK(e,t){const r=e.outputs.get(t).cellOutput.type,n=is.utils.computeScriptHash(r),i=xD(e);return{CODE_HASH:n,HASH_TYPE:"type",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function r5(e,t){const r=e.outputs.get(t);if(r==null)throw new Error("Invalid txSkeleton or outputIndex");return r.cellOutput.type!==void 0?dK(e,t):lK(e,t)}function hK(e){return typeof e!="object"?!1:"M"in e&&"R"in e&&Array.isArray(e.publicKeyHashes)}function n5(e,{config:t=void 0}={}){if(t=t||(0,oy.getConfig)(),typeof e=="string"){if(oy.helpers.nameOfScript((0,mc.parseAddress)(e,{config:t}),t.SCRIPTS)!=="SECP256K1_BLAKE160")throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!hK(e))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function SD(e){n5(e.fromInfo,{config:e.config});let t=(0,mc.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,T2.parseFromInfo)(e.fromInfo,{config:e.config}),n={cellOutput:{capacity:"0x0",lock:r},data:Z8(e.scriptBinary)};t=J8(t,n),t=t5(t,e.config),t=await e5(t,e.fromInfo,e.config,e.feeRate);const i=r5(t,0);return{txSkeleton:t,scriptConfig:i}}async function CD(e){n5(e.fromInfo,{config:e.config});let t=(0,mc.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,T2.parseFromInfo)(e.fromInfo,{config:e.config}),[n]=await iK(r,e.cellProvider);if(!n)throw new Error("fromAddress has no live ckb");const i=is.utils.generateTypeIdScript({previousOutput:n.outPoint,since:"0x0"},"0x0"),a={cellOutput:{capacity:"0x0",lock:r,type:i},data:Z8(e.scriptBinary)};t=J8(t,a),t=t5(t,e.config),t=await e5(t,e.fromInfo,e.config,e.feeRate);const s=r5(t,0);return{txSkeleton:t,scriptConfig:s,typeId:i}}async function ID(e){n5(e.fromInfo,{config:e.config});let t=(0,mc.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,T2.parseFromInfo)(e.fromInfo,{config:e.config}),n=e.cellProvider.collector({type:e.typeId}),i=[];for await(const f of n.collect())i.push(f);if(i.length!==1)throw new Error("the typeid maybe wrong");const a=i[0];t=t.update("inputs",f=>f.push(a));const s={cellOutput:{capacity:"0x0",lock:r,type:e.typeId},data:Z8(e.scriptBinary)};t=J8(t,s),t=t5(t,e.config),t=await e5(t,e.fromInfo,e.config,e.feeRate);const o=r5(t,0);return{txSkeleton:t,scriptConfig:o}}async function TD(e,t,r){const n=cK(e),i=await uK(t,r);return n===i}_c.default={generateDeployWithDataTx:SD,generateDeployWithTypeIdTx:CD,generateUpgradeTypeIdDataTx:ID,compareScriptBinaryWithOnChainData:TD,__tests__:{calculateTxFee:ED}};var An={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.WitnessArgs=gn.BytesVec=gn.BytesOpt=gn.Bytes=gn.Byte32Vec=gn.Byte32=void 0;gn.WitnessArgsOf=MD;gn.createFixedHexBytesCodec=OD;var BD=Ko,Sd=Aa,ka=e1;function OD(e){return(0,BD.createFixedBytesCodec)({byteLength:e,pack:t=>(0,Sd.bytify)(t),unpack:t=>(0,Sd.hexify)(t)})}const DD=gn.Bytes=(0,ka.byteVecOf)({pack:Sd.bytify,unpack:Sd.hexify});gn.BytesOpt=(0,ka.option)(DD);gn.BytesVec=(0,ka.vector)(DD);const pK=gn.Byte32=OD(32);gn.Byte32Vec=(0,ka.vector)(pK);function MD(e){return(0,ka.table)({lock:(0,ka.option)((0,ka.byteVecOf)(e.lock)),input_type:(0,ka.option)((0,ka.byteVecOf)(e.input_type)),output_type:(0,ka.option)((0,ka.byteVecOf)(e.output_type))},["lock","input_type","output_type"])}const M_=(0,BD.createBytesCodec)({pack:Sd.bytify,unpack:Sd.hexify});gn.WitnessArgs=MD({lock:M_,input_type:M_,output_type:M_});var B2={};function bK(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),a=i.charCodeAt(0);if(t[a]!==255)throw new TypeError(i+" is ambiguous");t[a]=n}var s=e.length,o=e.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,A=0,S=0,w=g.length;S!==w&&g[S]===0;)S++,m++;for(var C=(w-S)*c+1>>>0,B=new Uint8Array(C);S!==w;){for(var M=g[S],N=0,K=C-1;(M!==0||N<A)&&K!==-1;K--,N++)M+=256*B[K]>>>0,B[K]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");A=N,S++}for(var Q=C-A;Q!==C&&B[Q]===0;)Q++;for(var j=o.repeat(m);Q<C;++Q)j+=e.charAt(B[Q]);return j}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var m=0,A=0,S=0;g[m]===o;)A++,m++;for(var w=(g.length-m)*f+1>>>0,C=new Uint8Array(w);g[m];){var B=t[g.charCodeAt(m)];if(B===255)return;for(var M=0,N=w-1;(B!==0||M<S)&&N!==-1;N--,M++)B+=s*C[N]>>>0,C[N]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");S=M,m++}for(var K=w-S;K!==w&&C[K]===0;)K++;for(var Q=new Uint8Array(A+(w-K)),j=A;K!==w;)Q[j++]=C[K++];return Q}function h(g){var m=l(g);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:h}}var gK=bK;const yK=gK,vK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var RD=yK(vK);Object.defineProperty(B2,"__esModule",{value:!0});B2.decodeAddress=wK;B2.signMessage=AK;var R_=ae,MA=ac,RA=_K(RD);function _K(e){return e&&e.__esModule?e:{default:e}}const mK="CKB (Bitcoin Layer) transaction: 0x";function wK(e){try{if(e.startsWith("bc1q"))return MA.bech32.fromWords(MA.bech32.decode(e).words.slice(1));if(e.startsWith("1")||e.startsWith("3"))return RA.default.decode(e).slice(1,21)}catch{if(e.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.")}throw new Error(`Unsupported bitcoin address ${e}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`)}async function AK(e,t,r){const n=(()=>{if(r)return r;if(typeof window<"u"){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),i=await n.requestAccounts(),a=R_.bytes.hexify(e).slice(2),s=await n.signMessage(`${mK}${a}`,t),o=R_.bytes.bytify(EK(s)),f=i[0];if(f.startsWith("bc1q"))o[0]=39+(o[0]-27)%4;else if(f.startsWith("3"))o[0]=35+(o[0]-27)%4;else if(f.startsWith("1"))o[0]=31+(o[0]-27)%4;else throw new Error(`Unsupported bitcoin address ${f}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`);return R_.bytes.hexify(o)}function EK(e){const t=atob(e);let r="";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n).toString(16);r+=i.length===2?i:"0"+i}return"0x"+r}var i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.signMessage=SK;var L_=ae;const xK="CKB transaction: 0x";async function SK(e,t){const r=(()=>{if(t)return t;if(typeof window<"u"&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),i=L_.bytes.hexify(e).slice(2),a=await r.signMessage(new TextEncoder().encode(`${xK}${i}`));return L_.bytes.hexify(L_.bytes.concat(a.signature,a.publicKey.toBytes()))}Object.defineProperty(An,"__esModule",{value:!0});An.bitcoin=An.OmnilockWitnessLock=An.CellCollector=void 0;An.createOmnilockScript=UD;An.default=void 0;An.prepareSigningEntries=FD;An.setupInputCell=jD;An.solana=void 0;var Yi=ae,LD=xr,O2=Hr,Wh=ue,CK=Zn,mu=e1,W3=gn,LA=Aa,HD=ND(B2);An.bitcoin=HD;var IK=ND(i5);An.solana=IK;var TK=RD,BK=xe;function PD(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(PD=function(n){return n?r:t})(e)}function ND(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=PD(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}const{ScriptValue:HA}=LD.values;var Ao=function(e){return e[e.IdentityFlagsCkb=0]="IdentityFlagsCkb",e[e.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",e[e.IdentityFlagsEos=2]="IdentityFlagsEos",e[e.IdentityFlagsTron=3]="IdentityFlagsTron",e[e.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",e[e.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",e[e.IdentityCkbMultisig=6]="IdentityCkbMultisig",e[e.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",e[e.IdentityFlagsSolana=19]="IdentityFlagsSolana",e[e.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",e[e.IdentityFlagsExec=253]="IdentityFlagsExec",e[e.IdentityFlagsDl=254]="IdentityFlagsDl",e}(Ao||{});const OK=20,DK=65,MK=96;function UD(e,t){const n=((t==null?void 0:t.config)||(0,O2.getConfig)()).SCRIPTS.OMNILOCK;if(!n)throw new Error("OMNILOCK script config not found.");const a=[0],s=(()=>{const o=e.auth.flag;switch(o){case"ETHEREUM":return Yi.bytes.hexify(Yi.bytes.concat([Ao.IdentityFlagsEthereum],e.auth.content,a));case"SECP256K1_BLAKE160":return Yi.bytes.hexify(Yi.bytes.concat([Ao.IdentityFlagsCkb],e.auth.content,a));case"BITCOIN":return Yi.bytes.hexify(Yi.bytes.concat([Ao.IdentityFlagsBitcoin],HD.decodeAddress(e.auth.content),a));case"SOLANA":{const f=Yi.bytes.bytify((0,BK.ckbHash)((0,TK.decode)(e.auth.content))).slice(0,OK);return Yi.bytes.hexify(Yi.bytes.concat([Ao.IdentityFlagsSolana],f,a))}default:throw new Error(`Not supported flag: ${o}.`)}})();return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:s}}const kD={pack:LA.bytify,unpack:LA.hexify},RK=21,LK=(0,W3.createFixedHexBytesCodec)(RK),HK=(0,mu.byteVecOf)(kD),PK=(0,mu.table)({mask:(0,mu.byteOf)(kD),proof:HK},["mask","proof"]),NK=(0,mu.vector)(PK),UK=(0,mu.table)({identity:LK,proofs:NK},["identity","proofs"]),kK=(0,mu.option)(UK),zD=An.OmnilockWitnessLock=(0,mu.table)({signature:W3.BytesOpt,omni_identity:kK,preimage:W3.BytesOpt},["signature","omni_identity","preimage"]),zK=An.CellCollector=class{constructor(t,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,O2.getConfig)(),this.fromScript=(0,CK.parseFromInfo)(t,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,Wh.isOmnilockScript)(this.fromScript,this.config))for await(const t of this.cellCollector.collect())yield t}};async function jD(e,t,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,O2.getConfig)();const s=t.cellOutput.lock;if(!(0,Wh.isOmnilockScript)(s,n))throw new Error("Not OMNILOCK input!");e=e.update("inputs",g=>g.push(t));const o={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",g=>g.push(o)),a&&(e=e.update("inputSinces",g=>g.set(e.get("inputs").size-1,a))),e=e.update("witnesses",g=>g.push(i));const f=n.SCRIPTS.OMNILOCK,c=n.SCRIPTS.SECP256K1_BLAKE160;if(!f)throw new Error("OMNILOCK script not defined in config!");if(!c)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const u={txHash:f.TX_HASH,index:f.INDEX},l={txHash:c.TX_HASH,index:c.INDEX};e=(0,Wh.addCellDep)(e,{outPoint:u,depType:f.DEP_TYPE}),e=(0,Wh.addCellDep)(e,{outPoint:l,depType:c.DEP_TYPE});const h=e.get("inputs").findIndex(g=>new HA(g.cellOutput.lock,{validate:!1}).equals(new HA(s,{validate:!1})));if(h!==-1){for(;h>=e.get("witnesses").size;)e=e.update("witnesses",S=>S.push("0x"));let g=e.get("witnesses").get(h);const m=(()=>{const S=Yi.bytes.bytify(t.cellOutput.lock.args)[0];switch(S){case Ao.IdentityFlagsSolana:return MK;case Ao.IdentityFlagsCkb:case Ao.IdentityFlagsEthereum:case Ao.IdentityFlagsBitcoin:return DK;default:throw new Error(`Unsupported flag: ${S}, please check if the script.args is expected`)}})(),A={lock:jK(m)};g=Yi.bytes.hexify(LD.blockchain.WitnessArgs.pack(A)),e=e.update("witnesses",S=>S.set(h,g))}return e}function jK(e){const t=zD.pack({signature:new Uint8Array(e)}).byteLength;return Yi.bytes.hexify(new Uint8Array(t))}function FD(e,{config:t=void 0}={}){return t=t||(0,O2.getConfig)(),(0,Wh.prepareSigningEntries)(e,t,"OMNILOCK")}An.default={prepareSigningEntries:FD,setupInputCell:jD,CellCollector:zK,OmnilockWitnessLock:zD,createOmnilockScript:UD};var PA;function FK(){return PA||(PA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"common",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return c.createP2PKHMessageGroup}}),Object.defineProperty(e,"dao",{enumerable:!0,get:function(){return i.default}}),e.default=void 0,Object.defineProperty(e,"deploy",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"locktimePool",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"omnilock",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"parseFromInfo",{enumerable:!0,get:function(){return n.parseFromInfo}}),Object.defineProperty(e,"secp256k1Blake160",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"sudt",{enumerable:!0,get:function(){return o.default}});var t=h(Tn),r=h(B1),n=Zn,i=h(o5()),a=h(a5()),s=h(s5()),o=h(AD()),f=h(W8()),c=X8,u=h(_c),l=h(An);function h(g){return g&&g.__esModule?g:{default:g}}e.default={secp256k1Blake160:t.default,secp256k1Blake160Multisig:r.default,dao:i.default,locktimePool:a.default,common:s.default,sudt:o.default,anyoneCanPay:f.default}}(D_)),D_}var NA;function a5(){if(NA)return pi;NA=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=pi.CellCollector=void 0,pi.injectCapacity=R,pi.payFee=G,pi.prepareSigningEntries=W,pi.setupInputCell=I,pi.transfer=M,pi.transferCompatible=N;var e=ui(),t=ae,r=Zn,n=g(Tn),i=o5(),a=xr,s=ue,o=Go,f=Hr,c=FK(),u=Di,l=me,h=I2();function g(v){return v&&v.__esModule?v:{default:v}}const{ScriptValue:m}=a.values,{parseEpoch:A,maximumAbsoluteEpochSince:S,generateAbsoluteEpochSince:w,validateSince:C}=a.since,B=pi.CellCollector=class{constructor(d,y,{config:x=void 0,queryOptions:E={},tipHeader:p=void 0,NodeRPC:T=h.RPC}={}){if(!y)throw new Error("Cell provider is missing!");x=x||(0,f.getConfig)();const F=(0,r.parseFromInfo)(d,{config:x}),L=F.fromScript;this.multisigScript=F.multisigScript,this.fromScript=L,this.config=x,this.tipHeader=p,p&&(this.tipSinceValidationInfo={blockNumber:p.number,epoch:p.epoch,median_timestamp:""}),this.rpc=new T(y.uri),E={...E,lock:this.fromScript};let k=(0,o.List)([]);if((0,s.isSecp256k1Blake160MultisigScript)(L,x)){const $={codeHash:L.codeHash,hashType:L.hashType,args:L.args.slice(0,42)};k=k.push(y.collector({lock:$,argsLen:E.argsLen||28,type:E.type||"empty",data:E.data||"0x"})),!E.type&&(!E.data||E.data==="any")&&(k=k.push(y.collector({lock:$,type:(0,s.generateDaoScript)(x),data:"any"})),k=k.push(y.collector({lock:$,argsLen:28,type:(0,s.generateDaoScript)(x),data:"any"})))}else(0,s.isSecp256k1Blake160Script)(L,x)&&!E.type&&(!E.data||E.data==="any")&&(k=k.push(y.collector({lock:L,type:(0,s.generateDaoScript)(x),data:"any"})));this.cellCollectors=k}async*collect(){for(const d of this.cellCollectors)for await(const y of d.collect()){const x=y.cellOutput.lock;let E,p,T,F,L;if(x.args.length===58){const $=await this.rpc.getHeader(y.blockHash);E="0x"+b(x.args).toString(16),L={epoch:$.epoch,blockNumber:$.number,median_timestamp:""}}if((0,s.isDaoScript)(y.cellOutput.type,this.config)){if(y.data==="0x0000000000000000")continue;const $=await this.rpc.getTransaction(y.outPoint.txHash);F=$.txStatus.blockHash;const q=$.transaction.inputs[+y.outPoint.index].previousOutput;T=(await this.rpc.getTransaction(q.txHash)).txStatus.blockHash;const X=await this.rpc.getHeader(T),et=await this.rpc.getHeader(F);let rt="0x"+(0,i.calculateDaoEarliestSinceCompatible)(X.epoch,et.epoch).toString(16);p=(0,i.calculateMaximumWithdrawCompatible)(y,X.dao,et.dao);const U=A(et.epoch),P={number:U.number+4,length:U.length,index:U.index};if(rt=S(rt,w(P)),E){const nt=(0,u.parseSinceCompatible)(E);if(!(nt.relative===!1&&nt.type==="epochNumber"))continue;try{E=S(rt,E)}catch{E=rt}}else E=rt}if((0,u.parseSinceCompatible)(E).type==="blockTimestamp"||this.tipHeader&&!C(E,this.tipSinceValidationInfo,L))continue;const k={...y,since:E,depositBlockHash:T,withdrawBlockHash:F,sinceValidationInfo:L};k.cellOutput.capacity="0x"+(p||l.BI.from(y.cellOutput.capacity)).toString(16),yield k}}};async function M(v,d,y,x,E,{config:p=void 0,requireToAddress:T=!0,assertAmountEnough:F=!0,LocktimeCellCollector:L=B}={}){const k=await N(v,d,y,x,E,{config:p,requireToAddress:T,assertAmountEnough:F,LocktimeCellCollector:L});let $,H;return k instanceof Array?($=k[0],H=BigInt(k[1].toString()),[$,H]):($=k,$)}async function N(v,d,y,x,E,{config:p=void 0,requireToAddress:T=!0,assertAmountEnough:F=!0,LocktimeCellCollector:L=B}={}){let k=l.BI.from(x);for(const[$,H]of d.entries()){const q=await K(v,H,$===0?y:void 0,k,E,{config:p,requireToAddress:$===0?T:!1,assertAmountEnough:!1,LocktimeCellCollector:L});if(v=q[0],k=q[1],k.eq(0))return F?v:[v,l.BI.from(k)]}if(F)throw new Error("Not enough capacity in from addresses!");return[v,l.BI.from(k)]}async function K(v,d,y,x,E,{config:p=void 0,requireToAddress:T=!0,assertAmountEnough:F=!0,LocktimeCellCollector:L=B,changeAddress:k=void 0}){p=p||(0,f.getConfig)();const{fromScript:$}=(0,r.parseFromInfo)(d,{config:p});if(!(0,s.isSecp256k1Blake160MultisigScript)($,p)&&!(0,s.isSecp256k1Blake160Script)($,p))throw new Error("fromInfo not supported!");if(T&&!y)throw new Error("You must provide a to address!");let H=l.BI.from(x||0);if(y){const et=(0,e.parseAddress)(y,{config:p});v=v.update("outputs",rt=>rt.push({cellOutput:{capacity:"0x"+H.toString(16),lock:et,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const q=v.get("fixedEntries").filter(({field:et})=>et==="outputs").maxBy(({index:et})=>et);let X=q?q.index+1:0;for(;X<v.get("outputs").size&&H.gt(0);++X){const et=v.get("outputs").get(X);if(new m(et.cellOutput.lock,{validate:!1}).equals(new m($,{validate:!1}))){const rt=l.BI.from(et.cellOutput.capacity);let U;H.gte(rt)?U=rt:(U=rt.sub((0,e.minimalCellCapacityCompatible)(et)),U.gt(H)&&(U=H)),H=H.sub(U);const P=JSON.parse(JSON.stringify(et));P.cellOutput.capacity="0x"+rt.sub(U).toString(16),v=v.update("outputs",nt=>nt.update(X,()=>P))}}if(v=v.update("outputs",et=>et.filter(rt=>!l.BI.from(rt.cellOutput.capacity).eq(0))),H.gt(0)){const et=v.get("cellProvider");if(!et)throw new Error("cell provider is missing!");const U={cellOutput:{capacity:"0x0",lock:k?(0,e.parseAddress)(k,{config:p}):$,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let P=l.BI.from(0),nt=(0,o.Set)();for(const dt of v.get("inputs"))nt=nt.add(`${dt.outPoint.txHash}_${dt.outPoint.index}`);const ft=new L(d,et,{config:p,tipHeader:E});for await(const dt of ft.collect()){const V=dt;if(nt.has(`${V.outPoint.txHash}_${V.outPoint.index}`))continue;let J;if((0,s.isSecp256k1Blake160MultisigScript)($,p)){const gt=V.cellOutput.lock.args;J=gt.length===58?l.BI.from(b(gt)):void 0}let it="0x";if((0,s.isDaoScript)(V.cellOutput.type,p)){const gt=p.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:gt.DEP_TYPE,outPoint:{txHash:gt.TX_HASH,index:gt.INDEX}}),v=v.update("headerDeps",Ht=>Ht.push(V.depositBlockHash,V.withdrawBlockHash));const Ct=v.get("headerDeps").size-2,ke={inputType:t.bytes.hexify(t.number.Uint64.pack(Ct))};it=t.bytes.hexify(a.blockchain.WitnessArgs.pack(ke))}v=await _(v,V,(0,s.isSecp256k1Blake160MultisigScript)($,p)?Object.assign({},d,{since:J}):d,{config:p,defaultWitness:it,since:V.since});const ut=l.BI.from(V.cellOutput.capacity);let yt=ut;if(yt.gt(H)&&(yt=H),H=H.sub(yt),P=P.add(ut).sub(yt),(0,s.isDaoScript)(V.cellOutput.type,p)&&(v=v.update("fixedEntries",gt=>gt.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),H.eq(0)&&(P.eq(0)||P.gt((0,e.minimalCellCapacityCompatible)(U))))break}P.gt(0)&&(U.cellOutput.capacity="0x"+P.toString(16),v=v.update("outputs",dt=>dt.push(U)))}if(!F)return[v,H];if(H.gt(0))throw new Error("Not enough capacity in from address!");return v}async function Q(v,d,y,x,E,{config:p=void 0,LocktimeCellCollector:T=B,enableDeductCapacity:F=!0}){p=p||(0,f.getConfig)();let L=l.BI.from(y);const k=l.BI.from(E);if(F)for(const H of d){const q=(0,r.parseFromInfo)(H,{config:p}).fromScript;if(!(0,s.isSecp256k1Blake160MultisigScript)(q,p)&&!(0,s.isSecp256k1Blake160Script)(q,p))continue;const X=v.get("fixedEntries").filter(({field:rt})=>rt==="outputs").maxBy(({index:rt})=>rt);let et=X?X.index+1:0;for(;et<v.get("outputs").size&&L.gt(0);++et){const rt=v.get("outputs").get(et);if(new m(rt.cellOutput.lock,{validate:!1}).equals(new m(q,{validate:!1}))){const U=JSON.parse(JSON.stringify(rt)),P=l.BI.from(U.cellOutput.capacity);let nt;L.gte(P)?nt=P:(nt=P.sub((0,e.minimalCellCapacityCompatible)(U)),nt.gt(L)&&(nt=L)),L=L.sub(nt),U.cellOutput.capacity="0x"+P.sub(nt).toString(16),v=v.update("outputs",ft=>ft.update(et,()=>U))}}v=v.update("outputs",rt=>rt.filter(U=>!l.BI.from(U.cellOutput.capacity).eq(0)))}let $=l.BI.from(0);if(L.gt(0)){const H=v.get("cellProvider");if(!H)throw new Error("cell provider is missing!");const q=et=>`${et.outPoint.txHash}_${et.outPoint.index}`;let X=(0,o.Set)();for(const et of v.get("inputs"))X=X.add(q(et));for(const et of d){const rt=(0,r.parseFromInfo)(et,{config:p}).fromScript,U=new T(et,H,{config:p,tipHeader:x});for await(const P of U.collect()){const nt=P;if(X.has(q(nt)))continue;let ft="0x";if((0,s.isDaoScript)(nt.cellOutput.type,p)){const it=p.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:it.DEP_TYPE,outPoint:{txHash:it.TX_HASH,index:it.INDEX}}),v=v.update("headerDeps",gt=>gt.push(nt.depositBlockHash,nt.withdrawBlockHash));const ut=v.get("headerDeps").size-2,yt={inputType:t.bytes.hexify(t.number.Uint64.pack(ut))};ft=t.bytes.hexify(a.blockchain.WitnessArgs.pack(yt))}let dt;if((0,s.isSecp256k1Blake160MultisigScript)(rt,p)){const it=nt.cellOutput.lock.args;dt=it.length===58?l.BI.from(b(it)):void 0}v=await _(v,nt,Object.assign({},et,{since:dt}),{config:p,defaultWitness:ft,since:nt.since});const V=l.BI.from(nt.cellOutput.capacity);let J=V;if(J.gt(L)&&(J=L),L=L.sub(J),$=$.add(V).sub(J),(0,s.isDaoScript)(nt.cellOutput.type,p)&&(v=v.update("fixedEntries",it=>it.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),L.eq(0)&&($.eq(0)||$.gt(k)))break}}}return{txSkeleton:v,capacity:l.BI.from(L.toString()),changeCapacity:l.BI.from($.toString())}}async function j(v,d,y,x,E,{config:p=void 0,LocktimeCellCollector:T=B,enableDeductCapacity:F=!0}){const L=await Q(v,d,y,x,E,{config:p,LocktimeCellCollector:T,enableDeductCapacity:F});return{txSkeleton:L.txSkeleton,capacity:L.capacity.toBigInt(),changeCapacity:L.changeCapacity.toBigInt()}}async function G(v,d,y,x,{config:E=void 0,LocktimeCellCollector:p=B}={}){return N(v,d,void 0,y,x,{config:E,requireToAddress:!1,LocktimeCellCollector:p})}function W(v,{config:d=void 0}={}){return d=d||(0,f.getConfig)(),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160"),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160_MULTISIG"),v}async function R(v,d,y,x,{config:E=void 0,LocktimeCellCollector:p=B}={}){if(E=E||(0,f.getConfig)(),d>=v.get("outputs").size)throw new Error("Invalid output index!");const T=l.BI.from(v.get("outputs").get(d).cellOutput.capacity);return N(v,y,void 0,l.BI.from(T),x,{config:E,requireToAddress:!1,LocktimeCellCollector:p})}async function _(v,d,y,{config:x=void 0,since:E=void 0,defaultWitness:p="0x"}={}){return x=x||(0,f.getConfig)(),v=await I(v,d,y,{config:x,since:E,defaultWitness:p}),v=v.update("outputs",T=>T.remove(T.size-1)),v}async function I(v,d,y,{config:x=void 0,since:E=void 0,defaultWitness:p="0x"}={}){x=x||(0,f.getConfig)();const T=d.cellOutput.lock;if((0,s.isSecp256k1Blake160Script)(T,x))return n.default.setupInputCell(v,d,y,{config:x,defaultWitness:p,since:E});if((0,s.isSecp256k1Blake160MultisigScript)(T,x))return c.secp256k1Blake160Multisig.setupInputCell(v,d,y,{config:x,defaultWitness:p,since:E});throw new Error("Not supported input lock!")}function b(v){if(v.length!==58)throw new Error("Invalid multisig with since args!");return t.number.Uint64LE.unpack("0x"+v.slice(42))}return pi.default={CellCollector:B,transfer:M,transferCompatible:N,payFee:G,prepareSigningEntries:W,injectCapacity:R,setupInputCell:I,injectCapacityWithoutChange:j,injectCapacityWithoutChangeCompatible:Q},pi}var UA;function s5(){if(UA)return $i;UA=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.default=void 0,$i.injectCapacity=Q,$i.payFee=j,$i.payFeeByFeeRate=v,$i.prepareSigningEntries=G,$i.registerCustomLockScriptInfos=M,$i.setupInputCell=b,$i.transfer=K;var e=ui(),t=m(B1),r=Zn,n=m(Tn),i=Hr,a=g(a5()),s=xr,o=m(W8()),f=Go,c=ue,u=me,l=m(An);function h(p){if(typeof WeakMap!="function")return null;var T=new WeakMap,F=new WeakMap;return(h=function(L){return L?F:T})(p)}function g(p,T){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var F=h(T);if(F&&F.has(p))return F.get(p);var L={__proto__:null},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in p)if($!=="default"&&{}.hasOwnProperty.call(p,$)){var H=k?Object.getOwnPropertyDescriptor(p,$):null;H&&(H.get||H.set)?Object.defineProperty(L,$,H):L[$]=p[$]}return L.default=p,F&&F.set(p,L),L}function m(p){return p&&p.__esModule?p:{default:p}}const{ScriptValue:A}=s.values;function S(p,T){console.log(`[${p}] ${T}`)}const w={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function C(){w.configHashCode=0,w._predefinedInfos=[],w._customInfos=[]}function B(){return w}function M(p){w._customInfos=p}function N({config:p=void 0}={}){p=p||(0,i.getConfig)();const T=()=>{var L,k,$,H;const q=(L=p)===null||L===void 0?void 0:L.SCRIPTS.SECP256K1_BLAKE160,X=(k=p)===null||k===void 0?void 0:k.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,et=($=p)===null||$===void 0?void 0:$.SCRIPTS.ANYONE_CAN_PAY,rt=(H=p)===null||H===void 0?void 0:H.SCRIPTS.OMNILOCK,U=[];return q?U.push({codeHash:q.CODE_HASH,hashType:q.HASH_TYPE,lockScriptInfo:n.default}):S("warn","SECP256K1_BLAKE160 script info not found in config!"),X?U.push({codeHash:X.CODE_HASH,hashType:X.HASH_TYPE,lockScriptInfo:t.default}):S("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),et?U.push({codeHash:et.CODE_HASH,hashType:et.HASH_TYPE,lockScriptInfo:o.default}):S("warn","ANYONE_CAN_PAY script info not found in config!"),rt?U.push({codeHash:rt.CODE_HASH,hashType:rt.HASH_TYPE,lockScriptInfo:l.default}):S("warn","OMNILOCK script info not found in config!"),U},F=s.utils.hashCode(Buffer.from(JSON.stringify(p)));w.infos.length===0?(w._predefinedInfos=T(),w.configHashCode=F):F!==w.configHashCode&&(S("warn","`config` changed, regenerate lockScriptInfos!"),w._predefinedInfos=T(),w.configHashCode=F)}async function K(p,T,F,L,k,$,{config:H=void 0,useLocktimeCellsFirst:q=!0,LocktimePoolCellCollector:X=a.CellCollector}={}){var et;H=H||(0,i.getConfig)();const rt=u.BI.from(L);if(!F)throw new Error("You must provide a to address!");const U=(0,e.parseAddress)(F,{config:H}),P={cellOutput:{capacity:"0x"+rt.toString(16),lock:U,type:void 0},data:"0x"};N({config:H});const nt=w.infos.find(ft=>ft.codeHash===U.codeHash&&ft.hashType===U.hashType);return nt&&(et=nt.lockScriptInfo)!==null&&et!==void 0&&et.setupOutputCell?p=await nt.lockScriptInfo.setupOutputCell(p,P,{config:H}):p=p.update("outputs",ft=>ft.push(P)),p=await Q(p,T,rt.toString(),k,$,{config:H,useLocktimeCellsFirst:q,LocktimePoolCellCollector:X}),p}async function Q(p,T,F,L,k,{config:$=void 0,useLocktimeCellsFirst:H=!0,LocktimePoolCellCollector:q=a.CellCollector,enableDeductCapacity:X=!0}={}){$=$||(0,i.getConfig)();let rt=u.BI.from(F);if(T.length===0)throw new Error("No from info provided!");const P={cellOutput:{capacity:"0x0",lock:(0,r.parseFromInfo)(L||T[0],{config:$}).fromScript,type:void 0},data:"0x"},nt=u.BI.from((0,e.minimalCellCapacityCompatible)(P));let ft=u.BI.from(0);if(H){if(k){const dt=await a.default.injectCapacityWithoutChangeCompatible(p,T,rt.toString(),k,nt.toString(),{config:$,LocktimeCellCollector:q,enableDeductCapacity:X});p=dt.txSkeleton,rt=u.BI.from(dt.capacity),ft=u.BI.from(dt.changeCapacity)}if(rt.gt(0)){const dt=await R(p,T,rt,nt,{config:$,enableDeductCapacity:X});p=dt.txSkeleton,rt=dt.capacity,ft=dt.changeCapacity}else if(rt.eq(0)&&ft.gt(0)&&ft.lt(nt)){const dt=await R(p,T,nt.sub(ft),u.BI.from(0),{config:$,enableDeductCapacity:X});p=dt.txSkeleton,rt=dt.capacity,ft=dt.changeCapacity}}else{const dt=await R(p,T,rt,nt,{config:$,enableDeductCapacity:X});if(p=dt.txSkeleton,rt=dt.capacity,ft=dt.changeCapacity,k){if(rt.gt(0)){const V=await a.default.injectCapacityWithoutChangeCompatible(p,T,rt.toString(),k,nt.toString(),{config:$,LocktimeCellCollector:q,enableDeductCapacity:X});p=V.txSkeleton,rt=u.BI.from(V.capacity),ft=u.BI.from(V.changeCapacity)}else if(rt.eq(0)&&ft.gt(0)&&ft.lt(nt)){const V=await a.default.injectCapacityWithoutChangeCompatible(p,T,nt.sub(ft).toString(),k,0,{config:$,LocktimeCellCollector:q,enableDeductCapacity:X});p=V.txSkeleton,rt=u.BI.from(V.capacity),ft=u.BI.from(V.changeCapacity)}}}if(rt.gt(0))throw new Error("Not enough capacity in from infos!");if(ft.gt(0)&&ft.lt(nt))throw new Error("Not enough capacity in from infos for change!");return ft.gt(0)&&(P.cellOutput.capacity="0x"+ft.toString(16),p=p.update("outputs",dt=>dt.push(P))),p}async function j(p,T,F,L,{config:k=void 0,useLocktimeCellsFirst:$=!0,enableDeductCapacity:H=!0}={}){return Q(p,T,F,void 0,L,{config:k,useLocktimeCellsFirst:$,enableDeductCapacity:H})}function G(p,{config:T=void 0}={}){T=T||(0,i.getConfig)(),N({config:T});for(const F of w.infos)p=F.lockScriptInfo.prepareSigningEntries(p,{config:T});return p}async function W(p,T,F,L,{config:k=void 0,enableDeductCapacity:$=!0}={}){const H=await R(p,T,F,L,{config:k,enableDeductCapacity:$});return{txSkeleton:H.txSkeleton,capacity:BigInt(H.capacity.toString()),changeCapacity:BigInt(H.changeCapacity.toString())}}async function R(p,T,F,L,{config:k=void 0,enableDeductCapacity:$=!0}={}){k=k||(0,i.getConfig)();let H=u.BI.from(F);const q=p.get("cellProvider");if(!q)throw new Error("Cell Provider is missing!");const X=P=>{var nt,ft;return`${(nt=P.outPoint)===null||nt===void 0?void 0:nt.txHash}_${(ft=P.outPoint)===null||ft===void 0?void 0:ft.index}`};let et=(0,f.Set)();for(const P of p.get("inputs"))et=et.add(X(P));const rt=T.map(P=>(0,r.parseFromInfo)(P,{config:k}).fromScript);for(const P of rt)$&&H.gt(0)&&([p,H]=_(p,P,H));N({config:k});let U=u.BI.from(0);if(H.gt(0))t:for(const P of T){const nt=w.infos.map(ft=>new ft.lockScriptInfo.CellCollector(P,q,{config:k}));for(const ft of nt)for await(const dt of ft.collect()){const V=X(dt);if(et.has(V))continue;et=et.add(V);const J=await I(p,dt,P,{config:k,needCapacity:H});p=J.txSkeleton;const it=u.BI.from(J.availableCapacity);let ut=it;if(ut.gt(H)&&(ut=H),H=H.sub(ut),U=U.add(it.sub(ut)),H.eq(0)&&(U.eq(0)||U.gt(L)))break t}}return{txSkeleton:p,capacity:H,changeCapacity:U}}function _(p,T,F){let L=u.BI.from(F);const k=p.get("fixedEntries").filter(({field:H})=>H==="outputs").maxBy(({index:H})=>H);let $=k?k.index+1:0;for(;$<p.get("outputs").size&&L.gt(0);$++){const H=p.get("outputs").get($);if(H&&new A(H.cellOutput.lock,{validate:!1}).equals(new A(T,{validate:!1}))){const q=JSON.parse(JSON.stringify(H)),X=u.BI.from(q.cellOutput.capacity),et=X;let rt;L.gte(et)?rt=et:(rt=X.sub((0,e.minimalCellCapacityCompatible)(q)),rt.gt(F)&&(rt=F)),L=L.sub(rt),q.cellOutput.capacity="0x"+X.sub(rt).toString(16),p=p.update("outputs",U=>U.update($,()=>q))}}return p=p.update("outputs",H=>H.filter(q=>u.BI.from(q.cellOutput.capacity).toString()!==u.BI.from(0).toString())),[p,L]}async function I(p,T,F,{config:L=void 0,since:k=void 0,defaultWitness:$="0x",needCapacity:H=void 0}={}){L=L||(0,i.getConfig)(),p=await b(p,T,F,{config:L,since:k,defaultWitness:$});const q=p.get("outputs").size-1,X=p.get("outputs").get(q);if(!X)throw new Error("Impossible: can not find last output");const et=u.BI.from(X.cellOutput.capacity),rt=p.get("fixedEntries").findIndex(ft=>ft.field==="outputs"&&ft.index===q),U=T.cellOutput.lock;let P=u.BI.from(0);if(L.SCRIPTS.ANYONE_CAN_PAY&&(0,c.isAcpScript)(U,L)){const ft=!!(F&&typeof F=="object"&&"destroyable"in F&&F.destroyable),dt=H?u.BI.from(H):et;if(ft)P=et,p=p.update("outputs",V=>V.remove(q)),rt>=0&&(p=p.update("fixedEntries",V=>V.remove(rt)));else{const V=u.BI.from((0,e.minimalCellCapacityCompatible)(X)),J=et.sub(V),it=JSON.parse(JSON.stringify(X));let ut=V;P=J,dt.lt(J)&&(ut=et.sub(dt),P=dt),it.cellOutput.capacity="0x"+ut.toString(16),p=p.update("outputs",yt=>yt.update(q,()=>it))}}else if(rt<0){var nt;P=u.BI.from((nt=p.get("outputs").get(q))===null||nt===void 0?void 0:nt.cellOutput.capacity),p=p.update("outputs",ft=>ft.remove(q))}return{txSkeleton:p,availableCapacity:P}}async function b(p,T,F,{config:L=void 0,since:k=void 0,defaultWitness:$=void 0}={}){L=L||(0,i.getConfig)(),N({config:L});const H=T.cellOutput.lock,q=w.infos.find(X=>X.codeHash===H.codeHash&&X.hashType===H.hashType);if(!q)throw new Error("No LockScriptInfo found for setupInputCell!");return q.lockScriptInfo.setupInputCell(p,T,F,{config:L,since:k,defaultWitness:$})}async function v(p,T,F,L,{config:k=void 0,useLocktimeCellsFirst:$=!0,enableDeductCapacity:H=!0}={}){let q=0,X=p,et=x(X);for(;et>q;){q=et;const rt=y(q,F);X=await j(p,T,rt,L,{config:k,useLocktimeCellsFirst:$,enableDeductCapacity:H}),et=x(X)}return X}function d(p,T){const F=y(p,T);return BigInt(F.toString())}function y(p,T){const F=u.BI.from(1e3),L=u.BI.from(p).mul(T),k=L.div(F);return k.mul(F).lt(L)?k.add(1):u.BI.from(k)}function x(p){const T=(0,e.createTransactionFromSkeleton)(p);return E(T)}function E(p){return s.blockchain.Transaction.pack(p).byteLength+4}return $i.default={transfer:K,payFee:j,prepareSigningEntries:G,injectCapacity:Q,setupInputCell:b,registerCustomLockScriptInfos:M,payFeeByFeeRate:v,__tests__:{_commonTransfer:W,resetLockScriptInfos:C,getLockScriptInfos:B,generateLockScriptInfos:N,getTransactionSizeByTx:E,getTransactionSize:x,calculateFee:d,calculateFeeCompatible:y}},$i}var kA;function o5(){if(kA)return Mn;kA=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.CellCollector=void 0,Mn.calculateDaoEarliestSince=Q,Mn.calculateDaoEarliestSinceCompatible=j,Mn.calculateMaximumWithdraw=_,Mn.calculateMaximumWithdrawCompatible=I,Mn.default=void 0,Mn.deposit=w,Mn.extractDaoDataCompatible=R,Mn.listDaoCells=S,Mn.unlock=K;var e=ui(),t=xr,r=ae,n=Hr,i=l(Tn),a=l(B1),s=Zn,o=ue,f=me,c=I2(),u=l(s5());function l(b){return b&&b.__esModule?b:{default:b}}const{parseSince:h}=t.since,g="0x0000000000000000",m=f.BI.from(180);class A{constructor(v,d,y,{config:x=void 0}={}){if(!d)throw new Error("Cell Provider is missing!");x=x||(0,n.getConfig)();const E=(0,s.parseFromInfo)(v,{config:x}).fromScript,p=(0,o.generateDaoScript)(x),T=y==="deposit"?g:"any";this.cellType=y,this.cellCollector=d.collector({lock:E,type:p,data:T})}async*collect(){for await(const v of this.cellCollector.collect())this.cellType==="withdraw"&&v.data===g||(yield v)}}Mn.CellCollector=A;async function*S(b,v,d,{config:y=void 0}={}){const x=new A(v,b,d,{config:y});for await(const E of x.collect())yield E}async function w(b,v,d,y,{config:x=void 0,enableNonSystemScript:E=!1}={}){x=x||(0,n.getConfig)();const p=x.SCRIPTS.DAO;if(!p)throw new Error("Provided config does not have DAO script setup!");if(C(v,x),b=W(b,x),!d)throw new Error("You must provide a to address!");const T=(0,e.parseAddress)(d,{config:x}),F={codeHash:p.CODE_HASH,hashType:p.HASH_TYPE,args:"0x"};b=b.update("outputs",k=>k.push({cellOutput:{capacity:"0x"+f.BI.from(y).toString(16),lock:T,type:F},data:g,outPoint:void 0,blockHash:void 0}));const L=b.get("outputs").size-1;if(b=b.update("fixedEntries",k=>k.push({field:"outputs",index:L})),typeof v=="string"){const k=(0,e.parseAddress)(v,{config:x});(0,o.isSecp256k1Blake160Script)(k,x)?b=await i.default.injectCapacity(b,L,v,{config:x}):(0,o.isSecp256k1Blake160MultisigScript)(k,x)?b=await a.default.injectCapacity(b,L,v,{config:x}):E&&(b=await u.default.injectCapacity(b,[v],y,(0,e.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:x}),void 0,{config:x}))}else v&&((0,s.isMultisigFromInfo)(v)?b=await a.default.injectCapacity(b,L,v,{config:x}):E&&(b=await u.default.injectCapacity(b,[v],y,(0,e.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:x}),void 0,{config:x})));return b}function C(b,v){let d;if(typeof b=="string"){const x=(0,e.parseAddress)(b,{config:v}).args;x.length===58&&(d=r.number.Uint64LE.unpack("0x"+x.slice(42)).toHexString())}else"R"in b&&(d=b.since);if(d!=null){const{relative:y,type:x}=h(d);if(!(!y&&x==="epochNumber"))throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}async function B(b,v,d,{config:y=void 0,enableNonSystemScript:x=!1}={}){if(y=y||(0,n.getConfig)(),G(y),b=W(b,y),b.get("inputs").size!==b.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!y.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!b.get("cellProvider"))throw new Error("Cell provider is missing!");const p=v.cellOutput.type,T=y.SCRIPTS.DAO;if(!p||p.codeHash!==T.CODE_HASH||p.hashType!==T.HASH_TYPE||v.data!==g)throw new Error("fromInput is not a DAO deposit cell.");const F=v.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(F,y)?b=await i.default.setupInputCell(b,v,void 0,{config:y}):(0,o.isSecp256k1Blake160MultisigScript)(F,y)?b=await a.default.setupInputCell(b,v,d||(0,e.generateAddress)(F,{config:y}),{config:y}):x&&(b=await u.default.setupInputCell(b,v,d||(0,e.encodeToAddress)(F,{config:y}),{config:y}));const L=b.get("outputs").size-1,k=b.get("outputs").get(L),$=JSON.parse(JSON.stringify(k));if(v.blockNumber)$.data=r.bytes.hexify(r.number.Uint64.pack(v.blockNumber));else throw new Error("fromInput has no blockNumber!");return b=b.update("outputs",H=>H.update(L,()=>$)),b=b.update("headerDeps",H=>H.push(v.blockHash)),b=b.update("fixedEntries",H=>H.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1})),b}function M(b){const v=f.BI.from(b);return{length:v.shr(40).and(4095),index:v.shr(24).and(4095),number:v.and(16777215)}}function N({length:b,index:v,number:d}){const y=f.BI.from(b),x=f.BI.from(v),E=f.BI.from(d);return f.BI.from(32).shl(56).add(y.shl(40)).add(x.shl(24)).add(E)}async function K(b,v,d,y,x,{config:E=void 0,RpcClient:p=c.RPC}={}){if(E=E||(0,n.getConfig)(),G(E),b=W(b,E),!E.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const T=b.get("cellProvider");if(!T)throw new Error("Cell provider is missing!");const F=new p(T.uri),L=v.cellOutput.type,k=E.SCRIPTS.DAO;if(!L||L.codeHash!==k.CODE_HASH||L.hashType!==k.HASH_TYPE||v.data!==g)throw new Error("depositInput is not a DAO deposit cell.");const $=d.cellOutput.type;if(!$||$.codeHash!==k.CODE_HASH||$.hashType!==k.HASH_TYPE||d.data===g)throw new Error("withdrawInput is not a DAO withdraw cell.");const H=await F.getHeader(v.blockHash),q=M(H.epoch),X=await F.getHeader(d.blockHash),et=M(X.epoch),rt=et.index.mul(q.length),U=q.index.mul(et.length);let P=et.number.sub(q.number);rt.gt(U)&&(P=P.add(1));const nt=P.add(m).sub(1).div(m).mul(m),ft={number:f.BI.from(q.number.add(nt)),index:f.BI.from(q.index),length:f.BI.from(q.length)},dt=N(ft),V="0x"+I(d,H.dao,X.dao).toString(16),J=(0,e.parseAddress)(y,{config:E});b=b.update("outputs",Ht=>Ht.push({cellOutput:{capacity:V,lock:J,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}));const it="0x"+dt.toString(16);for(;b.get("witnesses").size<b.get("inputs").size-1;)b=b.update("witnesses",Ht=>Ht.push("0x"));b=b.update("headerDeps",Ht=>Ht.push(v.blockHash,d.blockHash));const ut=b.get("headerDeps").size-2,yt={inputType:r.bytes.hexify(r.number.Uint64LE.pack(ut))},gt=r.bytes.hexify(t.blockchain.WitnessArgs.pack(yt)),Ct=d.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(Ct,E)?b=await i.default.setupInputCell(b,d,void 0,{config:E,since:it,defaultWitness:gt}):(0,o.isSecp256k1Blake160MultisigScript)(Ct,E)&&(b=await a.default.setupInputCell(b,d,x||(0,e.generateAddress)(Ct,{config:E}),{config:E,since:it,defaultWitness:gt}));const ke=b.get("outputs").size-1;return b=b.update("outputs",Ht=>Ht.remove(ke)),b=b.update("fixedEntries",Ht=>Ht.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1},{field:"witnesses",index:b.get("witnesses").size-1},{field:"headerDeps",index:b.get("headerDeps").size-2})),b}function Q(b,v){const d=j(b,v);return BigInt(d.toString())}function j(b,v){const d=M(b),y=M(v),x=y.index.mul(d.length),E=d.index.mul(y.length);let p=y.number.sub(d.number);x.gt(E)&&(p=p.add(1));const T=p.add(m).sub(1).div(m).mul(m),F={number:f.BI.from(d.number.add(T)),index:f.BI.from(d.index),length:f.BI.from(d.length)};return N(F)}function G(b){if(!b.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function W(b,v){const d=v.SCRIPTS.DAO;return(0,o.addCellDep)(b,{outPoint:{txHash:d.TX_HASH,index:d.INDEX},depType:d.DEP_TYPE})}function R(b){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(b))throw new Error("Invalid dao format!");const v=8*2,d=b.startsWith("0x")?b.slice(2):b;return["c","ar","s","u"].map((y,x)=>({[y]:r.number.Uint64LE.unpack("0x"+d.slice(v*x,v*(x+1)))})).reduce((y,x)=>({...y,...x}),{})}function _(b,v,d){return I(b,v,d).toBigInt()}function I(b,v,d){const y=f.BI.from(R(v).ar),x=f.BI.from(R(d).ar),E=f.BI.from((0,e.minimalCellCapacityCompatible)(b));return f.BI.from(b.cellOutput.capacity).sub(E).mul(x).div(y).add(E)}return Mn.default={deposit:w,withdraw:B,unlock:K,calculateMaximumWithdraw:_,calculateMaximumWithdrawCompatible:I,calculateDaoEarliestSince:Q,calculateDaoEarliestSinceCompatible:j,CellCollector:A,listDaoCells:S},Mn}var D2=o5();const Pe=100000000n;function wc(e){return"0x"+e.toString(16)}function Dp(...e){return e.reduce((t,r)=>t>r?t:r)}function $K(...e){return e.reduce((t,r)=>t<r?t:r)}function X3(e){return t=>mn(t.cellOutput.lock,e)?e:void 0}function qK(e,t){const r=[],n=[];for(const i of e){if(i.cellOutput.type!==void 0||i.data!=="0x"){n.push(i);continue}const a=t(i);if(!a){n.push(i);continue}r.push(Qe.from({...i,cellOutput:{lock:a,capacity:i.cellOutput.capacity}}))}return{capacities:r,notCapacities:n}}function KK(e,t,r){const n=[],i=[];for(const a of e){if(!mn(a.cellOutput.type,t)){i.push(a);continue}const s=r(a);if(!s){i.push(a);continue}n.push(Qe.from({...a,cellOutput:{lock:s,type:t,capacity:a.cellOutput.capacity}}))}return{types:n,notTypes:i}}function QK(e,t,r){const n=a1(r.epoch),i=[],a=[];for(const s of e)M2(n,wp(t(s)))>=0?i.push(s):a.push(s);return{mature:i,notMature:a}}const YK="Comparing two Scripts that both are undefined";function mn(e,t){if(!e&&!t)throw Error(YK);return!e||!t?!1:e.codeHash===t.codeHash&&e.hashType===t.hashType&&e.args===t.args}function M2(e,t){if(e.number<t.number)return-1;if(e.number>t.number)return 1;const r=e.index*t.length,n=t.index*e.length;return r<n?-1:r>n?1:0}const VK="Zero EpochSinceValue length";function $D(e,t){if(e.length===0||t.length===0)throw Error(VK);e.length!==t.length&&(t={length:e.length,index:Math.ceil(t.index*e.length/t.length),number:t.number});const r=e.index+t.index,n=e.length,i=r%n,a=e.number+(r-i)/n;return{length:n,index:i,number:a}}function GK(e){const t=[...e];for(let r=t.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[t[r],t[n]]=[t[n],t[r]]}return t}function WK(e,t){let[r,n]=[0,e];for(;r<n;){const i=Math.trunc((r+n)/2);t(i)?n=i:r=i+1}return r}const XK="Unable to modify entries without messing up fixed entries",ZK="Input and output have different length",JK="Signing Entries are not empty";function va(e,t,r,n){const i=f5(e),a=ya(r),s=ya(n);if(t==="matched"){if(a.size!==s.size)throw Error(ZK);if(i.inputs!==i.outputs)throw Error(XK);if(e.signingEntries.size>0)throw Error(JK)}const o=t=="matched",f=o?i.inputs+1:e.inputs.size,c=o?i.outputs+1:e.outputs.size;return e=nQ(e,a,s),e=rQ(e,a,s),e=eQ(e,f,a),e=tQ(e,f,a,c,s),e=e.update("inputs",u=>u.splice(f,0,...a)),e=e.update("outputs",u=>u.splice(c,0,...s)),o&&(e=c5(e,i.set("inputs",i.inputs+a.size).set("outputs",i.outputs+s.size))),e}const zA=pc(Qg.pack({lock:void 0,inputType:void 0,outputType:void 0}));function tQ(e,t,r,n,i){const a=Dp(e.inputs.size,e.outputs.size,e.witnesses.size,t,n),s=[],o=[],f=[];for(let l=0;l<a;l++){const{lock:h,inputType:g,outputType:m}=Qg.unpack(e.witnesses.get(l,zA));s.push(h),o.push(g),f.push(m)}s.splice(t,0,...r.map(l=>l.cellOutput.lock[ou])),o.splice(t,0,...r.map(l=>{var h;return(h=l.cellOutput.type)==null?void 0:h[ou]})),f.splice(n,0,...i.map(l=>{var h;return(h=l.cellOutput.type)==null?void 0:h[ou]}));const c=Dp(o.length,f.length),u=[];for(let l=0;l<c;l++)u.push(ae.bytes.hexify(Qg.pack({lock:s[l],inputType:o[l],outputType:f[l]})));for(;u[u.length-1]===zA;)u.pop();return e.set("witnesses",ya(u))}function eQ(e,t,r){const n=ha[Rs],i=Array.from({length:e.inputs.size},(s,o)=>e.inputSinces.get(o,n)),a=[];for(const s of r){const o=s.cellOutput.lock[Rs],f=s.cellOutput.type?s.cellOutput.type[Rs]:o;o===n||o===f?a.push(f):f===n?a.push(o):M2(wp(o),wp(f))==-1?a.push(f):a.push(o)}return i.splice(t,0,...a),e.set("inputSinces",Vo(i.map((s,o)=>[o,s]).filter(({1:s})=>s!==n)))}function rQ(e,t,r){const n=[];for(const i of t){const a=i.cellOutput.lock;n.push(...a[ii])}for(const i of[...t,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[ii])}return qD(e,...n.map(i=>i.hash))}function qD(e,...t){const r=f5(e);let n=e.headerDeps.push(...t);return n=ya(new Set(n)),e=c5(e,r.set("headerDeps",n.size-1)),e.set("headerDeps",n)}function nQ(e,t,r){const n=[];for(const i of t){const a=i.cellOutput.lock;n.push(...a[Si])}for(const i of[...t,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[Si])}return aQ(e,...n)}const iQ=e=>`${e.outPoint.txHash}-${e.outPoint.index}-${e.depType}`;function aQ(e,...t){const r=f5(e);let n=e.cellDeps.push(...t);return n=ya(new Map(n.map(i=>[iQ(i),i])).values()),e=c5(e,r.set("cellDeps",n.size-1)),e.set("cellDeps",n)}function f5(e){return uQ(e.fixedEntries.sort((t,r)=>t.index-r.index).map(t=>[t.field,t.index]))}const sQ=ya(["cellDeps","headerDeps","inputs","outputs"]);function c5(e,t){return e.set("fixedEntries",sQ.map(r=>Object.freeze({field:r,index:t[r]})).filter(({index:r})=>r>=0))}function oQ(e){return e.inputs.size>0&&e.outputs.size>0}function fQ(e){return z4.pack(b2.createTransactionFromSkeleton(e)).byteLength+4}function cQ(e,t){const r=1000n,n=BigInt(e)*t,i=n/r;return i*r<n?i+1n:i}const uQ=hr({cellDeps:-1,headerDeps:-1,inputs:-1,outputs:-1}),KD="Encountered an input cell with blockNumber undefined";function jA(e,t,r,n){const i=[],a=[],s=[],o=n.defaultScript("DAO"),f=(c,u,l,h,g)=>Qe.from({...c,cellOutput:{lock:u,type:wn.from({...o,[ii]:h?[l,h]:[l],[Rs]:g??o[Rs]}),capacity:c.cellOutput.capacity},blockHash:l.hash});for(const c of e){const u=t(c);if(!u||!u5(c,n)){s.push(c);continue}if(!c.blockNumber)throw Error(KD);const l=r(c.blockNumber,c);if(c.data===R2)i.push(f(c,u,l));else{const h=r(wc(Ad.unpack(c.data)),c),g=D2.calculateDaoEarliestSinceCompatible(h.epoch,l.epoch).toHexString();a.push(f(c,u,l,h,g))}}return{deposits:i,withdrawalRequests:a,notDaos:s}}const R2="0x0000000000000000";function u5(e,t){return mn(e.cellOutput.type,t.defaultScript("DAO"))}function QD(e,t){return u5(e,t)&&e.data===R2}function YD(e,t){return u5(e,t)&&e.data!==R2}function lQ(e,t,r,n){const i=Qe.from({lock:r,type:n.defaultScript("DAO"),data:R2}),a=t.map(s=>Qe.from({...i,capacity:wc(s)}));return va(e,"append",[],a)}const dQ="Withdrawal request lock has different size";function hQ(e,t,r){const n=[];for(const i of t){if(i.cellOutput.lock.args.length!=r.args.length)throw Error(dQ);n.push(Qe.from({...i.cellOutput,lock:r,data:pc(Ad.pack(BigInt(i.blockNumber)))}))}return va(e,"matched",t,n)}function pQ(e,t){const r=[];for(const a of t)r.push(...a.cellOutput.type[ii].map(s=>s.hash));e=qD(e,...r);const n=[],i=new Map(e.headerDeps.map((a,s)=>[a,s]));for(const a of t){const s=a.cellOutput.type[ii][1];n.push(Qe.from({...a,type:wn.from({...a.cellOutput.type,[ou]:pc(Ad.pack(i.get(s.hash)))})}))}return va(e,"append",n,[])}function bQ(e,t){const r=Ej(t),n=e.cellOutput.type[ii][0].epoch;return wp(D2.calculateDaoEarliestSinceCompatible(n,r).toHexString())}function ug(e,t){let r=0n;for(const n of e.inputs)if(YD(n,t)){const i=n,[a,s]=i.cellOutput.type[ii],o=D2.calculateMaximumWithdraw(n,s.dao,a.dao);r+=o}else r+=BigInt(n.cellOutput.capacity);return e.outputs.forEach(n=>r-=BigInt(n.cellOutput.capacity)),r}function gQ(e,t,r,n){let i=Qe.from({lock:t});const a=BigInt(i.cellOutput.capacity),s=va(e,"append",[],[i]),o=r(s),f=ug(s,n)-o;return f>0n?(i=Qe.from({...i,capacity:wc(a+f)}),e=va(e,"append",[],[i])):e=s,{tx:e,txFee:o,freeCkb:f}}function yQ(){const e=Xy.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=mt.jsx(mt.Fragment,{children:mt.jsxs("h1",{className:"flex flex-row items-center justify-center py-4 text-5xl font-medium",children:[mt.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),mt.jsx("span",{children:"iCKB"}),mt.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"})]})}),e[0]=t):t=e[0],t}function FA(e){const t=Xy.c(8),{walletConfig:r}=e,{chain:n,address:i}=r,a=`https://${n!=="mainnet"?"testnet.":""}explorer.nervos.org/address/${i}`;let s,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=mt.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),o={direction:"rtl"},t[0]=s,t[1]=o):(s=t[0],o=t[1]);let f;t[2]!==i?(f=mt.jsx("h1",{style:o,className:"-ml-3 truncate text-3xl",children:i}),t[2]=i,t[3]=f):f=t[3];let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=mt.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"}),t[4]=c):c=t[4];let u;return t[5]!==a||t[6]!==f?(u=mt.jsxs("a",{href:a,target:"_blank",className:"flex flex-row items-center justify-center rounded-2xl py-4 font-medium",children:[s,f,c]}),t[5]=a,t[6]=f,t[7]=u):u=t[7],u}function VD(e){return e==="C"}function Z3(e){return e?"C":"I"}function vQ(e){let t=0;for(;t<e.length;t++){const a=e[t];if("1"<=a&&a<="9"||a===".")break}let r="";const n=[];for(;t<e.length;t++){const a=e[t];if("0"<=a&&a<="9")n.push(a);else if(a=="."){r=".";break}}const i=[];for(;t<e.length&&i.length<8;t++){const a=e[t];"0"<=a&&a<="9"&&i.push(a)}return(n.length>0?BigInt(n.join("")).toLocaleString("en-US"):r.length>0?"0":"")+r+i.join("")}function L2(e){return(e/Pe).toLocaleString("en-US")+String(Number(e%Pe)/Number(Pe)).slice(1)}function _Q(e){const[t,...r]=e.split(",").join("").split(".");return BigInt((t??"0")+((r??[]).join("")+"00000000").slice(0,8))}function GD(e,t,r){return Object.freeze($D(a1(r.epoch),{number:0,index:1+Number(t/(e?100000n*Pe:200n*Pe)),length:4*60}))}function WD(e){return e.reduce((t,r)=>M2(t,r)===-1?r:t)}const XD=Object.freeze({number:0,index:0,length:1}),Nl=Object.freeze({tx:b2.TransactionSkeleton(),error:"",fee:0n,estimatedMaturity:XD}),ZD=1000n*Pe,{union:mQ,struct:Nu}=ae.molecule;function wQ(e){return ae.createFixedBytesCodec({pack:ae.bytes.bytify,unpack:ae.bytes.hexify,byteLength:e})}const AQ=wQ(32),JD=Nu({depositQuantity:w$,depositAmount:Ad},["depositQuantity","depositAmount"]),tM=Nu({ownedDistance:EO},["ownedDistance"]),$A=Nu({ckbMultiplier:Ad,udtMultiplier:Ad},["ckbMultiplier","udtMultiplier"]),eM=Nu({ckbToUdt:$A,udtToCkb:$A,ckbMinMatchLog:m$},["ckbToUdt","udtToCkb","ckbMinMatchLog"]),EQ=Nu({padding:AQ,masterDistance:EO,orderInfo:eM},["padding","masterDistance","orderInfo"]),xQ=Nu({masterOutpoint:A$,orderInfo:eM},["masterOutpoint","orderInfo"]),qA=mQ({MintOrderData:EQ,MatchOrderData:xQ},["MintOrderData","MatchOrderData"]),wh=Nu({udtAmount:Y3},["udtAmount"]),l5=ae.createBytesCodec({pack:e=>ae.bytes.concat(wh.pack(e),qA.pack(e)),unpack:e=>{const t=e.slice(0,wh.byteLength),r=e.slice(wh.byteLength),n=wh.unpack(t),i=qA.unpack(r);return{...n,...i}}}),SQ=[{name:"ICKB_LOGIC",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null},{name:"XUDT",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:3,occupied_capacity:33757e8,data_hash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",type_id:null}],CQ=[{name:"ickb_dep_group",tx_hash:"0x0152f73978779b99eb5aeed9ae9879a7004bd7c69fd858da443b535cb2c9df1d",index:0,data_hash:"0xb208b98b17ff0f740464299171f2285cbd4dcf6792a4058a9ff365eed15e19e3",occupied_capacity:353e8}],IQ={cell_recipes:SQ,dep_group_recipes:CQ},TQ=[{name:"ICKB_LOGIC",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],BQ=[{name:"ickb_dep_group",tx_hash:"0xf7ece4fb33d8378344cab11fcd6a4c6f382fd4207ac921cf5821f30712dcd311",index:0,data_hash:"0x8d3a9737808fc4a3c7f9e554be9045333c5082bf3b82f8a33873c367a2b2307f",occupied_capacity:353e8}],OQ={cell_recipes:TQ,dep_group_recipes:BQ},DQ=[{name:"ICKB_LOGIC",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],MQ=[{name:"ickb_dep_group",tx_hash:"0x621a6f38de3b9f453016780edac3b26bfcbfa3e2ecb47c2da275471a5d3ed165",index:0,data_hash:"0x94d59795c742dfb381c8e8d8beee0362d0bf8f8921212ed15f87acd89a3ce78b",occupied_capacity:353e8}],RQ={cell_recipes:DQ,dep_group_recipes:MQ},LQ="The requested script is missing in the old config";function rM(e,t){const{cell_recipes:r,dep_group_recipes:n}=e==="mainnet"?RQ:e==="testnet"?OQ:IQ,{tx_hash:i,index:a}=n[0],s=ko.from({txHash:i,index:wc(a)}),o={};for(const c of r)o[c.name]=new Vh(wn.from({...ha,codeHash:c.type_id??c.data_hash,hashType:c.type_id?"type":"data1",[Si]:[fu.from({outPoint:s,depType:"depGroup"})]}));const f=["SECP256K1_BLAKE160","DAO","SECP256K1_BLAKE160_MULTISIG"];if(e!=="devnet")if(e==="testnet")f.push("XUDT"),t={...t,XUDT:new Vh(wn.from({...ha,codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",[Si]:[fu.from({outPoint:ko.from({txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"}),depType:"code"})]}))};else{if(t.XUDT.HASH_TYPE!=="data1")throw Error("Expected data1 hashType for XUDT");f.push("XUDT")}for(const c of f){const u=t[c];if(!u)throw Error(LQ);o[c]=new Vh(wn.from({...u.defaultScript,[Si]:[fu.from({outPoint:s,depType:"depGroup"})]}))}return o}function KA(e,t,r,n){const i=O1(n),a=l0(n),s=[],o=[];let f=[],c=[],u=[];for(const w of e){const C=t(w);if(!C){u.push(w);continue}if(mn(w.cellOutput.type,i)){s.push(Qe.from({...w,cellOutput:{lock:C,type:i,capacity:w.cellOutput.capacity}}));continue}if(!mn(w.cellOutput.type,a)){u.push(w);continue}if(!w.blockNumber)throw Error(KD);o.push(Qe.from({...w,cellOutput:{lock:C,type:wn.from({...a,[ii]:[r(w.blockNumber,w)]}),capacity:w.cellOutput.capacity}}))}let l;({deposits:c,withdrawalRequests:l,notDaos:u}=jA(u,X3(a),r,n)),u=u.concat(l);const h=P2(n);({deposits:l,withdrawalRequests:f,notDaos:u}=jA(u,X3(h),r,n)),u=u.concat(l);let g;({types:g,notTypes:u}=KK(u,h,t));const m=w=>w.txHash+w.index,A=new Map(f.map(w=>[m(w.outPoint),w])),S=[];for(const w of g){const{ownedDistance:C}=tM.unpack(w.data),B=wc(Number(w.outPoint.index)+C),M=m({...w.outPoint,index:B}),N=A.get(M);N?(S.push(Object.freeze({owner:w,ownedWithdrawalRequest:N})),A.delete(M)):u.push(w)}return u=u.concat(Array.from(A.values())),{udts:s,receipts:o,withdrawalRequestGroups:S,ickbPool:c,notIckbs:u}}function HQ(e,t,r,n){let i=e.map(a=>Object.freeze({deposit:a,ickbValue:J3(BigInt(a.cellOutput.capacity)-H2,a.cellOutput.type[ii][0]),estimatedMaturity:{length:1,index:0,number:0}}));if(r){const a=$D(a1(t.epoch),r);i=i.map(s=>Object.freeze({...s,estimatedMaturity:bQ(s.deposit,a)})).sort((s,o)=>M2(s.estimatedMaturity,o.estimatedMaturity))}return i}function PQ(e,t,r,n){return lQ(e,Array(t).fill(r),l0(n),n)}function NQ(e,t,r){return hQ(e,t,P2(r))}function UQ(e,t){const r=[],n=[];for(const{ownedWithdrawalRequest:i,owner:a}of t)r.push(i),n.push(a);return r.length>0&&(e=pQ(e,r),e=va(e,"append",n,[])),e}function lg(e,t){const r=O1(t),n=l0(t);let i=0n;for(const a of e.inputs){if(mn(a.cellOutput.type,r)){i+=Y3.unpack(a.data.slice(0,2+16*2));continue}if(mn(a.cellOutput.lock,n)&&QD(a,t)){const s=a.cellOutput.type[ii][0],o=BigInt(a.cellOutput.capacity)-H2;i-=J3(o,s);continue}if(mn(a.cellOutput.type,n)){const s=a.cellOutput.type[ii][0],{depositQuantity:o,depositAmount:f}=JD.unpack(a.data);i+=J3(f,s)*BigInt(o)}}for(const a of e.outputs)mn(a.cellOutput.type,r)&&(i-=Y3.unpack(a.data.slice(0,2+16*2)));return i}function J3(e,t){let r=nM(e,t,!1);return fy<r&&(r-=(r-fy)/10n),r}function kQ(e,t,r){const n=lg(e,r);if(n>0n){const i=Qe.from({lock:t,type:O1(r),data:pc(wh.pack({udtAmount:n}))});e=va(e,"append",[],[i])}return{tx:e,freeIckbUdt:n}}function zQ(e,t,r){const n=[],i=P2(r);for(const[a,s]of e.outputs.entries()){if(!YD(s,r)||!mn(s.cellOutput.lock,i))continue;const o=e.outputs.size+n.length,f=a-o;n.push(Qe.from({lock:t,type:i,data:pc(tM.pack({ownedDistance:f}))}))}return n.length>0?va(e,"append",[],n):e}function jQ(e,t,r){const n=l0(r),i=new Map;for(const s of e.outputs){if(!QD(s,r)||!mn(s.cellOutput.lock,n))continue;const o=BigInt(s.cellOutput.capacity)-H2;let f=i.get(o);f?f.depositQuantity+=1:i.set(o,{depositQuantity:1,depositAmount:o})}const a=[];for(const s of i.values())a.push(Qe.from({lock:t,type:n,data:pc(JD.pack(s))}));return a.length>0?va(e,"append",[],a):e}const fy=100000n*Pe;function FQ(e){return cy(fy,e)}function nM(e,t,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=d5(t,r);return e*n/i}function cy(e,t,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=d5(t,r);return e*i/n}const iM=10000000000000000n,H2=82n*Pe,$Q=H2*iM/fy;function d5(e,t=!0){const n=D2.extractDaoDataCompatible(e.dao).ar.toBigInt();return{ckbMultiplier:iM,udtMultiplier:t?n+$Q:n}}function O1(e){return wn.from({...e.defaultScript("XUDT"),args:Vz(l0(e))+"00000080"})}function l0(e){return e.defaultScript("ICKB_LOGIC")}function P2(e){return e.defaultScript("OWNED_OWNER")}function QA(e,t){return e.ckbMultiplier===t.ckbMultiplier&&e.udtMultiplier===t.udtMultiplier}function aM(e,t){return QA(e.ckbToUdt,t.ckbToUdt)&&QA(e.udtToCkb,t.udtToCkb)&&e.ckbMinMatchLog===t.ckbMinMatchLog}function YA(e,t,r,n,i=O1(n)){const a=h5(n),{groups:s,unknowns:o}=sM(e,t,a,i),f=qQ([...s.values()].map(l=>{var h;return((h=l.master)==null?void 0:h.outPoint)??l.orders[0].info.masterOutpoint}),r,a,i),c=[],u=[];for(const[l,h]of s){const g=f.get(l);if(g===void 0){const S=h.master===void 0?[]:[h.master];o.push(...S,...h.orders.map(w=>w.cell));continue}let m=-1,A=g;for(let S=0;S<h.orders.length;S++){const w=h.orders[S];if(!aM(g.info,w.info)||!mn(g.cell.cellOutput.type,w.cell.cellOutput.type)||w.info.absTotal<g.info.absTotal){o.push(w.cell);continue}if(w.info.absProgress<A.info.absProgress){o.push(w.cell);continue}if(w.info.absProgress===A.info.absProgress&&!w.info.isMint){o.push(w.cell);continue}m>=0&&o.push(A.cell),m=S,A=w}if(m===-1){h.master!==void 0&&o.push(h.master);continue}h.master!==void 0?u.push(Object.freeze({...A,master:h.master})):c.push(Object.freeze(A))}return{myOrders:u,orders:c,notOrders:o}}function qQ(e,t,r,n){const i=new Map,a=s=>wn.from({...ha,...s.cellOutput.lock});for(const s of new Set(e.map(o=>o.txHash)))for(const[o,f]of sM(t(s),a,r,n).groups)f.master===void 0||f.orders.length!==1||!f.orders[0].info.isMint||i.set(o,{...f.orders[0],master:f.master});return i}function sM(e,t,r,n){const i=new Map,a=o=>{const f=o.txHash+o.index;let c=i.get(f);return c===void 0&&(c={master:void 0,orders:[]},i.set(f,c)),c},s=[];for(const o of e){const{lock:f,type:c}=o.cellOutput;if(mn(c,r)){const u=t(o);if(u){a(o.outPoint).master=Qe.from({...o,cellOutput:{lock:u,type:r,capacity:o.cellOutput.capacity}});continue}}else if(mn(f,r)&&mn(c,n)){const u=KQ(o);if(u!==void 0){a(u.masterOutpoint).orders.push({cell:Qe.from({...o,cellOutput:{lock:r,type:n,capacity:o.cellOutput.capacity}}),info:u});continue}}s.push(o)}return{groups:i,unknowns:s}}function KQ(e){let t;try{t=l5.unpack(e.data)}catch{return}const r=t.value.orderInfo,n=uy(r.ckbToUdt),i=uy(r.udtToCkb),a=oM(r.ckbMinMatchLog);if(!aM({ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a},r)||t.type==="MintOrderData"&&t.value.padding!==p5||e.cellOutput.type===void 0||e.cellOutput.type.args.length<2)return;const s=t.type==="MintOrderData",o=ko.from(t.type==="MintOrderData"?{txHash:e.outPoint.txHash,index:wc(Number(e.outPoint.index)+t.value.masterDistance)}:t.value.masterOutpoint),f=1n<<BigInt(a),c=t.udtAmount,u=BigInt(e.cellOutput.capacity),l=WQ+BigInt((e.cellOutput.type.args.length-2)/2)*Pe,h=u-l,g=n!==Eo,m=i!==Eo,A=g&&m,S=g?h*n.ckbMultiplier+c*n.udtMultiplier:0n,w=m?h*i.ckbMultiplier+c*i.udtMultiplier:0n,C=S===0n?w:w===0n?S:S*i.ckbMultiplier*i.udtMultiplier+w*n.ckbMultiplier*n.udtMultiplier>>1n,B=A?C:g?c*n.udtMultiplier:h*i.ckbMultiplier,M=g&&h>0n,N=m&&c>0n;return Object.freeze({isMint:s,masterOutpoint:o,ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a,ckbMinMatch:f,udtAmount:c,ckbAmount:u,ckbOccupied:l,ckbUnoccupied:h,absTotal:C,absProgress:B,isCkb2Udt:g,isUdt2Ckb:m,isDualRatio:A,isCkb2UdtMatchable:M,isUdt2CkbMatchable:N,isMatchable:M||N})}const QQ=33;function YQ(e,...t){const{master:r,order:n}=VQ(...t);return va(e,"append",[],[r,n])}const VA="Order ratio are invalid";function VQ(e,t,r=0n,n=0n,i=Eo,a=Eo,s=QQ,o=O1(t)){if(i=uy(i),a=uy(a),s=oM(s),i===Eo&&a===Eo||i.ckbMultiplier*a.udtMultiplier<i.udtMultiplier*a.ckbMultiplier)throw Error(VA);const f=h5(t),c=Qe.from({lock:e,type:f});let u=Qe.from({lock:f,type:o,data:pc(l5.pack({udtAmount:n,type:"MintOrderData",value:{padding:p5,masterDistance:-1,orderInfo:{ckbToUdt:i,udtToCkb:a,ckbMinMatchLog:s}}}))});return r>0n&&(u=Qe.from({...u,capacity:wc(BigInt(u.cellOutput.capacity)+r)})),{master:c,order:u}}function GQ(e,t){return va(e,"append",t.flatMap(r=>[r.cell,r.master]),[])}function h5(e){return e.defaultScript("LIMIT_ORDER")}function oM(e){return e>64?64:e}function uy(e){return e.ckbMultiplier===0n||e.udtMultiplier===0n?Eo:Object.freeze({...e})}const Eo=Object.freeze({ckbMultiplier:0n,udtMultiplier:0n}),p5="0x0000000000000000000000000000000000000000000000000000000000000000",WQ=BigInt(Qe.from({lock:ha,type:ha,data:pc(l5.pack({udtAmount:0n,type:"MintOrderData",value:{masterDistance:0,padding:p5,orderInfo:{ckbToUdt:Eo,udtToCkb:Eo,ckbMinMatchLog:0}}}))}).cellOutput.capacity);function XQ({rawText:e,setRawText:t,amount:r,tipHeader:n,isFrozen:i,ckbNative:a,ickbNative:s,ckbAvailable:o,ickbAvailable:f,ckbBalance:c,ickbBalance:u}){const l=e[0],h=e.slice(1),g=VD(l),m=()=>t(Z3(!g)+h),A=$K(Dp(o-ZD,0n),a);let S={name:"CKB",native:A,locked:c-A,status:c===a?"":c===o?"":""},w={name:"ICKB",native:s,locked:u-s,status:u===s?"":u===f?"":""};return g||([S,w]=[w,S]),mt.jsx(mt.Fragment,{children:mt.jsxs("span",{className:"grid grid-cols-3 items-center justify-items-center gap-y-4 leading-relaxed font-bold tracking-wider uppercase",children:[mt.jsx("span",{className:"text-amber-400",children:Hb(S.native,"")}),mt.jsx("span",{className:"text-2xl text-amber-400",children:S.name}),mt.jsx("span",{className:"cursor-wait text-amber-400",children:Hb(S.locked,S.status)}),mt.jsx("input",{placeholder:"0",disabled:i,autoFocus:!0,value:h,onChange:C=>t(l+C.target.value),autoComplete:"off",inputMode:"decimal",type:"text",className:"col-span-3 w-full rounded border-0 bg-transparent text-center text-3xl text-amber-400 outline-none disabled:cursor-default","aria-label":"Amount to be converted"}),mt.jsx("span",{className:"",children:"1 "+S.name}),mt.jsx("button",{className:"rotate-90 cursor-pointer border-0 bg-transparent text-5xl text-slate-300 disabled:cursor-default",disabled:i,onClick:m,children:""}),mt.jsx("span",{className:"text-center",children:GA(g,Pe,n)+" "+w.name}),mt.jsxs("span",{className:"col-span-3 text-center text-3xl text-amber-400",children:["",GA(g,r,n)]}),mt.jsx("span",{className:"text-amber-400",children:Hb(w.native,"")}),mt.jsx("span",{className:"text-2xl text-amber-400",children:w.name}),mt.jsx("span",{className:"cursor-wait text-amber-400",children:Hb(w.locked,w.status)})]})})}function Hb(e,t){const r=t==="";return mt.jsxs("span",{className:"flex flex-row "+(r?"cursor-wait":""),children:[mt.jsx("span",{className:r?"animate-pulse":"",children:t}),mt.jsxs("span",{className:"sm:hidden",children:[String(e/Pe),e%Pe===0n?"":"+"]}),mt.jsx("span",{className:"hidden sm:block",children:L2(e)})]})}function GA(e,t,r){let n=e?nM(t,r):cy(t,r);return n-=n/1000n,L2(n)}function H_({txInfo:e=Nl,capacities:t=new Array,udts:r=new Array,receipts:n=new Array,wrGroups:i=new Array,myOrders:a=new Array,tipHeader:s=U2}){let{tx:o}=e;const f=[e.estimatedMaturity,a1(s.epoch)];if(a.length>0){o=GQ(o,a);for(const{info:l}of a){if(!l.isMatchable||l.isDualRatio)continue;const h=l.isCkb2UdtMatchable;f.push(GD(h,h?l.ckbUnoccupied:l.udtAmount,s))}}const c=[t,r,n].flat();c.length>0&&(o=va(o,"append",c,[])),i.length>0&&(o=UQ(o,i),f.push(...i.map(l=>wp(l.ownedWithdrawalRequest.cellOutput.type[Rs]))));const u=Object.freeze(WD(f));return Object.freeze({...e,tx:o,estimatedMaturity:u})}function ZQ(e,t,r,n,i,a,s){if(e.error!=="")return e;const o=[];if(!t){let A=0n;for(const S of n){const w=A+S.ickbValue;if(!(w>r)&&(A=w,o.push(Object.freeze({...S,ickbCumulative:A})),o.length>=30))break}}Object.freeze(o);const{ckbMultiplier:f,udtMultiplier:c}=d5(i),u={ckbMultiplier:f,udtMultiplier:c+(t?1n:-1n)*(c/1000n)},l=FQ(i),h=t?Number(r/l):o.length,g=Array(h),m=A=>(A=h-A,g[A]=g[A]??JQ(A,t,r,e,u,l,o,i,a,s));return Object.freeze(m(WK(h,A=>m(A).error==="")))}function JQ(e,t,r,n,i,a,s,o,f,c){let{tx:u}=n;const{accountLocks:l,config:h}=c,g=[n.estimatedMaturity];if(e>0)if(t){if(r-=a*BigInt(e),r<0n)return{...n,error:"Too many Deposits respectfully to the amount"};u=PQ(u,e,a,h),u=jQ(u,l[0],h)}else{if(s.length<e)return{...n,error:"Not enough Deposits to withdraw from"};if(r-=s[e-1].ickbCumulative,r<0n)return{...n,error:"Too many Withdrawal Requests respectfully to the amount"};s=s.slice(0,e);const S=s.map(w=>w.deposit);u=NQ(u,S,h),u=zQ(u,l[0],h),g.push(...s.map(w=>w.estimatedMaturity))}let m=n.fee;r>0n&&(u=YQ(u,l[0],h,t?r:void 0,t?void 0:r,t?i:void 0,t?void 0:i),m+=t?r-cy(r*i.ckbMultiplier/i.udtMultiplier,o):cy(r,o)-r*i.udtMultiplier/i.ckbMultiplier,g.push(GD(t,r,o)));const A=WD(g);return fM({...n,tx:u,estimatedMaturity:A,fee:m},f,c)}function fM(e,t,r){let{tx:n}=e;const{accountLocks:i,config:a}=r;let s,o,f;({tx:n,freeIckbUdt:f}=kQ(n,i[0],a)),{tx:n,txFee:s,freeCkb:o}=gQ(n,i[0],t,a);const c=e.fee+s;return e={...e,tx:n,fee:c},o<0n?{...e,error:"Not enough CKB"}:f<0n?{...e,error:"Not enough iCKB"}:n.outputs.size>64?{...e,error:"More than 64 output cells"}:e}function N2(e,t){return{retry:!0,refetchInterval:({state:r})=>{var n;return 6e4*((n=r.data)!=null&&n.hasMatchable?1:10)},staleTime:1e4,queryKey:[e.chain,e.address,"l1State"],queryFn:async()=>{try{return await tY(e)}catch(r){throw console.log(r),r}},placeholderData:{ckbNative:6n*Pe*Pe,ickbNative:3n*Pe*Pe,ckbAvailable:6n*Pe*Pe,ickbAvailable:3n*Pe*Pe,ckbBalance:6n*Pe*Pe,ickbBalance:3n*Pe*Pe,tipHeader:U2,txBuilder:()=>Nl,hasMatchable:!1},enabled:!t}}async function tY(e){const{rpc:t,config:r,expander:n,getTxSizeOverhead:i}=e,a=await eY(e),s=t.getFeeRate(61n),o=t.getTipHeader(),f=new Set;KA(a,n,rt=>(f.add(rt),U2),r);const u=nY(f,e),l=new Set;YA(a,n,rt=>(l.add(rt),[]),r);const g=rY(l,e),{capacities:m,notCapacities:A}=qK(a,n),S=await u,{udts:w,receipts:C,withdrawalRequestGroups:B,ickbPool:M,notIckbs:N}=KA(A,n,rt=>S.get(rt),r),K=wd.from(await o),{mature:Q,notMature:j}=QK(B,rt=>rt.ownedWithdrawalRequest.cellOutput.type[Rs],K);let W=HQ(M,K,{length:4,index:1,number:0});if(W.length>40){const rt=Dp(Math.round(W.length/180),40);W=GK(W.slice(0,rt).map((U,P)=>({d:U,i:P}))).slice(0,40).sort((U,P)=>U.i-P.i).map(U=>U.d)}const R=await g,{myOrders:_}=YA(N,n,rt=>R.get(rt)??[],r),I=[],b=[];for(const rt of _){const{isMatchable:U,isDualRatio:P}=rt.info;U&&!P?I.push(rt):b.push(rt)}const v=I.length>0,d=Q.length>0||C.length>0||b.length>0;let y=H_({capacities:m,udts:w,tipHeader:K});const x=ug(y.tx,r),E=lg(y.tx,r);y=H_({txInfo:y,myOrders:b,receipts:C,wrGroups:Q,tipHeader:K});const p=i(y.tx),T=ug(y.tx,r),F=lg(y.tx,r),L=H_({txInfo:y,myOrders:I,wrGroups:j,tipHeader:K}),k=ug(L.tx,r),$=lg(L.tx,r);y=Object.freeze({...y,estimatedMaturity:L.estimatedMaturity});const[H,q]=await Promise.all([p,s]),X=rt=>{const U=cQ(fQ(rt)+H,q),P=1249n;return(U+(P-1n))/P*P};return{ckbNative:x,ickbNative:E,ckbBalance:k,ickbBalance:$,ckbAvailable:T,ickbAvailable:F,tipHeader:K,txBuilder:(rt,U)=>U>0n?ZQ(y,rt,U,W,K,X,e):d?fM(y,X,e):Object.freeze({...y,error:"Nothing to do for now"}),hasMatchable:v}}async function cM(e){const{queryClient:t}=e,r={...e,accountLocks:[ha],address:b2.encodeToAddress(ha,e),expander:X3(ha),getTxSizeOverhead:()=>Promise.resolve(0),sendSigned:()=>Promise.resolve("0x0")};return t.prefetchQuery(N2(r,!1))}async function eY(e){const{accountLocks:t,config:r,rpc:n}=e;return Object.freeze((await Promise.all([...t,l0(r),P2(r),h5(r)].map(i=>n.getCellsByLock(i,"desc","max")))).flat())}async function rY(e,t){const{chain:r,rpc:n,queryClient:i}=t,a=i.getQueryData([r,"txsOutputs"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const c of e){const u=a.get(c);if(u!==void 0){s.set(c,u);continue}o.add("getTransaction",c)}if(o.length===0)return a;for(const c of(await o.exec()).map(({transaction:u})=>u))s.set(c.hash,Object.freeze(c.outputs.map(({lock:u,type:l,capacity:h},g)=>Object.freeze({cellOutput:Object.freeze({lock:Object.freeze(u),type:Object.freeze(l),capacity:Object.freeze(h)}),data:Object.freeze(c.outputsData[g]??"0x"),outPoint:Object.freeze({txHash:c.hash,index:wc(g)})}))));const f=Object.freeze(s);return i.setQueryData([r,"txsOutputs"],f),f}async function nY(e,t){const{chain:r,rpc:n,queryClient:i}=t,a=i.getQueryData([r,"headers"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const c of e){const u=a.get(c);if(u!==void 0){s.set(c,u);continue}o.add("getHeaderByNumber",c)}if(o.length===0)return a;for(const c of await o.exec())s.set(c.number,wd.from(c));const f=Object.freeze(s);return i.setQueryData([r,"headers"],f),f}const U2=wd.from({compactTarget:"0x1a08a97e",parentHash:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionsRoot:"0x31bf3fdf4bc16d6ea195dbae808e2b9a8eca6941d589f6959b1d070d51ac28f7",proposalsHash:"0x0000000000000000000000000000000000000000000000000000000000000000",extraHash:"0x0000000000000000000000000000000000000000000000000000000000000000",dao:"0x8874337e541ea12e0000c16ff286230029bfa3320800000000710b00c0fefe06",epoch:"0x0",hash:"0x92b197aa1fba0f63633922c61c92375c9c074a93e85963554f5499fe1450d0e5",nonce:"0x0",number:"0x0",timestamp:"0x16e70e6985c",version:"0x0"});function b5(e){const t=Xy.c(7),{children:r,isDone:n}=e;if(n){let o;return t[0]!==r?(o=mt.jsx("span",{className:"col-span-full w-full pb-4",children:r}),t[0]=r,t[1]=o):o=t[1],o}let i;t[2]!==r?(i=mt.jsx("span",{className:"pb-2",children:r}),t[2]=r,t[3]=i):i=t[3];let a;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=mt.jsxs("span",{className:"flex h-2 w-full flex-row overflow-hidden rounded",children:[mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-3.00s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.85s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.70s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.55s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.40s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.25s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.10s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.95s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.80s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.65s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.50s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.35s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.20s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.05s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.90s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.75s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.60s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.45s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.30s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.15s] [animation-duration:6s]"}),mt.jsx("span",{className:"size-full animate-pulse bg-amber-400 [animation-duration:6s]"})]}),t[4]=a):a=t[4];let s;return t[5]!==i?(s=mt.jsxs("span",{className:"col-span-full flex w-full flex-col",children:[i,a]}),t[5]=i,t[6]=s):s=t[6],s}function iY({isCkb2Udt:e,amount:t,freeze:r,formReset:n,walletConfig:i}){const[a,s]=dr.useState(""),[o,f]=dr.useState(Nl),c=M=>{f(M),r(M!=Nl)},u=o!==Nl,{data:l,isStale:h,isFetching:g}=M4(N2(i,u)),{txBuilder:m,tipHeader:A}=l,S=u?o:m(e,t),w=oQ(S.tx)&&S.fee>0n&&S.estimatedMaturity!==XD&&S.error==="",{maturity:C,isReady:B}=sY(S.estimatedMaturity,A);return mt.jsxs("span",{className:"grid grid-cols-2 items-center justify-items-center gap-y-4",children:[mt.jsx(b5,{isDone:!g&&!u,children:mt.jsx("button",{className:"text-s col-span-2 min-h-12 w-full cursor-pointer rounded border-2 border-amber-400 px-8 leading-relaxed font-bold tracking-wider text-amber-400 uppercase disabled:cursor-default disabled:opacity-50",onClick:h?()=>i.queryClient.invalidateQueries({queryKey:[i.chain,i.address,"l1State"]}):()=>aY(S,c,s,n,i),disabled:g||u||!w,children:u?a:g?"refreshing...":S.error!==""?S.error:w?h?`refresh before ${t>0?`converting to ${e?"iCKB":"CKB"}`:"collecting converted funds"}`:t>0?`request conversion to ${e?"iCKB":"CKB"}`:`${B?"fully":"partially"} collect converted funds`:"finding a goose egg"})}),mt.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Fee:"}),mt.jsxs("span",{children:[L2(S.fee)," CKB"]}),mt.jsx("span",{className:"leading-relaxed font-bold tracking-wider",children:"Maturity:"}),mt.jsx("span",{children:C})]})}async function aY(e,t,r,n,i){const{rpc:a,sendSigned:s,queryClient:o}=i;try{t(e),r("Waiting for user confirmation...");const f=await s(e.tx);let c="pending";for(;c==="pending"||c==="proposed";)r("Waiting for network confirmation..."),await new Promise(u=>setTimeout(u,1e4)),c=(await a.getTransaction(f)).txStatus.status;c==="committed"?(r("Transaction confirmed!!!"),n()):r("Something went wrong, retry in a minute"),o.invalidateQueries(N2(i,!0)),await new Promise(u=>setTimeout(u,1e4))}finally{r(""),t(Nl)}}function sY(e,t){const r=a1(t.epoch),n=e.index/e.length-r.index/r.length+e.number-r.number;return n<=0?{maturity:" Ready",isReady:!0}:n<=.375?{maturity:` ${String(Math.ceil(n*4*60))} minutes`,isReady:!1}:n<=6?{maturity:` ${String(1+Math.ceil(n*4))} hours`,isReady:!1}:{maturity:` ${String(1+Math.ceil(n/6))} days`,isReady:!1}}function oY({walletConfig:e}){const[t,r]=dr.useState(!1),[n,i]=dr.useState(Z3(!0)),a=n[0],s=VD(a);let o=vQ(n),f=_Q(o);const{ckbNative:c,ickbNative:u,ckbAvailable:l,ickbAvailable:h,ckbBalance:g,ickbBalance:m,tipHeader:A}=M4(N2(e,t)).data,S=s?Dp(l-ZD,0n):h;f>S&&(f=S,o=L2(S));const w=()=>i(Z3(s)),C=dr.useDeferredValue({isCkb2Udt:s,amount:f,freeze:r,formReset:w,walletConfig:e});return A===U2?mt.jsxs(mt.Fragment,{children:[mt.jsx(FA,{walletConfig:e}),mt.jsx(b5,{children:"Downloading the latest L1 Cell data, just for you. Hang tight!"})]}):mt.jsxs(mt.Fragment,{children:[mt.jsx(FA,{walletConfig:e}),mt.jsx(XQ,{rawText:a+o,setRawText:i,amount:f,tipHeader:A,isFrozen:t,ckbNative:c,ickbNative:u,ckbAvailable:l,ickbAvailable:h,ckbBalance:g,ickbBalance:m}),mt.jsx(iY,{...C})]})}var zo={},k2={};k2.byteLength=uY;k2.toByteArray=dY;k2.fromByteArray=bY;var Cs=[],Vi=[],fY=typeof Uint8Array<"u"?Uint8Array:Array,P_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Xu=0,cY=P_.length;Xu<cY;++Xu)Cs[Xu]=P_[Xu],Vi[P_.charCodeAt(Xu)]=Xu;Vi[45]=62;Vi[95]=63;function uM(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function uY(e){var t=uM(e),r=t[0],n=t[1];return(r+n)*3/4-n}function lY(e,t,r){return(t+r)*3/4-r}function dY(e){var t,r=uM(e),n=r[0],i=r[1],a=new fY(lY(e,n,i)),s=0,o=i>0?n-4:n,f;for(f=0;f<o;f+=4)t=Vi[e.charCodeAt(f)]<<18|Vi[e.charCodeAt(f+1)]<<12|Vi[e.charCodeAt(f+2)]<<6|Vi[e.charCodeAt(f+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Vi[e.charCodeAt(f)]<<2|Vi[e.charCodeAt(f+1)]>>4,a[s++]=t&255),i===1&&(t=Vi[e.charCodeAt(f)]<<10|Vi[e.charCodeAt(f+1)]<<4|Vi[e.charCodeAt(f+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function hY(e){return Cs[e>>18&63]+Cs[e>>12&63]+Cs[e>>6&63]+Cs[e&63]}function pY(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(hY(n));return i.join("")}function bY(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(pY(e,s,s+a>o?o:s+a));return n===1?(t=e[r-1],i.push(Cs[t>>2]+Cs[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Cs[t>>10]+Cs[t>>4&63]+Cs[t<<2&63]+"=")),i.join("")}var g5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g5.read=function(e,t,r,n,i){var a,s,o=i*8-n-1,f=(1<<o)-1,c=f>>1,u=-7,l=r?i-1:0,h=r?-1:1,g=e[t+l];for(l+=h,a=g&(1<<-u)-1,g>>=-u,u+=o;u>0;a=a*256+e[t+l],l+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+e[t+l],l+=h,u-=8);if(a===0)a=1-c;else{if(a===f)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-c}return(g?-1:1)*s*Math.pow(2,a-n)};g5.write=function(e,t,r,n,i,a){var s,o,f,c=a*8-i-1,u=(1<<c)-1,l=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,m=n?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+l>=1?t+=h/f:t+=h*Math.pow(2,1-l),t*f>=2&&(s++,f/=2),s+l>=u?(o=0,s=u):s+l>=1?(o=(t*f-1)*Math.pow(2,i),s=s+l):(o=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+g]=o&255,g+=m,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;e[r+g]=s&255,g+=m,s/=256,c-=8);e[r+g-m]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=k2,r=g5,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=C,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const z=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(z,O),z.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const O=new Uint8Array(z);return Object.setPrototypeOf(O,o.prototype),O}function o(z,O,D){if(typeof z=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(z)}return f(z,O,D)}o.poolSize=8192;function f(z,O,D){if(typeof z=="string")return h(z,O);if(ArrayBuffer.isView(z))return m(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Ct(z,ArrayBuffer)||z&&Ct(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ct(z,SharedArrayBuffer)||z&&Ct(z.buffer,SharedArrayBuffer)))return A(z,O,D);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=z.valueOf&&z.valueOf();if(Y!=null&&Y!==z)return o.from(Y,O,D);const at=S(z);if(at)return at;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return o.from(z[Symbol.toPrimitive]("string"),O,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}o.from=function(z,O,D){return f(z,O,D)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function u(z,O,D){return c(z),z<=0?s(z):O!==void 0?typeof D=="string"?s(z).fill(O,D):s(z).fill(O):s(z)}o.alloc=function(z,O,D){return u(z,O,D)};function l(z){return c(z),s(z<0?0:w(z)|0)}o.allocUnsafe=function(z){return l(z)},o.allocUnsafeSlow=function(z){return l(z)};function h(z,O){if((typeof O!="string"||O==="")&&(O="utf8"),!o.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const D=B(z,O)|0;let Y=s(D);const at=Y.write(z,O);return at!==D&&(Y=Y.slice(0,at)),Y}function g(z){const O=z.length<0?0:w(z.length)|0,D=s(O);for(let Y=0;Y<O;Y+=1)D[Y]=z[Y]&255;return D}function m(z){if(Ct(z,Uint8Array)){const O=new Uint8Array(z);return A(O.buffer,O.byteOffset,O.byteLength)}return g(z)}function A(z,O,D){if(O<0||z.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<O+(D||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return O===void 0&&D===void 0?Y=new Uint8Array(z):D===void 0?Y=new Uint8Array(z,O):Y=new Uint8Array(z,O,D),Object.setPrototypeOf(Y,o.prototype),Y}function S(z){if(o.isBuffer(z)){const O=w(z.length)|0,D=s(O);return D.length===0||z.copy(D,0,0,O),D}if(z.length!==void 0)return typeof z.length!="number"||ke(z.length)?s(0):g(z);if(z.type==="Buffer"&&Array.isArray(z.data))return g(z.data)}function w(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function C(z){return+z!=z&&(z=0),o.alloc(+z)}o.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==o.prototype},o.compare=function(O,D){if(Ct(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),Ct(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),!o.isBuffer(O)||!o.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===D)return 0;let Y=O.length,at=D.length;for(let ct=0,lt=Math.min(Y,at);ct<lt;++ct)if(O[ct]!==D[ct]){Y=O[ct],at=D[ct];break}return Y<at?-1:at<Y?1:0},o.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(O,D){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return o.alloc(0);let Y;if(D===void 0)for(D=0,Y=0;Y<O.length;++Y)D+=O[Y].length;const at=o.allocUnsafe(D);let ct=0;for(Y=0;Y<O.length;++Y){let lt=O[Y];if(Ct(lt,Uint8Array))ct+lt.length>at.length?(o.isBuffer(lt)||(lt=o.from(lt)),lt.copy(at,ct)):Uint8Array.prototype.set.call(at,lt,ct);else if(o.isBuffer(lt))lt.copy(at,ct);else throw new TypeError('"list" argument must be an Array of Buffers');ct+=lt.length}return at};function B(z,O){if(o.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Ct(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const D=z.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&D===0)return 0;let at=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return J(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return yt(z).length;default:if(at)return Y?-1:J(z).length;O=(""+O).toLowerCase(),at=!0}}o.byteLength=B;function M(z,O,D){let Y=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,O>>>=0,D<=O))return"";for(z||(z="utf8");;)switch(z){case"hex":return E(this,O,D);case"utf8":case"utf-8":return b(this,O,D);case"ascii":return y(this,O,D);case"latin1":case"binary":return x(this,O,D);case"base64":return I(this,O,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,O,D);default:if(Y)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),Y=!0}}o.prototype._isBuffer=!0;function N(z,O,D){const Y=z[O];z[O]=z[D],z[D]=Y}o.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<O;D+=2)N(this,D,D+1);return this},o.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<O;D+=4)N(this,D,D+3),N(this,D+1,D+2);return this},o.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<O;D+=8)N(this,D,D+7),N(this,D+1,D+6),N(this,D+2,D+5),N(this,D+3,D+4);return this},o.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?b(this,0,O):M.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(O){if(!o.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:o.compare(this,O)===0},o.prototype.inspect=function(){let O="";const D=e.INSPECT_MAX_BYTES;return O=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(O+=" ... "),"<Buffer "+O+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(O,D,Y,at,ct){if(Ct(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(D===void 0&&(D=0),Y===void 0&&(Y=O?O.length:0),at===void 0&&(at=0),ct===void 0&&(ct=this.length),D<0||Y>O.length||at<0||ct>this.length)throw new RangeError("out of range index");if(at>=ct&&D>=Y)return 0;if(at>=ct)return-1;if(D>=Y)return 1;if(D>>>=0,Y>>>=0,at>>>=0,ct>>>=0,this===O)return 0;let lt=ct-at,Bt=Y-D;const re=Math.min(lt,Bt),Rt=this.slice(at,ct),Lt=O.slice(D,Y);for(let Zt=0;Zt<re;++Zt)if(Rt[Zt]!==Lt[Zt]){lt=Rt[Zt],Bt=Lt[Zt];break}return lt<Bt?-1:Bt<lt?1:0};function K(z,O,D,Y,at){if(z.length===0)return-1;if(typeof D=="string"?(Y=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,ke(D)&&(D=at?0:z.length-1),D<0&&(D=z.length+D),D>=z.length){if(at)return-1;D=z.length-1}else if(D<0)if(at)D=0;else return-1;if(typeof O=="string"&&(O=o.from(O,Y)),o.isBuffer(O))return O.length===0?-1:Q(z,O,D,Y,at);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?at?Uint8Array.prototype.indexOf.call(z,O,D):Uint8Array.prototype.lastIndexOf.call(z,O,D):Q(z,[O],D,Y,at);throw new TypeError("val must be string, number or Buffer")}function Q(z,O,D,Y,at){let ct=1,lt=z.length,Bt=O.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(z.length<2||O.length<2)return-1;ct=2,lt/=2,Bt/=2,D/=2}function re(Lt,Zt){return ct===1?Lt[Zt]:Lt.readUInt16BE(Zt*ct)}let Rt;if(at){let Lt=-1;for(Rt=D;Rt<lt;Rt++)if(re(z,Rt)===re(O,Lt===-1?0:Rt-Lt)){if(Lt===-1&&(Lt=Rt),Rt-Lt+1===Bt)return Lt*ct}else Lt!==-1&&(Rt-=Rt-Lt),Lt=-1}else for(D+Bt>lt&&(D=lt-Bt),Rt=D;Rt>=0;Rt--){let Lt=!0;for(let Zt=0;Zt<Bt;Zt++)if(re(z,Rt+Zt)!==re(O,Zt)){Lt=!1;break}if(Lt)return Rt}return-1}o.prototype.includes=function(O,D,Y){return this.indexOf(O,D,Y)!==-1},o.prototype.indexOf=function(O,D,Y){return K(this,O,D,Y,!0)},o.prototype.lastIndexOf=function(O,D,Y){return K(this,O,D,Y,!1)};function j(z,O,D,Y){D=Number(D)||0;const at=z.length-D;Y?(Y=Number(Y),Y>at&&(Y=at)):Y=at;const ct=O.length;Y>ct/2&&(Y=ct/2);let lt;for(lt=0;lt<Y;++lt){const Bt=parseInt(O.substr(lt*2,2),16);if(ke(Bt))return lt;z[D+lt]=Bt}return lt}function G(z,O,D,Y){return gt(J(O,z.length-D),z,D,Y)}function W(z,O,D,Y){return gt(it(O),z,D,Y)}function R(z,O,D,Y){return gt(yt(O),z,D,Y)}function _(z,O,D,Y){return gt(ut(O,z.length-D),z,D,Y)}o.prototype.write=function(O,D,Y,at){if(D===void 0)at="utf8",Y=this.length,D=0;else if(Y===void 0&&typeof D=="string")at=D,Y=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(Y)?(Y=Y>>>0,at===void 0&&(at="utf8")):(at=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ct=this.length-D;if((Y===void 0||Y>ct)&&(Y=ct),O.length>0&&(Y<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");at||(at="utf8");let lt=!1;for(;;)switch(at){case"hex":return j(this,O,D,Y);case"utf8":case"utf-8":return G(this,O,D,Y);case"ascii":case"latin1":case"binary":return W(this,O,D,Y);case"base64":return R(this,O,D,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,O,D,Y);default:if(lt)throw new TypeError("Unknown encoding: "+at);at=(""+at).toLowerCase(),lt=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(z,O,D){return O===0&&D===z.length?t.fromByteArray(z):t.fromByteArray(z.slice(O,D))}function b(z,O,D){D=Math.min(z.length,D);const Y=[];let at=O;for(;at<D;){const ct=z[at];let lt=null,Bt=ct>239?4:ct>223?3:ct>191?2:1;if(at+Bt<=D){let re,Rt,Lt,Zt;switch(Bt){case 1:ct<128&&(lt=ct);break;case 2:re=z[at+1],(re&192)===128&&(Zt=(ct&31)<<6|re&63,Zt>127&&(lt=Zt));break;case 3:re=z[at+1],Rt=z[at+2],(re&192)===128&&(Rt&192)===128&&(Zt=(ct&15)<<12|(re&63)<<6|Rt&63,Zt>2047&&(Zt<55296||Zt>57343)&&(lt=Zt));break;case 4:re=z[at+1],Rt=z[at+2],Lt=z[at+3],(re&192)===128&&(Rt&192)===128&&(Lt&192)===128&&(Zt=(ct&15)<<18|(re&63)<<12|(Rt&63)<<6|Lt&63,Zt>65535&&Zt<1114112&&(lt=Zt))}}lt===null?(lt=65533,Bt=1):lt>65535&&(lt-=65536,Y.push(lt>>>10&1023|55296),lt=56320|lt&1023),Y.push(lt),at+=Bt}return d(Y)}const v=4096;function d(z){const O=z.length;if(O<=v)return String.fromCharCode.apply(String,z);let D="",Y=0;for(;Y<O;)D+=String.fromCharCode.apply(String,z.slice(Y,Y+=v));return D}function y(z,O,D){let Y="";D=Math.min(z.length,D);for(let at=O;at<D;++at)Y+=String.fromCharCode(z[at]&127);return Y}function x(z,O,D){let Y="";D=Math.min(z.length,D);for(let at=O;at<D;++at)Y+=String.fromCharCode(z[at]);return Y}function E(z,O,D){const Y=z.length;(!O||O<0)&&(O=0),(!D||D<0||D>Y)&&(D=Y);let at="";for(let ct=O;ct<D;++ct)at+=Ht[z[ct]];return at}function p(z,O,D){const Y=z.slice(O,D);let at="";for(let ct=0;ct<Y.length-1;ct+=2)at+=String.fromCharCode(Y[ct]+Y[ct+1]*256);return at}o.prototype.slice=function(O,D){const Y=this.length;O=~~O,D=D===void 0?Y:~~D,O<0?(O+=Y,O<0&&(O=0)):O>Y&&(O=Y),D<0?(D+=Y,D<0&&(D=0)):D>Y&&(D=Y),D<O&&(D=O);const at=this.subarray(O,D);return Object.setPrototypeOf(at,o.prototype),at};function T(z,O,D){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+O>D)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(O,D,Y){O=O>>>0,D=D>>>0,Y||T(O,D,this.length);let at=this[O],ct=1,lt=0;for(;++lt<D&&(ct*=256);)at+=this[O+lt]*ct;return at},o.prototype.readUintBE=o.prototype.readUIntBE=function(O,D,Y){O=O>>>0,D=D>>>0,Y||T(O,D,this.length);let at=this[O+--D],ct=1;for(;D>0&&(ct*=256);)at+=this[O+--D]*ct;return at},o.prototype.readUint8=o.prototype.readUInt8=function(O,D){return O=O>>>0,D||T(O,1,this.length),this[O]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(O,D){return O=O>>>0,D||T(O,2,this.length),this[O]|this[O+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(O,D){return O=O>>>0,D||T(O,2,this.length),this[O]<<8|this[O+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(O,D){return O=O>>>0,D||T(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(O,D){return O=O>>>0,D||T(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},o.prototype.readBigUInt64LE=$t(function(O){O=O>>>0,nt(O,"offset");const D=this[O],Y=this[O+7];(D===void 0||Y===void 0)&&ft(O,this.length-8);const at=D+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,ct=this[++O]+this[++O]*2**8+this[++O]*2**16+Y*2**24;return BigInt(at)+(BigInt(ct)<<BigInt(32))}),o.prototype.readBigUInt64BE=$t(function(O){O=O>>>0,nt(O,"offset");const D=this[O],Y=this[O+7];(D===void 0||Y===void 0)&&ft(O,this.length-8);const at=D*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],ct=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+Y;return(BigInt(at)<<BigInt(32))+BigInt(ct)}),o.prototype.readIntLE=function(O,D,Y){O=O>>>0,D=D>>>0,Y||T(O,D,this.length);let at=this[O],ct=1,lt=0;for(;++lt<D&&(ct*=256);)at+=this[O+lt]*ct;return ct*=128,at>=ct&&(at-=Math.pow(2,8*D)),at},o.prototype.readIntBE=function(O,D,Y){O=O>>>0,D=D>>>0,Y||T(O,D,this.length);let at=D,ct=1,lt=this[O+--at];for(;at>0&&(ct*=256);)lt+=this[O+--at]*ct;return ct*=128,lt>=ct&&(lt-=Math.pow(2,8*D)),lt},o.prototype.readInt8=function(O,D){return O=O>>>0,D||T(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},o.prototype.readInt16LE=function(O,D){O=O>>>0,D||T(O,2,this.length);const Y=this[O]|this[O+1]<<8;return Y&32768?Y|4294901760:Y},o.prototype.readInt16BE=function(O,D){O=O>>>0,D||T(O,2,this.length);const Y=this[O+1]|this[O]<<8;return Y&32768?Y|4294901760:Y},o.prototype.readInt32LE=function(O,D){return O=O>>>0,D||T(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},o.prototype.readInt32BE=function(O,D){return O=O>>>0,D||T(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},o.prototype.readBigInt64LE=$t(function(O){O=O>>>0,nt(O,"offset");const D=this[O],Y=this[O+7];(D===void 0||Y===void 0)&&ft(O,this.length-8);const at=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(Y<<24);return(BigInt(at)<<BigInt(32))+BigInt(D+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),o.prototype.readBigInt64BE=$t(function(O){O=O>>>0,nt(O,"offset");const D=this[O],Y=this[O+7];(D===void 0||Y===void 0)&&ft(O,this.length-8);const at=(D<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(at)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+Y)}),o.prototype.readFloatLE=function(O,D){return O=O>>>0,D||T(O,4,this.length),r.read(this,O,!0,23,4)},o.prototype.readFloatBE=function(O,D){return O=O>>>0,D||T(O,4,this.length),r.read(this,O,!1,23,4)},o.prototype.readDoubleLE=function(O,D){return O=O>>>0,D||T(O,8,this.length),r.read(this,O,!0,52,8)},o.prototype.readDoubleBE=function(O,D){return O=O>>>0,D||T(O,8,this.length),r.read(this,O,!1,52,8)};function F(z,O,D,Y,at,ct){if(!o.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>at||O<ct)throw new RangeError('"value" argument is out of bounds');if(D+Y>z.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(O,D,Y,at){if(O=+O,D=D>>>0,Y=Y>>>0,!at){const Bt=Math.pow(2,8*Y)-1;F(this,O,D,Y,Bt,0)}let ct=1,lt=0;for(this[D]=O&255;++lt<Y&&(ct*=256);)this[D+lt]=O/ct&255;return D+Y},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(O,D,Y,at){if(O=+O,D=D>>>0,Y=Y>>>0,!at){const Bt=Math.pow(2,8*Y)-1;F(this,O,D,Y,Bt,0)}let ct=Y-1,lt=1;for(this[D+ct]=O&255;--ct>=0&&(lt*=256);)this[D+ct]=O/lt&255;return D+Y},o.prototype.writeUint8=o.prototype.writeUInt8=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,1,255,0),this[D]=O&255,D+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,2,65535,0),this[D]=O&255,this[D+1]=O>>>8,D+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,2,65535,0),this[D]=O>>>8,this[D+1]=O&255,D+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,4,4294967295,0),this[D+3]=O>>>24,this[D+2]=O>>>16,this[D+1]=O>>>8,this[D]=O&255,D+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,4,4294967295,0),this[D]=O>>>24,this[D+1]=O>>>16,this[D+2]=O>>>8,this[D+3]=O&255,D+4};function L(z,O,D,Y,at){P(O,Y,at,z,D,7);let ct=Number(O&BigInt(4294967295));z[D++]=ct,ct=ct>>8,z[D++]=ct,ct=ct>>8,z[D++]=ct,ct=ct>>8,z[D++]=ct;let lt=Number(O>>BigInt(32)&BigInt(4294967295));return z[D++]=lt,lt=lt>>8,z[D++]=lt,lt=lt>>8,z[D++]=lt,lt=lt>>8,z[D++]=lt,D}function k(z,O,D,Y,at){P(O,Y,at,z,D,7);let ct=Number(O&BigInt(4294967295));z[D+7]=ct,ct=ct>>8,z[D+6]=ct,ct=ct>>8,z[D+5]=ct,ct=ct>>8,z[D+4]=ct;let lt=Number(O>>BigInt(32)&BigInt(4294967295));return z[D+3]=lt,lt=lt>>8,z[D+2]=lt,lt=lt>>8,z[D+1]=lt,lt=lt>>8,z[D]=lt,D+8}o.prototype.writeBigUInt64LE=$t(function(O,D=0){return L(this,O,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=$t(function(O,D=0){return k(this,O,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(O,D,Y,at){if(O=+O,D=D>>>0,!at){const re=Math.pow(2,8*Y-1);F(this,O,D,Y,re-1,-re)}let ct=0,lt=1,Bt=0;for(this[D]=O&255;++ct<Y&&(lt*=256);)O<0&&Bt===0&&this[D+ct-1]!==0&&(Bt=1),this[D+ct]=(O/lt>>0)-Bt&255;return D+Y},o.prototype.writeIntBE=function(O,D,Y,at){if(O=+O,D=D>>>0,!at){const re=Math.pow(2,8*Y-1);F(this,O,D,Y,re-1,-re)}let ct=Y-1,lt=1,Bt=0;for(this[D+ct]=O&255;--ct>=0&&(lt*=256);)O<0&&Bt===0&&this[D+ct+1]!==0&&(Bt=1),this[D+ct]=(O/lt>>0)-Bt&255;return D+Y},o.prototype.writeInt8=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,1,127,-128),O<0&&(O=255+O+1),this[D]=O&255,D+1},o.prototype.writeInt16LE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,2,32767,-32768),this[D]=O&255,this[D+1]=O>>>8,D+2},o.prototype.writeInt16BE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,2,32767,-32768),this[D]=O>>>8,this[D+1]=O&255,D+2},o.prototype.writeInt32LE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,4,2147483647,-2147483648),this[D]=O&255,this[D+1]=O>>>8,this[D+2]=O>>>16,this[D+3]=O>>>24,D+4},o.prototype.writeInt32BE=function(O,D,Y){return O=+O,D=D>>>0,Y||F(this,O,D,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[D]=O>>>24,this[D+1]=O>>>16,this[D+2]=O>>>8,this[D+3]=O&255,D+4},o.prototype.writeBigInt64LE=$t(function(O,D=0){return L(this,O,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=$t(function(O,D=0){return k(this,O,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $(z,O,D,Y,at,ct){if(D+Y>z.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function H(z,O,D,Y,at){return O=+O,D=D>>>0,at||$(z,O,D,4),r.write(z,O,D,Y,23,4),D+4}o.prototype.writeFloatLE=function(O,D,Y){return H(this,O,D,!0,Y)},o.prototype.writeFloatBE=function(O,D,Y){return H(this,O,D,!1,Y)};function q(z,O,D,Y,at){return O=+O,D=D>>>0,at||$(z,O,D,8),r.write(z,O,D,Y,52,8),D+8}o.prototype.writeDoubleLE=function(O,D,Y){return q(this,O,D,!0,Y)},o.prototype.writeDoubleBE=function(O,D,Y){return q(this,O,D,!1,Y)},o.prototype.copy=function(O,D,Y,at){if(!o.isBuffer(O))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!at&&at!==0&&(at=this.length),D>=O.length&&(D=O.length),D||(D=0),at>0&&at<Y&&(at=Y),at===Y||O.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(at<0)throw new RangeError("sourceEnd out of bounds");at>this.length&&(at=this.length),O.length-D<at-Y&&(at=O.length-D+Y);const ct=at-Y;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,Y,at):Uint8Array.prototype.set.call(O,this.subarray(Y,at),D),ct},o.prototype.fill=function(O,D,Y,at){if(typeof O=="string"){if(typeof D=="string"?(at=D,D=0,Y=this.length):typeof Y=="string"&&(at=Y,Y=this.length),at!==void 0&&typeof at!="string")throw new TypeError("encoding must be a string");if(typeof at=="string"&&!o.isEncoding(at))throw new TypeError("Unknown encoding: "+at);if(O.length===1){const lt=O.charCodeAt(0);(at==="utf8"&&lt<128||at==="latin1")&&(O=lt)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(D<0||this.length<D||this.length<Y)throw new RangeError("Out of range index");if(Y<=D)return this;D=D>>>0,Y=Y===void 0?this.length:Y>>>0,O||(O=0);let ct;if(typeof O=="number")for(ct=D;ct<Y;++ct)this[ct]=O;else{const lt=o.isBuffer(O)?O:o.from(O,at),Bt=lt.length;if(Bt===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(ct=0;ct<Y-D;++ct)this[ct+D]=lt[ct%Bt]}return this};const X={};function et(z,O,D){X[z]=class extends D{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(at){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:at,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}et("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),et("ERR_INVALID_ARG_TYPE",function(z,O){return`The "${z}" argument must be of type number. Received type ${typeof O}`},TypeError),et("ERR_OUT_OF_RANGE",function(z,O,D){let Y=`The value of "${z}" is out of range.`,at=D;return Number.isInteger(D)&&Math.abs(D)>2**32?at=rt(String(D)):typeof D=="bigint"&&(at=String(D),(D>BigInt(2)**BigInt(32)||D<-(BigInt(2)**BigInt(32)))&&(at=rt(at)),at+="n"),Y+=` It must be ${O}. Received ${at}`,Y},RangeError);function rt(z){let O="",D=z.length;const Y=z[0]==="-"?1:0;for(;D>=Y+4;D-=3)O=`_${z.slice(D-3,D)}${O}`;return`${z.slice(0,D)}${O}`}function U(z,O,D){nt(O,"offset"),(z[O]===void 0||z[O+D]===void 0)&&ft(O,z.length-(D+1))}function P(z,O,D,Y,at,ct){if(z>D||z<O){const lt=typeof O=="bigint"?"n":"";let Bt;throw O===0||O===BigInt(0)?Bt=`>= 0${lt} and < 2${lt} ** ${(ct+1)*8}${lt}`:Bt=`>= -(2${lt} ** ${(ct+1)*8-1}${lt}) and < 2 ** ${(ct+1)*8-1}${lt}`,new X.ERR_OUT_OF_RANGE("value",Bt,z)}U(Y,at,ct)}function nt(z,O){if(typeof z!="number")throw new X.ERR_INVALID_ARG_TYPE(O,"number",z)}function ft(z,O,D){throw Math.floor(z)!==z?(nt(z,D),new X.ERR_OUT_OF_RANGE("offset","an integer",z)):O<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,z)}const dt=/[^+/0-9A-Za-z-_]/g;function V(z){if(z=z.split("=")[0],z=z.trim().replace(dt,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function J(z,O){O=O||1/0;let D;const Y=z.length;let at=null;const ct=[];for(let lt=0;lt<Y;++lt){if(D=z.charCodeAt(lt),D>55295&&D<57344){if(!at){if(D>56319){(O-=3)>-1&&ct.push(239,191,189);continue}else if(lt+1===Y){(O-=3)>-1&&ct.push(239,191,189);continue}at=D;continue}if(D<56320){(O-=3)>-1&&ct.push(239,191,189),at=D;continue}D=(at-55296<<10|D-56320)+65536}else at&&(O-=3)>-1&&ct.push(239,191,189);if(at=null,D<128){if((O-=1)<0)break;ct.push(D)}else if(D<2048){if((O-=2)<0)break;ct.push(D>>6|192,D&63|128)}else if(D<65536){if((O-=3)<0)break;ct.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((O-=4)<0)break;ct.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ct}function it(z){const O=[];for(let D=0;D<z.length;++D)O.push(z.charCodeAt(D)&255);return O}function ut(z,O){let D,Y,at;const ct=[];for(let lt=0;lt<z.length&&!((O-=2)<0);++lt)D=z.charCodeAt(lt),Y=D>>8,at=D%256,ct.push(at),ct.push(Y);return ct}function yt(z){return t.toByteArray(V(z))}function gt(z,O,D,Y){let at;for(at=0;at<Y&&!(at+D>=O.length||at>=z.length);++at)O[at+D]=z[at];return at}function Ct(z,O){return z instanceof O||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===O.name}function ke(z){return z!==z}const Ht=function(){const z="0123456789abcdef",O=new Array(256);for(let D=0;D<16;++D){const Y=D*16;for(let at=0;at<16;++at)O[Y+at]=z[D]+z[at]}return O}();function $t(z){return typeof BigInt>"u"?an:z}function an(){throw new Error("BigInt not supported")}})(zo);function D1(...e){return new Uint8Array(e.reduce((t,r)=>(t.push(...Tt(r)),t),[]))}function gY(e,t){return zo.Buffer.from(Tt(e)).toString(t)}function Tt(e,t){if(e instanceof Uint8Array)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(typeof e=="string"){if(t!==void 0)return zo.Buffer.from(e,t);const n=e.startsWith("0x")?e.slice(2):e,i=n.length%2===0?n:`0${n}`,a=zo.Buffer.from(i,"hex");if(a.length*2!==i.length)throw new Error(`Invalid bytes ${e}`);return a}if(Array.from(e).some(n=>n<0||255<n))throw new Error(`Invalid bytes ${JSON.stringify(e)}`);return new Uint8Array(e)}function Xh(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function yY(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function y5(e,...t){if(!yY(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Cd(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function v5(e,t){y5(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mp=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),N_=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ds=(e,t)=>e<<32-t|e>>>t,Pb=(e,t)=>e<<t|e>>>32-t>>>0,ao=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,lM=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,io=ao?e=>e:e=>lM(e);function Ef(e){for(let t=0;t<e.length;t++)e[t]=lM(e[t])}function vY(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Zf(e){return typeof e=="string"&&(e=vY(e)),y5(e),e}let _5=class{clone(){return this._cloneInto()}};function m5(e){const t=n=>e().update(Zf(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function _Y(e){const t=(n,i)=>e(i).update(Zf(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const mY=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class wY extends _5{constructor(t,r,n={},i,a,s){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Xh(t),Xh(r),Xh(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error("key length must be undefined or 1.."+i);if(n.salt!==void 0&&n.salt.length!==a)throw new Error("salt must be undefined or "+a);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error("personalization must be undefined or "+s);this.buffer=new Uint8Array(t),this.buffer32=Mp(this.buffer)}update(t){Cd(this);const{blockLen:r,buffer:n,buffer32:i}=this;t=Zf(t);const a=t.length,s=t.byteOffset,o=t.buffer;for(let f=0;f<a;){this.pos===r&&(ao||Ef(i),this.compress(i,0,!1),ao||Ef(i),this.pos=0);const c=Math.min(r-this.pos,a-f),u=s+f;if(c===r&&!(u%4)&&f+c<a){const l=new Uint32Array(o,u,Math.floor((a-f)/4));ao||Ef(l);for(let h=0;f+r<a;h+=i.length,f+=r)this.length+=r,this.compress(l,h,!1);ao||Ef(l);continue}n.set(t.subarray(f,f+c),this.pos),this.pos+=c,this.length+=c,f+=c}return this}digestInto(t){Cd(this),v5(t,this);const{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),ao||Ef(n),this.compress(n,0,!0),ao||Ef(n);const i=Mp(t);this.get().forEach((a,s)=>i[s]=io(a))}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){const{buffer:r,length:n,finished:i,destroyed:a,outputLen:s,pos:o}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=a,t.outputLen=s,t.buffer.set(r),t.pos=o,t}}const Nb=BigInt(2**32-1),t6=BigInt(32);function dM(e,t=!1){return t?{h:Number(e&Nb),l:Number(e>>t6&Nb)}:{h:Number(e>>t6&Nb)|0,l:Number(e&Nb)|0}}function hM(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:s}=dM(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}const AY=(e,t)=>BigInt(e>>>0)<<t6|BigInt(t>>>0),EY=(e,t,r)=>e>>>r,xY=(e,t,r)=>e<<32-r|t>>>r,SY=(e,t,r)=>e>>>r|t<<32-r,CY=(e,t,r)=>e<<32-r|t>>>r,IY=(e,t,r)=>e<<64-r|t>>>r-32,TY=(e,t,r)=>e>>>r-32|t<<64-r,BY=(e,t)=>t,OY=(e,t)=>e,pM=(e,t,r)=>e<<r|t>>>32-r,bM=(e,t,r)=>t<<r|e>>>32-r,gM=(e,t,r)=>t<<r-32|e>>>64-r,yM=(e,t,r)=>e<<r-32|t>>>64-r;function DY(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const MY=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),RY=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,LY=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),HY=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,PY=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),NY=(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0,Nn={fromBig:dM,split:hM,toBig:AY,shrSH:EY,shrSL:xY,rotrSH:SY,rotrSL:CY,rotrBH:IY,rotrBL:TY,rotr32H:BY,rotr32L:OY,rotlSH:pM,rotlSL:bM,rotlBH:gM,rotlBL:yM,add:DY,add3L:MY,add3H:RY,add4L:LY,add4H:HY,add5H:NY,add5L:PY},vr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),At=new Uint32Array(32);function sf(e,t,r,n,i,a){const s=i[a],o=i[a+1];let f=At[2*e],c=At[2*e+1],u=At[2*t],l=At[2*t+1],h=At[2*r],g=At[2*r+1],m=At[2*n],A=At[2*n+1],S=Nn.add3L(f,u,s);c=Nn.add3H(S,c,l,o),f=S|0,{Dh:A,Dl:m}={Dh:A^c,Dl:m^f},{Dh:A,Dl:m}={Dh:Nn.rotr32H(A,m),Dl:Nn.rotr32L(A,m)},{h:g,l:h}=Nn.add(g,h,A,m),{Bh:l,Bl:u}={Bh:l^g,Bl:u^h},{Bh:l,Bl:u}={Bh:Nn.rotrSH(l,u,24),Bl:Nn.rotrSL(l,u,24)},At[2*e]=f,At[2*e+1]=c,At[2*t]=u,At[2*t+1]=l,At[2*r]=h,At[2*r+1]=g,At[2*n]=m,At[2*n+1]=A}function of(e,t,r,n,i,a){const s=i[a],o=i[a+1];let f=At[2*e],c=At[2*e+1],u=At[2*t],l=At[2*t+1],h=At[2*r],g=At[2*r+1],m=At[2*n],A=At[2*n+1],S=Nn.add3L(f,u,s);c=Nn.add3H(S,c,l,o),f=S|0,{Dh:A,Dl:m}={Dh:A^c,Dl:m^f},{Dh:A,Dl:m}={Dh:Nn.rotrSH(A,m,16),Dl:Nn.rotrSL(A,m,16)},{h:g,l:h}=Nn.add(g,h,A,m),{Bh:l,Bl:u}={Bh:l^g,Bl:u^h},{Bh:l,Bl:u}={Bh:Nn.rotrBH(l,u,63),Bl:Nn.rotrBL(l,u,63)},At[2*e]=f,At[2*e+1]=c,At[2*t]=u,At[2*t+1]=l,At[2*r]=h,At[2*r+1]=g,At[2*n]=m,At[2*n+1]=A}class UY extends wY{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=vr[0]|0,this.v0h=vr[1]|0,this.v1l=vr[2]|0,this.v1h=vr[3]|0,this.v2l=vr[4]|0,this.v2h=vr[5]|0,this.v3l=vr[6]|0,this.v3h=vr[7]|0,this.v4l=vr[8]|0,this.v4h=vr[9]|0,this.v5l=vr[10]|0,this.v5h=vr[11]|0,this.v6l=vr[12]|0,this.v6h=vr[13]|0,this.v7l=vr[14]|0,this.v7h=vr[15]|0;const r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,t.salt){const n=Mp(Zf(t.salt));this.v4l^=io(n[0]),this.v4h^=io(n[1]),this.v5l^=io(n[2]),this.v5h^=io(n[3])}if(t.personalization){const n=Mp(Zf(t.personalization));this.v6l^=io(n[0]),this.v6h^=io(n[1]),this.v7l^=io(n[2]),this.v7h^=io(n[3])}if(t.key){const n=new Uint8Array(this.blockLen);n.set(Zf(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:a,v2h:s,v3l:o,v3h:f,v4l:c,v4h:u,v5l:l,v5h:h,v6l:g,v6h:m,v7l:A,v7h:S}=this;return[t,r,n,i,a,s,o,f,c,u,l,h,g,m,A,S]}set(t,r,n,i,a,s,o,f,c,u,l,h,g,m,A,S){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=a|0,this.v2h=s|0,this.v3l=o|0,this.v3h=f|0,this.v4l=c|0,this.v4h=u|0,this.v5l=l|0,this.v5h=h|0,this.v6l=g|0,this.v6h=m|0,this.v7l=A|0,this.v7h=S|0}compress(t,r,n){this.get().forEach((f,c)=>At[c]=f),At.set(vr,16);let{h:i,l:a}=Nn.fromBig(BigInt(this.length));At[24]=vr[8]^a,At[25]=vr[9]^i,n&&(At[28]=~At[28],At[29]=~At[29]);let s=0;const o=mY;for(let f=0;f<12;f++)sf(0,4,8,12,t,r+2*o[s++]),of(0,4,8,12,t,r+2*o[s++]),sf(1,5,9,13,t,r+2*o[s++]),of(1,5,9,13,t,r+2*o[s++]),sf(2,6,10,14,t,r+2*o[s++]),of(2,6,10,14,t,r+2*o[s++]),sf(3,7,11,15,t,r+2*o[s++]),of(3,7,11,15,t,r+2*o[s++]),sf(0,5,10,15,t,r+2*o[s++]),of(0,5,10,15,t,r+2*o[s++]),sf(1,6,11,12,t,r+2*o[s++]),of(1,6,11,12,t,r+2*o[s++]),sf(2,7,8,13,t,r+2*o[s++]),of(2,7,8,13,t,r+2*o[s++]),sf(3,4,9,14,t,r+2*o[s++]),of(3,4,9,14,t,r+2*o[s++]);this.v0l^=At[0]^At[16],this.v0h^=At[1]^At[17],this.v1l^=At[2]^At[18],this.v1h^=At[3]^At[19],this.v2l^=At[4]^At[20],this.v2h^=At[5]^At[21],this.v3l^=At[6]^At[22],this.v3h^=At[7]^At[23],this.v4l^=At[8]^At[24],this.v4h^=At[9]^At[25],this.v5l^=At[10]^At[26],this.v5h^=At[11]^At[27],this.v6l^=At[12]^At[28],this.v6h^=At[13]^At[29],this.v7l^=At[14]^At[30],this.v7h^=At[15]^At[31],At.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const kY=_Y(e=>new UY(e));function vt(e){return`0x${gY(Tt(e),"hex")}`}function zY(e,...t){let r=St(e);return t.forEach(n=>{const i=St(n);i>r&&(r=i)}),r}function St(e){return typeof e=="bigint"?e:BigInt(typeof e=="string"||typeof e=="number"?e:vt(e))}function Fa(e){return`0x${St(e).toString(16)}`}function yn(e,t){return jY(e,t)}function jY(e,t){return FY(e,t).reverse()}function FY(e,t){const r=Tt(St(e).toString(16));return t==null?r:D1(Array.from(Array(t-r.length),()=>0),r)}function z2(e){return Ah(e)}function Ah(e){return $Y([...Tt(e)].reverse())}function $Y(e){return St(Tt(e))}const qY="ckb-default-hash";class vM{constructor(t=32,r=qY){this.hasher=kY.create({personalization:r,dkLen:t})}update(t){return this.hasher.update(Tt(t)),this}digest(){return vt(this.hasher.digest())}}function M1(...e){const t=new vM;return e.forEach(r=>t.update(r)),t.digest()}const _M=[],mM=[],wM=[],KY=BigInt(0),J0=BigInt(1),QY=BigInt(2),YY=BigInt(7),VY=BigInt(256),GY=BigInt(113);for(let e=0,t=J0,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],_M.push(2*(5*n+r)),mM.push((e+1)*(e+2)/2%64);let i=KY;for(let a=0;a<7;a++)t=(t<<J0^(t>>YY)*GY)%VY,t&QY&&(i^=J0<<(J0<<BigInt(a))-J0);wM.push(i)}const[WY,XY]=hM(wM,!0),WA=(e,t,r)=>r>32?gM(e,t,r):pM(e,t,r),XA=(e,t,r)=>r>32?yM(e,t,r):bM(e,t,r);function ZY(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,f=(s+2)%10,c=r[f],u=r[f+1],l=WA(c,u,1)^r[o],h=XA(c,u,1)^r[o+1];for(let g=0;g<50;g+=10)e[s+g]^=l,e[s+g+1]^=h}let i=e[2],a=e[3];for(let s=0;s<24;s++){const o=mM[s],f=WA(i,a,o),c=XA(i,a,o),u=_M[s];i=e[u],a=e[u+1],e[u]=f,e[u+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=e[s+o];for(let o=0;o<10;o++)e[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}e[0]^=WY[n],e[1]^=XY[n]}r.fill(0)}let JY=class AM extends _5{constructor(t,r,n,i=!1,a=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Xh(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Mp(this.state)}keccak(){ao||Ef(this.state32),ZY(this.state32,this.rounds),ao||Ef(this.state32),this.posOut=0,this.pos=0}update(t){Cd(this);const{blockLen:r,state:n}=this;t=Zf(t);const i=t.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=t[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Cd(this,!1),y5(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=t.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Xh(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(v5(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return t||(t=new AM(r,n,i,s,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}};const tV=(e,t,r)=>m5(()=>new JY(t,e,r)),eV=tV(1,136,256/8);class rV{constructor(){this.hasher=eV.create()}update(t){return this.hasher.update(Tt(t)),this}digest(){return vt(this.hasher.digest())}}function ly(e,t){throw new Error(`Invalid data length! Required: ${t}, actual: ${e}`)}function os(e,t){e!==t&&ly(e,t)}function On(e){if(e instanceof Object&&e.toArrayBuffer instanceof Function&&(e=e.toArrayBuffer()),e instanceof Uint8Array)return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset);if(!(e instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return e}function w5(e,t,r){e.byteLength<4&&ly(e.byteLength,">4");const n=e.getUint32(0,!0);if(os(e.byteLength,n),n===4)return[n];n<8&&ly(e.byteLength,">8");const i=e.getUint32(4,!0);if(i%4!==0||i<8)throw new Error(`Invalid first offset: ${i}`);const a=i/4-1;if(a<t)throw new Error(`Item count not enough! Required: ${t}, actual: ${a}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const s=[];for(let o=0;o<a;o++){const f=4+o*4;s.push(e.getUint32(f,!0))}s.push(n);for(let o=0;o<s.length-1;o++)if(s[o]>s[o+1])throw new Error(`Offset index ${o}: ${s[o]} is larger than offset index ${o+1}: ${s[o+1]}`);return s}function Uu(e){const t=e.length;let r=4*(t+1);const n=[];for(let o=0;o<t;o++)n.push(r),r+=e[o].byteLength;const i=new ArrayBuffer(r),a=new Uint8Array(i),s=new DataView(i);s.setUint32(0,r,!0);for(let o=0;o<t;o++)s.setUint32(4+o*4,n[o],!0),a.set(new Uint8Array(e[o]),n[o]);return i}class dg{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){os(this.view.byteLength,4)}indexAt(t){return this.view.getUint8(t)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function EM(e){const t=On(e);return os(t.byteLength,4),t}class po{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){os(this.view.byteLength,8)}indexAt(t){return this.view.getUint8(t)}raw(){return this.view.buffer}static size(){return 8}}function xM(e){const t=On(e);return os(t.byteLength,8),t}class qa{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){os(this.view.byteLength,32)}indexAt(t){return this.view.getUint8(t)}raw(){return this.view.buffer}static size(){return 32}}function A5(e){const t=On(e);return os(t.byteLength,32),t}class e6{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){this.view.byteLength<4&&ly(this.view.byteLength,">4");const r=this.length()+4;os(this.view.byteLength,r)}raw(){return this.view.buffer.slice(4)}indexAt(t){return this.view.getUint8(4+t)}length(){return this.view.getUint32(0,!0)}}function E5(e){const t=On(e),r=new Uint8Array(4+t.byteLength);return new DataView(r.buffer).setUint32(0,t.byteLength,!0),r.set(new Uint8Array(t),4),r.buffer}class Zu{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){this.hasValue()&&this.value().validate(t)}value(){return new e6(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function U_(e){return e?E5(e):new ArrayBuffer(0)}function SM(e){return Uu(e.map(t=>E5(t)))}function nV(e){const t=new Uint8Array(4+qa.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=A5(e[r]);t.set(new Uint8Array(n),4+r*qa.size())}return t.buffer}class ZA{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){this.hasValue()&&this.value().validate(t)}value(){return new Rp(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function iV(e){return e?x5(e):new ArrayBuffer(0)}function aV(e){const t=new Uint8Array(4+hy.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=DM(e[r]);t.set(new Uint8Array(n),4+r*hy.size())}return t.buffer}function sV(e){const t=new Uint8Array(4+dy.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=TM(e[r]);t.set(new Uint8Array(n),4+r*dy.size())}return t.buffer}function oV(e){return Uu(e.map(t=>BM(t)))}let Rp=class{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){const r=w5(this.view,0);if(new qa(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),r[2]-r[1]!==1)throw new Error(`Invalid offset for hashType: ${r[1]} - ${r[2]}`);new e6(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCodeHash(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new qa(this.view.buffer.slice(r,n),{validate:!1})}getHashType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(r,n)).getUint8(0)}getArgs(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new e6(this.view.buffer.slice(r,n),{validate:!1})}};function x5(e){const t=[];t.push(A5(e.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,e.hashType),t.push(r.buffer),t.push(E5(e.args)),Uu(t)}let la=class CM{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}getTxHash(){return new qa(this.view.buffer.slice(0,0+qa.size()),{validate:!1})}getIndex(){return new dg(this.view.buffer.slice(0+qa.size(),0+qa.size()+dg.size()),{validate:!1})}validate(t=!1){os(this.view.byteLength,CM.size()),this.getTxHash().validate(t),this.getIndex().validate(t)}static size(){return 0+qa.size()+dg.size()}};function S5(e){const t=new Uint8Array(0+qa.size()+dg.size());return new DataView(t.buffer),t.set(new Uint8Array(A5(e.txHash)),0),t.set(new Uint8Array(EM(e.index)),0+qa.size()),t.buffer}let dy=class IM{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}getSince(){return new po(this.view.buffer.slice(0,0+po.size()),{validate:!1})}getPreviousOutput(){return new la(this.view.buffer.slice(0+po.size(),0+po.size()+la.size()),{validate:!1})}validate(t=!1){os(this.view.byteLength,IM.size()),this.getSince().validate(t),this.getPreviousOutput().validate(t)}static size(){return 0+po.size()+la.size()}};function TM(e){const t=new Uint8Array(0+po.size()+la.size());return new DataView(t.buffer),t.set(new Uint8Array(xM(e.since)),0),t.set(new Uint8Array(S5(e.previousOutput)),0+po.size()),t.buffer}let JA=class{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){const r=w5(this.view,0);new po(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new Rp(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new ZA(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCapacity(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new po(this.view.buffer.slice(r,n),{validate:!1})}getLock(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new Rp(this.view.buffer.slice(r,n),{validate:!1})}getType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new ZA(this.view.buffer.slice(r,n),{validate:!1})}};function BM(e){const t=[];return t.push(xM(e.capacity)),t.push(x5(e.lock)),t.push(iV(e.type)),Uu(t)}let hy=class OM{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}getOutPoint(){return new la(this.view.buffer.slice(0,0+la.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+la.size())}validate(t=!1){os(this.view.byteLength,OM.size()),this.getOutPoint().validate(t)}static size(){return 0+la.size()+1}};function DM(e){const t=new Uint8Array(0+la.size()+1),r=new DataView(t.buffer);return t.set(new Uint8Array(S5(e.outPoint)),0),r.setUint8(0+la.size(),e.depType),t.buffer}function MM(e){const t=[];return t.push(EM(e.version)),t.push(aV(e.cellDeps)),t.push(nV(e.headerDeps)),t.push(sV(e.inputs)),t.push(oV(e.outputs)),t.push(SM(e.outputsData)),Uu(t)}function fV(e){const t=[];return t.push(MM(e.raw)),t.push(SM(e.witnesses)),Uu(t)}let tE=class{constructor(t,{validate:r=!0}={}){this.view=new DataView(On(t)),r&&this.validate()}validate(t=!1){const r=w5(this.view,0);new Zu(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new Zu(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new Zu(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getLock(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new Zu(this.view.buffer.slice(r,n),{validate:!1})}getInputType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new Zu(this.view.buffer.slice(r,n),{validate:!1})}getOutputType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new Zu(this.view.buffer.slice(r,n),{validate:!1})}};function cV(e){const t=[];return t.push(U_(e.lock)),t.push(U_(e.inputType)),t.push(U_(e.outputType)),Uu(t)}function hg(e){if(e.hasValue())return e.value()}const RM={type:1,data:0,data1:2,data2:4},r6={1:"type",0:"data",2:"data1",4:"data2"},uV=Object.keys(RM);function j2(e){const t=(()=>{if(typeof e=="number")return r6[e];if(typeof e=="bigint")return r6[Number(e)];if(uV.includes(e))return e})();if(t===void 0)throw new Error(`Invalid hash type ${e}`);return t}function LM(e){return Tt([RM[j2(e)]])}function HM(e){return r6[Tt(e)[0]]}class ie{constructor(t,r,n){this.codeHash=t,this.hashType=r,this.args=n}get occupiedSize(){return 33+Tt(this.args).length}clone(){return new ie(this.codeHash,this.hashType,this.args)}static from(t){return t instanceof ie?t:new ie(vt(t.codeHash),j2(t.hashType),vt(t.args))}static async fromKnownScript(t,r,n){const i=await t.getKnownScript(r);return new ie(i.codeHash,i.hashType,vt(n))}_toMolData(){return{codeHash:Tt(this.codeHash),hashType:LM(this.hashType),args:Tt(this.args)}}toBytes(){return Tt(x5(this._toMolData()))}hash(){return M1(this.toBytes())}static fromBytes(t){const r=t instanceof Rp?t:new Rp(Tt(t));return new ie(vt(r.getCodeHash().raw()),HM([r.getHashType()]),vt(r.getArgs().raw()))}eq(t){const r=ie.from(t);return this.codeHash===r.codeHash&&this.args===r.args&&this.hashType===r.hashType}}function lV(e,t=8){const r=Zh(e).toString();if(t===0)return r;const n=r.length<=t?"0":r.slice(0,-t),i=r.slice(-t).padStart(t,"0").replace(/0*$/,"");return i===""?n:`${n}.${i}`}function Zh(e,t=8){if(typeof e=="bigint")return e;const[r,n]=(typeof e=="number"?e.toFixed(t):e.toString()).split("."),i=BigInt(r.padEnd(r.length+t,"0"));return n===void 0?i:i+BigInt(n.slice(0,t).padEnd(t,"0"))}const Ha=0n;Zh("1");function Pt(e,t){if(t!=null)return e(t)}async function Id(e,t,r){if(r===void 0){if(e.length===0)throw new TypeError("Reduce of empty array with no initial value");r=e[0],e=e.slice(1)}return e.reduce((n,i,a,s)=>n.then(o=>Promise.resolve(t(o,i,a,s)).then(f=>f??o)),Promise.resolve(r))}function dV(e){return new Promise(t=>setTimeout(t,Number(St(e))))}function hV(e){return/webview|wv|ip((?!.*Safari)|(?=.*like Safari))/i.test(e)}const pV={code:0,depGroup:1},n6={0:"code",1:"depGroup"};function C5(e){const t=typeof e=="number"?n6[e]:typeof e=="bigint"?n6[Number(e)]:e;if(t===void 0)throw new Error(`Invalid dep type ${e}`);return t}function bV(e){return Tt([pV[C5(e)]])}function gV(e){return n6[Tt(e)[0]]}class wr{constructor(t,r){this.txHash=t,this.index=r}clone(){return new wr(this.txHash,this.index)}static from(t){return t instanceof wr?t:new wr(vt(t.txHash),St(t.index))}_toMolData(){return{txHash:Tt(this.txHash),index:yn(this.index,4)}}toBytes(){return Tt(S5(this._toMolData()))}static fromBytes(t){const r=t instanceof la?t:new la(Tt(t));return new wr(vt(r.getTxHash().raw()),z2(r.getIndex().raw()))}eq(t){const r=wr.from(t);return this.txHash===r.txHash&&this.index===r.index}}class Ya{constructor(t,r,n){this.capacity=t,this.lock=r,this.type=n}get occupiedSize(){var t;return 8+this.lock.occupiedSize+(((t=this.type)==null?void 0:t.occupiedSize)??0)}clone(){var t;return new Ya(this.capacity,this.lock.clone(),(t=this.type)==null?void 0:t.clone())}static from(t){return t instanceof Ya?t:new Ya(St(t.capacity),ie.from(t.lock),Pt(ie.from,t.type))}_toMolData(){var t;return{capacity:yn(this.capacity,8),lock:this.lock._toMolData(),type:(t=this.type)==null?void 0:t._toMolData()}}toBytes(){return Tt(BM(this._toMolData()))}static fromBytes(t){const r=t instanceof JA?t:new JA(Tt(t));return new Ya(z2(r.getCapacity().raw()),ie.fromBytes(r.getLock()),Pt(ie.fromBytes,hg(r.getType())))}}class Ja{constructor(t,r,n){this.outPoint=t,this.cellOutput=r,this.outputData=n}static from(t){return t instanceof Ja?t:new Ja(wr.from(t.outPoint),Ya.from(t.cellOutput),vt(t.outputData))}clone(){return new Ja(this.outPoint.clone(),this.cellOutput.clone(),this.outputData)}}function yV(e){const t=St(vt(e));return[t&St("0xffffff"),t>>St(24)&St("0xffff"),t>>St(40)&St("0xffff")]}class Pc{constructor(t,r,n){this.relative=t,this.metric=r,this.value=n}clone(){return new Pc(this.relative,this.metric,this.value)}static from(t){return t instanceof Pc?t:typeof t=="object"&&"relative"in t?new Pc(t.relative,t.metric,St(t.value)):Pc.fromNum(t)}toNum(){return this.value|(this.relative==="absolute"?Ha:St("0x8000000000000000"))|{blockNumber:St("0x0000000000000000"),epoch:St("0x2000000000000000"),timestamp:St("0x4000000000000000")}[this.metric]}static fromNum(t){const r=St(t),n=r>>St(63)===Ha?"absolute":"relative",i=["blockNumber","epoch","timestamp"][Number(r>>St(61)&St(3))],a=r&St("0x00ffffffffffffff");return new Pc(n,i,a)}}class Ts{constructor(t,r,n,i){this.previousOutput=t,this.since=r,this.cellOutput=n,this.outputData=i}clone(){var t;return new Ts(this.previousOutput.clone(),this.since,(t=this.cellOutput)==null?void 0:t.clone(),this.outputData)}static from(t){return t instanceof Ts?t:new Ts(wr.from(t.previousOutput),Pc.from(t.since??0).toNum(),Pt(Ya.from,t.cellOutput),Pt(vt,t.outputData))}async completeExtraInfos(t){if(this.cellOutput&&this.outputData)return;const r=await t.getCell(this.previousOutput);r&&(this.cellOutput=r.cellOutput,this.outputData=r.outputData)}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:yn(this.since,8)}}toBytes(){return Tt(TM(this._toMolData()))}static fromBytes(t){const r=t instanceof dy?t:new dy(Tt(t));return new Ts(wr.fromBytes(r.getPreviousOutput()),z2(r.getSince().raw()))}}class xi{constructor(t,r){this.outPoint=t,this.depType=r}clone(){return new xi(this.outPoint.clone(),this.depType)}static from(t){return t instanceof xi?t:new xi(wr.from(t.outPoint),C5(t.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:bV(this.depType)}}toBytes(){return Tt(DM(this._toMolData()))}fromBytes(t){const r=t instanceof hy?t:new hy(Tt(t));return new xi(wr.fromBytes(r.getOutPoint()),gV([r.getDepType()]))}eq(t){const r=xi.from(t);return this.outPoint.eq(r.outPoint)&&this.depType===r.depType}}class ts{constructor(t,r,n){this.lock=t,this.inputType=r,this.outputType=n}static from(t){return t instanceof ts?t:new ts(Pt(vt,t.lock),Pt(vt,t.inputType),Pt(vt,t.outputType))}_toMolData(){return{lock:Pt(Tt,this.lock),inputType:Pt(Tt,this.inputType),outputType:Pt(Tt,this.outputType)}}toBytes(){return Tt(cV(this._toMolData()))}static fromBytes(t){var n,i,a;const r=t instanceof tE?t:new tE(Tt(t));return new ts(Pt(vt,(n=hg(r.getLock()))==null?void 0:n.raw()),Pt(vt,(i=hg(r.getInputType()))==null?void 0:i.raw()),Pt(vt,(a=hg(r.getOutputType()))==null?void 0:a.raw()))}}function k_(e){const t=Tt(e).slice(0,16);if(t.length!==16)throw new Error("Invalid UDT cell data");return z2(t)}class Ne{constructor(t,r,n,i,a,s,o){this.version=t,this.cellDeps=r,this.headerDeps=n,this.inputs=i,this.outputs=a,this.outputsData=s,this.witnesses=o}static default(){return new Ne(0n,[],[],[],[],[],[])}copy(t){const r=Ne.from(t);this.version=r.version,this.cellDeps=r.cellDeps,this.headerDeps=r.headerDeps,this.inputs=r.inputs,this.outputs=r.outputs,this.outputsData=r.outputsData,this.witnesses=r.witnesses}clone(){return new Ne(0n,this.cellDeps.map(t=>t.clone()),[...this.headerDeps],this.inputs.map(t=>t.clone()),this.outputs.map(t=>t.clone()),[...this.outputsData],[...this.witnesses])}static from(t){var i,a,s,o,f;if(t instanceof Ne)return t;const r=((i=t.outputs)==null?void 0:i.map((c,u)=>{var h,g;const l=Ya.from({...c,capacity:c.capacity??0});return l.capacity===Ha&&(l.capacity=Zh(l.occupiedSize+(((g=Pt(Tt,(h=t.outputsData)==null?void 0:h[u]))==null?void 0:g.length)??0))),l}))??[],n=r.map((c,u)=>{var l;return vt(((l=t.outputsData)==null?void 0:l[u])??"0x")});return t.outputsData!=null&&n.length<t.outputsData.length&&n.push(...t.outputsData.slice(n.length).map(c=>vt(c))),new Ne(St(t.version??0),((a=t.cellDeps)==null?void 0:a.map(c=>xi.from(c)))??[],((s=t.headerDeps)==null?void 0:s.map(vt))??[],((o=t.inputs)==null?void 0:o.map(c=>Ts.from(c)))??[],r,n,((f=t.witnesses)==null?void 0:f.map(vt))??[])}static fromLumosSkeleton(t){return Ne.from({version:0n,cellDeps:t.cellDeps.toArray(),headerDeps:t.headerDeps.toArray(),inputs:t.inputs.toArray().map((r,n)=>{if(!r.outPoint)throw new Error("outPoint is required in input");return Ts.from({previousOutput:r.outPoint,since:t.inputSinces.get(n,"0x0"),cellOutput:r.cellOutput,outputData:r.data})}),outputs:t.outputs.toArray().map(r=>r.cellOutput),outputsData:t.outputs.toArray().map(r=>r.data),witnesses:t.witnesses.toArray()})}stringify(){return JSON.stringify(this,(t,r)=>typeof r=="bigint"?Fa(r):r)}rawToBytes(){return Tt(MM({version:yn(this.version,4),cellDeps:this.cellDeps.map(t=>t._toMolData()),headerDeps:this.headerDeps.map(t=>Tt(t)),inputs:this.inputs.map(t=>t._toMolData()),outputs:this.outputs.map(t=>t._toMolData()),outputsData:this.outputsData.map(t=>Tt(t))}))}toBytes(){return Tt(fV({raw:{version:yn(this.version,4),cellDeps:this.cellDeps.map(t=>t._toMolData()),headerDeps:this.headerDeps.map(t=>Tt(t)),inputs:this.inputs.map(t=>t._toMolData()),outputs:this.outputs.map(t=>t._toMolData()),outputsData:this.outputsData.map(t=>Tt(t))},witnesses:this.witnesses.map(t=>Tt(t))}))}hash(){return M1(this.rawToBytes())}static hashWitnessToHasher(t,r){const n=Tt(vt(t));r.update(yn(n.length,8)),r.update(n)}async getSignHashInfo(t,r,n=new vM){const i=ie.from(t);let a=-1;n.update(this.hash());for(let s=0;s<this.witnesses.length;s+=1){const o=this.inputs[s];if(o){if(await o.completeExtraInfos(r),!o.cellOutput)throw new Error("Unable to complete input");if(!i.eq(o.cellOutput.lock))continue;a===-1&&(a=s)}if(a===-1)return;Ne.hashWitnessToHasher(this.witnesses[s],n)}if(a!==-1)return{message:n.digest(),position:a}}async findInputIndexByLockId(t,r){const n=ie.from({...t,args:"0x"});for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.codeHash===a.cellOutput.lock.codeHash&&n.hashType===a.cellOutput.lock.hashType)return i}}async findInputIndexByLock(t,r){const n=ie.from(t);for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}async findLastInputIndexByLock(t,r){const n=ie.from(t);for(let i=this.inputs.length-1;i>=0;i-=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}addCellDeps(...t){t.flat().forEach(r=>{const n=xi.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.push(n)})}addCellDepsAtStart(...t){t.flat().forEach(r=>{const n=xi.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.unshift(n)})}async addCellDepInfos(t,...r){this.addCellDeps(await t.getCellDeps(...r))}async addCellDepsOfKnownScripts(t,...r){await Promise.all(r.flat().map(async n=>this.addCellDepInfos(t,(await t.getKnownScript(n)).cellDeps)))}setOutputDataAt(t,r){this.outputsData.length<t&&this.outputsData.push(...Array.from(new Array(t-this.outputsData.length),()=>"0x")),this.outputsData[t]=vt(r)}addOutput(t,r="0x"){const n=Ya.from({...t,capacity:t.capacity??0});n.capacity===Ha&&(n.capacity=Zh(n.occupiedSize+Tt(r).length));const i=this.outputs.push(n)-1;this.setOutputDataAt(i,r)}getWitnessArgsAt(t){const r=this.witnesses[t];return(r??"0x")!=="0x"?ts.fromBytes(r):void 0}setWitnessArgsAt(t,r){this.witnesses.length<t&&this.witnesses.push(...Array.from(new Array(t-this.witnesses.length),()=>"0x")),this.witnesses[t]=vt(r.toBytes())}async prepareSighashAllWitness(t,r,n){const i=await this.findInputIndexByLock(t,n);if(i===void 0)return;const a=this.getWitnessArgsAt(i)??ts.from({});a.lock=vt(Array.from(new Array(r),()=>0)),this.setWitnessArgsAt(i,a)}async getInputsCapacity(t){return Id(this.inputs,async(r,n)=>{if(await n.completeExtraInfos(t),!n.cellOutput)throw new Error("Unable to complete input");return r+n.cellOutput.capacity},St(0))}getOutputsCapacity(){return this.outputs.reduce((t,{capacity:r})=>t+r,St(0))}async getInputsUdtBalance(t,r){return Id(this.inputs,async(n,i)=>{var a;if(await i.completeExtraInfos(t),!i.cellOutput||!i.outputData)throw new Error("Unable to complete input");if((a=i.cellOutput.type)!=null&&a.eq(r))return n+k_(i.outputData)},St(0))}getOutputsUdtBalance(t){return this.outputs.reduce((r,n,i)=>{var a;return(a=n.type)!=null&&a.eq(t)?r+k_(this.outputsData[i]):r},St(0))}async completeInputs(t,r,n,i){const a=[];let s=i,o=!1;for await(const f of t.findCells(r,!0)){if(this.inputs.some(({previousOutput:l})=>l.eq(f.outPoint)))continue;const c=a.push(f),u=await Promise.resolve(n(s,f,c-1,a));if(u===void 0){o=!0;break}s=u}return this.inputs.push(...a.map(({outPoint:f,outputData:c,cellOutput:u})=>Ts.from({previousOutput:f,outputData:c,cellOutput:u}))),o?{addedCount:a.length}:{addedCount:a.length,accumulated:s}}async completeInputsByCapacity(t,r,n){const i=this.getOutputsCapacity()+St(r??0),a=await this.getInputsCapacity(t.client);if(a>=i)return 0;const{addedCount:s,accumulated:o}=await this.completeInputs(t,n??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(f,{cellOutput:{capacity:c}})=>{const u=f+c;return u>=i?void 0:u},a);if(o===void 0)return s;throw new Error(`Insufficient CKB, need ${lV(i-o)} extra CKB`)}async completeInputsAll(t,r){const{addedCount:n}=await this.completeInputs(t,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(i,{cellOutput:{capacity:a}})=>i+a,Ha);return n}async completeInputsByUdt(t,r){const n=this.getOutputsUdtBalance(r),i=await this.getInputsUdtBalance(t.client,r);if(i>=n)return 0;const{addedCount:a,accumulated:s}=await this.completeInputs(t,{script:r,outputDataLenRange:[16,St("0xffffffff")]},(o,{outputData:f})=>{const c=k_(f),u=o+c;return u>=n?void 0:u},i);if(s===void 0)return a;throw new Error(`Insufficient coin, need ${n-s} extra coin`)}estimateFee(t){const r=this.toBytes().length+4;return(St(r)*St(t)+St(1e3))/St(1e3)}async completeFee(t,r,n,i){const a=n??await t.client.getFeeRate();await this.getInputsCapacity(t.client);let s=Ha,o=Ha;for(;;){const f=this.clone(),c=await(async()=>{try{return await f.completeInputsByCapacity(t,s+o,i)}catch(g){throw o!==Ha?new Error("Not enough capacity for the change cell"):g}})();await t.prepareTransaction(f),s===Ha&&(s=f.estimateFee(a));const u=await f.getInputsCapacity(t.client)-f.getOutputsCapacity();if(u===s)return this.copy(f),[c,!1];const l=St(await Promise.resolve(r(f,u-s)));if(l>Ha){o=l;continue}if(await f.getInputsCapacity(t.client)-f.getOutputsCapacity()!==s)throw new Error("The change function doesn't use all available capacity");await t.prepareTransaction(f);const h=f.estimateFee(a);if(s>h)throw new Error("The change function removed existed transaction data");if(s===h)return this.copy(f),[c,!0];s=h}}completeFeeChangeToLock(t,r,n,i){const a=ie.from(r);return this.completeFee(t,(s,o)=>{const f=Ya.from({capacity:0,lock:a}),c=Zh(f.occupiedSize);return o<c?c:(f.capacity=o,s.addOutput(f),0)},n,i)}async completeFeeBy(t,r,n){const{script:i}=await t.getRecommendedAddressObj();return this.completeFeeChangeToLock(t,i,r,n)}completeFeeChangeToOutput(t,r,n,i){const a=Number(St(r));if(!this.outputs[a])throw new Error("Non-existed output to change");return this.completeFee(t,(s,o)=>(s.outputs[a].capacity+=o,0),n,i)}}class vV{async markTransactions(...t){await Promise.all([this.recordTransactions(...t),...t.flat().map(r=>{const n=Ne.from(r),i=n.hash();return Promise.all([...n.inputs.map(a=>this.markUnusable(a.previousOutput)),...n.outputs.map((a,s)=>this.markUsable({cellOutput:a,outputData:n.outputsData[s],outPoint:{txHash:i,index:s}}))])})])}async recordTransactions(...t){}async getTransaction(t){}async recordCells(...t){}}function Eh([e,t]){return[St(e),St(t)]}var Dt;(function(e){e.NervosDao="NervosDao",e.Secp256k1Blake160="Secp256k1Blake160",e.Secp256k1Multisig="Secp256k1Multisig",e.AnyoneCanPay="AnyoneCanPay",e.TypeId="TypeId",e.XUdt="XUdt",e.JoyId="JoyId",e.COTA="COTA",e.PWLock="PWLock",e.OmniLock="OmniLock",e.NostrLock="NostrLock",e.UniqueType="UniqueType",e.AlwaysSuccess="AlwaysSuccess",e.InputTypeProxyLock="InputTypeProxyLock",e.OutputTypeProxyLock="OutputTypeProxyLock",e.LockProxyLock="LockProxyLock",e.SingleUseLock="SingleUseLock",e.TypeBurnLock="TypeBurnLock",e.EasyToDiscoverType="EasyToDiscoverType",e.TimeLock="TimeLock"})(Dt||(Dt={}));class F2{constructor(t,r){this.cellDep=t,this.type=r}static from(t){return new F2(xi.from(t.cellDep),Pt(ie.from,t.type))}}class $2{constructor(t,r,n){this.codeHash=t,this.hashType=r,this.cellDeps=n}static from(t){return new $2(vt(t.codeHash),j2(t.hashType),t.cellDeps.map(r=>F2.from(r)))}}class q2{constructor(t,r,n,i,a,s,o){this.script=t,this.scriptLenRange=r,this.outputData=n,this.outputDataSearchMode=i,this.outputDataLenRange=a,this.outputCapacityRange=s,this.blockRange=o}static from(t){return new q2(Pt(ie.from,t.script),Pt(Eh,t.scriptLenRange),Pt(vt,t.outputData),t.outputDataSearchMode??void 0,Pt(Eh,t.outputDataLenRange),Pt(Eh,t.outputCapacityRange),Pt(Eh,t.blockRange))}}class R1{constructor(t,r,n,i,a){this.script=t,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.withData=a}static from(t){return new R1(ie.from(t.script),t.scriptType,t.scriptSearchMode,Pt(q2.from,t.filter),t.withData??void 0)}}class I5{constructor(t,r,n,i,a){this.script=t,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.groupByTransaction=a}static from(t){return new I5(ie.from(t.script),t.scriptType,t.scriptSearchMode,Pt(q2.from,t.filter),t.groupByTransaction??void 0)}}class L1 extends Error{constructor(t){super(`Client request error ${t.message}`),this.code=t.code,this.data=t.data}}class _V extends L1{constructor(t,r){super(t),this.outPoint=wr.from(r)}}class mV extends L1{constructor(t,r,n,i,a,s){super(t),this.source=r,this.errorCode=i,this.scriptHashType=a,this.sourceIndex=St(n),this.scriptCodeHash=vt(s)}}class wV extends L1{constructor(t,r){super(t),this.txHash=vt(r)}}class AV extends L1{constructor(t,r,n){super(t),this.currentFee=St(r),this.leastFee=St(n)}}class EV extends Error{constructor(){super("Wait transaction timeout")}}function PM(e,t,r){if(!t)return!0;const n=vt(e),i=vt(t);return!(r==="exact"&&n!==i||r==="prefix"&&!n.startsWith(i)||r==="partial"&&n.search(i)===-1)}function Ub(e,t,r){if(!t)return!0;if(!e)return!1;const n=ie.from(e),i=ie.from(t);return n.codeHash!==i.codeHash||n.hashType!==i.hashType?!1:PM(n.args,i==null?void 0:i.args,r)}function i6(e,t){if(!t)return!0;const r=St(e),[n,i]=Eh(t);return n<=r&&r<i}function eE(e,t){if(!t)return!0;const r=e?Tt(ie.from(e).args).length+33:0;return i6(r,t)}function xV(e,t){var i,a,s,o,f,c,u,l;const r=R1.from(e),n=Ja.from(t);return!(r.scriptType==="lock"&&(!Ub(n.cellOutput.lock,r.script,r.scriptSearchMode)||!Ub(n.cellOutput.type,(i=r.filter)==null?void 0:i.script,"prefix")||!eE(n.cellOutput.type,(a=r.filter)==null?void 0:a.scriptLenRange))||r.scriptType==="type"&&(!Ub(n.cellOutput.type,r.script,r.scriptSearchMode)||!Ub(n.cellOutput.lock,(s=r.filter)==null?void 0:s.script,"prefix")||!eE(n.cellOutput.lock,(o=r.filter)==null?void 0:o.scriptLenRange))||!PM(n.outputData,(f=r.filter)==null?void 0:f.outputData,((c=r.filter)==null?void 0:c.outputDataSearchMode)??"prefix")||!i6(Tt(n.outputData).length,(u=r.filter)==null?void 0:u.outputDataLenRange)||!i6(n.cellOutput.capacity,(l=r.filter)==null?void 0:l.outputCapacityRange))}class SV extends vV{constructor(){super(...arguments),this.cells=new Map,this.knownTransactions=new Map}async markUsable(...t){t.flat().forEach(r=>{const n=Ja.from(r).clone(),i=vt(n.outPoint.toBytes());this.cells.set(i,[!0,n])})}async markUnusable(...t){t.flat().forEach(r=>{const n=wr.from(r),i=vt(n.toBytes()),a=this.cells.get(i);if(a){a[0]=!1;return}this.cells.set(i,[!1,{outPoint:n}])})}async clear(){for(const t of this.cells.values())t[0]=void 0}async*findCells(t){for(const[r,n]of this.cells.values())r&&xV(t,n)&&(yield n.clone())}async getCell(t){var i;const r=wr.from(t),n=(i=this.cells.get(vt(r.toBytes())))==null?void 0:i[1];if(n&&n.cellOutput&&n.outputData)return Ja.from(n.clone())}async isUnusable(t){var n;const r=wr.from(t);return!(((n=this.cells.get(vt(r.toBytes())))==null?void 0:n[0])??!0)}async recordTransactions(...t){t.flat().map(r=>{const n=Ne.from(r);this.knownTransactions.set(n.hash(),n)})}async getTransaction(t){var n;const r=vt(t);return(n=this.knownTransactions.get(r))==null?void 0:n.clone()}async recordCells(...t){t.flat().map(r=>{const n=Ja.from(r),i=vt(n.outPoint.toBytes());this.cells.get(i)||this.cells.set(i,[void 0,n])})}}class CV{constructor(t){this.cache=(t==null?void 0:t.cache)??new SV}async getFeeRate(t){return zY((await this.getFeeRateStatistics(t)).median,1e3)}async getCell(t){const r=wr.from(t),n=await this.cache.getCell(r);if(n)return n;const i=await this.getTransactionNoCache(r.txHash);if(!i)return;const a=Number(St(r.index));if(a>=i.transaction.outputs.length)return;const s=Ja.from({outPoint:r,cellOutput:i.transaction.outputs[a],outputData:i.transaction.outputsData[a]??"0x"});return await this.cache.recordCells(s),s}async getCellLive(t,r,n){const i=await this.getCellLiveNoCache(t,r,n);return r&&i&&await this.cache.recordCells(i),i}async findCellsPaged(t,r,n,i){const a=await this.findCellsPagedNoCache(t,r,n,i);return await this.cache.recordCells(a.cells),a}async*findCellsOnChain(t,r,n=10){let i;for(;;){const{cells:a,lastCursor:s}=await this.findCellsPaged(t,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}async*findCells(t,r,n=10){const i=R1.from(t),a=[];for await(const s of this.cache.findCells(i))a.push(s.outPoint),yield s;for await(const s of this.findCellsOnChain(i,r,n))await this.cache.isUnusable(s.outPoint)||a.some(o=>o.eq(s.outPoint))||(yield s)}findCellsByLock(t,r,n=!0,i,a=10){return this.findCells({script:t,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},withData:n},i,a)}findCellsByType(t,r=!0,n,i=10){return this.findCells({script:t,scriptType:"type",scriptSearchMode:"exact",withData:r},n,i)}async findSingletonCellByType(t,r=!1){for await(const n of this.findCellsByType(t,r,void 0,1))return n}async getCellDeps(...t){return Promise.all(t.flat().map(async r=>{const{cellDep:n,type:i}=F2.from(r);if(i===void 0)return n;const a=await this.findSingletonCellByType(i);return a?xi.from({outPoint:a.outPoint,depType:n.depType}):n}))}async*findTransactions(t,r,n=10){let i;for(;;){const{transactions:a,lastCursor:s}=await this.findTransactionsPaged(t,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}findTransactionsByLock(t,r,n,i,a=10){return this.findTransactions({script:t,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},groupByTransaction:n},i,a)}findTransactionsByType(t,r,n,i=10){return this.findTransactions({script:t,scriptType:"type",scriptSearchMode:"exact",groupByTransaction:r},n,i)}async getBalanceSingle(t){return this.getCellsCapacity({script:t,scriptType:"lock",scriptSearchMode:"exact",filter:{scriptLenRange:[0,1],outputDataLenRange:[0,1]}})}async getBalance(t){return Id(t,async(r,n)=>r+await this.getBalanceSingle(n),Ha)}async sendTransaction(t,r){const n=Ne.from(t),i=await this.sendTransactionNoCache(n,r);return await this.cache.recordTransactions(n),await this.cache.markTransactions(n),i}async getTransaction(t){const r=vt(t),n=await this.getTransactionNoCache(r);if(n!=null&&n.transaction)return n;const i=await this.cache.getTransaction(r);if(i)return n?{...n,transaction:i}:{transaction:i,status:"sent"}}async waitTransaction(t,r=0,n=6e4,i=2e3){const a=Date.now();let s;const o=async()=>{const f=await this.getTransaction(t);if(!(!f||f.blockNumber==null||["sent","pending","proposed"].includes(f.status)))return s=f,f};for(;;){if(s){if(r===0)return s;if((await this.getTipHeader()).number-s.blockNumber>=r)return s}else if(await o())continue;if(Date.now()-a+i>=n)throw new EV;await dV(i)}}}var sl=null;typeof WebSocket<"u"?sl=WebSocket:typeof MozWebSocket<"u"?sl=MozWebSocket:typeof global<"u"?sl=global.WebSocket||global.MozWebSocket:typeof window<"u"?sl=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(sl=self.WebSocket||self.MozWebSocket);const T5=sl,IV=Object.freeze({[Dt.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:2},depType:"code"}}]},[Dt.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[Dt.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[Dt.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[Dt.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[Dt.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[Dt.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf05188e5f3a6767fc4687faf45ba5f1a6e25d3ada6129dae8722cb282f262493",index:0},depType:"depGroup"}}]},[Dt.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[Dt.PWLock]:{codeHash:"0xbf43c3602455798c1a61a596e0d95278864c552fafe231c063b3fabf97a8febc",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x1d60cb8f4666e039f418ea94730b1a8c5aa0bf2f7781474406387462924d15d4",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x42ade2f25eb938b5dbfd3d8f07b8b07aa593d848e7ff14bdfbbea5aeb6175261"}}]},[Dt.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[Dt.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[Dt.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[Dt.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:0},depType:"code"}}]},[Dt.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:1},depType:"code"}}]},[Dt.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]},[Dt.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:3},depType:"code"}}]},[Dt.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[Dt.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:5},depType:"code"}}]},[Dt.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:0},depType:"code"}}]},[Dt.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:1},depType:"code"}}]}});class TV{constructor(t,r=3e4){this.url=t,this.timeout=r}async request(t){const r=new AbortController,n=setTimeout(()=>r.abort(),this.timeout),i=await(await fetch(this.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),signal:r.signal})).json();return clearTimeout(n),i}}class BV{constructor(t,r=3e4){this.url=t,this.timeout=r,this.ongoing=new Map}request(t){const r=(()=>{if(this.socket&&this.socket.readyState!==this.socket.CLOSING&&this.socket.readyState!==this.socket.CLOSED&&this.openSocket)return this.openSocket;const n=new T5(this.url),i=({data:s})=>{const o=JSON.parse(s);if(typeof o!="object"||o===null||typeof o.id!="number")throw new Error(`Unknown response ${s}`);const f=o.id,c=this.ongoing.get(f);if(!c)return;const[u,l,h]=c;clearTimeout(h),this.ongoing.delete(f),u(o)},a=()=>{this.ongoing.forEach(([s,o,f])=>{clearTimeout(f),o(new Error("Connection closed"))}),this.ongoing.clear()};return n.onclose=a,n.onerror=a,n.onmessage=i,this.socket=n,this.openSocket=new Promise(s=>{n.readyState===n.OPEN?s(n):n.onopen=()=>{s(n)}}),this.openSocket})();return new Promise((n,i)=>{const a=[n,i,setTimeout(()=>{this.ongoing.delete(t.id),r.then(s=>s.close()),i(new Error("Request timeout"))},this.timeout)];this.ongoing.set(t.id,a),r.then(s=>{s.readyState===s.CLOSED||s.readyState===s.CLOSING?(clearTimeout(a[2]),this.ongoing.delete(t.id),i(new Error("Connection closed"))):s.send(JSON.stringify(t))})})}}function OV(e,t){return e.startsWith("wss://")?new BV(e,t==null?void 0:t.timeout):new TV(e,t==null?void 0:t.timeout)}class Mt{static hashTypeFrom(t){return j2(t)}static hashTypeTo(t){return t}static depTypeFrom(t){switch(C5(t)){case"code":return"code";case"depGroup":return"dep_group"}}static depTypeTo(t){switch(t){case"code":return"code";case"dep_group":return"depGroup"}}static scriptFrom(t){const r=ie.from(t);return{code_hash:r.codeHash,hash_type:Mt.hashTypeFrom(r.hashType),args:r.args}}static scriptTo(t){return ie.from({codeHash:t.code_hash,hashType:Mt.hashTypeTo(t.hash_type),args:t.args})}static outPointFrom(t){const r=wr.from(t);return{index:Fa(r.index),tx_hash:r.txHash}}static outPointTo(t){return wr.from({index:t.index,txHash:t.tx_hash})}static cellInputFrom(t){const r=Ts.from(t);return{previous_output:Mt.outPointFrom(r.previousOutput),since:Fa(r.since)}}static cellInputTo(t){return Ts.from({previousOutput:Mt.outPointTo(t.previous_output),since:t.since})}static cellOutputFrom(t){return{capacity:Fa(t.capacity),lock:Mt.scriptFrom(t.lock),type:Pt(Mt.scriptFrom,t.type)}}static cellOutputTo(t){return Ya.from({capacity:t.capacity,lock:Mt.scriptTo(t.lock),type:Pt(Mt.scriptTo,t.type)})}static cellDepFrom(t){return{out_point:Mt.outPointFrom(t.outPoint),dep_type:Mt.depTypeFrom(t.depType)}}static cellDepTo(t){return xi.from({outPoint:Mt.outPointTo(t.out_point),depType:Mt.depTypeTo(t.dep_type)})}static transactionFrom(t){const r=Ne.from(t);return{version:Fa(r.version),cell_deps:r.cellDeps.map(n=>Mt.cellDepFrom(n)),header_deps:r.headerDeps,inputs:r.inputs.map(n=>Mt.cellInputFrom(n)),outputs:r.outputs.map(n=>Mt.cellOutputFrom(n)),outputs_data:r.outputsData,witnesses:r.witnesses}}static transactionTo(t){return Ne.from({version:t.version,cellDeps:t.cell_deps.map(r=>Mt.cellDepTo(r)),headerDeps:t.header_deps,inputs:t.inputs.map(r=>Mt.cellInputTo(r)),outputs:t.outputs.map(r=>Mt.cellOutputTo(r)),outputsData:t.outputs_data,witnesses:t.witnesses})}static transactionResponseTo({cycles:t,tx_status:{status:r,block_number:n,block_hash:i,tx_index:a,reason:s},transaction:o}){if(o!=null)return{transaction:Mt.transactionTo(o),status:r,cycles:Pt(St,t),blockHash:Pt(vt,i),blockNumber:Pt(St,n),txIndex:Pt(St,a),reason:s}}static blockHeaderTo(t){const r=Tt(t.dao);return{compactTarget:St(t.compact_target),dao:{c:Ah(r.slice(0,8)),ar:Ah(r.slice(8,16)),s:Ah(r.slice(16,24)),u:Ah(r.slice(24,32))},epoch:yV(t.epoch),extraHash:t.extra_hash,hash:t.hash,nonce:St(t.nonce),number:St(t.number),parentHash:t.parent_hash,proposalsHash:t.proposals_hash,timestamp:St(t.timestamp),transactionsRoot:t.transactions_root,version:St(t.version)}}static blockUncleTo(t){return{header:Mt.blockHeaderTo(t.header),proposals:t.proposals}}static blockTo(t){return{header:Mt.blockHeaderTo(t.header),proposals:t.proposals,transactions:t.transactions.map(r=>Mt.transactionTo(r)),uncles:t.uncles.map(r=>Mt.blockUncleTo(r))}}static rangeFrom([t,r]){return[Fa(t),Fa(r)]}static indexerSearchKeyFilterFrom(t){return{script:Pt(Mt.scriptFrom,t.script),script_len_range:Pt(Mt.rangeFrom,t.scriptLenRange),output_data:t.outputData,output_data_filter_mode:t.outputDataSearchMode,output_data_len_range:Pt(Mt.rangeFrom,t.outputDataLenRange),output_capacity_range:Pt(Mt.rangeFrom,t.outputCapacityRange),block_range:Pt(Mt.rangeFrom,t.blockRange)}}static indexerSearchKeyFrom(t){const r=R1.from(t);return{script:Mt.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Pt(Mt.indexerSearchKeyFilterFrom,r.filter),with_data:r.withData}}static findCellsResponseTo({last_cursor:t,objects:r}){return{lastCursor:t,cells:r.map(n=>Ja.from({outPoint:Mt.outPointTo(n.out_point),cellOutput:Mt.cellOutputTo(n.output),outputData:n.output_data??"0x"}))}}static indexerSearchKeyTransactionFrom(t){const r=I5.from(t);return{script:Mt.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Pt(Mt.indexerSearchKeyFilterFrom,r.filter),group_by_transaction:r.groupByTransaction}}static findTransactionsResponseTo({last_cursor:t,objects:r}){return r.length===0?{lastCursor:t,transactions:[]}:"io_index"in r[0]?{lastCursor:t,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:St(n.block_number),txIndex:St(n.tx_index),cellIndex:St(n.io_index),isInput:n.io_type==="input"}))}:{lastCursor:t,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:St(n.block_number),txIndex:St(n.tx_index),cells:n.cells.map(([i,a])=>({isInput:i==="input",cellIndex:St(a)}))}))}}}function rE(e,t){return t?t(e):e}const DV=[["Resolve\\(Unknown\\(OutPoint\\((0x.*)\\)\\)\\)",(e,t)=>new _V(e,wr.fromBytes(t[1]))],["Verification\\(Error { kind: Script, inner: TransactionScriptError { source: (Inputs|Outputs)\\[([0-9]*)\\].(Lock|Type), cause: ValidationFailure: see error code (-?[0-9])* on page https://nervosnetwork\\.github\\.io/ckb-script-error-codes/by-(type|data)-hash/(.*)\\.html",(e,t)=>new mV(e,t[3]==="Lock"?"lock":t[1]==="Inputs"?"inputType":"outputType",t[2],Number(t[4]),t[5]==="data"?"data":"type",t[6])],["Duplicated\\(Byte32\\((0x.*)\\)\\)",(e,t)=>new wV(e,t[1])],[`RBFRejected\\("Tx's current fee is ([0-9]*), expect it to >= ([0-9]*) to replace old txs"\\)`,(e,t)=>new AV(e,t[1],t[2])]];class NM extends CV{constructor(t,r){super(r),this.url_=t,this.id=0,this.getFeeRateStatistics=this.buildSender("get_fee_rate_statistics",[n=>Pt(St,n)],({mean:n,median:i})=>({mean:St(n),median:St(i)})),this.getTip=this.buildSender("get_tip_block_number",[],St),this.getTipHeader=this.buildSender("get_tip_header",[],n=>Pt(Mt.blockHeaderTo,n)),this.getBlockByNumber=this.buildSender("get_block_by_number",[n=>Fa(St(n))],n=>Pt(Mt.blockTo,n)),this.getBlockByHash=this.buildSender("get_block",[vt],n=>Pt(Mt.blockTo,n)),this.getHeaderByNumber=this.buildSender("get_header_by_number",[n=>Fa(St(n))],n=>Pt(Mt.blockHeaderTo,n)),this.getHeaderByHash=this.buildSender("get_header",[vt],n=>Pt(Mt.blockHeaderTo,n)),this.estimateCycles=this.buildSender("estimate_cycles",[Mt.transactionFrom],({cycles:n})=>St(n)),this.sendTransactionDry=this.buildSender("test_tx_pool_accept",[Mt.transactionFrom],({cycles:n})=>St(n)),this.sendTransactionNoCache=this.buildSender("send_transaction",[Mt.transactionFrom],vt),this.getTransactionNoCache=this.buildSender("get_transaction",[vt],Mt.transactionResponseTo),this.findCellsPagedNoCache=this.buildSender("get_cells",[Mt.indexerSearchKeyFrom,n=>n??"asc",n=>Fa(n??10)],Mt.findCellsResponseTo),this.findTransactionsPaged=this.buildSender("get_transactions",[Mt.indexerSearchKeyTransactionFrom,n=>n??"asc",n=>Fa(n??10)],Mt.findTransactionsResponseTo),this.getCellsCapacity=this.buildSender("get_cells_capacity",[Mt.indexerSearchKeyFrom],({capacity:n})=>St(n)),this.transport=OV(t,r)}get url(){return this.url_}getCellLiveNoCache(t,r,n){return this.buildSender("get_live_cell",[Mt.outPointFrom],({cell:i})=>Pt(({output:a,data:s})=>Ja.from({cellOutput:Mt.cellOutputTo(a),outputData:(s==null?void 0:s.content)??"0x",outPoint:t}),i))(t,r??!0,n)}buildSender(t,r,n){return async(...i)=>{const a=this.buildPayload(t,i.concat(Array.from(new Array(Math.max(r.length-i.length,0)))).map((s,o)=>rE(s,r[o])));try{return rE(await this.send(a),n)}catch(s){if(typeof s!="object"||s===null||!("data"in s)||typeof s.data!="string")throw s;const o=s;for(const[f,c]of DV){const u=o.data.match(f);if(u)throw c(o,u)}throw new L1(o)}}}async send(t){const r=await this.transport.request(t);if(r.id!==t.id)throw new Error(`Id mismatched, got ${r.id}, expected ${t.id}`);if(r.error)throw r.error;return r.result}buildPayload(t,r){return{id:this.id++,method:t,params:r,jsonrpc:"2.0"}}}class MV extends NM{constructor(t){super((t==null?void 0:t.url)??(typeof T5<"u"?"wss://mainnet.ckb.dev/ws":"https://mainnet.ckb.dev/"),t),this.config=t}get scripts(){var t;return((t=this.config)==null?void 0:t.scripts)??IV}get addressPrefix(){return"ckb"}async getKnownScript(t){const r=this.scripts[t];if(!r)throw new Error(`No script information was found for ${t} on ${this.addressPrefix}`);return $2.from(r)}}const RV=Object.freeze({[Dt.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:2},depType:"code"}}]},[Dt.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[Dt.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[Dt.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[Dt.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[Dt.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[Dt.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4dcf3f3b09efac8995d6cbee87c5345e812d310094651e0c3d9a730f32dc9263",index:0},depType:"depGroup"}}]},[Dt.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[Dt.PWLock]:{codeHash:"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x57a62003daeab9d54aa29b944fc3b451213a5ebdf2e232216a3cfed0dde61b38",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xf6d90bfe3041d0fd7e01c45770241697f5f837974bd6ae1672a7ec0f9f523268"}}]},[Dt.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[Dt.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[Dt.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[Dt.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:0},depType:"code"}}]},[Dt.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:1},depType:"code"}}]},[Dt.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]},[Dt.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:3},depType:"code"}}]},[Dt.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[Dt.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:5},depType:"code"}}]},[Dt.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:0},depType:"code"}}]},[Dt.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:1},depType:"code"}}]}});class LV extends NM{constructor(t){super((t==null?void 0:t.url)??(typeof T5<"u"?"wss://testnet.ckb.dev/ws":"https://testnet.ckb.dev/"),t),this.config=t}get scripts(){var t;return((t=this.config)==null?void 0:t.scripts)??RV}get addressPrefix(){return"ckt"}async getKnownScript(t){const r=this.scripts[t];return $2.from(r)}}function HV(e){try{const{words:t,prefix:r}=Ap.decode(e,a6),[n,...i]=Ap.fromWords(t);if(n===Ka.Full)return{prefix:r,format:Ka.Full,payload:i}}catch{}try{const{prefix:t,words:r}=yu.decode(e,a6),[n,...i]=yu.fromWords(r);if([Ka.FullData,Ka.FullType,Ka.Short].includes(n))return{prefix:t,format:n,payload:i}}catch{}throw Error(`Unknown address format ${e}`)}async function PV(e,t,r,n){if(t===Ka.Full){if(r.length<33)throw new Error(`Invalid full address without enough payload ${vt(r)}`);return{script:{codeHash:r.slice(0,32),hashType:HM(r.slice(32,33)),args:r.slice(33)},prefix:e}}if(t===Ka.FullData){if(r.length<32)throw new Error(`Invalid full data address without enough payload ${vt(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"data",args:r.slice(32)},prefix:e}}if(t===Ka.FullType){if(r.length<32)throw new Error(`Invalid full type address without enough payload ${vt(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"type",args:r.slice(32)},prefix:e}}if(r.length!==21)throw new Error(`Invalid short address without enough payload ${vt(r)}`);const i=[Dt.Secp256k1Blake160,Dt.Secp256k1Multisig,Dt.AnyoneCanPay][r[0]];if(i===void 0)throw new Error(`Invalid short address with unknown script ${vt(r)}`);return{script:await ie.fromKnownScript(n,i,r.slice(1)),prefix:e}}var Ka;(function(e){e[e.Full=0]="Full",e[e.Short=1]="Short",e[e.FullData=2]="FullData",e[e.FullType=4]="FullType"})(Ka||(Ka={}));const a6=1023;class ia{constructor(t,r){this.script=t,this.prefix=r}static from(t){return t instanceof ia?t:new ia(ie.from(t.script),t.prefix)}static async fromString(t,r){const{prefix:n,format:i,payload:a}=HV(t),s=r[n]??r;if(!s)throw new Error(`Unknown address prefix ${n}`);const o=s.addressPrefix;if(o!==n)throw new Error(`Unknown address prefix ${n}, expected ${o}`);return ia.from(await PV(n,i,a,s))}static fromScript(t,r){return ia.from({script:t,prefix:r.addressPrefix})}static async fromKnownScript(t,r,n){return ia.from({script:await ie.fromKnownScript(t,r,n),prefix:t.addressPrefix})}toString(){const t=D1([Ka.Full],Tt(this.script.codeHash),LM(this.script.hashType),Tt(this.script.args));return Ap.encode(this.prefix,Ap.toWords(t),a6)}}function NV(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;e.setUint32(t+f,s,n),e.setUint32(t+c,o,n)}const UV=(e,t,r)=>e&t^~e&r,kV=(e,t,r)=>e&t^e&r^t&r;let UM=class extends _5{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=N_(this.buffer)}update(t){Cd(this);const{view:r,buffer:n,blockLen:i}=this;t=Zf(t);const a=t.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=N_(t);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Cd(this),v5(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;NV(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=N_(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=a,t.destroyed=s,i%r&&t.buffer.set(n),t}};const zV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ff=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cf=new Uint32Array(64);let jV=class extends UM{constructor(){super(64,32,8,!1),this.A=ff[0]|0,this.B=ff[1]|0,this.C=ff[2]|0,this.D=ff[3]|0,this.E=ff[4]|0,this.F=ff[5]|0,this.G=ff[6]|0,this.H=ff[7]|0}get(){const{A:t,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[t,r,n,i,a,s,o,f]}set(t,r,n,i,a,s,o,f){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(t,r){for(let l=0;l<16;l++,r+=4)cf[l]=t.getUint32(r,!1);for(let l=16;l<64;l++){const h=cf[l-15],g=cf[l-2],m=ds(h,7)^ds(h,18)^h>>>3,A=ds(g,17)^ds(g,19)^g>>>10;cf[l]=A+cf[l-7]+m+cf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const h=ds(o,6)^ds(o,11)^ds(o,25),g=u+h+UV(o,f,c)+zV[l]+cf[l]|0,A=(ds(n,2)^ds(n,13)^ds(n,22))+kV(n,i,a)|0;u=c,c=f,f=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){cf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const py=m5(()=>new jV);function nE(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function FV(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function K2(e,...t){if(!FV(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $V(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nE(e.outputLen),nE(e.blockLen)}function by(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qV(e,t){K2(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Ju=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z_=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),hs=(e,t)=>e<<32-t|e>>>t;function KV(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function B5(e){return typeof e=="string"&&(e=KV(e)),K2(e),e}function QV(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];K2(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const a=e[n];r.set(a,i),i+=a.length}return r}let kM=class{clone(){return this._cloneInto()}};function YV(e){const t=n=>e().update(B5(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function zM(e=32){if(Ju&&typeof Ju.getRandomValues=="function")return Ju.getRandomValues(new Uint8Array(e));if(Ju&&typeof Ju.randomBytes=="function")return Ju.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function VV(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;e.setUint32(t+f,s,n),e.setUint32(t+c,o,n)}const GV=(e,t,r)=>e&t^~e&r,WV=(e,t,r)=>e&t^e&r^t&r;class XV extends kM{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=z_(this.buffer)}update(t){by(this);const{view:r,buffer:n,blockLen:i}=this;t=B5(t);const a=t.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=z_(t);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){by(this),qV(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;VV(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=z_(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=a,t.destroyed=s,i%r&&t.buffer.set(n),t}}const ZV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),uf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lf=new Uint32Array(64);let JV=class extends XV{constructor(){super(64,32,8,!1),this.A=uf[0]|0,this.B=uf[1]|0,this.C=uf[2]|0,this.D=uf[3]|0,this.E=uf[4]|0,this.F=uf[5]|0,this.G=uf[6]|0,this.H=uf[7]|0}get(){const{A:t,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[t,r,n,i,a,s,o,f]}set(t,r,n,i,a,s,o,f){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(t,r){for(let l=0;l<16;l++,r+=4)lf[l]=t.getUint32(r,!1);for(let l=16;l<64;l++){const h=lf[l-15],g=lf[l-2],m=hs(h,7)^hs(h,18)^h>>>3,A=hs(g,17)^hs(g,19)^g>>>10;lf[l]=A+lf[l-7]+m+lf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const h=hs(o,6)^hs(o,11)^hs(o,25),g=u+h+GV(o,f,c)+ZV[l]+lf[l]|0,A=(hs(n,2)^hs(n,13)^hs(n,22))+WV(n,i,a)|0;u=c,c=f,f=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){lf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const s6=YV(()=>new JV);let jM=class extends kM{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,$V(t);const n=B5(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=t.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(t){return by(this),this.iHash.update(t),this}digestInto(t){by(this),K2(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return t=t,t.finished=i,t.destroyed=a,t.blockLen=s,t.outputLen=o,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const FM=(e,t,r)=>new jM(e,t).update(r).digest();FM.create=(e,t)=>new jM(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Q2=BigInt(0),Y2=BigInt(1),tG=BigInt(2);function wu(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function H1(e){if(!wu(e))throw new Error("Uint8Array expected")}function Td(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const eG=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bd(e){H1(e);let t="";for(let r=0;r<e.length;r++)t+=eG[e[r]];return t}function ml(e){const t=e.toString(16);return t.length&1?"0"+t:t}function O5(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Q2:BigInt("0x"+e)}const ro={_0:48,_9:57,A:65,F:70,a:97,f:102};function iE(e){if(e>=ro._0&&e<=ro._9)return e-ro._0;if(e>=ro.A&&e<=ro.F)return e-(ro.A-10);if(e>=ro.a&&e<=ro.f)return e-(ro.a-10)}function Od(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,a=0;i<r;i++,a+=2){const s=iE(e.charCodeAt(a)),o=iE(e.charCodeAt(a+1));if(s===void 0||o===void 0){const f=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}n[i]=s*16+o}return n}function Oo(e){return O5(Bd(e))}function D5(e){return H1(e),O5(Bd(Uint8Array.from(e).reverse()))}function cc(e,t){return Od(e.toString(16).padStart(t*2,"0"))}function M5(e,t){return cc(e,t).reverse()}function rG(e){return Od(ml(e))}function hn(e,t,r){let n;if(typeof t=="string")try{n=Od(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(wu(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Au(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];H1(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const a=e[n];r.set(a,i),i+=a.length}return r}function nG(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function iG(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const j_=e=>typeof e=="bigint"&&Q2<=e;function Dd(e,t,r){return j_(e)&&j_(t)&&j_(r)&&t<=e&&e<r}function Jf(e,t,r,n){if(!Dd(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function $M(e){let t;for(t=0;e>Q2;e>>=Y2,t+=1);return t}function aG(e,t){return e>>BigInt(t)&Y2}function sG(e,t,r){return e|(r?Y2:Q2)<<BigInt(t)}const R5=e=>(tG<<BigInt(e-1))-Y2,F_=e=>new Uint8Array(e),aE=e=>Uint8Array.from(e);function qM(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=F_(e),i=F_(e),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),f=(l=F_())=>{i=o(aE([0]),l),n=o(),l.length!==0&&(i=o(aE([1]),l),n=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const h=[];for(;l<t;){n=o();const g=n.slice();h.push(g),l+=n.length}return Au(...h)};return(l,h)=>{s(),f(l);let g;for(;!(g=h(c()));)f();return s(),g}}const oG={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||wu(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function P1(e,t,r={}){const n=(i,a,s)=>{const o=oG[a];if(typeof o!="function")throw new Error("invalid validator function");const f=e[i];if(!(s&&f===void 0)&&!o(f,e))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+f)};for(const[i,a]of Object.entries(t))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return e}const fG=()=>{throw new Error("not implemented")};function o6(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const a=e(r,...n);return t.set(r,a),a}}const cG=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Jf,abool:Td,abytes:H1,bitGet:aG,bitLen:$M,bitMask:R5,bitSet:sG,bytesToHex:Bd,bytesToNumberBE:Oo,bytesToNumberLE:D5,concatBytes:Au,createHmacDrbg:qM,ensureBytes:hn,equalBytes:nG,hexToBytes:Od,hexToNumber:O5,inRange:Dd,isBytes:wu,memoized:o6,notImplemented:fG,numberToBytesBE:cc,numberToBytesLE:M5,numberToHexUnpadded:ml,numberToVarBytesBE:rG,utf8ToBytes:iG,validateObject:P1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pr=BigInt(0),ur=BigInt(1),Nc=BigInt(2),uG=BigInt(3),f6=BigInt(4),sE=BigInt(5),oE=BigInt(8);function Vr(e,t){const r=e%t;return r>=Pr?r:t+r}function lG(e,t,r){if(t<Pr)throw new Error("invalid exponent, negatives unsupported");if(r<=Pr)throw new Error("invalid modulus");if(r===ur)return Pr;let n=ur;for(;t>Pr;)t&ur&&(n=n*e%r),e=e*e%r,t>>=ur;return n}function qi(e,t,r){let n=e;for(;t-- >Pr;)n*=n,n%=r;return n}function c6(e,t){if(e===Pr)throw new Error("invert: expected non-zero number");if(t<=Pr)throw new Error("invert: expected positive modulus, got "+t);let r=Vr(e,t),n=t,i=Pr,a=ur;for(;r!==Pr;){const o=n/r,f=n%r,c=i-a*o;n=r,r=f,i=a,a=c}if(n!==ur)throw new Error("invert: does not exist");return Vr(i,t)}function dG(e){const t=(e-ur)/Nc;let r,n,i;for(r=e-ur,n=0;r%Nc===Pr;r/=Nc,n++);for(i=Nc;i<e&&lG(i,t,e)!==e-ur;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const s=(e+ur)/f6;return function(f,c){const u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(r+ur)/Nc;return function(o,f){if(o.pow(f,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(f,a),h=o.pow(f,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let g=1;for(let A=o.sqr(h);g<c&&!o.eql(A,o.ONE);g++)A=o.sqr(A);const m=o.pow(u,ur<<BigInt(c-g-1));u=o.sqr(m),l=o.mul(l,m),h=o.mul(h,u),c=g}return l}}function hG(e){if(e%f6===uG){const t=(e+ur)/f6;return function(n,i){const a=n.pow(i,t);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(e%oE===sE){const t=(e-sE)/oE;return function(n,i){const a=n.mul(i,Nc),s=n.pow(a,t),o=n.mul(i,s),f=n.mul(n.mul(o,Nc),s),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return dG(e)}const pG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bG(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=pG.reduce((n,i)=>(n[i]="function",n),t);return P1(e,r)}function gG(e,t,r){if(r<Pr)throw new Error("invalid exponent, negatives unsupported");if(r===Pr)return e.ONE;if(r===ur)return t;let n=e.ONE,i=t;for(;r>Pr;)r&ur&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ur;return n}function yG(e,t){const r=new Array(t.length),n=t.reduce((a,s,o)=>e.is0(s)?a:(r[o]=a,e.mul(a,s)),e.ONE),i=e.inv(n);return t.reduceRight((a,s,o)=>e.is0(s)?a:(r[o]=e.mul(a,r[o]),e.mul(a,s)),i),r}function KM(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function QM(e,t,r=!1,n={}){if(e<=Pr)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:a}=KM(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:R5(i),ZERO:Pr,ONE:ur,create:f=>Vr(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Pr<=f&&f<e},is0:f=>f===Pr,isOdd:f=>(f&ur)===ur,neg:f=>Vr(-f,e),eql:(f,c)=>f===c,sqr:f=>Vr(f*f,e),add:(f,c)=>Vr(f+c,e),sub:(f,c)=>Vr(f-c,e),mul:(f,c)=>Vr(f*c,e),pow:(f,c)=>gG(o,f,c),div:(f,c)=>Vr(f*c6(c,e),e),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>c6(f,e),sqrt:n.sqrt||(f=>(s||(s=hG(e)),s(o,f))),invertBatch:f=>yG(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?M5(f,a):cc(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return r?D5(f):Oo(f)}});return Object.freeze(o)}function YM(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function VM(e){const t=YM(e);return t+Math.ceil(t/2)}function vG(e,t,r=!1){const n=e.length,i=YM(t),a=VM(t);if(n<16||n<a||n>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+n);const s=r?Oo(e):D5(e),o=Vr(s,t-ur)+ur;return r?M5(o,i):cc(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fE=BigInt(0),kb=BigInt(1);function $_(e,t){const r=t.negate();return e?r:t}function GM(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function q_(e,t){GM(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function _G(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function mG(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const K_=new WeakMap,WM=new WeakMap;function Q_(e){return WM.get(e)||1}function wG(e,t){return{constTimeNegate:$_,hasPrecomputes(r){return Q_(r)!==1},unsafeLadder(r,n,i=e.ZERO){let a=r;for(;n>fE;)n&kb&&(i=i.add(a)),a=a.double(),n>>=kb;return i},precomputeWindow(r,n){const{windows:i,windowSize:a}=q_(n,t),s=[];let o=r,f=o;for(let c=0;c<i;c++){f=o,s.push(f);for(let u=1;u<a;u++)f=f.add(o),s.push(f);o=f.double()}return s},wNAF(r,n,i){const{windows:a,windowSize:s}=q_(r,t);let o=e.ZERO,f=e.BASE;const c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let h=0;h<a;h++){const g=h*s;let m=Number(i&c);i>>=l,m>s&&(m-=u,i+=kb);const A=g,S=g+Math.abs(m)-1,w=h%2!==0,C=m<0;m===0?f=f.add($_(w,n[A])):o=o.add($_(C,n[S]))}return{p:o,f}},wNAFUnsafe(r,n,i,a=e.ZERO){const{windows:s,windowSize:o}=q_(r,t),f=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let l=0;l<s;l++){const h=l*o;if(i===fE)break;let g=Number(i&f);if(i>>=u,g>o&&(g-=c,i+=kb),g===0)continue;let m=n[h+Math.abs(g)-1];g<0&&(m=m.negate()),a=a.add(m)}return a},getPrecomputes(r,n,i){let a=K_.get(n);return a||(a=this.precomputeWindow(n,r),r!==1&&K_.set(n,i(a))),a},wNAFCached(r,n,i){const a=Q_(r);return this.wNAF(a,this.getPrecomputes(a,r,i),n)},wNAFCachedUnsafe(r,n,i,a){const s=Q_(r);return s===1?this.unsafeLadder(r,n,a):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,a)},setWindowSize(r,n){GM(n,t),WM.set(r,n),K_.delete(r)}}}function AG(e,t,r,n){if(_G(r,e),mG(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=$M(BigInt(r.length)),s=a>12?a-3:a>4?a-2:a?2:1,o=(1<<s)-1,f=new Array(o+1).fill(i),c=Math.floor((t.BITS-1)/s)*s;let u=i;for(let l=c;l>=0;l-=s){f.fill(i);for(let g=0;g<n.length;g++){const m=n[g],A=Number(m>>BigInt(l)&BigInt(o));f[A]=f[A].add(r[g])}let h=i;for(let g=f.length-1,m=i;g>0;g--)m=m.add(f[g]),h=h.add(m);if(u=u.add(h),l!==0)for(let g=0;g<s;g++)u=u.double()}return u}function XM(e){return bG(e.Fp),P1(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KM(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cE(e){e.lowS!==void 0&&Td("lowS",e.lowS),e.prehash!==void 0&&Td("prehash",e.prehash)}function EG(e){const t=XM(e);P1(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:xG,hexToBytes:SG}=cG,so={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:r}=so;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=ml(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const a=n>127?ml(i.length/2|128):"";return ml(e)+a+i+t},decode(e,t){const{Err:r}=so;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],a=!!(i&128);let s=0;if(!a)s=i;else{const f=i&127;if(!f)throw new r("tlv.decode(long): indefinite length not supported");if(f>4)throw new r("tlv.decode(long): byte length is too big");const c=t.subarray(n,n+f);if(c.length!==f)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(n+=f,s<128)throw new r("tlv.decode(long): not minimal encoding")}const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=so;if(e<bo)throw new t("integer: negative integers are not allowed");let r=ml(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=so;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return xG(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=so,i=typeof e=="string"?SG(e):e;H1(i);const{v:a,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:f}=n.decode(2,a),{v:c,l:u}=n.decode(2,f);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(c)}},hexFromSig(e){const{_tlv:t,_int:r}=so,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),a=n+i;return t.encode(48,a)}},bo=BigInt(0),Or=BigInt(1);BigInt(2);const uE=BigInt(3);BigInt(4);function CG(e){const t=EG(e),{Fp:r}=t,n=QM(t.n,t.nBitLength),i=t.toBytes||((A,S,w)=>{const C=S.toAffine();return Au(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),a=t.fromBytes||(A=>{const S=A.subarray(1),w=r.fromBytes(S.subarray(0,r.BYTES)),C=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:w,y:C}});function s(A){const{a:S,b:w}=t,C=r.sqr(A),B=r.mul(C,A);return r.add(r.add(B,r.mul(A,S)),w)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return Dd(A,Or,t.n)}function f(A){const{allowedPrivateKeyLengths:S,nByteLength:w,wrapPrivateKey:C,n:B}=t;if(S&&typeof A!="bigint"){if(wu(A)&&(A=Bd(A)),typeof A!="string"||!S.includes(A.length))throw new Error("invalid private key");A=A.padStart(w*2,"0")}let M;try{M=typeof A=="bigint"?A:Oo(hn("private key",A,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof A)}return C&&(M=Vr(M,B)),Jf("private key",M,Or,B),M}function c(A){if(!(A instanceof h))throw new Error("ProjectivePoint expected")}const u=o6((A,S)=>{const{px:w,py:C,pz:B}=A;if(r.eql(B,r.ONE))return{x:w,y:C};const M=A.is0();S==null&&(S=M?r.ONE:r.inv(B));const N=r.mul(w,S),K=r.mul(C,S),Q=r.mul(B,S);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:N,y:K}}),l=o6(A=>{if(A.is0()){if(t.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=A.toAffine();if(!r.isValid(S)||!r.isValid(w))throw new Error("bad point: x or y not FE");const C=r.sqr(w),B=s(S);if(!r.eql(C,B))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(S,w,C){if(this.px=S,this.py=w,this.pz=C,S==null||!r.isValid(S))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(S){const{x:w,y:C}=S||{};if(!S||!r.isValid(w)||!r.isValid(C))throw new Error("invalid affine point");if(S instanceof h)throw new Error("projective point not allowed");const B=M=>r.eql(M,r.ZERO);return B(w)&&B(C)?h.ZERO:new h(w,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const w=r.invertBatch(S.map(C=>C.pz));return S.map((C,B)=>C.toAffine(w[B])).map(h.fromAffine)}static fromHex(S){const w=h.fromAffine(a(hn("pointHex",S)));return w.assertValidity(),w}static fromPrivateKey(S){return h.BASE.multiply(f(S))}static msm(S,w){return AG(h,n,S,w)}_setWindowSize(S){m.setWindowSize(this,S)}assertValidity(){l(this)}hasEvenY(){const{y:S}=this.toAffine();if(r.isOdd)return!r.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){c(S);const{px:w,py:C,pz:B}=this,{px:M,py:N,pz:K}=S,Q=r.eql(r.mul(w,K),r.mul(M,B)),j=r.eql(r.mul(C,K),r.mul(N,B));return Q&&j}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:S,b:w}=t,C=r.mul(w,uE),{px:B,py:M,pz:N}=this;let K=r.ZERO,Q=r.ZERO,j=r.ZERO,G=r.mul(B,B),W=r.mul(M,M),R=r.mul(N,N),_=r.mul(B,M);return _=r.add(_,_),j=r.mul(B,N),j=r.add(j,j),K=r.mul(S,j),Q=r.mul(C,R),Q=r.add(K,Q),K=r.sub(W,Q),Q=r.add(W,Q),Q=r.mul(K,Q),K=r.mul(_,K),j=r.mul(C,j),R=r.mul(S,R),_=r.sub(G,R),_=r.mul(S,_),_=r.add(_,j),j=r.add(G,G),G=r.add(j,G),G=r.add(G,R),G=r.mul(G,_),Q=r.add(Q,G),R=r.mul(M,N),R=r.add(R,R),G=r.mul(R,_),K=r.sub(K,G),j=r.mul(R,W),j=r.add(j,j),j=r.add(j,j),new h(K,Q,j)}add(S){c(S);const{px:w,py:C,pz:B}=this,{px:M,py:N,pz:K}=S;let Q=r.ZERO,j=r.ZERO,G=r.ZERO;const W=t.a,R=r.mul(t.b,uE);let _=r.mul(w,M),I=r.mul(C,N),b=r.mul(B,K),v=r.add(w,C),d=r.add(M,N);v=r.mul(v,d),d=r.add(_,I),v=r.sub(v,d),d=r.add(w,B);let y=r.add(M,K);return d=r.mul(d,y),y=r.add(_,b),d=r.sub(d,y),y=r.add(C,B),Q=r.add(N,K),y=r.mul(y,Q),Q=r.add(I,b),y=r.sub(y,Q),G=r.mul(W,d),Q=r.mul(R,b),G=r.add(Q,G),Q=r.sub(I,G),G=r.add(I,G),j=r.mul(Q,G),I=r.add(_,_),I=r.add(I,_),b=r.mul(W,b),d=r.mul(R,d),I=r.add(I,b),b=r.sub(_,b),b=r.mul(W,b),d=r.add(d,b),_=r.mul(I,d),j=r.add(j,_),_=r.mul(y,d),Q=r.mul(v,Q),Q=r.sub(Q,_),_=r.mul(v,I),G=r.mul(y,G),G=r.add(G,_),new h(Q,j,G)}subtract(S){return this.add(S.negate())}is0(){return this.equals(h.ZERO)}wNAF(S){return m.wNAFCached(this,S,h.normalizeZ)}multiplyUnsafe(S){const{endo:w,n:C}=t;Jf("scalar",S,bo,C);const B=h.ZERO;if(S===bo)return B;if(this.is0()||S===Or)return this;if(!w||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,S,h.normalizeZ);let{k1neg:M,k1:N,k2neg:K,k2:Q}=w.splitScalar(S),j=B,G=B,W=this;for(;N>bo||Q>bo;)N&Or&&(j=j.add(W)),Q&Or&&(G=G.add(W)),W=W.double(),N>>=Or,Q>>=Or;return M&&(j=j.negate()),K&&(G=G.negate()),G=new h(r.mul(G.px,w.beta),G.py,G.pz),j.add(G)}multiply(S){const{endo:w,n:C}=t;Jf("scalar",S,Or,C);let B,M;if(w){const{k1neg:N,k1:K,k2neg:Q,k2:j}=w.splitScalar(S);let{p:G,f:W}=this.wNAF(K),{p:R,f:_}=this.wNAF(j);G=m.constTimeNegate(N,G),R=m.constTimeNegate(Q,R),R=new h(r.mul(R.px,w.beta),R.py,R.pz),B=G.add(R),M=W.add(_)}else{const{p:N,f:K}=this.wNAF(S);B=N,M=K}return h.normalizeZ([B,M])[0]}multiplyAndAddUnsafe(S,w,C){const B=h.BASE,M=(K,Q)=>Q===bo||Q===Or||!K.equals(B)?K.multiplyUnsafe(Q):K.multiply(Q),N=M(this,w).add(M(S,C));return N.is0()?void 0:N}toAffine(S){return u(this,S)}isTorsionFree(){const{h:S,isTorsionFree:w}=t;if(S===Or)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:w}=t;return S===Or?this:w?w(h,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return Td("isCompressed",S),this.assertValidity(),i(h,this,S)}toHex(S=!0){return Td("isCompressed",S),Bd(this.toRawBytes(S))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const g=t.nBitLength,m=wG(h,t.endo?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:s,isWithinCurveOrder:o}}function IG(e){const t=XM(e);return P1(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function TG(e){const t=IG(e),{Fp:r,n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function s(b){return Vr(b,n)}function o(b){return c6(b,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:l}=CG({...t,toBytes(b,v,d){const y=v.toAffine(),x=r.toBytes(y.x),E=Au;return Td("isCompressed",d),d?E(Uint8Array.from([v.hasEvenY()?2:3]),x):E(Uint8Array.from([4]),x,r.toBytes(y.y))},fromBytes(b){const v=b.length,d=b[0],y=b.subarray(1);if(v===i&&(d===2||d===3)){const x=Oo(y);if(!Dd(x,Or,r.ORDER))throw new Error("Point is not on curve");const E=u(x);let p;try{p=r.sqrt(E)}catch(L){const k=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+k)}const T=(p&Or)===Or;return(d&1)===1!==T&&(p=r.neg(p)),{x,y:p}}else if(v===a&&d===4){const x=r.fromBytes(y.subarray(0,r.BYTES)),E=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x,y:E}}else{const x=i,E=a;throw new Error("invalid Point, expected length of "+x+", or uncompressed "+E+", got "+v)}}}),h=b=>Bd(cc(b,t.nByteLength));function g(b){const v=n>>Or;return b>v}function m(b){return g(b)?s(-b):b}const A=(b,v,d)=>Oo(b.slice(v,d));class S{constructor(v,d,y){this.r=v,this.s=d,this.recovery=y,this.assertValidity()}static fromCompact(v){const d=t.nByteLength;return v=hn("compactSignature",v,d*2),new S(A(v,0,d),A(v,d,2*d))}static fromDER(v){const{r:d,s:y}=so.toSig(hn("DER",v));return new S(d,y)}assertValidity(){Jf("r",this.r,Or,n),Jf("s",this.s,Or,n)}addRecoveryBit(v){return new S(this.r,this.s,v)}recoverPublicKey(v){const{r:d,s:y,recovery:x}=this,E=K(hn("msgHash",v));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const p=x===2||x===3?d+t.n:d;if(p>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=x&1?"03":"02",F=f.fromHex(T+h(p)),L=o(p),k=s(-E*L),$=s(y*L),H=f.BASE.multiplyAndAddUnsafe(F,k,$);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Od(this.toDERHex())}toDERHex(){return so.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Od(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(b){try{return c(b),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const b=VM(t.n);return vG(t.randomBytes(b),t.n)},precompute(b=8,v=f.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function C(b,v=!0){return f.fromPrivateKey(b).toRawBytes(v)}function B(b){const v=wu(b),d=typeof b=="string",y=(v||d)&&b.length;return v?y===i||y===a:d?y===2*i||y===2*a:b instanceof f}function M(b,v,d=!0){if(B(b))throw new Error("first arg must be private key");if(!B(v))throw new Error("second arg must be public key");return f.fromHex(v).multiply(c(b)).toRawBytes(d)}const N=t.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const v=Oo(b),d=b.length*8-t.nBitLength;return d>0?v>>BigInt(d):v},K=t.bits2int_modN||function(b){return s(N(b))},Q=R5(t.nBitLength);function j(b){return Jf("num < 2^"+t.nBitLength,b,bo,Q),cc(b,t.nByteLength)}function G(b,v,d=W){if(["recovered","canonical"].some(X=>X in d))throw new Error("sign() legacy options not supported");const{hash:y,randomBytes:x}=t;let{lowS:E,prehash:p,extraEntropy:T}=d;E==null&&(E=!0),b=hn("msgHash",b),cE(d),p&&(b=hn("prehashed msgHash",y(b)));const F=K(b),L=c(v),k=[j(L),j(F)];if(T!=null&&T!==!1){const X=T===!0?x(r.BYTES):T;k.push(hn("extraEntropy",X))}const $=Au(...k),H=F;function q(X){const et=N(X);if(!l(et))return;const rt=o(et),U=f.BASE.multiply(et).toAffine(),P=s(U.x);if(P===bo)return;const nt=s(rt*s(H+P*L));if(nt===bo)return;let ft=(U.x===P?0:2)|Number(U.y&Or),dt=nt;return E&&g(nt)&&(dt=m(nt),ft^=1),new S(P,dt,ft)}return{seed:$,k2sig:q}}const W={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function _(b,v,d=W){const{seed:y,k2sig:x}=G(b,v,d),E=t;return qM(E.hash.outputLen,E.nByteLength,E.hmac)(y,x)}f.BASE._setWindowSize(8);function I(b,v,d,y=R){var ft;const x=b;v=hn("msgHash",v),d=hn("publicKey",d);const{lowS:E,prehash:p,format:T}=y;if(cE(y),"strict"in y)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&T!=="compact"&&T!=="der")throw new Error("format must be compact or der");const F=typeof x=="string"||wu(x),L=!F&&!T&&typeof x=="object"&&x!==null&&typeof x.r=="bigint"&&typeof x.s=="bigint";if(!F&&!L)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let k,$;try{if(L&&(k=new S(x.r,x.s)),F){try{T!=="compact"&&(k=S.fromDER(x))}catch(dt){if(!(dt instanceof so.Err))throw dt}!k&&T!=="der"&&(k=S.fromCompact(x))}$=f.fromHex(d)}catch{return!1}if(!k||E&&k.hasHighS())return!1;p&&(v=t.hash(v));const{r:H,s:q}=k,X=K(v),et=o(q),rt=s(X*et),U=s(H*et),P=(ft=f.BASE.multiplyAndAddUnsafe($,rt,U))==null?void 0:ft.toAffine();return P?s(P.x)===H:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:M,sign:_,verify:I,ProjectivePoint:f,Signature:S,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BG(e){return{hash:e,hmac:(t,...r)=>FM(e,t,QV(...r)),randomBytes:zM}}function OG(e,t){const r=n=>TG({...e,...BG(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Lp=BigInt(1),yy=BigInt(2),lE=(e,t)=>(e+t/yy)/t;function ZM(e){const t=N1,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),f=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=qi(u,r,t)*u%t,h=qi(l,r,t)*u%t,g=qi(h,yy,t)*c%t,m=qi(g,i,t)*g%t,A=qi(m,a,t)*m%t,S=qi(A,o,t)*A%t,w=qi(S,f,t)*S%t,C=qi(w,o,t)*A%t,B=qi(C,r,t)*u%t,M=qi(B,s,t)*m%t,N=qi(M,n,t)*c%t,K=qi(N,yy,t);if(!u6.eql(u6.sqr(K),e))throw new Error("Cannot find square root");return K}const u6=QM(N1,void 0,void 0,{sqrt:ZM}),Eu=OG({a:BigInt(0),b:BigInt(7),Fp:u6,n:gy,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=gy,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Lp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=lE(a*e,t),f=lE(-n*e,t);let c=Vr(e-o*r-f*i,t),u=Vr(-o*n-f*a,t);const l=c>s,h=u>s;if(l&&(c=t-c),h&&(u=t-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:h,k2:u}}}},s6),JM=BigInt(0),dE={};function vy(e,...t){let r=dE[e];if(r===void 0){const n=s6(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Au(n,n),dE[e]=r}return s6(Au(r,...t))}const L5=e=>e.toRawBytes(!0).slice(1),l6=e=>cc(e,32),Y_=e=>Vr(e,N1),Hp=e=>Vr(e,gy),H5=Eu.ProjectivePoint,DG=(e,t,r)=>H5.BASE.multiplyAndAddUnsafe(e,t,r);function d6(e){let t=Eu.utils.normPrivateKeyToScalar(e),r=H5.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Hp(-t),bytes:L5(r)}}function tR(e){Jf("x",e,Lp,N1);const t=Y_(e*e),r=Y_(t*e+BigInt(7));let n=ZM(r);n%yy!==JM&&(n=Y_(-n));const i=new H5(e,n,Lp);return i.assertValidity(),i}const Ul=Oo;function eR(...e){return Hp(Ul(vy("BIP0340/challenge",...e)))}function MG(e){return d6(e).bytes}function RG(e,t,r=zM(32)){const n=hn("message",e),{bytes:i,scalar:a}=d6(t),s=hn("auxRand",r,32),o=l6(a^Ul(vy("BIP0340/aux",s))),f=vy("BIP0340/nonce",o,i,n),c=Hp(Ul(f));if(c===JM)throw new Error("sign failed: k is zero");const{bytes:u,scalar:l}=d6(c),h=eR(u,i,n),g=new Uint8Array(64);if(g.set(u,0),g.set(l6(Hp(l+h*a)),32),!rR(g,n,i))throw new Error("sign: Invalid signature produced");return g}function rR(e,t,r){const n=hn("signature",e,64),i=hn("message",t),a=hn("publicKey",r,32);try{const s=tR(Ul(a)),o=Ul(n.subarray(0,32));if(!Dd(o,Lp,N1))return!1;const f=Ul(n.subarray(32,64));if(!Dd(f,Lp,gy))return!1;const c=eR(l6(o),L5(s),i),u=DG(s,f,Hp(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==o)}catch{return!1}}const LG={getPublicKey:MG,sign:RG,verify:rR,utils:{randomPrivateKey:Eu.utils.randomPrivateKey,lift_x:tR,pointToBytes:L5,numberToBytesBE:cc,bytesToNumberBE:Oo,taggedHash:vy,mod:Vr}};function HG(e){const t=typeof e=="string"?e:vt(e),r=Tt(`Nervos Message:${t}`,"utf8");return M1(r)}function PG(e,t,r){const n=Tt(t);return Eu.verify(new Eu.Signature(St(n.slice(0,32)),St(n.slice(32,64))).addRecoveryBit(Number(St(n.slice(64,65)))),Tt(HG(e)),Tt(r))}function NG(e,t){let r,n,i,a="";for(r in e)if((i=e[r])!==void 0)if(Array.isArray(i))for(n=0;n<i.length;n++)a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i[n])}`;else a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;return""+a}function UG(e,t){function r(n){if(typeof n=="object"&&n!==null)try{return e(n)}catch{}else if(typeof n=="string"&&typeof t=="function")try{return t(n),e(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(a=>{const s=n[a];typeof s>"u"||s===void 0?delete n[a]:n[a]=r(s)});const i=NG(n).toString();return i?`?${i}`:""}}var kG=UG(JSON.stringify,JSON.parse);function _y(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),i=atob(n),a=new ArrayBuffer(i.length),s=new Uint8Array(a);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return a}function Kc(e){const t=new Uint8Array(e);let r="";for(let i=0;i<t.length;i++){const a=t[i];a!=null&&(r+=String.fromCharCode(a))}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function nR(e){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.substring(r,r+2),16);return t.buffer}function zG(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function jG(e,t){const r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function FG(e){return new TextEncoder().encode(e)}function $G(e){let t="";for(let r=0;r<e.length;r+=2)t+=String.fromCharCode(Number.parseInt(e.substr(r,2),16));return t}function iR(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone}var h6=(e=>(e[e.RS256=-257]="RS256",e[e.ES256=-7]="ES256",e))(h6||{}),Ls=(e=>(e.Auth="Auth",e.SignMessage="SignMessage",e.SignEvm="SignEvm",e.SignPsbt="SignPsbt",e.BatchSignPsbt="BatchSignPsbt",e.SignCkbTx="SignCkbTx",e.SignCotaNFT="SignCotaNFT",e.SignCkbRawTx="SignCkbRawTx",e.SignNostrEvent="SignNostrEvent",e.EncryptNostrMessage="EncryptNostrMessage",e.EvmWeb2Login="EvmWeb2Login",e.DecryptNostrMessage="DecryptNostrMessage",e.AuthMiniApp="AuthMiniApp",e.SignMiniAppMessage="SignMiniAppMessage",e.SignMiniAppEvm="SignMiniAppEvm",e))(Ls||{}),qG={joyidAppURL:"https://testnet.joyid.dev"},KG=()=>qG,P5=class aR extends Error{constructor(t,r){super(r),this.error=t,this.error_description=r,Object.setPrototypeOf(this,aR.prototype)}},QG=class sR extends P5{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,sR.prototype)}},YG=class oR extends QG{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,oR.prototype)}},fR=class cR extends P5{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,cR.prototype)}},VG=class extends P5{constructor(e){super("NotSupported","Popup window is blocked by browser. see: https://docs.joy.id/guide/best-practice#popup-window-blocked"),this.popup=e,Object.setPrototypeOf(this,fR.prototype)}},Do=(e,t,r)=>{const n=e.joyidAppURL??KG().joyidAppURL,i=new URL(`${n}`);i.pathname=r;let a=e.redirectURL;i.searchParams.set("type",t);const s=kG({...e,redirectURL:a});return i.searchParams.set("_data_",s),i.href},GG=(e="")=>{const n=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(e,"joyid:authorize:popup",`left=${n},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)},WG="joyid-block-dialog-style",N5="joyid-block-dialog-approve",U5="joyid-block-dialog-reject",XG=`
.joyid-block-dialog {
  position: fixed;
  top: 32px;
  left: 50%;
  width: 340px;
  margin-left: -170px;
  background: white;
  color: #333;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  height: 110px;
  z-index: 100002;
  box-sizing: border-box;
  border: 1px solid #ffffff;
  border-radius: 8px;
  padding: 16px 20px;
}
.joyid-block-dialog-bg {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  position: fixed;
  top: 0;
  left: 0;
  display: none;
  z-index: 100001;
  display: block;
}
.joyid-block-dialog-title {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 8px;
}
.joyid-block-dialog-tip {
  font-size: 12px;
  color: #777;
}
.joyid-block-dialog-btn {
  width: 90px;
  height: 35px;
  font-size: 12px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
}
.joyid-block-dialog-action {
  text-align: right;
}
#${N5} {
  border: 1px solid #333;
  color: #333;
  background: #D2FF00;
  margin-bottom: 8px;
}

#${U5} {
  background: transparent;
}
`,ZG=`
<div class="joyid-block-dialog">
  <div class="joyid-block-dialog-content">
    <div class="joyid-block-dialog-title">
      Request Pop-up
    </div>
    <div class="joyid-block-dialog-tip">
      Click Approve to complete creating or using wallet
    </div>
  </div>
  <div class="joyid-block-dialog-action">
    <button class="joyid-block-dialog-btn" id="${N5}">Approve</button>
    <button class="joyid-block-dialog-btn" id="${U5}">Reject</button>
  </div>
</div>
`,JG=()=>{if(document.getElementById(WG)!=null)return;const t=document.createElement("style");t.appendChild(document.createTextNode(XG)),(document.head??document.getElementsByTagName("head")[0]).appendChild(t)},tW=async e=>{JG();const t=document.createElement("div");t.innerHTML=ZG,document.body.appendChild(t);const r=document.createElement("div");r.className="joyid-block-dialog-bg",document.body.appendChild(r);const n=document.getElementById(N5),i=document.getElementById(U5),a=()=>{document.body.removeChild(t),document.body.removeChild(r)};return new Promise((s,o)=>{n==null||n.addEventListener("click",async()=>{try{const f=await e();a(),s(f)}catch(f){a(),o(f)}}),i==null||i.addEventListener("click",()=>{a(),o(new Error("User Rejected"))})})};class tt extends Array{constructor(t,r){if(t>tt.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(t),this.sign=r}static BigInt(t){var r=Math.floor,n=Number.isFinite;if(typeof t=="number"){if(t===0)return tt.__zero();if((0|t)===t)return 0>t?tt.__oneDigit(-t,!0):tt.__oneDigit(t,!1);if(!n(t)||r(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return tt.__fromDouble(t)}if(typeof t=="string"){const i=tt.__fromString(t);if(i===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return i}if(typeof t=="boolean")return t===!0?tt.__oneDigit(1,!1):tt.__zero();if(typeof t=="object"){if(t.constructor===tt)return t;const i=tt.__toPrimitive(t);return tt.BigInt(i)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const r of this)t.push((r&&(r>>>0).toString(16))+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":t&t-1?tt.__toStringGeneric(this,t,!1):tt.__toStringBasePowerOfTwo(this,t)}static toNumber(t){var r=Math.clz32;const n=t.length;if(n===0)return 0;if(n===1){const w=t.__unsignedDigit(0);return t.sign?-w:w}const i=t.__digit(n-1),a=r(i),s=32*n-a;if(1024<s)return t.sign?-1/0:1/0;let o=s-1,f=i,c=n-1;const u=a+1;let l=u===32?0:f<<u;l>>>=12;const h=u-12;let g=12<=u?0:f<<20+u,m=20+u;0<h&&0<c&&(c--,f=t.__digit(c),l|=f>>>32-h,g=f<<h,m=h),0<m&&0<c&&(c--,f=t.__digit(c),g|=f>>>32-m,m-=32);const A=tt.__decideRounding(t,m,c,f);if((A===1||A===0&&(1&g)==1)&&(g=g+1>>>0,g===0&&(l++,l>>>20!=0&&(l=0,o++,1023<o))))return t.sign?-1/0:1/0;const S=t.sign?-2147483648:0;return o=o+1023<<20,tt.__kBitConversionInts[1]=S|o|l,tt.__kBitConversionInts[0]=g,tt.__kBitConversionDouble[0]}static unaryMinus(t){if(t.length===0)return t;const r=t.__copy();return r.sign=!t.sign,r}static bitwiseNot(t){return t.sign?tt.__absoluteSubOne(t).__trim():tt.__absoluteAddOne(t,!0)}static exponentiate(t,r){if(r.sign)throw new RangeError("Exponent must be positive");if(r.length===0)return tt.__oneDigit(1,!1);if(t.length===0)return t;if(t.length===1&&t.__digit(0)===1)return t.sign&&!(1&r.__digit(0))?tt.unaryMinus(t):t;if(1<r.length)throw new RangeError("BigInt too big");let n=r.__unsignedDigit(0);if(n===1)return t;if(n>=tt.__kMaxLengthBits)throw new RangeError("BigInt too big");if(t.length===1&&t.__digit(0)===2){const s=1+(n>>>5),o=t.sign&&(1&n)!=0,f=new tt(s,o);f.__initializeDigits();const c=1<<(31&n);return f.__setDigit(s-1,c),f}let i=null,a=t;for(1&n&&(i=t),n>>=1;n!==0;n>>=1)a=tt.multiply(a,a),1&n&&(i===null?i=a:i=tt.multiply(i,a));return i}static multiply(t,r){if(t.length===0)return t;if(r.length===0)return r;let n=t.length+r.length;32<=t.__clzmsd()+r.__clzmsd()&&n--;const i=new tt(n,t.sign!==r.sign);i.__initializeDigits();for(let a=0;a<t.length;a++)tt.__multiplyAccumulate(r,t.__digit(a),i,a);return i.__trim()}static divide(t,r){if(r.length===0)throw new RangeError("Division by zero");if(0>tt.__absoluteCompare(t,r))return tt.__zero();const n=t.sign!==r.sign,i=r.__unsignedDigit(0);let a;if(r.length===1&&65535>=i){if(i===1)return n===t.sign?t:tt.unaryMinus(t);a=tt.__absoluteDivSmall(t,i,null)}else a=tt.__absoluteDivLarge(t,r,!0,!1);return a.sign=n,a.__trim()}static remainder(t,r){if(r.length===0)throw new RangeError("Division by zero");if(0>tt.__absoluteCompare(t,r))return t;const n=r.__unsignedDigit(0);if(r.length===1&&65535>=n){if(n===1)return tt.__zero();const a=tt.__absoluteModSmall(t,n);return a===0?tt.__zero():tt.__oneDigit(a,t.sign)}const i=tt.__absoluteDivLarge(t,r,!1,!0);return i.sign=t.sign,i.__trim()}static add(t,r){const n=t.sign;return n===r.sign?tt.__absoluteAdd(t,r,n):0<=tt.__absoluteCompare(t,r)?tt.__absoluteSub(t,r,n):tt.__absoluteSub(r,t,!n)}static subtract(t,r){const n=t.sign;return n===r.sign?0<=tt.__absoluteCompare(t,r)?tt.__absoluteSub(t,r,n):tt.__absoluteSub(r,t,!n):tt.__absoluteAdd(t,r,n)}static leftShift(t,r){return r.length===0||t.length===0?t:r.sign?tt.__rightShiftByAbsolute(t,r):tt.__leftShiftByAbsolute(t,r)}static signedRightShift(t,r){return r.length===0||t.length===0?t:r.sign?tt.__leftShiftByAbsolute(t,r):tt.__rightShiftByAbsolute(t,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,r){return 0>tt.__compareToBigInt(t,r)}static lessThanOrEqual(t,r){return 0>=tt.__compareToBigInt(t,r)}static greaterThan(t,r){return 0<tt.__compareToBigInt(t,r)}static greaterThanOrEqual(t,r){return 0<=tt.__compareToBigInt(t,r)}static equal(t,r){if(t.sign!==r.sign||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t.__digit(n)!==r.__digit(n))return!1;return!0}static notEqual(t,r){return!tt.equal(t,r)}static bitwiseAnd(t,r){var n=Math.max;if(!t.sign&&!r.sign)return tt.__absoluteAnd(t,r).__trim();if(t.sign&&r.sign){const i=n(t.length,r.length)+1;let a=tt.__absoluteSubOne(t,i);const s=tt.__absoluteSubOne(r);return a=tt.__absoluteOr(a,s,a),tt.__absoluteAddOne(a,!0,a).__trim()}return t.sign&&([t,r]=[r,t]),tt.__absoluteAndNot(t,tt.__absoluteSubOne(r)).__trim()}static bitwiseXor(t,r){var n=Math.max;if(!t.sign&&!r.sign)return tt.__absoluteXor(t,r).__trim();if(t.sign&&r.sign){const s=n(t.length,r.length),o=tt.__absoluteSubOne(t,s),f=tt.__absoluteSubOne(r);return tt.__absoluteXor(o,f,o).__trim()}const i=n(t.length,r.length)+1;t.sign&&([t,r]=[r,t]);let a=tt.__absoluteSubOne(r,i);return a=tt.__absoluteXor(a,t,a),tt.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(t,r){var n=Math.max;const i=n(t.length,r.length);if(!t.sign&&!r.sign)return tt.__absoluteOr(t,r).__trim();if(t.sign&&r.sign){let s=tt.__absoluteSubOne(t,i);const o=tt.__absoluteSubOne(r);return s=tt.__absoluteAnd(s,o,s),tt.__absoluteAddOne(s,!0,s).__trim()}t.sign&&([t,r]=[r,t]);let a=tt.__absoluteSubOne(r,i);return a=tt.__absoluteAndNot(a,t,a),tt.__absoluteAddOne(a,!0,a).__trim()}static asIntN(t,r){if(r.length===0)return r;if(t===0)return tt.__zero();if(t>=tt.__kMaxLengthBits)return r;const n=t+31>>>5;if(r.length<n)return r;const i=r.__unsignedDigit(n-1),a=1<<(31&t-1);if(r.length===n&&i<a)return r;if((i&a)!==a)return tt.__truncateToNBits(t,r);if(!r.sign)return tt.__truncateAndSubFromPowerOfTwo(t,r,!0);if(!(i&a-1)){for(let s=n-2;0<=s;s--)if(r.__digit(s)!==0)return tt.__truncateAndSubFromPowerOfTwo(t,r,!1);return r.length===n&&i===a?r:tt.__truncateToNBits(t,r)}return tt.__truncateAndSubFromPowerOfTwo(t,r,!1)}static asUintN(t,r){if(r.length===0)return r;if(t===0)return tt.__zero();if(r.sign){if(t>tt.__kMaxLengthBits)throw new RangeError("BigInt too big");return tt.__truncateAndSubFromPowerOfTwo(t,r,!1)}if(t>=tt.__kMaxLengthBits)return r;const n=t+31>>>5;if(r.length<n)return r;const i=31&t;return r.length==n&&(i===0||!(r.__digit(n-1)>>>i))?r:tt.__truncateToNBits(t,r)}static ADD(t,r){if(t=tt.__toPrimitive(t),r=tt.__toPrimitive(r),typeof t=="string")return typeof r!="string"&&(r=r.toString()),t+r;if(typeof r=="string")return t.toString()+r;if(t=tt.__toNumeric(t),r=tt.__toNumeric(r),tt.__isBigInt(t)&&tt.__isBigInt(r))return tt.add(t,r);if(typeof t=="number"&&typeof r=="number")return t+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,r){return tt.__compare(t,r,0)}static LE(t,r){return tt.__compare(t,r,1)}static GT(t,r){return tt.__compare(t,r,2)}static GE(t,r){return tt.__compare(t,r,3)}static EQ(t,r){for(;;){if(tt.__isBigInt(t))return tt.__isBigInt(r)?tt.equal(t,r):tt.EQ(r,t);if(typeof t=="number"){if(tt.__isBigInt(r))return tt.__equalToNumber(r,t);if(typeof r!="object")return t==r;r=tt.__toPrimitive(r)}else if(typeof t=="string"){if(tt.__isBigInt(r))return t=tt.__fromString(t),t!==null&&tt.equal(t,r);if(typeof r!="object")return t==r;r=tt.__toPrimitive(r)}else if(typeof t=="boolean"){if(tt.__isBigInt(r))return tt.__equalToNumber(r,+t);if(typeof r!="object")return t==r;r=tt.__toPrimitive(r)}else if(typeof t=="symbol"){if(tt.__isBigInt(r))return!1;if(typeof r!="object")return t==r;r=tt.__toPrimitive(r)}else if(typeof t=="object"){if(typeof r=="object"&&r.constructor!==tt)return t==r;t=tt.__toPrimitive(t)}else return t==r}}static NE(t,r){return!tt.EQ(t,r)}static __zero(){return new tt(0,!1)}static __oneDigit(t,r){const n=new tt(1,r);return n.__setDigit(0,t),n}__copy(){const t=new tt(this.length,this.sign);for(let r=0;r<this.length;r++)t[r]=this[r];return t}__trim(){let t=this.length,r=this[t-1];for(;r===0;)t--,r=this[t-1],this.pop();return t===0&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,r,n,i){if(0<r)return-1;let a;if(0>r)a=-r-1;else{if(n===0)return-1;n--,i=t.__digit(n),a=31}let s=1<<a;if(!(i&s))return-1;if(s-=1,(i&s)!=0)return 1;for(;0<n;)if(n--,t.__digit(n)!==0)return 1;return 0}static __fromDouble(t){tt.__kBitConversionDouble[0]=t;const r=2047&tt.__kBitConversionInts[1]>>>20,n=r-1023,i=(n>>>5)+1,a=new tt(i,0>t);let s=1048575&tt.__kBitConversionInts[1]|1048576,o=tt.__kBitConversionInts[0];const f=20,c=31&n;let u,l=0;if(c<20){const h=f-c;l=h+32,u=s>>>h,s=s<<32-h|o>>>h,o<<=32-h}else if(c===20)l=32,u=s,s=o;else{const h=c-f;l=32-h,u=s<<h|o>>>32-h,s=o<<h}a.__setDigit(i-1,u);for(let h=i-2;0<=h;h--)0<l?(l-=32,u=s,s=o):u=0,a.__setDigit(h,u);return a.__trim()}static __isWhitespace(t){return 13>=t&&9<=t||(159>=t?t==32:131071>=t?t==160||t==5760:196607>=t?(t&=131071,10>=t||t==40||t==41||t==47||t==95||t==4096):t==65279)}static __fromString(t,r=0){let n=0;const i=t.length;let a=0;if(a===i)return tt.__zero();let s=t.charCodeAt(a);for(;tt.__isWhitespace(s);){if(++a===i)return tt.__zero();s=t.charCodeAt(a)}if(s===43){if(++a===i)return null;s=t.charCodeAt(a),n=1}else if(s===45){if(++a===i)return null;s=t.charCodeAt(a),n=-1}if(r===0){if(r=10,s===48){if(++a===i)return tt.__zero();if(s=t.charCodeAt(a),s===88||s===120){if(r=16,++a===i)return null;s=t.charCodeAt(a)}else if(s===79||s===111){if(r=8,++a===i)return null;s=t.charCodeAt(a)}else if(s===66||s===98){if(r=2,++a===i)return null;s=t.charCodeAt(a)}}}else if(r===16&&s===48){if(++a===i)return tt.__zero();if(s=t.charCodeAt(a),s===88||s===120){if(++a===i)return null;s=t.charCodeAt(a)}}for(;s===48;){if(++a===i)return tt.__zero();s=t.charCodeAt(a)}const o=i-a;let f=tt.__kMaxBitsPerChar[r],c=tt.__kBitsPerCharTableMultiplier-1;if(o>1073741824/f)return null;const u=f*o+c>>>tt.__kBitsPerCharTableShift,l=new tt(u+31>>>5,!1),h=10>r?r:10,g=10<r?r-10:0;if(r&r-1){l.__initializeDigits();let m=!1,A=0;do{let S=0,w=1;for(;;){let B;if(s-48>>>0<h)B=s-48;else if((32|s)-97>>>0<g)B=(32|s)-87;else{m=!0;break}const M=w*r;if(4294967295<M)break;if(w=M,S=S*r+B,A++,++a===i){m=!0;break}s=t.charCodeAt(a)}c=32*tt.__kBitsPerCharTableMultiplier-1;const C=f*A+c>>>tt.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(w,S,C)}while(!m)}else{f>>=tt.__kBitsPerCharTableShift;const m=[],A=[];let S=!1;do{let w=0,C=0;for(;;){let B;if(s-48>>>0<h)B=s-48;else if((32|s)-97>>>0<g)B=(32|s)-87;else{S=!0;break}if(C+=f,w=w<<f|B,++a===i){S=!0;break}if(s=t.charCodeAt(a),32<C+f)break}m.push(w),A.push(C)}while(!S);tt.__fillFromParts(l,m,A)}if(a!==i){if(!tt.__isWhitespace(s))return null;for(a++;a<i;a++)if(s=t.charCodeAt(a),!tt.__isWhitespace(s))return null}return n!=0&&r!==10?null:(l.sign=n==-1,l.__trim())}static __fillFromParts(t,r,n){let i=0,a=0,s=0;for(let o=r.length-1;0<=o;o--){const f=r[o],c=n[o];a|=f<<s,s+=c,s===32?(t.__setDigit(i++,a),s=0,a=0):32<s&&(t.__setDigit(i++,a),s-=32,a=f>>>c-s)}if(a!==0){if(i>=t.length)throw new Error("implementation bug");t.__setDigit(i++,a)}for(;i<t.length;i++)t.__setDigit(i,0)}static __toStringBasePowerOfTwo(t,r){var n=Math.clz32;const i=t.length;let a=r-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const s=a,o=r-1,f=t.__digit(i-1),c=n(f);let u=0|(32*i-c+s-1)/s;if(t.sign&&u++,268435456<u)throw new Error("string too long");const l=Array(u);let h=u-1,g=0,m=0;for(let S=0;S<i-1;S++){const w=t.__digit(S),C=(g|w<<m)&o;l[h--]=tt.__kConversionChars[C];const B=s-m;for(g=w>>>B,m=32-B;m>=s;)l[h--]=tt.__kConversionChars[g&o],g>>>=s,m-=s}const A=(g|f<<m)&o;for(l[h--]=tt.__kConversionChars[A],g=f>>>s-m;g!==0;)l[h--]=tt.__kConversionChars[g&o],g>>>=s;if(t.sign&&(l[h--]="-"),h!=-1)throw new Error("implementation bug");return l.join("")}static __toStringGeneric(t,r,n){var i=Math.clz32;const a=t.length;if(a===0)return"";if(a===1){let S=t.__unsignedDigit(0).toString(r);return n===!1&&t.sign&&(S="-"+S),S}const s=32*a-i(t.__digit(a-1)),o=tt.__kMaxBitsPerChar[r],f=o-1;let c=s*tt.__kBitsPerCharTableMultiplier;c+=f-1,c=0|c/f;const u=c+1>>1,l=tt.exponentiate(tt.__oneDigit(r,!1),tt.__oneDigit(u,!1));let h,g;const m=l.__unsignedDigit(0);if(l.length===1&&65535>=m){h=new tt(t.length,!1),h.__initializeDigits();let S=0;for(let w=2*t.length-1;0<=w;w--){const C=S<<16|t.__halfDigit(w);h.__setHalfDigit(w,0|C/m),S=0|C%m}g=S.toString(r)}else{const S=tt.__absoluteDivLarge(t,l,!0,!0);h=S.quotient;const w=S.remainder.__trim();g=tt.__toStringGeneric(w,r,!0)}h.__trim();let A=tt.__toStringGeneric(h,r,!0);for(;g.length<u;)g="0"+g;return n===!1&&t.sign&&(A="-"+A),A+g}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,r){const n=t.sign;if(n!==r.sign)return tt.__unequalSign(n);const i=tt.__absoluteCompare(t,r);return 0<i?tt.__absoluteGreater(n):0>i?tt.__absoluteLess(n):0}static __compareToNumber(t,r){if(r|!0){const n=t.sign,i=0>r;if(n!==i)return tt.__unequalSign(n);if(t.length===0){if(i)throw new Error("implementation bug");return r===0?0:-1}if(1<t.length)return tt.__absoluteGreater(n);const a=Math.abs(r),s=t.__unsignedDigit(0);return s>a?tt.__absoluteGreater(n):s<a?tt.__absoluteLess(n):0}return tt.__compareToDouble(t,r)}static __compareToDouble(t,r){var n=Math.clz32;if(r!==r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const i=t.sign;if(i!==0>r)return tt.__unequalSign(i);if(r===0)throw new Error("implementation bug: should be handled elsewhere");if(t.length===0)return-1;tt.__kBitConversionDouble[0]=r;const a=2047&tt.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const s=a-1023;if(0>s)return tt.__absoluteGreater(i);const o=t.length;let f=t.__digit(o-1);const c=n(f),u=32*o-c,l=s+1;if(u<l)return tt.__absoluteLess(i);if(u>l)return tt.__absoluteGreater(i);let h=1048576|1048575&tt.__kBitConversionInts[1],g=tt.__kBitConversionInts[0];const m=20,A=31-c;if(A!==(u-1)%31)throw new Error("implementation bug");let S,w=0;if(20>A){const C=m-A;w=C+32,S=h>>>C,h=h<<32-C|g>>>C,g<<=32-C}else if(A===20)w=32,S=h,h=g;else{const C=A-m;w=32-C,S=h<<C|g>>>32-C,h=g<<C}if(f>>>=0,S>>>=0,f>S)return tt.__absoluteGreater(i);if(f<S)return tt.__absoluteLess(i);for(let C=o-2;0<=C;C--){0<w?(w-=32,S=h>>>0,h=g,g=0):S=0;const B=t.__unsignedDigit(C);if(B>S)return tt.__absoluteGreater(i);if(B<S)return tt.__absoluteLess(i)}if(h!==0||g!==0){if(w===0)throw new Error("implementation bug");return tt.__absoluteLess(i)}return 0}static __equalToNumber(t,r){var n=Math.abs;return r|r===0?r===0?t.length===0:t.length===1&&t.sign===0>r&&t.__unsignedDigit(0)===n(r):tt.__compareToDouble(t,r)===0}static __comparisonResultToBool(t,r){switch(r){case 0:return 0>t;case 1:return 0>=t;case 2:return 0<t;case 3:return 0<=t}throw new Error("unreachable")}static __compare(t,r,n){if(t=tt.__toPrimitive(t),r=tt.__toPrimitive(r),typeof t=="string"&&typeof r=="string")switch(n){case 0:return t<r;case 1:return t<=r;case 2:return t>r;case 3:return t>=r}if(tt.__isBigInt(t)&&typeof r=="string")return r=tt.__fromString(r),r!==null&&tt.__comparisonResultToBool(tt.__compareToBigInt(t,r),n);if(typeof t=="string"&&tt.__isBigInt(r))return t=tt.__fromString(t),t!==null&&tt.__comparisonResultToBool(tt.__compareToBigInt(t,r),n);if(t=tt.__toNumeric(t),r=tt.__toNumeric(r),tt.__isBigInt(t)){if(tt.__isBigInt(r))return tt.__comparisonResultToBool(tt.__compareToBigInt(t,r),n);if(typeof r!="number")throw new Error("implementation bug");return tt.__comparisonResultToBool(tt.__compareToNumber(t,r),n)}if(typeof t!="number")throw new Error("implementation bug");if(tt.__isBigInt(r))return tt.__comparisonResultToBool(tt.__compareToNumber(r,t),2^n);if(typeof r!="number")throw new Error("implementation bug");return n===0?t<r:n===1?t<=r:n===2?t>r:n===3?t>=r:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(t,r,n){if(t.length<r.length)return tt.__absoluteAdd(r,t,n);if(t.length===0)return t;if(r.length===0)return t.sign===n?t:tt.unaryMinus(t);let i=t.length;(t.__clzmsd()===0||r.length===t.length&&r.__clzmsd()===0)&&i++;const a=new tt(i,n);let s=0,o=0;for(;o<r.length;o++){const f=r.__digit(o),c=t.__digit(o),u=(65535&c)+(65535&f)+s,l=(c>>>16)+(f>>>16)+(u>>>16);s=l>>>16,a.__setDigit(o,65535&u|l<<16)}for(;o<t.length;o++){const f=t.__digit(o),c=(65535&f)+s,u=(f>>>16)+(c>>>16);s=u>>>16,a.__setDigit(o,65535&c|u<<16)}return o<a.length&&a.__setDigit(o,s),a.__trim()}static __absoluteSub(t,r,n){if(t.length===0)return t;if(r.length===0)return t.sign===n?t:tt.unaryMinus(t);const i=new tt(t.length,n);let a=0,s=0;for(;s<r.length;s++){const o=t.__digit(s),f=r.__digit(s),c=(65535&o)-(65535&f)-a;a=1&c>>>16;const u=(o>>>16)-(f>>>16)-a;a=1&u>>>16,i.__setDigit(s,65535&c|u<<16)}for(;s<t.length;s++){const o=t.__digit(s),f=(65535&o)-a;a=1&f>>>16;const c=(o>>>16)-a;a=1&c>>>16,i.__setDigit(s,65535&f|c<<16)}return i.__trim()}static __absoluteAddOne(t,r,n=null){const i=t.length;n===null?n=new tt(i,r):n.sign=r;let a=!0;for(let s,o=0;o<i;o++){if(s=t.__digit(o),a){const f=s===-1;s=0|s+1,a=f}n.__setDigit(o,s)}return a&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(t,r){const n=t.length;r=r||n;const i=new tt(r,!1);let a=!0;for(let s,o=0;o<n;o++){if(s=t.__digit(o),a){const f=s===0;s=0|s-1,a=f}i.__setDigit(o,s)}if(a)throw new Error("implementation bug");for(let s=n;s<r;s++)i.__setDigit(s,0);return i}static __absoluteAnd(t,r,n=null){let i=t.length,a=r.length,s=a;if(i<a){s=i;const c=t,u=i;t=r,i=a,r=c,a=u}let o=s;n===null?n=new tt(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,t.__digit(f)&r.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteAndNot(t,r,n=null){const i=t.length,a=r.length;let s=a;i<a&&(s=i);let o=i;n===null?n=new tt(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,t.__digit(f)&~r.__digit(f));for(;f<i;f++)n.__setDigit(f,t.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteOr(t,r,n=null){let i=t.length,a=r.length,s=a;if(i<a){s=i;const c=t,u=i;t=r,i=a,r=c,a=u}let o=i;n===null?n=new tt(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,t.__digit(f)|r.__digit(f));for(;f<i;f++)n.__setDigit(f,t.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteXor(t,r,n=null){let i=t.length,a=r.length,s=a;if(i<a){s=i;const c=t,u=i;t=r,i=a,r=c,a=u}let o=i;n===null?n=new tt(o,!1):o=n.length;let f=0;for(;f<s;f++)n.__setDigit(f,t.__digit(f)^r.__digit(f));for(;f<i;f++)n.__setDigit(f,t.__digit(f));for(;f<o;f++)n.__setDigit(f,0);return n}static __absoluteCompare(t,r){const n=t.length-r.length;if(n!=0)return n;let i=t.length-1;for(;0<=i&&t.__digit(i)===r.__digit(i);)i--;return 0>i?0:t.__unsignedDigit(i)>r.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(t,r,n,i){var a=Math.imul;if(r===0)return;const s=65535&r,o=r>>>16;let f=0,c=0,u=0;for(let l=0;l<t.length;l++,i++){let h=n.__digit(i),g=65535&h,m=h>>>16;const A=t.__digit(l),S=65535&A,w=A>>>16,C=a(S,s),B=a(S,o),M=a(w,s),N=a(w,o);g+=c+(65535&C),m+=u+f+(g>>>16)+(C>>>16)+(65535&B)+(65535&M),f=m>>>16,c=(B>>>16)+(M>>>16)+(65535&N)+f,f=c>>>16,c&=65535,u=N>>>16,h=65535&g|m<<16,n.__setDigit(i,h)}for(;f!=0||c!==0||u!==0;i++){let l=n.__digit(i);const h=(65535&l)+c,g=(l>>>16)+(h>>>16)+u+f;c=0,u=0,f=g>>>16,l=65535&h|g<<16,n.__setDigit(i,l)}}static __internalMultiplyAdd(t,r,n,i,a){var s=Math.imul;let o=n,f=0;for(let c=0;c<i;c++){const u=t.__digit(c),l=s(65535&u,r),h=(65535&l)+f+o;o=h>>>16;const g=s(u>>>16,r),m=(65535&g)+(l>>>16)+o;o=m>>>16,f=g>>>16,a.__setDigit(c,m<<16|65535&h)}if(a.length>i)for(a.__setDigit(i++,o+f);i<a.length;)a.__setDigit(i++,0);else if(o+f!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,r,n){var i=Math.imul;n>this.length&&(n=this.length);const a=65535&t,s=t>>>16;let o=0,f=65535&r,c=r>>>16;for(let u=0;u<n;u++){const l=this.__digit(u),h=65535&l,g=l>>>16,m=i(h,a),A=i(h,s),S=i(g,a),w=i(g,s),C=f+(65535&m),B=c+o+(C>>>16)+(m>>>16)+(65535&A)+(65535&S);f=(A>>>16)+(S>>>16)+(65535&w)+(B>>>16),o=f>>>16,f&=65535,c=w>>>16,this.__setDigit(u,65535&C|B<<16)}if(o!=0||f!==0||c!==0)throw new Error("implementation bug")}static __absoluteDivSmall(t,r,n){n===null&&(n=new tt(t.length,!1));let i=0;for(let a,s=2*t.length-1;0<=s;s-=2){a=(i<<16|t.__halfDigit(s))>>>0;const o=0|a/r;i=0|a%r,a=(i<<16|t.__halfDigit(s-1))>>>0;const f=0|a/r;i=0|a%r,n.__setDigit(s>>>1,o<<16|f)}return n}static __absoluteModSmall(t,r){let n=0;for(let i=2*t.length-1;0<=i;i--)n=0|((n<<16|t.__halfDigit(i))>>>0)%r;return n}static __absoluteDivLarge(t,r,n,i){var a=Math.imul;const s=r.__halfDigitLength(),o=r.length,f=t.__halfDigitLength()-s;let c=null;n&&(c=new tt(f+2>>>1,!1),c.__initializeDigits());const u=new tt(s+2>>>1,!1);u.__initializeDigits();const l=tt.__clz16(r.__halfDigit(s-1));0<l&&(r=tt.__specialLeftShift(r,l,0));const h=tt.__specialLeftShift(t,l,1),g=r.__halfDigit(s-1);let m=0;for(let A,S=f;0<=S;S--){A=65535;const w=h.__halfDigit(S+s);if(w!==g){const B=(w<<16|h.__halfDigit(S+s-1))>>>0;A=0|B/g;let M=0|B%g;const N=r.__halfDigit(s-2),K=h.__halfDigit(S+s-2);for(;a(A,N)>>>0>(M<<16|K)>>>0&&(A--,M+=g,!(65535<M)););}tt.__internalMultiplyAdd(r,A,0,o,u);let C=h.__inplaceSub(u,S,s+1);C!==0&&(C=h.__inplaceAdd(r,S,s),h.__setHalfDigit(S+s,h.__halfDigit(S+s)+C),A--),n&&(1&S?m=A<<16:c.__setDigit(S>>>1,m|A))}return i?(h.__inplaceRightShift(l),n?{quotient:c,remainder:h}:h):n?c:void 0}static __clz16(t){return Math.clz32(t)-16}__inplaceAdd(t,r,n){let i=0;for(let a=0;a<n;a++){const s=this.__halfDigit(r+a)+t.__halfDigit(a)+i;i=s>>>16,this.__setHalfDigit(r+a,s)}return i}__inplaceSub(t,r,n){let i=0;if(1&r){r>>=1;let a=this.__digit(r),s=65535&a,o=0;for(;o<n-1>>>1;o++){const u=t.__digit(o),l=(a>>>16)-(65535&u)-i;i=1&l>>>16,this.__setDigit(r+o,l<<16|65535&s),a=this.__digit(r+o+1),s=(65535&a)-(u>>>16)-i,i=1&s>>>16}const f=t.__digit(o),c=(a>>>16)-(65535&f)-i;if(i=1&c>>>16,this.__setDigit(r+o,c<<16|65535&s),r+o+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(a=this.__digit(r+o+1),s=(65535&a)-(f>>>16)-i,i=1&s>>>16,this.__setDigit(r+t.length,4294901760&a|65535&s))}else{r>>=1;let a=0;for(;a<t.length-1;a++){const u=this.__digit(r+a),l=t.__digit(a),h=(65535&u)-(65535&l)-i;i=1&h>>>16;const g=(u>>>16)-(l>>>16)-i;i=1&g>>>16,this.__setDigit(r+a,g<<16|65535&h)}const s=this.__digit(r+a),o=t.__digit(a),f=(65535&s)-(65535&o)-i;i=1&f>>>16;let c=0;!(1&n)&&(c=(s>>>16)-(o>>>16)-i,i=1&c>>>16),this.__setDigit(r+a,c<<16|65535&f)}return i}__inplaceRightShift(t){if(t===0)return;let r=this.__digit(0)>>>t;const n=this.length-1;for(let i=0;i<n;i++){const a=this.__digit(i+1);this.__setDigit(i,a<<32-t|r),r=a>>>t}this.__setDigit(n,r)}static __specialLeftShift(t,r,n){const i=t.length,a=new tt(i+n,!1);if(r===0){for(let o=0;o<i;o++)a.__setDigit(o,t.__digit(o));return 0<n&&a.__setDigit(i,0),a}let s=0;for(let o=0;o<i;o++){const f=t.__digit(o);a.__setDigit(o,f<<r|s),s=f>>>32-r}return 0<n&&a.__setDigit(i,s),a}static __leftShiftByAbsolute(t,r){const n=tt.__toShiftAmount(r);if(0>n)throw new RangeError("BigInt too big");const i=n>>>5,a=31&n,s=t.length,o=a!==0&&t.__digit(s-1)>>>32-a!=0,f=s+i+(o?1:0),c=new tt(f,t.sign);if(a===0){let u=0;for(;u<i;u++)c.__setDigit(u,0);for(;u<f;u++)c.__setDigit(u,t.__digit(u-i))}else{let u=0;for(let l=0;l<i;l++)c.__setDigit(l,0);for(let l=0;l<s;l++){const h=t.__digit(l);c.__setDigit(l+i,h<<a|u),u=h>>>32-a}if(o)c.__setDigit(s+i,u);else if(u!==0)throw new Error("implementation bug")}return c.__trim()}static __rightShiftByAbsolute(t,r){const n=t.length,i=t.sign,a=tt.__toShiftAmount(r);if(0>a)return tt.__rightShiftByMaximum(i);const s=a>>>5,o=31&a;let f=n-s;if(0>=f)return tt.__rightShiftByMaximum(i);let c=!1;if(i){if(t.__digit(s)&(1<<o)-1)c=!0;else for(let l=0;l<s;l++)if(t.__digit(l)!==0){c=!0;break}}c&&o===0&&!~t.__digit(n-1)&&f++;let u=new tt(f,i);if(o===0)for(let l=s;l<n;l++)u.__setDigit(l-s,t.__digit(l));else{let l=t.__digit(s)>>>o;const h=n-s-1;for(let g=0;g<h;g++){const m=t.__digit(g+s+1);u.__setDigit(g,m<<32-o|l),l=m>>>o}u.__setDigit(h,l)}return c&&(u=tt.__absoluteAddOne(u,!0,u)),u.__trim()}static __rightShiftByMaximum(t){return t?tt.__oneDigit(1,!0):tt.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const r=t.__unsignedDigit(0);return r>tt.__kMaxLengthBits?-1:r}static __toPrimitive(t,r="default"){if(typeof t!="object"||t.constructor===tt)return t;const n=t[Symbol.toPrimitive];if(n){const s=n(r);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}const i=t.valueOf;if(i){const s=i.call(t);if(typeof s!="object")return s}const a=t.toString;if(a){const s=a.call(t);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return tt.__isBigInt(t)?t:+t}static __isBigInt(t){return typeof t=="object"&&t.constructor===tt}static __truncateToNBits(t,r){const n=t+31>>>5,i=new tt(n,r.sign),a=n-1;for(let o=0;o<a;o++)i.__setDigit(o,r.__digit(o));let s=r.__digit(a);if(31&t){const o=32-(31&t);s=s<<o>>>o}return i.__setDigit(a,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(t,r,n){var i=Math.min;const a=t+31>>>5,s=new tt(a,n);let o=0;const f=a-1;let c=0;for(const g=i(f,r.length);o<g;o++){const m=r.__digit(o),A=0-(65535&m)-c;c=1&A>>>16;const S=0-(m>>>16)-c;c=1&S>>>16,s.__setDigit(o,65535&A|S<<16)}for(;o<f;o++)s.__setDigit(o,0|-c);let u=f<r.length?r.__digit(f):0;const l=31&t;let h;if(l==0){const g=0-(65535&u)-c;c=1&g>>>16;const m=0-(u>>>16)-c;h=65535&g|m<<16}else{const g=32-l;u=u<<g>>>g;const m=1<<32-g,A=(65535&m)-(65535&u)-c;c=1&A>>>16;const S=(m>>>16)-(u>>>16)-c;h=65535&A|S<<16,h&=m-1}return s.__setDigit(f,h),s.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,r){this[t]=0|r}__setDigitGrow(t,r){this[t]=0|r}__halfDigitLength(){const t=this.length;return 65535>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 65535&this[t>>>1]>>>((1&t)<<4)}__setHalfDigit(t,r){const n=t>>>1,i=this.__digit(n),a=1&t?65535&i|r<<16:4294901760&i|65535&r;this.__setDigit(n,a)}static __digitPow(t,r){let n=1;for(;0<r;)1&r&&(n*=t),r>>>=1,t*=t;return n}}tt.__kMaxLength=33554432,tt.__kMaxLengthBits=tt.__kMaxLength<<5,tt.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],tt.__kBitsPerCharTableShift=5,tt.__kBitsPerCharTableMultiplier=1<<tt.__kBitsPerCharTableShift,tt.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],tt.__kBitConversionBuffer=new ArrayBuffer(8),tt.__kBitConversionDouble=new Float64Array(tt.__kBitConversionBuffer),tt.__kBitConversionInts=new Int32Array(tt.__kBitConversionBuffer);var uR={};const eW="elliptic",rW="6.6.0",nW="EC cryptography",iW="lib/elliptic.js",aW=["lib"],sW={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},oW={type:"git",url:"git@github.com:indutny/elliptic"},fW=["EC","Elliptic","curve","Cryptography"],cW="Fedor Indutny <fedor@indutny.com>",uW="MIT",lW={url:"https://github.com/indutny/elliptic/issues"},dW="https://github.com/indutny/elliptic",hW={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},pW={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},bW={name:eW,version:rW,description:nW,main:iW,files:aW,scripts:sW,repository:oW,keywords:fW,author:cW,license:uW,bugs:lW,homepage:dW,devDependencies:hW,dependencies:pW};var Pi={},k5={exports:{}};const gW={},yW=Object.freeze(Object.defineProperty({__proto__:null,default:gW},Symbol.toStringTag,{value:"Module"})),U1=jx(yW);k5.exports;(function(e){(function(t,r){function n(R,_){if(!R)throw new Error(_||"Assertion failed")}function i(R,_){R.super_=_;var I=function(){};I.prototype=_.prototype,R.prototype=new I,R.prototype.constructor=R}function a(R,_,I){if(a.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((_==="le"||_==="be")&&(I=_,_=10),this._init(R||0,_||10,I||"be"))}typeof t=="object"?t.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=U1.Buffer}catch{}a.isBN=function(_){return _ instanceof a?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===a.wordSize&&Array.isArray(_.words)},a.max=function(_,I){return _.cmp(I)>0?_:I},a.min=function(_,I){return _.cmp(I)<0?_:I},a.prototype._init=function(_,I,b){if(typeof _=="number")return this._initNumber(_,I,b);if(typeof _=="object")return this._initArray(_,I,b);I==="hex"&&(I=16),n(I===(I|0)&&I>=2&&I<=36),_=_.toString().replace(/\s+/g,"");var v=0;_[0]==="-"&&(v++,this.negative=1),v<_.length&&(I===16?this._parseHex(_,v,b):(this._parseBase(_,I,v),b==="le"&&this._initArray(this.toArray(),I,b)))},a.prototype._initNumber=function(_,I,b){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(n(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),I,b)},a.prototype._initArray=function(_,I,b){if(n(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d,y,x=0;if(b==="be")for(v=_.length-1,d=0;v>=0;v-=3)y=_[v]|_[v-1]<<8|_[v-2]<<16,this.words[d]|=y<<x&67108863,this.words[d+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);else if(b==="le")for(v=0,d=0;v<_.length;v+=3)y=_[v]|_[v+1]<<8|_[v+2]<<16,this.words[d]|=y<<x&67108863,this.words[d+1]=y>>>26-x&67108863,x+=24,x>=26&&(x-=26,d++);return this.strip()};function o(R,_){var I=R.charCodeAt(_);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function f(R,_,I){var b=o(R,I);return I-1>=_&&(b|=o(R,I-1)<<4),b}a.prototype._parseHex=function(_,I,b){this.length=Math.ceil((_.length-I)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d=0,y=0,x;if(b==="be")for(v=_.length-1;v>=I;v-=2)x=f(_,I,v)<<d,this.words[y]|=x&67108863,d>=18?(d-=18,y+=1,this.words[y]|=x>>>26):d+=8;else{var E=_.length-I;for(v=E%2===0?I+1:I;v<_.length;v+=2)x=f(_,I,v)<<d,this.words[y]|=x&67108863,d>=18?(d-=18,y+=1,this.words[y]|=x>>>26):d+=8}this.strip()};function c(R,_,I,b){for(var v=0,d=Math.min(R.length,I),y=_;y<d;y++){var x=R.charCodeAt(y)-48;v*=b,x>=49?v+=x-49+10:x>=17?v+=x-17+10:v+=x}return v}a.prototype._parseBase=function(_,I,b){this.words=[0],this.length=1;for(var v=0,d=1;d<=67108863;d*=I)v++;v--,d=d/I|0;for(var y=_.length-b,x=y%v,E=Math.min(y,y-x)+b,p=0,T=b;T<E;T+=v)p=c(_,T,T+v,I),this.imuln(d),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(x!==0){var F=1;for(p=c(_,T,_.length,I),T=0;T<x;T++)F*=I;this.imuln(F),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},a.prototype.copy=function(_){_.words=new Array(this.length);for(var I=0;I<this.length;I++)_.words[I]=this.words[I];_.length=this.length,_.negative=this.negative,_.red=this.red},a.prototype.clone=function(){var _=new a(null);return this.copy(_),_},a.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(_,I){_=_||10,I=I|0||1;var b;if(_===16||_==="hex"){b="";for(var v=0,d=0,y=0;y<this.length;y++){var x=this.words[y],E=((x<<v|d)&16777215).toString(16);d=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,y--),d!==0||y!==this.length-1?b=u[6-E.length]+E+b:b=E+b}for(d!==0&&(b=d.toString(16)+b);b.length%I!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(_===(_|0)&&_>=2&&_<=36){var p=l[_],T=h[_];b="";var F=this.clone();for(F.negative=0;!F.isZero();){var L=F.modn(T).toString(_);F=F.idivn(T),F.isZero()?b=L+b:b=u[p-L.length]+L+b}for(this.isZero()&&(b="0"+b);b.length%I!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(_,I){return n(typeof s<"u"),this.toArrayLike(s,_,I)},a.prototype.toArray=function(_,I){return this.toArrayLike(Array,_,I)},a.prototype.toArrayLike=function(_,I,b){var v=this.byteLength(),d=b||Math.max(1,v);n(v<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var y=I==="le",x=new _(d),E,p,T=this.clone();if(y){for(p=0;!T.isZero();p++)E=T.andln(255),T.iushrn(8),x[p]=E;for(;p<d;p++)x[p]=0}else{for(p=0;p<d-v;p++)x[p]=0;for(p=0;!T.isZero();p++)E=T.andln(255),T.iushrn(8),x[d-p-1]=E}return x},Math.clz32?a.prototype._countBits=function(_){return 32-Math.clz32(_)}:a.prototype._countBits=function(_){var I=_,b=0;return I>=4096&&(b+=13,I>>>=13),I>=64&&(b+=7,I>>>=7),I>=8&&(b+=4,I>>>=4),I>=2&&(b+=2,I>>>=2),b+I},a.prototype._zeroBits=function(_){if(_===0)return 26;var I=_,b=0;return I&8191||(b+=13,I>>>=13),I&127||(b+=7,I>>>=7),I&15||(b+=4,I>>>=4),I&3||(b+=2,I>>>=2),I&1||b++,b},a.prototype.bitLength=function(){var _=this.words[this.length-1],I=this._countBits(_);return(this.length-1)*26+I};function g(R){for(var _=new Array(R.bitLength()),I=0;I<_.length;I++){var b=I/26|0,v=I%26;_[I]=(R.words[b]&1<<v)>>>v}return _}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,I=0;I<this.length;I++){var b=this._zeroBits(this.words[I]);if(_+=b,b!==26)break}return _},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},a.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var I=0;I<_.length;I++)this.words[I]=this.words[I]|_.words[I];return this.strip()},a.prototype.ior=function(_){return n((this.negative|_.negative)===0),this.iuor(_)},a.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},a.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},a.prototype.iuand=function(_){var I;this.length>_.length?I=_:I=this;for(var b=0;b<I.length;b++)this.words[b]=this.words[b]&_.words[b];return this.length=I.length,this.strip()},a.prototype.iand=function(_){return n((this.negative|_.negative)===0),this.iuand(_)},a.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},a.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},a.prototype.iuxor=function(_){var I,b;this.length>_.length?(I=this,b=_):(I=_,b=this);for(var v=0;v<b.length;v++)this.words[v]=I.words[v]^b.words[v];if(this!==I)for(;v<I.length;v++)this.words[v]=I.words[v];return this.length=I.length,this.strip()},a.prototype.ixor=function(_){return n((this.negative|_.negative)===0),this.iuxor(_)},a.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},a.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},a.prototype.inotn=function(_){n(typeof _=="number"&&_>=0);var I=Math.ceil(_/26)|0,b=_%26;this._expand(I),b>0&&I--;for(var v=0;v<I;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},a.prototype.notn=function(_){return this.clone().inotn(_)},a.prototype.setn=function(_,I){n(typeof _=="number"&&_>=0);var b=_/26|0,v=_%26;return this._expand(b+1),I?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},a.prototype.iadd=function(_){var I;if(this.negative!==0&&_.negative===0)return this.negative=0,I=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,I=this.isub(_),_.negative=1,I._normSign();var b,v;this.length>_.length?(b=this,v=_):(b=_,v=this);for(var d=0,y=0;y<v.length;y++)I=(b.words[y]|0)+(v.words[y]|0)+d,this.words[y]=I&67108863,d=I>>>26;for(;d!==0&&y<b.length;y++)I=(b.words[y]|0)+d,this.words[y]=I&67108863,d=I>>>26;if(this.length=b.length,d!==0)this.words[this.length]=d,this.length++;else if(b!==this)for(;y<b.length;y++)this.words[y]=b.words[y];return this},a.prototype.add=function(_){var I;return _.negative!==0&&this.negative===0?(_.negative=0,I=this.sub(_),_.negative^=1,I):_.negative===0&&this.negative!==0?(this.negative=0,I=_.sub(this),this.negative=1,I):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},a.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var I=this.iadd(_);return _.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var b=this.cmp(_);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,d;b>0?(v=this,d=_):(v=_,d=this);for(var y=0,x=0;x<d.length;x++)I=(v.words[x]|0)-(d.words[x]|0)+y,y=I>>26,this.words[x]=I&67108863;for(;y!==0&&x<v.length;x++)I=(v.words[x]|0)+y,y=I>>26,this.words[x]=I&67108863;if(y===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(_){return this.clone().isub(_)};function m(R,_,I){I.negative=_.negative^R.negative;var b=R.length+_.length|0;I.length=b,b=b-1|0;var v=R.words[0]|0,d=_.words[0]|0,y=v*d,x=y&67108863,E=y/67108864|0;I.words[0]=x;for(var p=1;p<b;p++){for(var T=E>>>26,F=E&67108863,L=Math.min(p,_.length-1),k=Math.max(0,p-R.length+1);k<=L;k++){var $=p-k|0;v=R.words[$]|0,d=_.words[k]|0,y=v*d+F,T+=y/67108864|0,F=y&67108863}I.words[p]=F|0,E=T|0}return E!==0?I.words[p]=E|0:I.length--,I.strip()}var A=function(_,I,b){var v=_.words,d=I.words,y=b.words,x=0,E,p,T,F=v[0]|0,L=F&8191,k=F>>>13,$=v[1]|0,H=$&8191,q=$>>>13,X=v[2]|0,et=X&8191,rt=X>>>13,U=v[3]|0,P=U&8191,nt=U>>>13,ft=v[4]|0,dt=ft&8191,V=ft>>>13,J=v[5]|0,it=J&8191,ut=J>>>13,yt=v[6]|0,gt=yt&8191,Ct=yt>>>13,ke=v[7]|0,Ht=ke&8191,$t=ke>>>13,an=v[8]|0,z=an&8191,O=an>>>13,D=v[9]|0,Y=D&8191,at=D>>>13,ct=d[0]|0,lt=ct&8191,Bt=ct>>>13,re=d[1]|0,Rt=re&8191,Lt=re>>>13,Zt=d[2]|0,se=Zt&8191,ze=Zt>>>13,W1=d[3]|0,Ve=W1&8191,Me=W1>>>13,Xo=d[4]|0,Re=Xo&8191,Le=Xo>>>13,qu=d[5]|0,ge=qu&8191,Ge=qu>>>13,X1=d[6]|0,We=X1&8191,Xe=X1>>>13,Z1=d[7]|0,je=Z1&8191,He=Z1>>>13,us=d[8]|0,Ze=us&8191,Je=us>>>13,J1=d[9]|0,tr=J1&8191,er=J1>>>13;b.negative=_.negative^I.negative,b.length=19,E=Math.imul(L,lt),p=Math.imul(L,Bt),p=p+Math.imul(k,lt)|0,T=Math.imul(k,Bt);var li=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(li>>>26)|0,li&=67108863,E=Math.imul(H,lt),p=Math.imul(H,Bt),p=p+Math.imul(q,lt)|0,T=Math.imul(q,Bt),E=E+Math.imul(L,Rt)|0,p=p+Math.imul(L,Lt)|0,p=p+Math.imul(k,Rt)|0,T=T+Math.imul(k,Lt)|0;var x0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(x0>>>26)|0,x0&=67108863,E=Math.imul(et,lt),p=Math.imul(et,Bt),p=p+Math.imul(rt,lt)|0,T=Math.imul(rt,Bt),E=E+Math.imul(H,Rt)|0,p=p+Math.imul(H,Lt)|0,p=p+Math.imul(q,Rt)|0,T=T+Math.imul(q,Lt)|0,E=E+Math.imul(L,se)|0,p=p+Math.imul(L,ze)|0,p=p+Math.imul(k,se)|0,T=T+Math.imul(k,ze)|0;var S0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(S0>>>26)|0,S0&=67108863,E=Math.imul(P,lt),p=Math.imul(P,Bt),p=p+Math.imul(nt,lt)|0,T=Math.imul(nt,Bt),E=E+Math.imul(et,Rt)|0,p=p+Math.imul(et,Lt)|0,p=p+Math.imul(rt,Rt)|0,T=T+Math.imul(rt,Lt)|0,E=E+Math.imul(H,se)|0,p=p+Math.imul(H,ze)|0,p=p+Math.imul(q,se)|0,T=T+Math.imul(q,ze)|0,E=E+Math.imul(L,Ve)|0,p=p+Math.imul(L,Me)|0,p=p+Math.imul(k,Ve)|0,T=T+Math.imul(k,Me)|0;var C0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(C0>>>26)|0,C0&=67108863,E=Math.imul(dt,lt),p=Math.imul(dt,Bt),p=p+Math.imul(V,lt)|0,T=Math.imul(V,Bt),E=E+Math.imul(P,Rt)|0,p=p+Math.imul(P,Lt)|0,p=p+Math.imul(nt,Rt)|0,T=T+Math.imul(nt,Lt)|0,E=E+Math.imul(et,se)|0,p=p+Math.imul(et,ze)|0,p=p+Math.imul(rt,se)|0,T=T+Math.imul(rt,ze)|0,E=E+Math.imul(H,Ve)|0,p=p+Math.imul(H,Me)|0,p=p+Math.imul(q,Ve)|0,T=T+Math.imul(q,Me)|0,E=E+Math.imul(L,Re)|0,p=p+Math.imul(L,Le)|0,p=p+Math.imul(k,Re)|0,T=T+Math.imul(k,Le)|0;var I0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(I0>>>26)|0,I0&=67108863,E=Math.imul(it,lt),p=Math.imul(it,Bt),p=p+Math.imul(ut,lt)|0,T=Math.imul(ut,Bt),E=E+Math.imul(dt,Rt)|0,p=p+Math.imul(dt,Lt)|0,p=p+Math.imul(V,Rt)|0,T=T+Math.imul(V,Lt)|0,E=E+Math.imul(P,se)|0,p=p+Math.imul(P,ze)|0,p=p+Math.imul(nt,se)|0,T=T+Math.imul(nt,ze)|0,E=E+Math.imul(et,Ve)|0,p=p+Math.imul(et,Me)|0,p=p+Math.imul(rt,Ve)|0,T=T+Math.imul(rt,Me)|0,E=E+Math.imul(H,Re)|0,p=p+Math.imul(H,Le)|0,p=p+Math.imul(q,Re)|0,T=T+Math.imul(q,Le)|0,E=E+Math.imul(L,ge)|0,p=p+Math.imul(L,Ge)|0,p=p+Math.imul(k,ge)|0,T=T+Math.imul(k,Ge)|0;var T0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(T0>>>26)|0,T0&=67108863,E=Math.imul(gt,lt),p=Math.imul(gt,Bt),p=p+Math.imul(Ct,lt)|0,T=Math.imul(Ct,Bt),E=E+Math.imul(it,Rt)|0,p=p+Math.imul(it,Lt)|0,p=p+Math.imul(ut,Rt)|0,T=T+Math.imul(ut,Lt)|0,E=E+Math.imul(dt,se)|0,p=p+Math.imul(dt,ze)|0,p=p+Math.imul(V,se)|0,T=T+Math.imul(V,ze)|0,E=E+Math.imul(P,Ve)|0,p=p+Math.imul(P,Me)|0,p=p+Math.imul(nt,Ve)|0,T=T+Math.imul(nt,Me)|0,E=E+Math.imul(et,Re)|0,p=p+Math.imul(et,Le)|0,p=p+Math.imul(rt,Re)|0,T=T+Math.imul(rt,Le)|0,E=E+Math.imul(H,ge)|0,p=p+Math.imul(H,Ge)|0,p=p+Math.imul(q,ge)|0,T=T+Math.imul(q,Ge)|0,E=E+Math.imul(L,We)|0,p=p+Math.imul(L,Xe)|0,p=p+Math.imul(k,We)|0,T=T+Math.imul(k,Xe)|0;var Da=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(Da>>>26)|0,Da&=67108863,E=Math.imul(Ht,lt),p=Math.imul(Ht,Bt),p=p+Math.imul($t,lt)|0,T=Math.imul($t,Bt),E=E+Math.imul(gt,Rt)|0,p=p+Math.imul(gt,Lt)|0,p=p+Math.imul(Ct,Rt)|0,T=T+Math.imul(Ct,Lt)|0,E=E+Math.imul(it,se)|0,p=p+Math.imul(it,ze)|0,p=p+Math.imul(ut,se)|0,T=T+Math.imul(ut,ze)|0,E=E+Math.imul(dt,Ve)|0,p=p+Math.imul(dt,Me)|0,p=p+Math.imul(V,Ve)|0,T=T+Math.imul(V,Me)|0,E=E+Math.imul(P,Re)|0,p=p+Math.imul(P,Le)|0,p=p+Math.imul(nt,Re)|0,T=T+Math.imul(nt,Le)|0,E=E+Math.imul(et,ge)|0,p=p+Math.imul(et,Ge)|0,p=p+Math.imul(rt,ge)|0,T=T+Math.imul(rt,Ge)|0,E=E+Math.imul(H,We)|0,p=p+Math.imul(H,Xe)|0,p=p+Math.imul(q,We)|0,T=T+Math.imul(q,Xe)|0,E=E+Math.imul(L,je)|0,p=p+Math.imul(L,He)|0,p=p+Math.imul(k,je)|0,T=T+Math.imul(k,He)|0;var B0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(B0>>>26)|0,B0&=67108863,E=Math.imul(z,lt),p=Math.imul(z,Bt),p=p+Math.imul(O,lt)|0,T=Math.imul(O,Bt),E=E+Math.imul(Ht,Rt)|0,p=p+Math.imul(Ht,Lt)|0,p=p+Math.imul($t,Rt)|0,T=T+Math.imul($t,Lt)|0,E=E+Math.imul(gt,se)|0,p=p+Math.imul(gt,ze)|0,p=p+Math.imul(Ct,se)|0,T=T+Math.imul(Ct,ze)|0,E=E+Math.imul(it,Ve)|0,p=p+Math.imul(it,Me)|0,p=p+Math.imul(ut,Ve)|0,T=T+Math.imul(ut,Me)|0,E=E+Math.imul(dt,Re)|0,p=p+Math.imul(dt,Le)|0,p=p+Math.imul(V,Re)|0,T=T+Math.imul(V,Le)|0,E=E+Math.imul(P,ge)|0,p=p+Math.imul(P,Ge)|0,p=p+Math.imul(nt,ge)|0,T=T+Math.imul(nt,Ge)|0,E=E+Math.imul(et,We)|0,p=p+Math.imul(et,Xe)|0,p=p+Math.imul(rt,We)|0,T=T+Math.imul(rt,Xe)|0,E=E+Math.imul(H,je)|0,p=p+Math.imul(H,He)|0,p=p+Math.imul(q,je)|0,T=T+Math.imul(q,He)|0,E=E+Math.imul(L,Ze)|0,p=p+Math.imul(L,Je)|0,p=p+Math.imul(k,Ze)|0,T=T+Math.imul(k,Je)|0;var O0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(O0>>>26)|0,O0&=67108863,E=Math.imul(Y,lt),p=Math.imul(Y,Bt),p=p+Math.imul(at,lt)|0,T=Math.imul(at,Bt),E=E+Math.imul(z,Rt)|0,p=p+Math.imul(z,Lt)|0,p=p+Math.imul(O,Rt)|0,T=T+Math.imul(O,Lt)|0,E=E+Math.imul(Ht,se)|0,p=p+Math.imul(Ht,ze)|0,p=p+Math.imul($t,se)|0,T=T+Math.imul($t,ze)|0,E=E+Math.imul(gt,Ve)|0,p=p+Math.imul(gt,Me)|0,p=p+Math.imul(Ct,Ve)|0,T=T+Math.imul(Ct,Me)|0,E=E+Math.imul(it,Re)|0,p=p+Math.imul(it,Le)|0,p=p+Math.imul(ut,Re)|0,T=T+Math.imul(ut,Le)|0,E=E+Math.imul(dt,ge)|0,p=p+Math.imul(dt,Ge)|0,p=p+Math.imul(V,ge)|0,T=T+Math.imul(V,Ge)|0,E=E+Math.imul(P,We)|0,p=p+Math.imul(P,Xe)|0,p=p+Math.imul(nt,We)|0,T=T+Math.imul(nt,Xe)|0,E=E+Math.imul(et,je)|0,p=p+Math.imul(et,He)|0,p=p+Math.imul(rt,je)|0,T=T+Math.imul(rt,He)|0,E=E+Math.imul(H,Ze)|0,p=p+Math.imul(H,Je)|0,p=p+Math.imul(q,Ze)|0,T=T+Math.imul(q,Je)|0,E=E+Math.imul(L,tr)|0,p=p+Math.imul(L,er)|0,p=p+Math.imul(k,tr)|0,T=T+Math.imul(k,er)|0;var D0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(D0>>>26)|0,D0&=67108863,E=Math.imul(Y,Rt),p=Math.imul(Y,Lt),p=p+Math.imul(at,Rt)|0,T=Math.imul(at,Lt),E=E+Math.imul(z,se)|0,p=p+Math.imul(z,ze)|0,p=p+Math.imul(O,se)|0,T=T+Math.imul(O,ze)|0,E=E+Math.imul(Ht,Ve)|0,p=p+Math.imul(Ht,Me)|0,p=p+Math.imul($t,Ve)|0,T=T+Math.imul($t,Me)|0,E=E+Math.imul(gt,Re)|0,p=p+Math.imul(gt,Le)|0,p=p+Math.imul(Ct,Re)|0,T=T+Math.imul(Ct,Le)|0,E=E+Math.imul(it,ge)|0,p=p+Math.imul(it,Ge)|0,p=p+Math.imul(ut,ge)|0,T=T+Math.imul(ut,Ge)|0,E=E+Math.imul(dt,We)|0,p=p+Math.imul(dt,Xe)|0,p=p+Math.imul(V,We)|0,T=T+Math.imul(V,Xe)|0,E=E+Math.imul(P,je)|0,p=p+Math.imul(P,He)|0,p=p+Math.imul(nt,je)|0,T=T+Math.imul(nt,He)|0,E=E+Math.imul(et,Ze)|0,p=p+Math.imul(et,Je)|0,p=p+Math.imul(rt,Ze)|0,T=T+Math.imul(rt,Je)|0,E=E+Math.imul(H,tr)|0,p=p+Math.imul(H,er)|0,p=p+Math.imul(q,tr)|0,T=T+Math.imul(q,er)|0;var M0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(M0>>>26)|0,M0&=67108863,E=Math.imul(Y,se),p=Math.imul(Y,ze),p=p+Math.imul(at,se)|0,T=Math.imul(at,ze),E=E+Math.imul(z,Ve)|0,p=p+Math.imul(z,Me)|0,p=p+Math.imul(O,Ve)|0,T=T+Math.imul(O,Me)|0,E=E+Math.imul(Ht,Re)|0,p=p+Math.imul(Ht,Le)|0,p=p+Math.imul($t,Re)|0,T=T+Math.imul($t,Le)|0,E=E+Math.imul(gt,ge)|0,p=p+Math.imul(gt,Ge)|0,p=p+Math.imul(Ct,ge)|0,T=T+Math.imul(Ct,Ge)|0,E=E+Math.imul(it,We)|0,p=p+Math.imul(it,Xe)|0,p=p+Math.imul(ut,We)|0,T=T+Math.imul(ut,Xe)|0,E=E+Math.imul(dt,je)|0,p=p+Math.imul(dt,He)|0,p=p+Math.imul(V,je)|0,T=T+Math.imul(V,He)|0,E=E+Math.imul(P,Ze)|0,p=p+Math.imul(P,Je)|0,p=p+Math.imul(nt,Ze)|0,T=T+Math.imul(nt,Je)|0,E=E+Math.imul(et,tr)|0,p=p+Math.imul(et,er)|0,p=p+Math.imul(rt,tr)|0,T=T+Math.imul(rt,er)|0;var R0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(R0>>>26)|0,R0&=67108863,E=Math.imul(Y,Ve),p=Math.imul(Y,Me),p=p+Math.imul(at,Ve)|0,T=Math.imul(at,Me),E=E+Math.imul(z,Re)|0,p=p+Math.imul(z,Le)|0,p=p+Math.imul(O,Re)|0,T=T+Math.imul(O,Le)|0,E=E+Math.imul(Ht,ge)|0,p=p+Math.imul(Ht,Ge)|0,p=p+Math.imul($t,ge)|0,T=T+Math.imul($t,Ge)|0,E=E+Math.imul(gt,We)|0,p=p+Math.imul(gt,Xe)|0,p=p+Math.imul(Ct,We)|0,T=T+Math.imul(Ct,Xe)|0,E=E+Math.imul(it,je)|0,p=p+Math.imul(it,He)|0,p=p+Math.imul(ut,je)|0,T=T+Math.imul(ut,He)|0,E=E+Math.imul(dt,Ze)|0,p=p+Math.imul(dt,Je)|0,p=p+Math.imul(V,Ze)|0,T=T+Math.imul(V,Je)|0,E=E+Math.imul(P,tr)|0,p=p+Math.imul(P,er)|0,p=p+Math.imul(nt,tr)|0,T=T+Math.imul(nt,er)|0;var Zo=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,E=Math.imul(Y,Re),p=Math.imul(Y,Le),p=p+Math.imul(at,Re)|0,T=Math.imul(at,Le),E=E+Math.imul(z,ge)|0,p=p+Math.imul(z,Ge)|0,p=p+Math.imul(O,ge)|0,T=T+Math.imul(O,Ge)|0,E=E+Math.imul(Ht,We)|0,p=p+Math.imul(Ht,Xe)|0,p=p+Math.imul($t,We)|0,T=T+Math.imul($t,Xe)|0,E=E+Math.imul(gt,je)|0,p=p+Math.imul(gt,He)|0,p=p+Math.imul(Ct,je)|0,T=T+Math.imul(Ct,He)|0,E=E+Math.imul(it,Ze)|0,p=p+Math.imul(it,Je)|0,p=p+Math.imul(ut,Ze)|0,T=T+Math.imul(ut,Je)|0,E=E+Math.imul(dt,tr)|0,p=p+Math.imul(dt,er)|0,p=p+Math.imul(V,tr)|0,T=T+Math.imul(V,er)|0;var L0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(L0>>>26)|0,L0&=67108863,E=Math.imul(Y,ge),p=Math.imul(Y,Ge),p=p+Math.imul(at,ge)|0,T=Math.imul(at,Ge),E=E+Math.imul(z,We)|0,p=p+Math.imul(z,Xe)|0,p=p+Math.imul(O,We)|0,T=T+Math.imul(O,Xe)|0,E=E+Math.imul(Ht,je)|0,p=p+Math.imul(Ht,He)|0,p=p+Math.imul($t,je)|0,T=T+Math.imul($t,He)|0,E=E+Math.imul(gt,Ze)|0,p=p+Math.imul(gt,Je)|0,p=p+Math.imul(Ct,Ze)|0,T=T+Math.imul(Ct,Je)|0,E=E+Math.imul(it,tr)|0,p=p+Math.imul(it,er)|0,p=p+Math.imul(ut,tr)|0,T=T+Math.imul(ut,er)|0;var H0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(H0>>>26)|0,H0&=67108863,E=Math.imul(Y,We),p=Math.imul(Y,Xe),p=p+Math.imul(at,We)|0,T=Math.imul(at,Xe),E=E+Math.imul(z,je)|0,p=p+Math.imul(z,He)|0,p=p+Math.imul(O,je)|0,T=T+Math.imul(O,He)|0,E=E+Math.imul(Ht,Ze)|0,p=p+Math.imul(Ht,Je)|0,p=p+Math.imul($t,Ze)|0,T=T+Math.imul($t,Je)|0,E=E+Math.imul(gt,tr)|0,p=p+Math.imul(gt,er)|0,p=p+Math.imul(Ct,tr)|0,T=T+Math.imul(Ct,er)|0;var Ui=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,E=Math.imul(Y,je),p=Math.imul(Y,He),p=p+Math.imul(at,je)|0,T=Math.imul(at,He),E=E+Math.imul(z,Ze)|0,p=p+Math.imul(z,Je)|0,p=p+Math.imul(O,Ze)|0,T=T+Math.imul(O,Je)|0,E=E+Math.imul(Ht,tr)|0,p=p+Math.imul(Ht,er)|0,p=p+Math.imul($t,tr)|0,T=T+Math.imul($t,er)|0;var P0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(P0>>>26)|0,P0&=67108863,E=Math.imul(Y,Ze),p=Math.imul(Y,Je),p=p+Math.imul(at,Ze)|0,T=Math.imul(at,Je),E=E+Math.imul(z,tr)|0,p=p+Math.imul(z,er)|0,p=p+Math.imul(O,tr)|0,T=T+Math.imul(O,er)|0;var N0=(x+E|0)+((p&8191)<<13)|0;x=(T+(p>>>13)|0)+(N0>>>26)|0,N0&=67108863,E=Math.imul(Y,tr),p=Math.imul(Y,er),p=p+Math.imul(at,tr)|0,T=Math.imul(at,er);var U0=(x+E|0)+((p&8191)<<13)|0;return x=(T+(p>>>13)|0)+(U0>>>26)|0,U0&=67108863,y[0]=li,y[1]=x0,y[2]=S0,y[3]=C0,y[4]=I0,y[5]=T0,y[6]=Da,y[7]=B0,y[8]=O0,y[9]=D0,y[10]=M0,y[11]=R0,y[12]=Zo,y[13]=L0,y[14]=H0,y[15]=Ui,y[16]=P0,y[17]=N0,y[18]=U0,x!==0&&(y[19]=x,b.length++),b};Math.imul||(A=m);function S(R,_,I){I.negative=_.negative^R.negative,I.length=R.length+_.length;for(var b=0,v=0,d=0;d<I.length-1;d++){var y=v;v=0;for(var x=b&67108863,E=Math.min(d,_.length-1),p=Math.max(0,d-R.length+1);p<=E;p++){var T=d-p,F=R.words[T]|0,L=_.words[p]|0,k=F*L,$=k&67108863;y=y+(k/67108864|0)|0,$=$+x|0,x=$&67108863,y=y+($>>>26)|0,v+=y>>>26,y&=67108863}I.words[d]=x,b=y,y=v}return b!==0?I.words[d]=b:I.length--,I.strip()}function w(R,_,I){var b=new C;return b.mulp(R,_,I)}a.prototype.mulTo=function(_,I){var b,v=this.length+_.length;return this.length===10&&_.length===10?b=A(this,_,I):v<63?b=m(this,_,I):v<1024?b=S(this,_,I):b=w(this,_,I),b};function C(R,_){this.x=R,this.y=_}C.prototype.makeRBT=function(_){for(var I=new Array(_),b=a.prototype._countBits(_)-1,v=0;v<_;v++)I[v]=this.revBin(v,b,_);return I},C.prototype.revBin=function(_,I,b){if(_===0||_===b-1)return _;for(var v=0,d=0;d<I;d++)v|=(_&1)<<I-d-1,_>>=1;return v},C.prototype.permute=function(_,I,b,v,d,y){for(var x=0;x<y;x++)v[x]=I[_[x]],d[x]=b[_[x]]},C.prototype.transform=function(_,I,b,v,d,y){this.permute(y,_,I,b,v,d);for(var x=1;x<d;x<<=1)for(var E=x<<1,p=Math.cos(2*Math.PI/E),T=Math.sin(2*Math.PI/E),F=0;F<d;F+=E)for(var L=p,k=T,$=0;$<x;$++){var H=b[F+$],q=v[F+$],X=b[F+$+x],et=v[F+$+x],rt=L*X-k*et;et=L*et+k*X,X=rt,b[F+$]=H+X,v[F+$]=q+et,b[F+$+x]=H-X,v[F+$+x]=q-et,$!==E&&(rt=p*L-T*k,k=p*k+T*L,L=rt)}},C.prototype.guessLen13b=function(_,I){var b=Math.max(I,_)|1,v=b&1,d=0;for(b=b/2|0;b;b=b>>>1)d++;return 1<<d+1+v},C.prototype.conjugate=function(_,I,b){if(!(b<=1))for(var v=0;v<b/2;v++){var d=_[v];_[v]=_[b-v-1],_[b-v-1]=d,d=I[v],I[v]=-I[b-v-1],I[b-v-1]=-d}},C.prototype.normalize13b=function(_,I){for(var b=0,v=0;v<I/2;v++){var d=Math.round(_[2*v+1]/I)*8192+Math.round(_[2*v]/I)+b;_[v]=d&67108863,d<67108864?b=0:b=d/67108864|0}return _},C.prototype.convert13b=function(_,I,b,v){for(var d=0,y=0;y<I;y++)d=d+(_[y]|0),b[2*y]=d&8191,d=d>>>13,b[2*y+1]=d&8191,d=d>>>13;for(y=2*I;y<v;++y)b[y]=0;n(d===0),n((d&-8192)===0)},C.prototype.stub=function(_){for(var I=new Array(_),b=0;b<_;b++)I[b]=0;return I},C.prototype.mulp=function(_,I,b){var v=2*this.guessLen13b(_.length,I.length),d=this.makeRBT(v),y=this.stub(v),x=new Array(v),E=new Array(v),p=new Array(v),T=new Array(v),F=new Array(v),L=new Array(v),k=b.words;k.length=v,this.convert13b(_.words,_.length,x,v),this.convert13b(I.words,I.length,T,v),this.transform(x,y,E,p,v,d),this.transform(T,y,F,L,v,d);for(var $=0;$<v;$++){var H=E[$]*F[$]-p[$]*L[$];p[$]=E[$]*L[$]+p[$]*F[$],E[$]=H}return this.conjugate(E,p,v),this.transform(E,p,k,y,v,d),this.conjugate(k,y,v),this.normalize13b(k,v),b.negative=_.negative^I.negative,b.length=_.length+I.length,b.strip()},a.prototype.mul=function(_){var I=new a(null);return I.words=new Array(this.length+_.length),this.mulTo(_,I)},a.prototype.mulf=function(_){var I=new a(null);return I.words=new Array(this.length+_.length),w(this,_,I)},a.prototype.imul=function(_){return this.clone().mulTo(_,this)},a.prototype.imuln=function(_){n(typeof _=="number"),n(_<67108864);for(var I=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*_,d=(v&67108863)+(I&67108863);I>>=26,I+=v/67108864|0,I+=d>>>26,this.words[b]=d&67108863}return I!==0&&(this.words[b]=I,this.length++),this},a.prototype.muln=function(_){return this.clone().imuln(_)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(_){var I=g(_);if(I.length===0)return new a(1);for(var b=this,v=0;v<I.length&&I[v]===0;v++,b=b.sqr());if(++v<I.length)for(var d=b.sqr();v<I.length;v++,d=d.sqr())I[v]!==0&&(b=b.mul(d));return b},a.prototype.iushln=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26,v=67108863>>>26-I<<26-I,d;if(I!==0){var y=0;for(d=0;d<this.length;d++){var x=this.words[d]&v,E=(this.words[d]|0)-x<<I;this.words[d]=E|y,y=x>>>26-I}y&&(this.words[d]=y,this.length++)}if(b!==0){for(d=this.length-1;d>=0;d--)this.words[d+b]=this.words[d];for(d=0;d<b;d++)this.words[d]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(_){return n(this.negative===0),this.iushln(_)},a.prototype.iushrn=function(_,I,b){n(typeof _=="number"&&_>=0);var v;I?v=(I-I%26)/26:v=0;var d=_%26,y=Math.min((_-d)/26,this.length),x=67108863^67108863>>>d<<d,E=b;if(v-=y,v=Math.max(0,v),E){for(var p=0;p<y;p++)E.words[p]=this.words[p];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,p=0;p<this.length;p++)this.words[p]=this.words[p+y];else this.words[0]=0,this.length=1;var T=0;for(p=this.length-1;p>=0&&(T!==0||p>=v);p--){var F=this.words[p]|0;this.words[p]=T<<26-d|F>>>d,T=F&x}return E&&T!==0&&(E.words[E.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(_,I,b){return n(this.negative===0),this.iushrn(_,I,b)},a.prototype.shln=function(_){return this.clone().ishln(_)},a.prototype.ushln=function(_){return this.clone().iushln(_)},a.prototype.shrn=function(_){return this.clone().ishrn(_)},a.prototype.ushrn=function(_){return this.clone().iushrn(_)},a.prototype.testn=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26,v=1<<I;if(this.length<=b)return!1;var d=this.words[b];return!!(d&v)},a.prototype.imaskn=function(_){n(typeof _=="number"&&_>=0);var I=_%26,b=(_-I)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(I!==0&&b++,this.length=Math.min(b,this.length),I!==0){var v=67108863^67108863>>>I<<I;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(_){return this.clone().imaskn(_)},a.prototype.iaddn=function(_){return n(typeof _=="number"),n(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},a.prototype._iaddn=function(_){this.words[0]+=_;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},a.prototype.isubn=function(_){if(n(typeof _=="number"),n(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},a.prototype.addn=function(_){return this.clone().iaddn(_)},a.prototype.subn=function(_){return this.clone().isubn(_)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(_,I,b){var v=_.length+b,d;this._expand(v);var y,x=0;for(d=0;d<_.length;d++){y=(this.words[d+b]|0)+x;var E=(_.words[d]|0)*I;y-=E&67108863,x=(y>>26)-(E/67108864|0),this.words[d+b]=y&67108863}for(;d<this.length-b;d++)y=(this.words[d+b]|0)+x,x=y>>26,this.words[d+b]=y&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+x,x=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(_,I){var b=this.length-_.length,v=this.clone(),d=_,y=d.words[d.length-1]|0,x=this._countBits(y);b=26-x,b!==0&&(d=d.ushln(b),v.iushln(b),y=d.words[d.length-1]|0);var E=v.length-d.length,p;if(I!=="mod"){p=new a(null),p.length=E+1,p.words=new Array(p.length);for(var T=0;T<p.length;T++)p.words[T]=0}var F=v.clone()._ishlnsubmul(d,1,E);F.negative===0&&(v=F,p&&(p.words[E]=1));for(var L=E-1;L>=0;L--){var k=(v.words[d.length+L]|0)*67108864+(v.words[d.length+L-1]|0);for(k=Math.min(k/y|0,67108863),v._ishlnsubmul(d,k,L);v.negative!==0;)k--,v.negative=0,v._ishlnsubmul(d,1,L),v.isZero()||(v.negative^=1);p&&(p.words[L]=k)}return p&&p.strip(),v.strip(),I!=="div"&&b!==0&&v.iushrn(b),{div:p||null,mod:v}},a.prototype.divmod=function(_,I,b){if(n(!_.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,d,y;return this.negative!==0&&_.negative===0?(y=this.neg().divmod(_,I),I!=="mod"&&(v=y.div.neg()),I!=="div"&&(d=y.mod.neg(),b&&d.negative!==0&&d.iadd(_)),{div:v,mod:d}):this.negative===0&&_.negative!==0?(y=this.divmod(_.neg(),I),I!=="mod"&&(v=y.div.neg()),{div:v,mod:y.mod}):this.negative&_.negative?(y=this.neg().divmod(_.neg(),I),I!=="div"&&(d=y.mod.neg(),b&&d.negative!==0&&d.isub(_)),{div:y.div,mod:d}):_.length>this.length||this.cmp(_)<0?{div:new a(0),mod:this}:_.length===1?I==="div"?{div:this.divn(_.words[0]),mod:null}:I==="mod"?{div:null,mod:new a(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new a(this.modn(_.words[0]))}:this._wordDiv(_,I)},a.prototype.div=function(_){return this.divmod(_,"div",!1).div},a.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},a.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},a.prototype.divRound=function(_){var I=this.divmod(_);if(I.mod.isZero())return I.div;var b=I.div.negative!==0?I.mod.isub(_):I.mod,v=_.ushrn(1),d=_.andln(1),y=b.cmp(v);return y<0||d===1&&y===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},a.prototype.modn=function(_){n(_<=67108863);for(var I=(1<<26)%_,b=0,v=this.length-1;v>=0;v--)b=(I*b+(this.words[v]|0))%_;return b},a.prototype.idivn=function(_){n(_<=67108863);for(var I=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+I*67108864;this.words[b]=v/_|0,I=v%_}return this.strip()},a.prototype.divn=function(_){return this.clone().idivn(_)},a.prototype.egcd=function(_){n(_.negative===0),n(!_.isZero());var I=this,b=_.clone();I.negative!==0?I=I.umod(_):I=I.clone();for(var v=new a(1),d=new a(0),y=new a(0),x=new a(1),E=0;I.isEven()&&b.isEven();)I.iushrn(1),b.iushrn(1),++E;for(var p=b.clone(),T=I.clone();!I.isZero();){for(var F=0,L=1;!(I.words[0]&L)&&F<26;++F,L<<=1);if(F>0)for(I.iushrn(F);F-- >0;)(v.isOdd()||d.isOdd())&&(v.iadd(p),d.isub(T)),v.iushrn(1),d.iushrn(1);for(var k=0,$=1;!(b.words[0]&$)&&k<26;++k,$<<=1);if(k>0)for(b.iushrn(k);k-- >0;)(y.isOdd()||x.isOdd())&&(y.iadd(p),x.isub(T)),y.iushrn(1),x.iushrn(1);I.cmp(b)>=0?(I.isub(b),v.isub(y),d.isub(x)):(b.isub(I),y.isub(v),x.isub(d))}return{a:y,b:x,gcd:b.iushln(E)}},a.prototype._invmp=function(_){n(_.negative===0),n(!_.isZero());var I=this,b=_.clone();I.negative!==0?I=I.umod(_):I=I.clone();for(var v=new a(1),d=new a(0),y=b.clone();I.cmpn(1)>0&&b.cmpn(1)>0;){for(var x=0,E=1;!(I.words[0]&E)&&x<26;++x,E<<=1);if(x>0)for(I.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);for(var p=0,T=1;!(b.words[0]&T)&&p<26;++p,T<<=1);if(p>0)for(b.iushrn(p);p-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);I.cmp(b)>=0?(I.isub(b),v.isub(d)):(b.isub(I),d.isub(v))}var F;return I.cmpn(1)===0?F=v:F=d,F.cmpn(0)<0&&F.iadd(_),F},a.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var I=this.clone(),b=_.clone();I.negative=0,b.negative=0;for(var v=0;I.isEven()&&b.isEven();v++)I.iushrn(1),b.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;b.isEven();)b.iushrn(1);var d=I.cmp(b);if(d<0){var y=I;I=b,b=y}else if(d===0||b.cmpn(1)===0)break;I.isub(b)}while(!0);return b.iushln(v)},a.prototype.invm=function(_){return this.egcd(_).a.umod(_)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(_){return this.words[0]&_},a.prototype.bincn=function(_){n(typeof _=="number");var I=_%26,b=(_-I)/26,v=1<<I;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var d=v,y=b;d!==0&&y<this.length;y++){var x=this.words[y]|0;x+=d,d=x>>>26,x&=67108863,this.words[y]=x}return d!==0&&(this.words[y]=d,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(_){var I=_<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var b;if(this.length>1)b=1;else{I&&(_=-_),n(_<=67108863,"Number is too big");var v=this.words[0]|0;b=v===_?0:v<_?-1:1}return this.negative!==0?-b|0:b},a.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var I=this.ucmp(_);return this.negative!==0?-I|0:I},a.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var I=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,d=_.words[b]|0;if(v!==d){v<d?I=-1:v>d&&(I=1);break}}return I},a.prototype.gtn=function(_){return this.cmpn(_)===1},a.prototype.gt=function(_){return this.cmp(_)===1},a.prototype.gten=function(_){return this.cmpn(_)>=0},a.prototype.gte=function(_){return this.cmp(_)>=0},a.prototype.ltn=function(_){return this.cmpn(_)===-1},a.prototype.lt=function(_){return this.cmp(_)===-1},a.prototype.lten=function(_){return this.cmpn(_)<=0},a.prototype.lte=function(_){return this.cmp(_)<=0},a.prototype.eqn=function(_){return this.cmpn(_)===0},a.prototype.eq=function(_){return this.cmp(_)===0},a.red=function(_){return new G(_)},a.prototype.toRed=function(_){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(_){return this.red=_,this},a.prototype.forceRed=function(_){return n(!this.red,"Already a number in reduction context"),this._forceRed(_)},a.prototype.redAdd=function(_){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},a.prototype.redIAdd=function(_){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},a.prototype.redSub=function(_){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},a.prototype.redISub=function(_){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},a.prototype.redShl=function(_){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},a.prototype.redMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},a.prototype.redIMul=function(_){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(_){return n(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var B={k256:null,p224:null,p192:null,p25519:null};function M(R,_){this.name=R,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var _=new a(null);return _.words=new Array(Math.ceil(this.n/13)),_},M.prototype.ireduce=function(_){var I=_,b;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),b=I.bitLength();while(b>this.n);var v=b<this.n?-1:I.ucmp(this.p);return v===0?(I.words[0]=0,I.length=1):v>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},M.prototype.split=function(_,I){_.iushrn(this.n,0,I)},M.prototype.imulK=function(_){return _.imul(this.k)};function N(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,M),N.prototype.split=function(_,I){for(var b=4194303,v=Math.min(_.length,9),d=0;d<v;d++)I.words[d]=_.words[d];if(I.length=v,_.length<=9){_.words[0]=0,_.length=1;return}var y=_.words[9];for(I.words[I.length++]=y&b,d=10;d<_.length;d++){var x=_.words[d]|0;_.words[d-10]=(x&b)<<4|y>>>22,y=x}y>>>=22,_.words[d-10]=y,y===0&&_.length>10?_.length-=10:_.length-=9},N.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var I=0,b=0;b<_.length;b++){var v=_.words[b]|0;I+=v*977,_.words[b]=I&67108863,I=v*64+(I/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function K(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,M);function Q(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,M);function j(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(j,M),j.prototype.imulK=function(_){for(var I=0,b=0;b<_.length;b++){var v=(_.words[b]|0)*19+I,d=v&67108863;v>>>=26,_.words[b]=d,I=v}return I!==0&&(_.words[_.length++]=I),_},a._prime=function(_){if(B[_])return B[_];var I;if(_==="k256")I=new N;else if(_==="p224")I=new K;else if(_==="p192")I=new Q;else if(_==="p25519")I=new j;else throw new Error("Unknown prime "+_);return B[_]=I,I};function G(R){if(typeof R=="string"){var _=a._prime(R);this.m=_.p,this.prime=_}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}G.prototype._verify1=function(_){n(_.negative===0,"red works only with positives"),n(_.red,"red works only with red numbers")},G.prototype._verify2=function(_,I){n((_.negative|I.negative)===0,"red works only with positives"),n(_.red&&_.red===I.red,"red works only with red numbers")},G.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},G.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},G.prototype.add=function(_,I){this._verify2(_,I);var b=_.add(I);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},G.prototype.iadd=function(_,I){this._verify2(_,I);var b=_.iadd(I);return b.cmp(this.m)>=0&&b.isub(this.m),b},G.prototype.sub=function(_,I){this._verify2(_,I);var b=_.sub(I);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},G.prototype.isub=function(_,I){this._verify2(_,I);var b=_.isub(I);return b.cmpn(0)<0&&b.iadd(this.m),b},G.prototype.shl=function(_,I){return this._verify1(_),this.imod(_.ushln(I))},G.prototype.imul=function(_,I){return this._verify2(_,I),this.imod(_.imul(I))},G.prototype.mul=function(_,I){return this._verify2(_,I),this.imod(_.mul(I))},G.prototype.isqr=function(_){return this.imul(_,_.clone())},G.prototype.sqr=function(_){return this.mul(_,_)},G.prototype.sqrt=function(_){if(_.isZero())return _.clone();var I=this.m.andln(3);if(n(I%2===1),I===3){var b=this.m.add(new a(1)).iushrn(2);return this.pow(_,b)}for(var v=this.m.subn(1),d=0;!v.isZero()&&v.andln(1)===0;)d++,v.iushrn(1);n(!v.isZero());var y=new a(1).toRed(this),x=y.redNeg(),E=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,E).cmp(x)!==0;)p.redIAdd(x);for(var T=this.pow(p,v),F=this.pow(_,v.addn(1).iushrn(1)),L=this.pow(_,v),k=d;L.cmp(y)!==0;){for(var $=L,H=0;$.cmp(y)!==0;H++)$=$.redSqr();n(H<k);var q=this.pow(T,new a(1).iushln(k-H-1));F=F.redMul(q),T=q.redSqr(),L=L.redMul(T),k=H}return F},G.prototype.invm=function(_){var I=_._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},G.prototype.pow=function(_,I){if(I.isZero())return new a(1).toRed(this);if(I.cmpn(1)===0)return _.clone();var b=4,v=new Array(1<<b);v[0]=new a(1).toRed(this),v[1]=_;for(var d=2;d<v.length;d++)v[d]=this.mul(v[d-1],_);var y=v[0],x=0,E=0,p=I.bitLength()%26;for(p===0&&(p=26),d=I.length-1;d>=0;d--){for(var T=I.words[d],F=p-1;F>=0;F--){var L=T>>F&1;if(y!==v[0]&&(y=this.sqr(y)),L===0&&x===0){E=0;continue}x<<=1,x|=L,E++,!(E!==b&&(d!==0||F!==0))&&(y=this.mul(y,v[x]),E=0,x=0)}p=26}return y},G.prototype.convertTo=function(_){var I=_.umod(this.m);return I===_?I.clone():I},G.prototype.convertFrom=function(_){var I=_.clone();return I.red=null,I},a.mont=function(_){return new W(_)};function W(R){G.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(W,G),W.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},W.prototype.convertFrom=function(_){var I=this.imod(_.mul(this.rinv));return I.red=null,I},W.prototype.imul=function(_,I){if(_.isZero()||I.isZero())return _.words[0]=0,_.length=1,_;var b=_.imul(I),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},W.prototype.mul=function(_,I){if(_.isZero()||I.isZero())return new a(0)._forceRed(this);var b=_.mul(I),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},W.prototype.invm=function(_){var I=this.imod(_._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(e,jn)})(k5);var Sr=k5.exports,Ac=lR;function lR(e,t){if(!e)throw new Error(t||"Assertion failed")}lR.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var V2={};(function(e){var t=e;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var f=0;f<a.length;f++)o[f]=a[f]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var f=0;f<a.length;f+=2)o.push(parseInt(a[f]+a[f+1],16))}else for(var f=0;f<a.length;f++){var c=a.charCodeAt(f),u=c>>8,l=c&255;u?o.push(u,l):o.push(l)}return o}t.toArray=r;function n(a){return a.length===1?"0"+a:a}t.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}t.toHex=i,t.encode=function(s,o){return o==="hex"?i(s):s}})(V2);(function(e){var t=e,r=Sr,n=Ac,i=V2;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function a(u,l,h){var g=new Array(Math.max(u.bitLength(),h)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var A=1<<l+1,S=u.clone();for(m=0;m<g.length;m++){var w,C=S.andln(A-1);S.isOdd()?(C>(A>>1)-1?w=(A>>1)-C:w=C,S.isubn(w)):w=0,g[m]=w,S.iushrn(1)}return g}t.getNAF=a;function s(u,l){var h=[[],[]];u=u.clone(),l=l.clone();for(var g=0,m=0,A;u.cmpn(-g)>0||l.cmpn(-m)>0;){var S=u.andln(3)+g&3,w=l.andln(3)+m&3;S===3&&(S=-1),w===3&&(w=-1);var C;S&1?(A=u.andln(7)+g&7,(A===3||A===5)&&w===2?C=-S:C=S):C=0,h[0].push(C);var B;w&1?(A=l.andln(7)+m&7,(A===3||A===5)&&S===2?B=-w:B=w):B=0,h[1].push(B),2*g===C+1&&(g=1-g),2*m===B+1&&(m=1-m),u.iushrn(1),l.iushrn(1)}return h}t.getJSF=s;function o(u,l,h){var g="_"+l;u.prototype[l]=function(){return this[g]!==void 0?this[g]:this[g]=h.call(this)}}t.cachedProperty=o;function f(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=f;function c(u){return new r(u,"hex","le")}t.intFromLE=c})(Pi);var z5={exports:{}},V_;z5.exports=function(t){return V_||(V_=new kf(null)),V_.generate(t)};function kf(e){this.rand=e}z5.exports.Rand=kf;kf.prototype.generate=function(t){return this._rand(t)};kf.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?kf.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?kf.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(kf.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var hE=U1;if(typeof hE.randomBytes!="function")throw new Error("Not supported");kf.prototype._rand=function(t){return hE.randomBytes(t)}}catch{}var G2=z5.exports,j5={},Bc=Sr,k1=Pi,my=k1.getNAF,vW=k1.getJSF,wy=k1.assert;function Ec(e,t){this.type=e,this.p=new Bc(t.p,16),this.red=t.prime?Bc.red(t.prime):Bc.mont(this.p),this.zero=new Bc(0).toRed(this.red),this.one=new Bc(1).toRed(this.red),this.two=new Bc(2).toRed(this.red),this.n=t.n&&new Bc(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var W2=Ec;Ec.prototype.point=function(){throw new Error("Not implemented")};Ec.prototype.validate=function(){throw new Error("Not implemented")};Ec.prototype._fixedNafMul=function(t,r){wy(t.precomputed);var n=t._getDoubles(),i=my(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=a;h>0;h--){for(o=0;o<s.length;o++)f=s[o],f===h?l=l.mixedAdd(n.points[o]):f===-h&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Ec.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=my(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];wy(u!==0),t.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return t.type==="affine"?o.toP():o};Ec.prototype._wnafMulAdd=function(t,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,l,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(t);s[u]=g.wnd,o[u]=g.points}for(u=i-1;u>=1;u-=2){var m=u-1,A=u;if(s[m]!==1||s[A]!==1){f[m]=my(n[m],s[m],this._bitLength),f[A]=my(n[A],s[A],this._bitLength),c=Math.max(f[m].length,c),c=Math.max(f[A].length,c);continue}var S=[r[m],null,null,r[A]];r[m].y.cmp(r[A].y)===0?(S[1]=r[m].add(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg())):r[m].y.cmp(r[A].y.redNeg())===0?(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].add(r[A].neg())):(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=vW(n[m],n[A]);for(c=Math.max(C[0].length,c),f[m]=new Array(c),f[A]=new Array(c),l=0;l<c;l++){var B=C[0][l]|0,M=C[1][l]|0;f[m][l]=w[(B+1)*3+(M+1)],f[A][l]=0,o[m]=S}}var N=this.jpoint(null,null,null),K=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var j=!0;for(l=0;l<i;l++)K[l]=f[l][u]|0,K[l]!==0&&(j=!1);if(!j)break;Q++,u--}if(u>=0&&Q++,N=N.dblp(Q),u<0)break;for(l=0;l<i;l++){var G=K[l];G!==0&&(G>0?h=o[l][G-1>>1]:G<0&&(h=o[l][-G-1>>1].neg()),h.type==="affine"?N=N.mixedAdd(h):N=N.add(h))}}for(u=0;u<i;u++)o[u]=null;return a?N:N.toP()};function Ca(e,t){this.curve=e,this.type=t,this.precomputed=null}Ec.BasePoint=Ca;Ca.prototype.eq=function(){throw new Error("Not implemented")};Ca.prototype.validate=function(){return this.curve.validate(this)};Ec.prototype.decodePoint=function(t,r){t=k1.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?wy(t[t.length-1]%2===0):t[0]===7&&wy(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Ca.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Ca.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ca.prototype.encode=function(t,r){return k1.encode(this._encode(r),t)};Ca.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Ca.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Ca.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}};Ca.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:t,points:r}};Ca.prototype._getBeta=function(){return null};Ca.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var p6={exports:{}};typeof Object.create=="function"?p6.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:p6.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Ye=p6.exports,_W=Pi,sr=Sr,F5=Ye,d0=W2,mW=_W.assert;function Ia(e){d0.call(this,"short",e),this.a=new sr(e.a,16).toRed(this.red),this.b=new sr(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}F5(Ia,d0);var wW=Ia;Ia.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new sr(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new sr(t.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],mW(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new sr(o.a,16),b:new sr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Ia.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:sr.mont(t),n=new sr(2).toRed(r).redInvm(),i=n.redNeg(),a=new sr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Ia.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),a=new sr(1),s=new sr(0),o=new sr(0),f=new sr(1),c,u,l,h,g,m,A,S=0,w,C;n.cmpn(0)!==0;){var B=i.div(n);w=i.sub(B.mul(n)),C=o.sub(B.mul(a));var M=f.sub(B.mul(s));if(!l&&w.cmp(r)<0)c=A.neg(),u=a,l=w.neg(),h=C;else if(l&&++S===2)break;A=w,i=n,n=w,o=a,a=C,f=s,s=M}g=w.neg(),m=C;var N=l.sqr().add(h.sqr()),K=g.sqr().add(m.sqr());return K.cmp(N)>=0&&(g=c,m=u),l.negative&&(l=l.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:l,b:h},{a:g,b:m}]};Ia.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),l=t.sub(o).sub(f),h=c.add(u).neg();return{k1:l,k2:h}};Ia.prototype.pointFromX=function(t,r){t=new sr(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(t,i)};Ia.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Ia.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(r[s]),f=t[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function $r(e,t,r,n){d0.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new sr(t,16),this.y=new sr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}F5($r,d0.BasePoint);Ia.prototype.point=function(t,r,n){return new $r(this,t,r,n)};Ia.prototype.pointFromJSON=function(t,r){return $r.fromJSON(this,t,r)};$r.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};$r.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};$r.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function a(o){return t.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};$r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};$r.prototype.isInfinity=function(){return this.inf};$r.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};$r.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};$r.prototype.getX=function(){return this.x.fromRed()};$r.prototype.getY=function(){return this.y.fromRed()};$r.prototype.mul=function(t){return t=new sr(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};$r.prototype.mulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};$r.prototype.jmulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};$r.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};$r.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};$r.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function en(e,t,r,n){d0.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new sr(0)):(this.x=new sr(t,16),this.y=new sr(r,16),this.z=new sr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}F5(en,d0.BasePoint);Ia.prototype.jpoint=function(t,r,n){return new en(this,t,r,n)};en.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};en.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};en.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),h=i.redMul(u),g=c.redSqr().redIAdd(l).redISub(h).redISub(h),m=c.redMul(h.redISub(g)).redISub(s.redMul(l)),A=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(g,m,A)};en.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),a=this.y,s=t.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),h=f.redSqr().redIAdd(u).redISub(l).redISub(l),g=f.redMul(l.redISub(h)).redISub(a.redMul(u)),m=this.z.redMul(o);return this.curve.jpoint(h,g,m)};en.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<t;r++){var l=s.redSqr(),h=u.redSqr(),g=h.redSqr(),m=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),A=s.redMul(h),S=m.redSqr().redISub(A.redAdd(A)),w=A.redISub(S),C=m.redMul(w);C=C.redIAdd(C).redISub(g);var B=u.redMul(f);r+1<t&&(c=c.redMul(g)),s=S,f=B,u=C}return this.curve.jpoint(s,u.redMul(a),f)};en.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};en.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(l).redISub(g);m=m.redIAdd(m);var A=l.redAdd(l).redIAdd(l),S=A.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),t=S.redISub(m).redISub(m),r=A.redMul(m.redISub(t)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};en.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);t=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(l).redMul(this.x.redAdd(l));m=m.redAdd(m).redIAdd(m);var A=g.redIAdd(g);A=A.redIAdd(A);var S=A.redAdd(A);t=m.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(A.redISub(t)).redISub(w)}return this.curve.jpoint(t,r,n)};en.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),l=f.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=f.redMul(h).redISub(g),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,m,A)};en.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=t.redAdd(t).redIAdd(t),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(f).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(h,g,m)};en.prototype.mul=function(t,r){return t=new sr(t,r),this.curve._wnafMul(this,t)};en.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(t.z);return this.y.redMul(a).redISub(t.y.redMul(i)).cmpn(0)===0};en.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};en.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};en.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var wl=Sr,dR=Ye,X2=W2,AW=Pi;function h0(e){X2.call(this,"mont",e),this.a=new wl(e.a,16).toRed(this.red),this.b=new wl(e.b,16).toRed(this.red),this.i4=new wl(4).toRed(this.red).redInvm(),this.two=new wl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}dR(h0,X2);var EW=h0;h0.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function jr(e,t,r){X2.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new wl(t,16),this.z=new wl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}dR(jr,X2.BasePoint);h0.prototype.decodePoint=function(t,r){return this.point(AW.toArray(t,r),1)};h0.prototype.point=function(t,r){return new jr(this,t,r)};h0.prototype.pointFromJSON=function(t){return jr.fromJSON(this,t)};jr.prototype.precompute=function(){};jr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};jr.fromJSON=function(t,r){return new jr(t,r[0],r[1]||t.one)};jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};jr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};jr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};jr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};jr.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=t.x.redAdd(t.z),s=t.x.redSub(t.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};jr.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};jr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};jr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};jr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};jr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};jr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var xW=Pi,xo=Sr,hR=Ye,Z2=W2,SW=xW.assert;function Vs(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,Z2.call(this,"edwards",e),this.a=new xo(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new xo(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new xo(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),SW(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}hR(Vs,Z2);var CW=Vs;Vs.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};Vs.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};Vs.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};Vs.prototype.pointFromX=function(t,r){t=new xo(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(t,o)};Vs.prototype.pointFromY=function(t,r){t=new xo(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};Vs.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Ae(e,t,r,n,i){Z2.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new xo(t,16),this.y=new xo(r,16),this.z=n?new xo(n,16):this.curve.one,this.t=i&&new xo(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}hR(Ae,Z2.BasePoint);Vs.prototype.pointFromJSON=function(t){return Ae.fromJSON(this,t)};Vs.prototype.point=function(t,r,n,i){return new Ae(this,t,r,n,i)};Ae.fromJSON=function(t,r){return new Ae(t,r[0],r[1],r[2])};Ae.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ae.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ae.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),a=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),l=a.redMul(f),h=o.redMul(s);return this.curve.point(c,u,h,l)};Ae.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=t.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(t.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};Ae.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ae.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),a=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),l=f.redMul(c),h=s.redMul(c),g=o.redMul(f);return this.curve.point(u,l,g,h)};Ae.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),l,h;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),h=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),h=this.curve._mulC(o).redMul(f)),this.curve.point(u,l,h)};Ae.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Ae.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Ae.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};Ae.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};Ae.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Ae.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ae.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ae.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ae.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Ae.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ae.prototype.toP=Ae.prototype.normalize;Ae.prototype.mixedAdd=Ae.prototype.add;(function(e){var t=e;t.base=W2,t.short=wW,t.mont=EW,t.edwards=CW})(j5);var J2={},p0={},Kt={},IW=Ac,TW=Ye;Kt.inherits=TW;function BW(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function OW(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):BW(e,i)?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}Kt.toArray=OW;function DW(e){for(var t="",r=0;r<e.length;r++)t+=bR(e[r].toString(16));return t}Kt.toHex=DW;function pR(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Kt.htonl=pR;function MW(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=pR(i)),r+=gR(i.toString(16))}return r}Kt.toHex32=MW;function bR(e){return e.length===1?"0"+e:e}Kt.zero2=bR;function gR(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Kt.zero8=gR;function RW(e,t,r,n){var i=r-t;IW(i%4===0);for(var a=new Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var f;n==="big"?f=e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:f=e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=f>>>0}return a}Kt.join32=RW;function LW(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];t==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Kt.split32=LW;function HW(e,t){return e>>>t|e<<32-t}Kt.rotr32=HW;function PW(e,t){return e<<t|e>>>32-t}Kt.rotl32=PW;function NW(e,t){return e+t>>>0}Kt.sum32=NW;function UW(e,t,r){return e+t+r>>>0}Kt.sum32_3=UW;function kW(e,t,r,n){return e+t+r+n>>>0}Kt.sum32_4=kW;function zW(e,t,r,n,i){return e+t+r+n+i>>>0}Kt.sum32_5=zW;function jW(e,t,r,n){var i=e[t],a=e[t+1],s=n+a>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s}Kt.sum64=jW;function FW(e,t,r,n){var i=t+n>>>0,a=(i<t?1:0)+e+r;return a>>>0}Kt.sum64_hi=FW;function $W(e,t,r,n){var i=t+n;return i>>>0}Kt.sum64_lo=$W;function qW(e,t,r,n,i,a,s,o){var f=0,c=t;c=c+n>>>0,f+=c<t?1:0,c=c+a>>>0,f+=c<a?1:0,c=c+o>>>0,f+=c<o?1:0;var u=e+r+i+s+f;return u>>>0}Kt.sum64_4_hi=qW;function KW(e,t,r,n,i,a,s,o){var f=t+n+a+o;return f>>>0}Kt.sum64_4_lo=KW;function QW(e,t,r,n,i,a,s,o,f,c){var u=0,l=t;l=l+n>>>0,u+=l<t?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+o>>>0,u+=l<o?1:0,l=l+c>>>0,u+=l<c?1:0;var h=e+r+i+s+f+u;return h>>>0}Kt.sum64_5_hi=QW;function YW(e,t,r,n,i,a,s,o,f,c){var u=t+n+a+o+c;return u>>>0}Kt.sum64_5_lo=YW;function VW(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}Kt.rotr64_hi=VW;function GW(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Kt.rotr64_lo=GW;function WW(e,t,r){return e>>>r}Kt.shr64_hi=WW;function XW(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Kt.shr64_lo=XW;var b0={},pE=Kt,ZW=Ac;function tv(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}b0.BlockHash=tv;tv.prototype.update=function(t,r){if(t=pE.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=pE.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this};tv.prototype.digest=function(t){return this.update(this._pad()),ZW(this.pending===null),this._digest(t)};tv.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=t>>>24&255,i[a++]=t>>>16&255,i[a++]=t>>>8&255,i[a++]=t&255}else for(i[a++]=t&255,i[a++]=t>>>8&255,i[a++]=t>>>16&255,i[a++]=t>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var g0={},Gs={},JW=Kt,Hs=JW.rotr32;function tX(e,t,r,n){if(e===0)return yR(t,r,n);if(e===1||e===3)return _R(t,r,n);if(e===2)return vR(t,r,n)}Gs.ft_1=tX;function yR(e,t,r){return e&t^~e&r}Gs.ch32=yR;function vR(e,t,r){return e&t^e&r^t&r}Gs.maj32=vR;function _R(e,t,r){return e^t^r}Gs.p32=_R;function eX(e){return Hs(e,2)^Hs(e,13)^Hs(e,22)}Gs.s0_256=eX;function rX(e){return Hs(e,6)^Hs(e,11)^Hs(e,25)}Gs.s1_256=rX;function nX(e){return Hs(e,7)^Hs(e,18)^e>>>3}Gs.g0_256=nX;function iX(e){return Hs(e,17)^Hs(e,19)^e>>>10}Gs.g1_256=iX;var Md=Kt,aX=b0,sX=Gs,G_=Md.rotl32,th=Md.sum32,oX=Md.sum32_5,fX=sX.ft_1,mR=aX.BlockHash,cX=[1518500249,1859775393,2400959708,3395469782];function zs(){if(!(this instanceof zs))return new zs;mR.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Md.inherits(zs,mR);var uX=zs;zs.blockSize=512;zs.outSize=160;zs.hmacStrength=80;zs.padLength=64;zs.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=G_(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),l=oX(G_(a,5),fX(u,s,o,f),c,n[i],cX[u]);c=f,f=o,o=G_(s,30),s=a,a=l}this.h[0]=th(this.h[0],a),this.h[1]=th(this.h[1],s),this.h[2]=th(this.h[2],o),this.h[3]=th(this.h[3],f),this.h[4]=th(this.h[4],c)};zs.prototype._digest=function(t){return t==="hex"?Md.toHex32(this.h,"big"):Md.split32(this.h,"big")};var Rd=Kt,lX=b0,y0=Gs,dX=Ac,Ra=Rd.sum32,hX=Rd.sum32_4,pX=Rd.sum32_5,bX=y0.ch32,gX=y0.maj32,yX=y0.s0_256,vX=y0.s1_256,_X=y0.g0_256,mX=y0.g1_256,wR=lX.BlockHash,wX=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function js(){if(!(this instanceof js))return new js;wR.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=wX,this.W=new Array(64)}Rd.inherits(js,wR);var AR=js;js.blockSize=512;js.outSize=256;js.hmacStrength=192;js.padLength=64;js.prototype._update=function(t,r){for(var n=this.W,i=0;i<16;i++)n[i]=t[r+i];for(;i<n.length;i++)n[i]=hX(mX(n[i-2]),n[i-7],_X(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(dX(this.k.length===n.length),i=0;i<n.length;i++){var g=pX(h,vX(c),bX(c,u,l),this.k[i],n[i]),m=Ra(yX(a),gX(a,s,o));h=l,l=u,u=c,c=Ra(f,g),f=o,o=s,s=a,a=Ra(g,m)}this.h[0]=Ra(this.h[0],a),this.h[1]=Ra(this.h[1],s),this.h[2]=Ra(this.h[2],o),this.h[3]=Ra(this.h[3],f),this.h[4]=Ra(this.h[4],c),this.h[5]=Ra(this.h[5],u),this.h[6]=Ra(this.h[6],l),this.h[7]=Ra(this.h[7],h)};js.prototype._digest=function(t){return t==="hex"?Rd.toHex32(this.h,"big"):Rd.split32(this.h,"big")};var b6=Kt,ER=AR;function jo(){if(!(this instanceof jo))return new jo;ER.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}b6.inherits(jo,ER);var AX=jo;jo.blockSize=512;jo.outSize=224;jo.hmacStrength=192;jo.padLength=64;jo.prototype._digest=function(t){return t==="hex"?b6.toHex32(this.h.slice(0,7),"big"):b6.split32(this.h.slice(0,7),"big")};var ai=Kt,EX=b0,xX=Ac,Ps=ai.rotr64_hi,Ns=ai.rotr64_lo,xR=ai.shr64_hi,SR=ai.shr64_lo,df=ai.sum64,W_=ai.sum64_hi,X_=ai.sum64_lo,SX=ai.sum64_4_hi,CX=ai.sum64_4_lo,IX=ai.sum64_5_hi,TX=ai.sum64_5_lo,CR=EX.BlockHash,BX=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function as(){if(!(this instanceof as))return new as;CR.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=BX,this.W=new Array(160)}ai.inherits(as,CR);var IR=as;as.blockSize=1024;as.outSize=512;as.hmacStrength=192;as.padLength=128;as.prototype._prepareBlock=function(t,r){for(var n=this.W,i=0;i<32;i++)n[i]=t[r+i];for(;i<n.length;i+=2){var a=zX(n[i-4],n[i-3]),s=jX(n[i-4],n[i-3]),o=n[i-14],f=n[i-13],c=UX(n[i-30],n[i-29]),u=kX(n[i-30],n[i-29]),l=n[i-32],h=n[i-31];n[i]=SX(a,s,o,f,c,u,l,h),n[i+1]=CX(a,s,o,f,c,u,l,h)}};as.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],g=this.h[9],m=this.h[10],A=this.h[11],S=this.h[12],w=this.h[13],C=this.h[14],B=this.h[15];xX(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var N=C,K=B,Q=PX(h,g),j=NX(h,g),G=OX(h,g,m,A,S),W=DX(h,g,m,A,S,w),R=this.k[M],_=this.k[M+1],I=n[M],b=n[M+1],v=IX(N,K,Q,j,G,W,R,_,I,b),d=TX(N,K,Q,j,G,W,R,_,I,b);N=LX(i,a),K=HX(i,a),Q=MX(i,a,s,o,f),j=RX(i,a,s,o,f,c);var y=W_(N,K,Q,j),x=X_(N,K,Q,j);C=S,B=w,S=m,w=A,m=h,A=g,h=W_(u,l,v,d),g=X_(l,l,v,d),u=f,l=c,f=s,c=o,s=i,o=a,i=W_(v,d,y,x),a=X_(v,d,y,x)}df(this.h,0,i,a),df(this.h,2,s,o),df(this.h,4,f,c),df(this.h,6,u,l),df(this.h,8,h,g),df(this.h,10,m,A),df(this.h,12,S,w),df(this.h,14,C,B)};as.prototype._digest=function(t){return t==="hex"?ai.toHex32(this.h,"big"):ai.split32(this.h,"big")};function OX(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function DX(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function MX(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function RX(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function LX(e,t){var r=Ps(e,t,28),n=Ps(t,e,2),i=Ps(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function HX(e,t){var r=Ns(e,t,28),n=Ns(t,e,2),i=Ns(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function PX(e,t){var r=Ps(e,t,14),n=Ps(e,t,18),i=Ps(t,e,9),a=r^n^i;return a<0&&(a+=4294967296),a}function NX(e,t){var r=Ns(e,t,14),n=Ns(e,t,18),i=Ns(t,e,9),a=r^n^i;return a<0&&(a+=4294967296),a}function UX(e,t){var r=Ps(e,t,1),n=Ps(e,t,8),i=xR(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function kX(e,t){var r=Ns(e,t,1),n=Ns(e,t,8),i=SR(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function zX(e,t){var r=Ps(e,t,19),n=Ps(t,e,29),i=xR(e,t,6),a=r^n^i;return a<0&&(a+=4294967296),a}function jX(e,t){var r=Ns(e,t,19),n=Ns(t,e,29),i=SR(e,t,6),a=r^n^i;return a<0&&(a+=4294967296),a}var g6=Kt,TR=IR;function Fo(){if(!(this instanceof Fo))return new Fo;TR.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}g6.inherits(Fo,TR);var FX=Fo;Fo.blockSize=1024;Fo.outSize=384;Fo.hmacStrength=192;Fo.padLength=128;Fo.prototype._digest=function(t){return t==="hex"?g6.toHex32(this.h.slice(0,12),"big"):g6.split32(this.h.slice(0,12),"big")};g0.sha1=uX;g0.sha224=AX;g0.sha256=AR;g0.sha384=FX;g0.sha512=IR;var BR={},xu=Kt,$X=b0,zb=xu.rotl32,bE=xu.sum32,eh=xu.sum32_3,gE=xu.sum32_4,OR=$X.BlockHash;function Fs(){if(!(this instanceof Fs))return new Fs;OR.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}xu.inherits(Fs,OR);BR.ripemd160=Fs;Fs.blockSize=512;Fs.outSize=160;Fs.hmacStrength=192;Fs.padLength=64;Fs.prototype._update=function(t,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],f=n,c=i,u=a,l=s,h=o,g=0;g<80;g++){var m=bE(zb(gE(n,yE(g,i,a,s),t[QX[g]+r],qX(g)),VX[g]),o);n=o,o=s,s=zb(a,10),a=i,i=m,m=bE(zb(gE(f,yE(79-g,c,u,l),t[YX[g]+r],KX(g)),GX[g]),h),f=h,h=l,l=zb(u,10),u=c,c=m}m=eh(this.h[1],a,l),this.h[1]=eh(this.h[2],s,h),this.h[2]=eh(this.h[3],o,f),this.h[3]=eh(this.h[4],n,c),this.h[4]=eh(this.h[0],i,u),this.h[0]=m};Fs.prototype._digest=function(t){return t==="hex"?xu.toHex32(this.h,"little"):xu.split32(this.h,"little")};function yE(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function qX(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function KX(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var QX=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],YX=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],VX=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],GX=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],WX=Kt,XX=Ac;function Ld(e,t,r){if(!(this instanceof Ld))return new Ld(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(WX.toArray(t,r))}var ZX=Ld;Ld.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),XX(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};Ld.prototype.update=function(t,r){return this.inner.update(t,r),this};Ld.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(e){var t=e;t.utils=Kt,t.common=b0,t.sha=g0,t.ripemd=BR,t.hmac=ZX,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(p0);var Z_,vE;function JX(){return vE||(vE=1,Z_={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Z_}(function(e){var t=e,r=p0,n=j5,i=Pi,a=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function o(c,u){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=JX()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(J2);var tZ=p0,cu=V2,DR=Ac;function uc(e){if(!(this instanceof uc))return new uc(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=cu.toArray(e.entropy,e.entropyEnc||"hex"),r=cu.toArray(e.nonce,e.nonceEnc||"hex"),n=cu.toArray(e.pers,e.persEnc||"hex");DR(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var MR=uc;uc.prototype._init=function(t,r,n){var i=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};uc.prototype._hmac=function(){return new tZ.hmac(this.hash,this.K)};uc.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};uc.prototype.reseed=function(t,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),t=cu.toArray(t,r),n=cu.toArray(n,i),DR(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};uc.prototype.generate=function(t,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=cu.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<t;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,t);return this._update(n),this._reseed++,cu.encode(s,r)};var eZ=Sr,rZ=Pi,y6=rZ.assert;function En(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var nZ=En;En.fromPublic=function(t,r,n){return r instanceof En?r:new En(t,{pub:r,pubEnc:n})};En.fromPrivate=function(t,r,n){return r instanceof En?r:new En(t,{priv:r,privEnc:n})};En.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};En.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};En.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};En.prototype._importPrivate=function(t,r){this.priv=new eZ(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};En.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?y6(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&y6(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};En.prototype.derive=function(t){return t.validate()||y6(t.validate(),"public point not validated"),t.mul(this.priv).getX()};En.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};En.prototype.verify=function(t,r,n){return this.ec.verify(t,r,this,void 0,n)};En.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ay=Sr,$5=Pi,iZ=$5.assert;function ev(e,t){if(e instanceof ev)return e;this._importDER(e,t)||(iZ(e.r&&e.s,"Signature without r or s"),this.r=new Ay(e.r,16),this.s=new Ay(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var aZ=ev;function sZ(){this.place=0}function J_(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function _E(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}ev.prototype._importDER=function(t,r){t=$5.toArray(t,r);var n=new sZ;if(t[n.place++]!==48)return!1;var i=J_(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var a=J_(t,n);if(a===!1||t[n.place]&128)return!1;var s=t.slice(n.place,a+n.place);if(n.place+=a,t[n.place++]!==2)return!1;var o=J_(t,n);if(o===!1||t.length!==o+n.place||t[n.place]&128)return!1;var f=t.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Ay(s),this.s=new Ay(f),this.recoveryParam=null,!0};function tm(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}ev.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=_E(r),n=_E(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];tm(i,r.length),i=i.concat(r),i.push(2),tm(i,n.length);var a=i.concat(n),s=[48];return tm(s,a.length),s=s.concat(a),$5.encode(s,t)};var So=Sr,RR=MR,oZ=Pi,em=J2,fZ=G2,LR=oZ.assert,q5=nZ,rv=aZ;function _a(e){if(!(this instanceof _a))return new _a(e);typeof e=="string"&&(LR(Object.prototype.hasOwnProperty.call(em,e),"Unknown curve "+e),e=em[e]),e instanceof em.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var cZ=_a;_a.prototype.keyPair=function(t){return new q5(this,t)};_a.prototype.keyFromPrivate=function(t,r){return q5.fromPrivate(this,t,r)};_a.prototype.keyFromPublic=function(t,r){return q5.fromPublic(this,t,r)};_a.prototype.genKeyPair=function(t){t||(t={});for(var r=new RR({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||fZ(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new So(2));;){var a=new So(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};_a.prototype._truncateToN=function(t,r,n){var i;if(So.isBN(t)||typeof t=="number")t=new So(t,16),i=t.byteLength();else if(typeof t=="object")i=t.length,t=new So(t,16);else{var a=t.toString();i=a.length+1>>>1,t=new So(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(t=t.ushrn(s)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};_a.prototype.sign=function(t,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(t,!1,i.msgBitLength);for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=t.toArray("be",a),f=new RR({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new So(1)),u=0;;u++){var l=i.k?i.k(u):new So(f.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(c)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var g=h.getX(),m=g.umod(this.n);if(m.cmpn(0)!==0){var A=l.invm(this.n).mul(m.mul(r.getPrivate()).iadd(t));if(A=A.umod(this.n),A.cmpn(0)!==0){var S=(h.getY().isOdd()?1:0)|(g.cmp(m)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),S^=1),new rv({r:m,s:A,recoveryParam:S})}}}}}};_a.prototype.verify=function(t,r,n,i,a){a||(a={}),t=this._truncateToN(t,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new rv(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),c=f.mul(t).umod(this.n),u=f.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};_a.prototype.recoverPubKey=function(e,t,r,n){LR((3&r)===r,"The recovery param is more than two bits"),t=new rv(t,n);var i=this.n,a=new So(e),s=t.r,o=t.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=t.r.invm(i),l=i.sub(a).mul(u).umod(i),h=o.mul(u).umod(i);return this.g.mulAdd(l,s,h)};_a.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new rv(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var z1=Pi,HR=z1.assert,mE=z1.parseBytes,v0=z1.cachedProperty;function kr(e,t){this.eddsa=e,this._secret=mE(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=mE(t.pub)}kr.fromPublic=function(t,r){return r instanceof kr?r:new kr(t,{pub:r})};kr.fromSecret=function(t,r){return r instanceof kr?r:new kr(t,{secret:r})};kr.prototype.secret=function(){return this._secret};v0(kr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});v0(kr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});v0(kr,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});v0(kr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});v0(kr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});v0(kr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});kr.prototype.sign=function(t){return HR(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};kr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};kr.prototype.getSecret=function(t){return HR(this._secret,"KeyPair is public only"),z1.encode(this.secret(),t)};kr.prototype.getPublic=function(t){return z1.encode(this.pubBytes(),t)};var uZ=kr,lZ=Sr,nv=Pi,wE=nv.assert,iv=nv.cachedProperty,dZ=nv.parseBytes;function ku(e,t){this.eddsa=e,typeof t!="object"&&(t=dZ(t)),Array.isArray(t)&&(wE(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),wE(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof lZ&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}iv(ku,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});iv(ku,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});iv(ku,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});iv(ku,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});ku.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};ku.prototype.toHex=function(){return nv.encode(this.toBytes(),"hex").toUpperCase()};var hZ=ku,pZ=p0,bZ=J2,Hd=Pi,gZ=Hd.assert,PR=Hd.parseBytes,NR=uZ,AE=hZ;function si(e){if(gZ(e==="ed25519","only tested with ed25519 so far"),!(this instanceof si))return new si(e);e=bZ[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=pZ.sha512}var yZ=si;si.prototype.sign=function(t,r){t=PR(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};si.prototype.verify=function(t,r,n){if(t=PR(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),t),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};si.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Hd.intFromLE(t.digest()).umod(this.curve.n)};si.prototype.keyFromPublic=function(t){return NR.fromPublic(this,t)};si.prototype.keyFromSecret=function(t){return NR.fromSecret(this,t)};si.prototype.makeSignature=function(t){return t instanceof AE?t:new AE(this,t)};si.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};si.prototype.decodePoint=function(t){t=Hd.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,a=Hd.intFromLE(n);return this.curve.pointFromY(a,i)};si.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};si.prototype.decodeInt=function(t){return Hd.intFromLE(t)};si.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=bW.version,t.utils=Pi,t.rand=G2,t.curve=j5,t.curves=J2,t.ec=cZ,t.eddsa=yZ})(uR);const vZ=zx(uR);var EE;(function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"})(EE||(EE={}));new vZ.ec("secp256k1");var xE;(function(e){e.Mainnet="ckb",e.Testnet="ckt"})(xE||(xE={}));var SE;(function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"})(SE||(SE={}));var CE;(function(e){e.Bech32="bech32",e.Bech32m="bech32m"})(CE||(CE={}));var v6={exports:{}};(function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jn<"u"&&jn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof o<"u"&&o,f={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function c(v){return v&&DataView.prototype.isPrototypeOf(v)}if(f.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function g(v){return typeof v!="string"&&(v=String(v)),v}function m(v){var d={next:function(){var y=v.shift();return{done:y===void 0,value:y}}};return f.iterable&&(d[Symbol.iterator]=function(){return d}),d}function A(v){this.map={},v instanceof A?v.forEach(function(d,y){this.append(y,d)},this):Array.isArray(v)?v.forEach(function(d){this.append(d[0],d[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(d){this.append(d,v[d])},this)}A.prototype.append=function(v,d){v=h(v),d=g(d);var y=this.map[v];this.map[v]=y?y+", "+d:d},A.prototype.delete=function(v){delete this.map[h(v)]},A.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},A.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},A.prototype.set=function(v,d){this.map[h(v)]=g(d)},A.prototype.forEach=function(v,d){for(var y in this.map)this.map.hasOwnProperty(y)&&v.call(d,this.map[y],y,this)},A.prototype.keys=function(){var v=[];return this.forEach(function(d,y){v.push(y)}),m(v)},A.prototype.values=function(){var v=[];return this.forEach(function(d){v.push(d)}),m(v)},A.prototype.entries=function(){var v=[];return this.forEach(function(d,y){v.push([y,d])}),m(v)},f.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function S(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function w(v){return new Promise(function(d,y){v.onload=function(){d(v.result)},v.onerror=function(){y(v.error)}})}function C(v){var d=new FileReader,y=w(d);return d.readAsArrayBuffer(v),y}function B(v){var d=new FileReader,y=w(d);return d.readAsText(v),y}function M(v){for(var d=new Uint8Array(v),y=new Array(d.length),x=0;x<d.length;x++)y[x]=String.fromCharCode(d[x]);return y.join("")}function N(v){if(v.slice)return v.slice(0);var d=new Uint8Array(v.byteLength);return d.set(new Uint8Array(v)),d.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:f.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:f.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():f.arrayBuffer&&f.blob&&c(v)?(this._bodyArrayBuffer=N(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||l(v))?this._bodyArrayBuffer=N(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=S(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var v=S(this);if(v)return v;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function j(v){var d=v.toUpperCase();return Q.indexOf(d)>-1?d:v}function G(v,d){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d=d||{};var y=d.body;if(v instanceof G){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,d.headers||(this.headers=new A(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!y&&v._bodyInit!=null&&(y=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new A(d.headers)),this.method=j(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(y),(this.method==="GET"||this.method==="HEAD")&&(d.cache==="no-store"||d.cache==="no-cache")){var x=/([?&])_=[^&]*/;if(x.test(this.url))this.url=this.url.replace(x,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function W(v){var d=new FormData;return v.trim().split("&").forEach(function(y){if(y){var x=y.split("="),E=x.shift().replace(/\+/g," "),p=x.join("=").replace(/\+/g," ");d.append(decodeURIComponent(E),decodeURIComponent(p))}}),d}function R(v){var d=new A,y=v.replace(/\r?\n[\t ]+/g," ");return y.split("\r").map(function(x){return x.indexOf(`
`)===0?x.substr(1,x.length):x}).forEach(function(x){var E=x.split(":"),p=E.shift().trim();if(p){var T=E.join(":").trim();d.append(p,T)}}),d}K.call(G.prototype);function _(v,d){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText=d.statusText===void 0?"":""+d.statusText,this.headers=new A(d.headers),this.url=d.url||"",this._initBody(v)}K.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},_.error=function(){var v=new _(null,{status:0,statusText:""});return v.type="error",v};var I=[301,302,303,307,308];_.redirect=function(v,d){if(I.indexOf(d)===-1)throw new RangeError("Invalid status code");return new _(null,{status:d,headers:{location:v}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,y){this.message=d,this.name=y;var x=Error(d);this.stack=x.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(v,d){return new Promise(function(y,x){var E=new G(v,d);if(E.signal&&E.signal.aborted)return x(new s.DOMException("Aborted","AbortError"));var p=new XMLHttpRequest;function T(){p.abort()}p.onload=function(){var L={status:p.status,statusText:p.statusText,headers:R(p.getAllResponseHeaders()||"")};L.url="responseURL"in p?p.responseURL:L.headers.get("X-Request-URL");var k="response"in p?p.response:p.responseText;setTimeout(function(){y(new _(k,L))},0)},p.onerror=function(){setTimeout(function(){x(new TypeError("Network request failed"))},0)},p.ontimeout=function(){setTimeout(function(){x(new TypeError("Network request failed"))},0)},p.onabort=function(){setTimeout(function(){x(new s.DOMException("Aborted","AbortError"))},0)};function F(L){try{return L===""&&o.location.href?o.location.href:L}catch{return L}}p.open(E.method,F(E.url),!0),E.credentials==="include"?p.withCredentials=!0:E.credentials==="omit"&&(p.withCredentials=!1),"responseType"in p&&(f.blob?p.responseType="blob":f.arrayBuffer&&E.headers.get("Content-Type")&&E.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(p.responseType="arraybuffer")),d&&typeof d.headers=="object"&&!(d.headers instanceof A)?Object.getOwnPropertyNames(d.headers).forEach(function(L){p.setRequestHeader(L,g(d.headers[L]))}):E.headers.forEach(function(L,k){p.setRequestHeader(k,L)}),E.signal&&(E.signal.addEventListener("abort",T),p.onreadystatechange=function(){p.readyState===4&&E.signal.removeEventListener("abort",T)}),p.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=A,o.Request=G,o.Response=_),s.Headers=A,s.Request=G,s.Response=_,s.fetch=b,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(v6,v6.exports);var _Z=v6.exports;const mZ=zx(_Z),wZ=globalThis.crypto,Jh=wZ.subtle;var AZ=()=>Date.now(),EZ=class{constructor(e){this.url=e}async baseRPC(e,t,r=this.url){const n={id:AZ(),jsonrpc:"2.0",method:e,params:t??null},i=JSON.stringify(n,null,""),a=await mZ(r,{method:"post",headers:{"Content-Type":"application/json"},body:i}).then(async s=>s.json());if(a.error!=null)throw new Error(`RPC error: ${JSON.stringify(a.error)}`);return a.result}async generateSubkeyUnlockSmt(e){return await this.baseRPC("generate_subkey_unlock_smt",e)}};function xZ(e){const t=Array.from(new Uint8Array(e),s=>`00${s.toString(16)}`.slice(-2)).join(""),r=Number.parseInt(t.substr(6,2),16)*2;let n=t.substr(8,r),i=t.substr(12+r);n=n.length>64?n.substr(-64):n.padStart(64,"0"),i=i.length>64?i.substr(-64):i.padStart(64,"0");const a=`${n}${i}`;return new Uint8Array(a.match(/[\da-f]{2}/gi).map(s=>Number.parseInt(s,16)))}var SZ=(e,t)=>{try{const r=$G(zG(t));return JSON.parse(r).challenge===Kc(FG(e))}catch{return!1}},CZ=async(e,t,r)=>{try{const n="RSASSA-PKCS1-v1_5",i=nR(r),a=_y(e),s=_y(t),o=new Uint8Array(i.slice(0,3)).reverse(),f=new Uint8Array(i.slice(4)).reverse(),c={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Kc(o),n:Kc(f)},u=await Jh.importKey("jwk",c,{name:n,hash:"SHA-256"},!1,["verify"]);return await Jh.verify(n,u,s,a)}catch(n){return console.error(n),!1}},IZ=async({message:e,signature:t,pubkey:r,challenge:n,alg:i})=>{try{const a=nR(`${r}`),s=_y(e),o=_y(t),f=s.slice(0,37),c=s.slice(37);if(!SZ(n,c))return!1;const u=await Jh.digest("SHA-256",c),l=jG(f,u),h=i===h6.ES256,g=h?{kty:"EC",crv:"P-256",x:Kc(a.slice(0,32)),y:Kc(a.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Kc(new Uint8Array(a.slice(0,3)).reverse()),n:Kc(new Uint8Array(a.slice(4)).reverse())},m=h?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},A=await Jh.importKey("jwk",g,m,!1,["verify"]);return await Jh.verify(m,A,i===h6.RS256?o:xZ(o),l)}catch(a){return console.error(a),!1}},TZ=async e=>{const{message:t,signature:r,pubkey:n,keyType:i}=e;return i==="main_key"||i==="sub_key"?IZ(e):CZ(t,r,n)};function BZ(e,t,r){const n=typeof e=="string"?e:vt(e).slice(2),{publicKey:i,keyType:a}=JSON.parse(r);return TZ({challenge:n,pubkey:i,keyType:a,...JSON.parse(t)})}var _6={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=zo,n=r.Buffer;function i(s,o){for(var f in s)o[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a);function a(s,o,f){return n(s,o,f)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,f)},a.alloc=function(s,o,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return o!==void 0?typeof f=="string"?c.fill(o,f):c.fill(o):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(_6,_6.exports);var rn=_6.exports,m6={exports:{}},K5={exports:{}},kl=typeof Reflect=="object"?Reflect:null,IE=kl&&typeof kl.apply=="function"?kl.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},pg;kl&&typeof kl.ownKeys=="function"?pg=kl.ownKeys:Object.getOwnPropertySymbols?pg=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:pg=function(t){return Object.getOwnPropertyNames(t)};function OZ(e){console&&console.warn&&console.warn(e)}var UR=Number.isNaN||function(t){return t!==t};function ce(){ce.init.call(this)}K5.exports=ce;K5.exports.once=LZ;ce.EventEmitter=ce;ce.prototype._events=void 0;ce.prototype._eventsCount=0;ce.prototype._maxListeners=void 0;var TE=10;function av(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ce,"defaultMaxListeners",{enumerable:!0,get:function(){return TE},set:function(e){if(typeof e!="number"||e<0||UR(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");TE=e}});ce.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ce.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||UR(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function kR(e){return e._maxListeners===void 0?ce.defaultMaxListeners:e._maxListeners}ce.prototype.getMaxListeners=function(){return kR(this)};ce.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var f=a[t];if(f===void 0)return!1;if(typeof f=="function")IE(f,this,r);else for(var c=f.length,u=qR(f,c),n=0;n<c;++n)IE(u[n],this,r);return!0};function zR(e,t,r,n){var i,a,s;if(av(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),s===void 0)s=a[t]=r,++e._eventsCount;else if(typeof s=="function"?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=kR(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,OZ(o)}return e}ce.prototype.addListener=function(t,r){return zR(this,t,r,!1)};ce.prototype.on=ce.prototype.addListener;ce.prototype.prependListener=function(t,r){return zR(this,t,r,!0)};function DZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jR(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=DZ.bind(n);return i.listener=r,n.wrapFn=i,i}ce.prototype.once=function(t,r){return av(r),this.on(t,jR(this,t,r)),this};ce.prototype.prependOnceListener=function(t,r){return av(r),this.prependListener(t,jR(this,t,r)),this};ce.prototype.removeListener=function(t,r){var n,i,a,s,o;if(av(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():MZ(n,a),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,o||r)}return this};ce.prototype.off=ce.prototype.removeListener;ce.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function FR(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?RZ(i):qR(i,i.length)}ce.prototype.listeners=function(t){return FR(this,t,!0)};ce.prototype.rawListeners=function(t){return FR(this,t,!1)};ce.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):$R.call(e,t)};ce.prototype.listenerCount=$R;function $R(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ce.prototype.eventNames=function(){return this._eventsCount>0?pg(this._events):[]};function qR(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function MZ(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function RZ(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function LZ(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,a),n(s)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}KR(e,t,a,{once:!0}),t!=="error"&&HZ(e,i,{once:!0})})}function HZ(e,t,r){typeof e.on=="function"&&KR(e,"error",t,r)}function KR(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var QR=K5.exports,YR=QR.EventEmitter,rm,BE;function PZ(){if(BE)return rm;BE=1;function e(m,A){var S=Object.keys(m);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(m);A&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),S.push.apply(S,w)}return S}function t(m){for(var A=1;A<arguments.length;A++){var S=arguments[A]!=null?arguments[A]:{};A%2?e(Object(S),!0).forEach(function(w){r(m,w,S[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(S)):e(Object(S)).forEach(function(w){Object.defineProperty(m,w,Object.getOwnPropertyDescriptor(S,w))})}return m}function r(m,A,S){return A=s(A),A in m?Object.defineProperty(m,A,{value:S,enumerable:!0,configurable:!0,writable:!0}):m[A]=S,m}function n(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")}function i(m,A){for(var S=0;S<A.length;S++){var w=A[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,s(w.key),w)}}function a(m,A,S){return A&&i(m.prototype,A),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var A=o(m,"string");return typeof A=="symbol"?A:String(A)}function o(m,A){if(typeof m!="object"||m===null)return m;var S=m[Symbol.toPrimitive];if(S!==void 0){var w=S.call(m,A||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(m)}var f=zo,c=f.Buffer,u=U1,l=u.inspect,h=l&&l.custom||"inspect";function g(m,A,S){c.prototype.copy.call(m,A,S)}return rm=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return a(m,[{key:"push",value:function(S){var w={data:S,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(S){var w={data:S,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var w=this.head,C=""+w.data;w=w.next;)C+=S+w.data;return C}},{key:"concat",value:function(S){if(this.length===0)return c.alloc(0);for(var w=c.allocUnsafe(S>>>0),C=this.head,B=0;C;)g(C.data,w,B),B+=C.data.length,C=C.next;return w}},{key:"consume",value:function(S,w){var C;return S<this.head.data.length?(C=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):S===this.head.data.length?C=this.shift():C=w?this._getString(S):this._getBuffer(S),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var w=this.head,C=1,B=w.data;for(S-=B.length;w=w.next;){var M=w.data,N=S>M.length?M.length:S;if(N===M.length?B+=M:B+=M.slice(0,S),S-=N,S===0){N===M.length?(++C,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(N));break}++C}return this.length-=C,B}},{key:"_getBuffer",value:function(S){var w=c.allocUnsafe(S),C=this.head,B=1;for(C.data.copy(w),S-=C.data.length;C=C.next;){var M=C.data,N=S>M.length?M.length:S;if(M.copy(w,w.length-S,0,N),S-=N,S===0){N===M.length?(++B,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=M.slice(N));break}++B}return this.length-=B,w}},{key:h,value:function(S,w){return l(this,t(t({},w),{},{depth:0,customInspect:!1}))}}]),m}(),rm}function NZ(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(w6,this,e)):process.nextTick(w6,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(a){!t&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(bg,r):(r._writableState.errorEmitted=!0,process.nextTick(OE,r,a)):process.nextTick(OE,r,a):t?(process.nextTick(bg,r),t(a)):process.nextTick(bg,r)}),this)}function OE(e,t){w6(e,t),bg(e)}function bg(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function UZ(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function w6(e,t){e.emit("error",t)}function kZ(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var VR={destroy:NZ,undestroy:UZ,errorOrDestroy:kZ},zu={};function zZ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var GR={};function Ta(e,t,r){r||(r=Error);function n(a,s,o){return typeof t=="string"?t:t(a,s,o)}var i=function(a){zZ(s,a);function s(o,f,c){return a.call(this,n(o,f,c))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=e,GR[e]=i}function DE(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function jZ(e,t,r){return e.substr(0,t.length)===t}function FZ(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function $Z(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Ta("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Ta("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&jZ(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(FZ(e," argument"))i="The ".concat(e," ").concat(n," ").concat(DE(t,"type"));else{var a=$Z(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(DE(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ta("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ta("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Ta("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ta("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Ta("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ta("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ta("ERR_STREAM_WRITE_AFTER_END","write after end");Ta("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ta("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Ta("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");zu.codes=GR;var qZ=zu.codes.ERR_INVALID_OPT_VALUE;function KZ(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function QZ(e,t,r,n){var i=KZ(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new qZ(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var WR={getHighWaterMark:QZ},YZ=VZ;function VZ(e,t){if(nm("noDeprecation"))return e;var r=!1;function n(){if(!r){if(nm("throwDeprecation"))throw new Error(t);nm("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function nm(e){try{if(!jn.localStorage)return!1}catch{return!1}var t=jn.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var im,ME;function XR(){if(ME)return im;ME=1,im=j;function e(H){var q=this;this.next=null,this.entry=null,this.finish=function(){$(q,H)}}var t;j.WritableState=K;var r={deprecate:YZ},n=YR,i=zo.Buffer,a=(typeof jn<"u"?jn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(H){return i.from(H)}function o(H){return i.isBuffer(H)||H instanceof a}var f=VR,c=WR,u=c.getHighWaterMark,l=zu.codes,h=l.ERR_INVALID_ARG_TYPE,g=l.ERR_METHOD_NOT_IMPLEMENTED,m=l.ERR_MULTIPLE_CALLBACK,A=l.ERR_STREAM_CANNOT_PIPE,S=l.ERR_STREAM_DESTROYED,w=l.ERR_STREAM_NULL_VALUES,C=l.ERR_STREAM_WRITE_AFTER_END,B=l.ERR_UNKNOWN_ENCODING,M=f.errorOrDestroy;Ye(j,n);function N(){}function K(H,q,X){t=t||Pd(),H=H||{},typeof X!="boolean"&&(X=q instanceof t),this.objectMode=!!H.objectMode,X&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=u(this,H,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var et=H.decodeStrings===!1;this.decodeStrings=!et,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(rt){d(q,rt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}K.prototype.getBuffer=function(){for(var q=this.bufferedRequest,X=[];q;)X.push(q),q=q.next;return X},function(){try{Object.defineProperty(K.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(q){return Q.call(this,q)?!0:this!==j?!1:q&&q._writableState instanceof K}})):Q=function(q){return q instanceof this};function j(H){t=t||Pd();var q=this instanceof t;if(!q&&!Q.call(j,this))return new j(H);this._writableState=new K(H,this,q),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),n.call(this)}j.prototype.pipe=function(){M(this,new A)};function G(H,q){var X=new C;M(H,X),process.nextTick(q,X)}function W(H,q,X,et){var rt;return X===null?rt=new w:typeof X!="string"&&!q.objectMode&&(rt=new h("chunk",["string","Buffer"],X)),rt?(M(H,rt),process.nextTick(et,rt),!1):!0}j.prototype.write=function(H,q,X){var et=this._writableState,rt=!1,U=!et.objectMode&&o(H);return U&&!i.isBuffer(H)&&(H=s(H)),typeof q=="function"&&(X=q,q=null),U?q="buffer":q||(q=et.defaultEncoding),typeof X!="function"&&(X=N),et.ending?G(this,X):(U||W(this,et,H,X))&&(et.pendingcb++,rt=_(this,et,U,H,q,X)),rt},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&E(this,H))},j.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((q+"").toLowerCase())>-1))throw new B(q);return this._writableState.defaultEncoding=q,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(H,q,X){return!H.objectMode&&H.decodeStrings!==!1&&typeof q=="string"&&(q=i.from(q,X)),q}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _(H,q,X,et,rt,U){if(!X){var P=R(q,et,rt);et!==P&&(X=!0,rt="buffer",et=P)}var nt=q.objectMode?1:et.length;q.length+=nt;var ft=q.length<q.highWaterMark;if(ft||(q.needDrain=!0),q.writing||q.corked){var dt=q.lastBufferedRequest;q.lastBufferedRequest={chunk:et,encoding:rt,isBuf:X,callback:U,next:null},dt?dt.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else I(H,q,!1,nt,et,rt,U);return ft}function I(H,q,X,et,rt,U,P){q.writelen=et,q.writecb=P,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new S("write")):X?H._writev(rt,q.onwrite):H._write(rt,U,q.onwrite),q.sync=!1}function b(H,q,X,et,rt){--q.pendingcb,X?(process.nextTick(rt,et),process.nextTick(L,H,q),H._writableState.errorEmitted=!0,M(H,et)):(rt(et),H._writableState.errorEmitted=!0,M(H,et),L(H,q))}function v(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function d(H,q){var X=H._writableState,et=X.sync,rt=X.writecb;if(typeof rt!="function")throw new m;if(v(X),q)b(H,X,et,q,rt);else{var U=p(X)||H.destroyed;!U&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&E(H,X),et?process.nextTick(y,H,X,U,rt):y(H,X,U,rt)}}function y(H,q,X,et){X||x(H,q),q.pendingcb--,et(),L(H,q)}function x(H,q){q.length===0&&q.needDrain&&(q.needDrain=!1,H.emit("drain"))}function E(H,q){q.bufferProcessing=!0;var X=q.bufferedRequest;if(H._writev&&X&&X.next){var et=q.bufferedRequestCount,rt=new Array(et),U=q.corkedRequestsFree;U.entry=X;for(var P=0,nt=!0;X;)rt[P]=X,X.isBuf||(nt=!1),X=X.next,P+=1;rt.allBuffers=nt,I(H,q,!0,q.length,rt,"",U.finish),q.pendingcb++,q.lastBufferedRequest=null,U.next?(q.corkedRequestsFree=U.next,U.next=null):q.corkedRequestsFree=new e(q),q.bufferedRequestCount=0}else{for(;X;){var ft=X.chunk,dt=X.encoding,V=X.callback,J=q.objectMode?1:ft.length;if(I(H,q,!1,J,ft,dt,V),X=X.next,q.bufferedRequestCount--,q.writing)break}X===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=X,q.bufferProcessing=!1}j.prototype._write=function(H,q,X){X(new g("_write()"))},j.prototype._writev=null,j.prototype.end=function(H,q,X){var et=this._writableState;return typeof H=="function"?(X=H,H=null,q=null):typeof q=="function"&&(X=q,q=null),H!=null&&this.write(H,q),et.corked&&(et.corked=1,this.uncork()),et.ending||k(this,et,X),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function p(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function T(H,q){H._final(function(X){q.pendingcb--,X&&M(H,X),q.prefinished=!0,H.emit("prefinish"),L(H,q)})}function F(H,q){!q.prefinished&&!q.finalCalled&&(typeof H._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,process.nextTick(T,H,q)):(q.prefinished=!0,H.emit("prefinish")))}function L(H,q){var X=p(q);if(X&&(F(H,q),q.pendingcb===0&&(q.finished=!0,H.emit("finish"),q.autoDestroy))){var et=H._readableState;(!et||et.autoDestroy&&et.endEmitted)&&H.destroy()}return X}function k(H,q,X){q.ending=!0,L(H,q),X&&(q.finished?process.nextTick(X):H.once("finish",X)),q.ended=!0,H.writable=!1}function $(H,q,X){var et=H.entry;for(H.entry=null;et;){var rt=et.callback;q.pendingcb--,rt(X),et=et.next}q.corkedRequestsFree.next=H}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(q){this._writableState&&(this._writableState.destroyed=q)}}),j.prototype.destroy=f.destroy,j.prototype._undestroy=f.undestroy,j.prototype._destroy=function(H,q){q(H)},im}var am,RE;function Pd(){if(RE)return am;RE=1;var e=Object.keys||function(c){var u=[];for(var l in c)u.push(l);return u};am=s;var t=JR(),r=XR();Ye(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(c){if(!(this instanceof s))return new s(c);t.call(this,c),r.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(f,this)}function f(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),am}var Ey={},Q5=rn.Buffer,LE=Q5.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function GZ(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function WZ(e){var t=GZ(e);if(typeof t!="string"&&(Q5.isEncoding===LE||!LE(e)))throw new Error("Unknown encoding: "+e);return t||e}Ey.StringDecoder=j1;function j1(e){this.encoding=WZ(e);var t;switch(this.encoding){case"utf16le":this.text=rJ,this.end=nJ,t=4;break;case"utf8":this.fillLast=JZ,t=4;break;case"base64":this.text=iJ,this.end=aJ,t=3;break;default:this.write=sJ,this.end=oJ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Q5.allocUnsafe(t)}j1.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};j1.prototype.end=eJ;j1.prototype.text=tJ;j1.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function sm(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function XZ(e,t,r){var n=t.length-1;if(n<r)return 0;var i=sm(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=sm(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=sm(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ZZ(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function JZ(e){var t=this.lastTotal-this.lastNeed,r=ZZ(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function tJ(e,t){var r=XZ(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function eJ(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function rJ(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function nJ(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function iJ(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function aJ(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function sJ(e){return e.toString(this.encoding)}function oJ(e){return e&&e.length?this.write(e):""}var HE=zu.codes.ERR_STREAM_PREMATURE_CLOSE;function fJ(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function cJ(){}function uJ(e){return e.setHeader&&typeof e.abort=="function"}function ZR(e,t,r){if(typeof t=="function")return ZR(e,null,t);t||(t={}),r=fJ(r||cJ);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,a=function(){e.writable||o()},s=e._writableState&&e._writableState.finished,o=function(){i=!1,s=!0,n||r.call(e)},f=e._readableState&&e._readableState.endEmitted,c=function(){n=!1,f=!0,i||r.call(e)},u=function(m){r.call(e,m)},l=function(){var m;if(n&&!f)return(!e._readableState||!e._readableState.ended)&&(m=new HE),r.call(e,m);if(i&&!s)return(!e._writableState||!e._writableState.ended)&&(m=new HE),r.call(e,m)},h=function(){e.req.on("finish",o)};return uJ(e)?(e.on("complete",o),e.on("abort",l),e.req?h():e.on("request",h)):i&&!e._writableState&&(e.on("end",a),e.on("close",a)),e.on("end",c),e.on("finish",o),t.error!==!1&&e.on("error",u),e.on("close",l),function(){e.removeListener("complete",o),e.removeListener("abort",l),e.removeListener("request",h),e.req&&e.req.removeListener("finish",o),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",o),e.removeListener("end",c),e.removeListener("error",u),e.removeListener("close",l)}}var Y5=ZR,om,PE;function lJ(){if(PE)return om;PE=1;var e;function t(B,M,N){return M=r(M),M in B?Object.defineProperty(B,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[M]=N,B}function r(B){var M=n(B,"string");return typeof M=="symbol"?M:String(M)}function n(B,M){if(typeof B!="object"||B===null)return B;var N=B[Symbol.toPrimitive];if(N!==void 0){var K=N.call(B,M||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(B)}var i=Y5,a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),c=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function h(B,M){return{value:B,done:M}}function g(B){var M=B[a];if(M!==null){var N=B[l].read();N!==null&&(B[c]=null,B[a]=null,B[s]=null,M(h(N,!1)))}}function m(B){process.nextTick(g,B)}function A(B,M){return function(N,K){B.then(function(){if(M[f]){N(h(void 0,!0));return}M[u](N,K)},K)}}var S=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((e={get stream(){return this[l]},next:function(){var M=this,N=this[o];if(N!==null)return Promise.reject(N);if(this[f])return Promise.resolve(h(void 0,!0));if(this[l].destroyed)return new Promise(function(G,W){process.nextTick(function(){M[o]?W(M[o]):G(h(void 0,!0))})});var K=this[c],Q;if(K)Q=new Promise(A(K,this));else{var j=this[l].read();if(j!==null)return Promise.resolve(h(j,!1));Q=new Promise(this[u])}return this[c]=Q,Q}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var M=this;return new Promise(function(N,K){M[l].destroy(null,function(Q){if(Q){K(Q);return}N(h(void 0,!0))})})}),e),S),C=function(M){var N,K=Object.create(w,(N={},t(N,l,{value:M,writable:!0}),t(N,a,{value:null,writable:!0}),t(N,s,{value:null,writable:!0}),t(N,o,{value:null,writable:!0}),t(N,f,{value:M._readableState.endEmitted,writable:!0}),t(N,u,{value:function(j,G){var W=K[l].read();W?(K[c]=null,K[a]=null,K[s]=null,j(h(W,!1))):(K[a]=j,K[s]=G)},writable:!0}),N));return K[c]=null,i(M,function(Q){if(Q&&Q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=K[s];j!==null&&(K[c]=null,K[a]=null,K[s]=null,j(Q)),K[o]=Q;return}var G=K[a];G!==null&&(K[c]=null,K[a]=null,K[s]=null,G(h(void 0,!0))),K[f]=!0}),M.on("readable",m.bind(null,K)),K};return om=C,om}var fm,NE;function dJ(){return NE||(NE=1,fm=function(){throw new Error("Readable.from is not available in the browser")}),fm}var cm,UE;function JR(){if(UE)return cm;UE=1,cm=G;var e;G.ReadableState=j,QR.EventEmitter;var t=function(P,nt){return P.listeners(nt).length},r=YR,n=zo.Buffer,i=(typeof jn<"u"?jn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(U){return n.from(U)}function s(U){return n.isBuffer(U)||U instanceof i}var o=U1,f;o&&o.debuglog?f=o.debuglog("stream"):f=function(){};var c=PZ(),u=VR,l=WR,h=l.getHighWaterMark,g=zu.codes,m=g.ERR_INVALID_ARG_TYPE,A=g.ERR_STREAM_PUSH_AFTER_EOF,S=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,B,M;Ye(G,r);var N=u.errorOrDestroy,K=["error","close","destroy","pause","resume"];function Q(U,P,nt){if(typeof U.prependListener=="function")return U.prependListener(P,nt);!U._events||!U._events[P]?U.on(P,nt):Array.isArray(U._events[P])?U._events[P].unshift(nt):U._events[P]=[nt,U._events[P]]}function j(U,P,nt){e=e||Pd(),U=U||{},typeof nt!="boolean"&&(nt=P instanceof e),this.objectMode=!!U.objectMode,nt&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=h(this,U,"readableHighWaterMark",nt),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(C||(C=Ey.StringDecoder),this.decoder=new C(U.encoding),this.encoding=U.encoding)}function G(U){if(e=e||Pd(),!(this instanceof G))return new G(U);var P=this instanceof e;this._readableState=new j(U,this,P),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),r.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),G.prototype.destroy=u.destroy,G.prototype._undestroy=u.undestroy,G.prototype._destroy=function(U,P){P(U)},G.prototype.push=function(U,P){var nt=this._readableState,ft;return nt.objectMode?ft=!0:typeof U=="string"&&(P=P||nt.defaultEncoding,P!==nt.encoding&&(U=n.from(U,P),P=""),ft=!0),W(this,U,P,!1,ft)},G.prototype.unshift=function(U){return W(this,U,null,!0,!1)};function W(U,P,nt,ft,dt){f("readableAddChunk",P);var V=U._readableState;if(P===null)V.reading=!1,d(U,V);else{var J;if(dt||(J=_(V,P)),J)N(U,J);else if(V.objectMode||P&&P.length>0)if(typeof P!="string"&&!V.objectMode&&Object.getPrototypeOf(P)!==n.prototype&&(P=a(P)),ft)V.endEmitted?N(U,new w):R(U,V,P,!0);else if(V.ended)N(U,new A);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!nt?(P=V.decoder.write(P),V.objectMode||P.length!==0?R(U,V,P,!1):E(U,V)):R(U,V,P,!1)}else ft||(V.reading=!1,E(U,V))}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function R(U,P,nt,ft){P.flowing&&P.length===0&&!P.sync?(P.awaitDrain=0,U.emit("data",nt)):(P.length+=P.objectMode?1:nt.length,ft?P.buffer.unshift(nt):P.buffer.push(nt),P.needReadable&&y(U)),E(U,P)}function _(U,P){var nt;return!s(P)&&typeof P!="string"&&P!==void 0&&!U.objectMode&&(nt=new m("chunk",["string","Buffer","Uint8Array"],P)),nt}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(U){C||(C=Ey.StringDecoder);var P=new C(U);this._readableState.decoder=P,this._readableState.encoding=this._readableState.decoder.encoding;for(var nt=this._readableState.buffer.head,ft="";nt!==null;)ft+=P.write(nt.data),nt=nt.next;return this._readableState.buffer.clear(),ft!==""&&this._readableState.buffer.push(ft),this._readableState.length=ft.length,this};var I=1073741824;function b(U){return U>=I?U=I:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function v(U,P){return U<=0||P.length===0&&P.ended?0:P.objectMode?1:U!==U?P.flowing&&P.length?P.buffer.head.data.length:P.length:(U>P.highWaterMark&&(P.highWaterMark=b(U)),U<=P.length?U:P.ended?P.length:(P.needReadable=!0,0))}G.prototype.read=function(U){f("read",U),U=parseInt(U,10);var P=this._readableState,nt=U;if(U!==0&&(P.emittedReadable=!1),U===0&&P.needReadable&&((P.highWaterMark!==0?P.length>=P.highWaterMark:P.length>0)||P.ended))return f("read: emitReadable",P.length,P.ended),P.length===0&&P.ended?X(this):y(this),null;if(U=v(U,P),U===0&&P.ended)return P.length===0&&X(this),null;var ft=P.needReadable;f("need readable",ft),(P.length===0||P.length-U<P.highWaterMark)&&(ft=!0,f("length less than watermark",ft)),P.ended||P.reading?(ft=!1,f("reading or ended",ft)):ft&&(f("do read"),P.reading=!0,P.sync=!0,P.length===0&&(P.needReadable=!0),this._read(P.highWaterMark),P.sync=!1,P.reading||(U=v(nt,P)));var dt;return U>0?dt=q(U,P):dt=null,dt===null?(P.needReadable=P.length<=P.highWaterMark,U=0):(P.length-=U,P.awaitDrain=0),P.length===0&&(P.ended||(P.needReadable=!0),nt!==U&&P.ended&&X(this)),dt!==null&&this.emit("data",dt),dt};function d(U,P){if(f("onEofChunk"),!P.ended){if(P.decoder){var nt=P.decoder.end();nt&&nt.length&&(P.buffer.push(nt),P.length+=P.objectMode?1:nt.length)}P.ended=!0,P.sync?y(U):(P.needReadable=!1,P.emittedReadable||(P.emittedReadable=!0,x(U)))}}function y(U){var P=U._readableState;f("emitReadable",P.needReadable,P.emittedReadable),P.needReadable=!1,P.emittedReadable||(f("emitReadable",P.flowing),P.emittedReadable=!0,process.nextTick(x,U))}function x(U){var P=U._readableState;f("emitReadable_",P.destroyed,P.length,P.ended),!P.destroyed&&(P.length||P.ended)&&(U.emit("readable"),P.emittedReadable=!1),P.needReadable=!P.flowing&&!P.ended&&P.length<=P.highWaterMark,H(U)}function E(U,P){P.readingMore||(P.readingMore=!0,process.nextTick(p,U,P))}function p(U,P){for(;!P.reading&&!P.ended&&(P.length<P.highWaterMark||P.flowing&&P.length===0);){var nt=P.length;if(f("maybeReadMore read 0"),U.read(0),nt===P.length)break}P.readingMore=!1}G.prototype._read=function(U){N(this,new S("_read()"))},G.prototype.pipe=function(U,P){var nt=this,ft=this._readableState;switch(ft.pipesCount){case 0:ft.pipes=U;break;case 1:ft.pipes=[ft.pipes,U];break;default:ft.pipes.push(U);break}ft.pipesCount+=1,f("pipe count=%d opts=%j",ft.pipesCount,P);var dt=(!P||P.end!==!1)&&U!==process.stdout&&U!==process.stderr,V=dt?it:an;ft.endEmitted?process.nextTick(V):nt.once("end",V),U.on("unpipe",J);function J(z,O){f("onunpipe"),z===nt&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,gt())}function it(){f("onend"),U.end()}var ut=T(nt);U.on("drain",ut);var yt=!1;function gt(){f("cleanup"),U.removeListener("close",Ht),U.removeListener("finish",$t),U.removeListener("drain",ut),U.removeListener("error",ke),U.removeListener("unpipe",J),nt.removeListener("end",it),nt.removeListener("end",an),nt.removeListener("data",Ct),yt=!0,ft.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&ut()}nt.on("data",Ct);function Ct(z){f("ondata");var O=U.write(z);f("dest.write",O),O===!1&&((ft.pipesCount===1&&ft.pipes===U||ft.pipesCount>1&&rt(ft.pipes,U)!==-1)&&!yt&&(f("false write response, pause",ft.awaitDrain),ft.awaitDrain++),nt.pause())}function ke(z){f("onerror",z),an(),U.removeListener("error",ke),t(U,"error")===0&&N(U,z)}Q(U,"error",ke);function Ht(){U.removeListener("finish",$t),an()}U.once("close",Ht);function $t(){f("onfinish"),U.removeListener("close",Ht),an()}U.once("finish",$t);function an(){f("unpipe"),nt.unpipe(U)}return U.emit("pipe",nt),ft.flowing||(f("pipe resume"),nt.resume()),U};function T(U){return function(){var nt=U._readableState;f("pipeOnDrain",nt.awaitDrain),nt.awaitDrain&&nt.awaitDrain--,nt.awaitDrain===0&&t(U,"data")&&(nt.flowing=!0,H(U))}}G.prototype.unpipe=function(U){var P=this._readableState,nt={hasUnpiped:!1};if(P.pipesCount===0)return this;if(P.pipesCount===1)return U&&U!==P.pipes?this:(U||(U=P.pipes),P.pipes=null,P.pipesCount=0,P.flowing=!1,U&&U.emit("unpipe",this,nt),this);if(!U){var ft=P.pipes,dt=P.pipesCount;P.pipes=null,P.pipesCount=0,P.flowing=!1;for(var V=0;V<dt;V++)ft[V].emit("unpipe",this,{hasUnpiped:!1});return this}var J=rt(P.pipes,U);return J===-1?this:(P.pipes.splice(J,1),P.pipesCount-=1,P.pipesCount===1&&(P.pipes=P.pipes[0]),U.emit("unpipe",this,nt),this)},G.prototype.on=function(U,P){var nt=r.prototype.on.call(this,U,P),ft=this._readableState;return U==="data"?(ft.readableListening=this.listenerCount("readable")>0,ft.flowing!==!1&&this.resume()):U==="readable"&&!ft.endEmitted&&!ft.readableListening&&(ft.readableListening=ft.needReadable=!0,ft.flowing=!1,ft.emittedReadable=!1,f("on readable",ft.length,ft.reading),ft.length?y(this):ft.reading||process.nextTick(L,this)),nt},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(U,P){var nt=r.prototype.removeListener.call(this,U,P);return U==="readable"&&process.nextTick(F,this),nt},G.prototype.removeAllListeners=function(U){var P=r.prototype.removeAllListeners.apply(this,arguments);return(U==="readable"||U===void 0)&&process.nextTick(F,this),P};function F(U){var P=U._readableState;P.readableListening=U.listenerCount("readable")>0,P.resumeScheduled&&!P.paused?P.flowing=!0:U.listenerCount("data")>0&&U.resume()}function L(U){f("readable nexttick read 0"),U.read(0)}G.prototype.resume=function(){var U=this._readableState;return U.flowing||(f("resume"),U.flowing=!U.readableListening,k(this,U)),U.paused=!1,this};function k(U,P){P.resumeScheduled||(P.resumeScheduled=!0,process.nextTick($,U,P))}function $(U,P){f("resume",P.reading),P.reading||U.read(0),P.resumeScheduled=!1,U.emit("resume"),H(U),P.flowing&&!P.reading&&U.read(0)}G.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function H(U){var P=U._readableState;for(f("flow",P.flowing);P.flowing&&U.read()!==null;);}G.prototype.wrap=function(U){var P=this,nt=this._readableState,ft=!1;U.on("end",function(){if(f("wrapped end"),nt.decoder&&!nt.ended){var J=nt.decoder.end();J&&J.length&&P.push(J)}P.push(null)}),U.on("data",function(J){if(f("wrapped data"),nt.decoder&&(J=nt.decoder.write(J)),!(nt.objectMode&&J==null)&&!(!nt.objectMode&&(!J||!J.length))){var it=P.push(J);it||(ft=!0,U.pause())}});for(var dt in U)this[dt]===void 0&&typeof U[dt]=="function"&&(this[dt]=function(it){return function(){return U[it].apply(U,arguments)}}(dt));for(var V=0;V<K.length;V++)U.on(K[V],this.emit.bind(this,K[V]));return this._read=function(J){f("wrapped _read",J),ft&&(ft=!1,U.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=lJ()),B(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),G._fromList=q,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q(U,P){if(P.length===0)return null;var nt;return P.objectMode?nt=P.buffer.shift():!U||U>=P.length?(P.decoder?nt=P.buffer.join(""):P.buffer.length===1?nt=P.buffer.first():nt=P.buffer.concat(P.length),P.buffer.clear()):nt=P.buffer.consume(U,P.decoder),nt}function X(U){var P=U._readableState;f("endReadable",P.endEmitted),P.endEmitted||(P.ended=!0,process.nextTick(et,P,U))}function et(U,P){if(f("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,P.readable=!1,P.emit("end"),U.autoDestroy)){var nt=P._writableState;(!nt||nt.autoDestroy&&nt.finished)&&P.destroy()}}typeof Symbol=="function"&&(G.from=function(U,P){return M===void 0&&(M=dJ()),M(G,U,P)});function rt(U,P){for(var nt=0,ft=U.length;nt<ft;nt++)if(U[nt]===P)return nt;return-1}return cm}var tL=$o,sv=zu.codes,hJ=sv.ERR_METHOD_NOT_IMPLEMENTED,pJ=sv.ERR_MULTIPLE_CALLBACK,bJ=sv.ERR_TRANSFORM_ALREADY_TRANSFORMING,gJ=sv.ERR_TRANSFORM_WITH_LENGTH_0,ov=Pd();Ye($o,ov);function yJ(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new pJ);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function $o(e){if(!(this instanceof $o))return new $o(e);ov.call(this,e),this._transformState={afterTransform:yJ.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",vJ)}function vJ(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){kE(e,t,r)}):kE(this,null,null)}$o.prototype.push=function(e,t){return this._transformState.needTransform=!1,ov.prototype.push.call(this,e,t)};$o.prototype._transform=function(e,t,r){r(new hJ("_transform()"))};$o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};$o.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};$o.prototype._destroy=function(e,t){ov.prototype._destroy.call(this,e,function(r){t(r)})};function kE(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new gJ;if(e._transformState.transforming)throw new bJ;return e.push(null)}var _J=Pp,eL=tL;Ye(Pp,eL);function Pp(e){if(!(this instanceof Pp))return new Pp(e);eL.call(this,e)}Pp.prototype._transform=function(e,t,r){r(null,e)};var um;function mJ(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var rL=zu.codes,wJ=rL.ERR_MISSING_ARGS,AJ=rL.ERR_STREAM_DESTROYED;function zE(e){if(e)throw e}function EJ(e){return e.setHeader&&typeof e.abort=="function"}function xJ(e,t,r,n){n=mJ(n);var i=!1;e.on("close",function(){i=!0}),um===void 0&&(um=Y5),um(e,{readable:t,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,EJ(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(s||new AJ("pipe"))}}}function jE(e){e()}function SJ(e,t){return e.pipe(t)}function CJ(e){return!e.length||typeof e[e.length-1]!="function"?zE:e.pop()}function IJ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=CJ(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new wJ("streams");var i,a=t.map(function(s,o){var f=o<t.length-1,c=o>0;return xJ(s,f,c,function(u){i||(i=u),u&&a.forEach(jE),!f&&(a.forEach(jE),n(i))})});return t.reduce(SJ)}var TJ=IJ;(function(e,t){t=e.exports=JR(),t.Stream=t,t.Readable=t,t.Writable=XR(),t.Duplex=Pd(),t.Transform=tL,t.PassThrough=_J,t.finished=Y5,t.pipeline=TJ})(m6,m6.exports);var BJ=m6.exports,xy=rn.Buffer,nL=BJ.Transform,OJ=Ye;function DJ(e,t){if(!xy.isBuffer(e)&&typeof e!="string")throw new TypeError(t+" must be a string or a buffer")}function xc(e){nL.call(this),this._block=xy.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}OJ(xc,nL);xc.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)};xc.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};xc.prototype.update=function(e,t){if(DJ(e,"Data"),this._finalized)throw new Error("Digest already called");xy.isBuffer(e)||(e=xy.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var a=0,s=e.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};xc.prototype._update=function(){throw new Error("_update is not implemented")};xc.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};xc.prototype._digest=function(){throw new Error("_digest is not implemented")};var iL=xc,MJ=Ye,aL=iL,RJ=rn.Buffer,LJ=new Array(16);function fv(){aL.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}MJ(fv,aL);fv.prototype._update=function(){for(var e=LJ,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=fn(r,n,i,a,e[0],3614090360,7),a=fn(a,r,n,i,e[1],3905402710,12),i=fn(i,a,r,n,e[2],606105819,17),n=fn(n,i,a,r,e[3],3250441966,22),r=fn(r,n,i,a,e[4],4118548399,7),a=fn(a,r,n,i,e[5],1200080426,12),i=fn(i,a,r,n,e[6],2821735955,17),n=fn(n,i,a,r,e[7],4249261313,22),r=fn(r,n,i,a,e[8],1770035416,7),a=fn(a,r,n,i,e[9],2336552879,12),i=fn(i,a,r,n,e[10],4294925233,17),n=fn(n,i,a,r,e[11],2304563134,22),r=fn(r,n,i,a,e[12],1804603682,7),a=fn(a,r,n,i,e[13],4254626195,12),i=fn(i,a,r,n,e[14],2792965006,17),n=fn(n,i,a,r,e[15],1236535329,22),r=cn(r,n,i,a,e[1],4129170786,5),a=cn(a,r,n,i,e[6],3225465664,9),i=cn(i,a,r,n,e[11],643717713,14),n=cn(n,i,a,r,e[0],3921069994,20),r=cn(r,n,i,a,e[5],3593408605,5),a=cn(a,r,n,i,e[10],38016083,9),i=cn(i,a,r,n,e[15],3634488961,14),n=cn(n,i,a,r,e[4],3889429448,20),r=cn(r,n,i,a,e[9],568446438,5),a=cn(a,r,n,i,e[14],3275163606,9),i=cn(i,a,r,n,e[3],4107603335,14),n=cn(n,i,a,r,e[8],1163531501,20),r=cn(r,n,i,a,e[13],2850285829,5),a=cn(a,r,n,i,e[2],4243563512,9),i=cn(i,a,r,n,e[7],1735328473,14),n=cn(n,i,a,r,e[12],2368359562,20),r=un(r,n,i,a,e[5],4294588738,4),a=un(a,r,n,i,e[8],2272392833,11),i=un(i,a,r,n,e[11],1839030562,16),n=un(n,i,a,r,e[14],4259657740,23),r=un(r,n,i,a,e[1],2763975236,4),a=un(a,r,n,i,e[4],1272893353,11),i=un(i,a,r,n,e[7],4139469664,16),n=un(n,i,a,r,e[10],3200236656,23),r=un(r,n,i,a,e[13],681279174,4),a=un(a,r,n,i,e[0],3936430074,11),i=un(i,a,r,n,e[3],3572445317,16),n=un(n,i,a,r,e[6],76029189,23),r=un(r,n,i,a,e[9],3654602809,4),a=un(a,r,n,i,e[12],3873151461,11),i=un(i,a,r,n,e[15],530742520,16),n=un(n,i,a,r,e[2],3299628645,23),r=ln(r,n,i,a,e[0],4096336452,6),a=ln(a,r,n,i,e[7],1126891415,10),i=ln(i,a,r,n,e[14],2878612391,15),n=ln(n,i,a,r,e[5],4237533241,21),r=ln(r,n,i,a,e[12],1700485571,6),a=ln(a,r,n,i,e[3],2399980690,10),i=ln(i,a,r,n,e[10],4293915773,15),n=ln(n,i,a,r,e[1],2240044497,21),r=ln(r,n,i,a,e[8],1873313359,6),a=ln(a,r,n,i,e[15],4264355552,10),i=ln(i,a,r,n,e[6],2734768916,15),n=ln(n,i,a,r,e[13],1309151649,21),r=ln(r,n,i,a,e[4],4149444226,6),a=ln(a,r,n,i,e[11],3174756917,10),i=ln(i,a,r,n,e[2],718787259,15),n=ln(n,i,a,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};fv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=RJ.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function cv(e,t){return e<<t|e>>>32-t}function fn(e,t,r,n,i,a,s){return cv(e+(t&r|~t&n)+i+a|0,s)+t|0}function cn(e,t,r,n,i,a,s){return cv(e+(t&n|r&~n)+i+a|0,s)+t|0}function un(e,t,r,n,i,a,s){return cv(e+(t^r^n)+i+a|0,s)+t|0}function ln(e,t,r,n,i,a,s){return cv(e+(r^(t|~n))+i+a|0,s)+t|0}var HJ=fv,lm=zo.Buffer,PJ=Ye,sL=iL,NJ=new Array(16),rh=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],nh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ih=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ah=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],sh=[0,1518500249,1859775393,2400959708,2840853838],oh=[1352829926,1548603684,1836072691,2053994217,0];function uv(){sL.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}PJ(uv,sL);uv.prototype._update=function(){for(var e=NJ,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,f=this._b|0,c=this._c|0,u=this._d|0,l=this._e|0,h=0;h<80;h+=1){var g,m;h<16?(g=FE(r,n,i,a,s,e[rh[h]],sh[0],ih[h]),m=QE(o,f,c,u,l,e[nh[h]],oh[0],ah[h])):h<32?(g=$E(r,n,i,a,s,e[rh[h]],sh[1],ih[h]),m=KE(o,f,c,u,l,e[nh[h]],oh[1],ah[h])):h<48?(g=qE(r,n,i,a,s,e[rh[h]],sh[2],ih[h]),m=qE(o,f,c,u,l,e[nh[h]],oh[2],ah[h])):h<64?(g=KE(r,n,i,a,s,e[rh[h]],sh[3],ih[h]),m=$E(o,f,c,u,l,e[nh[h]],oh[3],ah[h])):(g=QE(r,n,i,a,s,e[rh[h]],sh[4],ih[h]),m=FE(o,f,c,u,l,e[nh[h]],oh[4],ah[h])),r=s,s=a,a=Su(i,10),i=n,n=g,o=l,l=u,u=Su(c,10),c=f,f=m}var A=this._b+i+u|0;this._b=this._c+a+l|0,this._c=this._d+s+o|0,this._d=this._e+r+f|0,this._e=this._a+n+c|0,this._a=A};uv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=lm.alloc?lm.alloc(20):new lm(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function Su(e,t){return e<<t|e>>>32-t}function FE(e,t,r,n,i,a,s,o){return Su(e+(t^r^n)+a+s|0,o)+i|0}function $E(e,t,r,n,i,a,s,o){return Su(e+(t&r|~t&n)+a+s|0,o)+i|0}function qE(e,t,r,n,i,a,s,o){return Su(e+((t|~r)^n)+a+s|0,o)+i|0}function KE(e,t,r,n,i,a,s,o){return Su(e+(t&n|r&~n)+a+s|0,o)+i|0}function QE(e,t,r,n,i,a,s,o){return Su(e+(t^(r|~n))+a+s|0,o)+i|0}var UJ=uv,oL={exports:{}},fL=rn.Buffer;function lv(e,t){this._block=fL.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}lv.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=fL.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,a=this._len,s=0;s<i;){for(var o=a%n,f=Math.min(i-s,n-o),c=0;c<f;c++)r[o+c]=e[s+c];a+=f,s+=f,a%n===0&&this._update(r)}return this._len+=i,this};lv.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a};lv.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var _0=lv,kJ=Ye,cL=_0,zJ=rn.Buffer,jJ=[1518500249,1859775393,-1894007588,-899497514],FJ=new Array(80);function F1(){this.init(),this._w=FJ,cL.call(this,64,56)}kJ(F1,cL);F1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function $J(e){return e<<5|e>>>27}function qJ(e){return e<<30|e>>>2}function KJ(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}F1.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=t[o-3]^t[o-8]^t[o-14]^t[o-16];for(var f=0;f<80;++f){var c=~~(f/20),u=$J(r)+KJ(c,n,i,a)+s+t[f]+jJ[c]|0;s=a,a=i,i=qJ(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};F1.prototype._hash=function(){var e=zJ.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var QJ=F1,YJ=Ye,uL=_0,VJ=rn.Buffer,GJ=[1518500249,1859775393,-1894007588,-899497514],WJ=new Array(80);function $1(){this.init(),this._w=WJ,uL.call(this,64,56)}YJ($1,uL);$1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function XJ(e){return e<<1|e>>>31}function ZJ(e){return e<<5|e>>>27}function JJ(e){return e<<30|e>>>2}function ttt(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}$1.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=XJ(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var f=0;f<80;++f){var c=~~(f/20),u=ZJ(r)+ttt(c,n,i,a)+s+t[f]+GJ[c]|0;s=a,a=i,i=JJ(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};$1.prototype._hash=function(){var e=VJ.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var ett=$1,rtt=Ye,lL=_0,ntt=rn.Buffer,itt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],att=new Array(64);function q1(){this.init(),this._w=att,lL.call(this,64,56)}rtt(q1,lL);q1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function stt(e,t,r){return r^e&(t^r)}function ott(e,t,r){return e&t|r&(e|t)}function ftt(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function ctt(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function utt(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function ltt(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}q1.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,f=this._g|0,c=this._h|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<64;++u)t[u]=ltt(t[u-2])+t[u-7]+utt(t[u-15])+t[u-16]|0;for(var l=0;l<64;++l){var h=c+ctt(s)+stt(s,o,f)+itt[l]+t[l]|0,g=ftt(r)+ott(r,n,i)|0;c=f,f=o,o=s,s=a+h|0,a=i,i=n,n=r,r=h+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};q1.prototype._hash=function(){var e=ntt.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var dL=q1,dtt=Ye,htt=dL,ptt=_0,btt=rn.Buffer,gtt=new Array(64);function dv(){this.init(),this._w=gtt,ptt.call(this,64,56)}dtt(dv,htt);dv.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};dv.prototype._hash=function(){var e=btt.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var ytt=dv,vtt=Ye,hL=_0,_tt=rn.Buffer,YE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],mtt=new Array(160);function K1(){this.init(),this._w=mtt,hL.call(this,128,112)}vtt(K1,hL);K1.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function VE(e,t,r){return r^e&(t^r)}function GE(e,t,r){return e&t|r&(e|t)}function WE(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function XE(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function wtt(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Att(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Ett(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function xtt(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Br(e,t){return e>>>0<t>>>0?1:0}K1.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,f=this._gh|0,c=this._hh|0,u=this._al|0,l=this._bl|0,h=this._cl|0,g=this._dl|0,m=this._el|0,A=this._fl|0,S=this._gl|0,w=this._hl|0,C=0;C<32;C+=2)t[C]=e.readInt32BE(C*4),t[C+1]=e.readInt32BE(C*4+4);for(;C<160;C+=2){var B=t[C-30],M=t[C-15*2+1],N=wtt(B,M),K=Att(M,B);B=t[C-2*2],M=t[C-2*2+1];var Q=Ett(B,M),j=xtt(M,B),G=t[C-7*2],W=t[C-7*2+1],R=t[C-16*2],_=t[C-16*2+1],I=K+W|0,b=N+G+Br(I,K)|0;I=I+j|0,b=b+Q+Br(I,j)|0,I=I+_|0,b=b+R+Br(I,_)|0,t[C]=b,t[C+1]=I}for(var v=0;v<160;v+=2){b=t[v],I=t[v+1];var d=GE(r,n,i),y=GE(u,l,h),x=WE(r,u),E=WE(u,r),p=XE(s,m),T=XE(m,s),F=YE[v],L=YE[v+1],k=VE(s,o,f),$=VE(m,A,S),H=w+T|0,q=c+p+Br(H,w)|0;H=H+$|0,q=q+k+Br(H,$)|0,H=H+L|0,q=q+F+Br(H,L)|0,H=H+I|0,q=q+b+Br(H,I)|0;var X=E+y|0,et=x+d+Br(X,E)|0;c=f,w=S,f=o,S=A,o=s,A=m,m=g+H|0,s=a+q+Br(m,g)|0,a=i,g=h,i=n,h=l,n=r,l=u,u=H+X|0,r=q+et+Br(u,H)|0}this._al=this._al+u|0,this._bl=this._bl+l|0,this._cl=this._cl+h|0,this._dl=this._dl+g|0,this._el=this._el+m|0,this._fl=this._fl+A|0,this._gl=this._gl+S|0,this._hl=this._hl+w|0,this._ah=this._ah+r+Br(this._al,u)|0,this._bh=this._bh+n+Br(this._bl,l)|0,this._ch=this._ch+i+Br(this._cl,h)|0,this._dh=this._dh+a+Br(this._dl,g)|0,this._eh=this._eh+s+Br(this._el,m)|0,this._fh=this._fh+o+Br(this._fl,A)|0,this._gh=this._gh+f+Br(this._gl,S)|0,this._hh=this._hh+c+Br(this._hl,w)|0};K1.prototype._hash=function(){var e=_tt.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var pL=K1,Stt=Ye,Ctt=pL,Itt=_0,Ttt=rn.Buffer,Btt=new Array(160);function hv(){this.init(),this._w=Btt,Itt.call(this,128,112)}Stt(hv,Ctt);hv.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};hv.prototype._hash=function(){var e=Ttt.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Ott=hv,ju=oL.exports=function(t){t=t.toLowerCase();var r=ju[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};ju.sha=QJ;ju.sha1=ett;ju.sha224=ytt;ju.sha256=dL;ju.sha384=Ott;ju.sha512=pL;var Dtt=oL.exports,bs=rn.Buffer,bL=U1.Transform,Mtt=Ey.StringDecoder,Rtt=Ye;function fs(e){bL.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Rtt(fs,bL);var Ltt=typeof Uint8Array<"u",Htt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(bs.prototype instanceof Uint8Array||bs.TYPED_ARRAY_SUPPORT);function Ptt(e,t){if(e instanceof bs)return e;if(typeof e=="string")return bs.from(e,t);if(Htt&&ArrayBuffer.isView(e)){if(e.byteLength===0)return bs.alloc(0);var r=bs.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}if(Ltt&&e instanceof Uint8Array||bs.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return bs.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}fs.prototype.update=function(e,t,r){var n=Ptt(e,t),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};fs.prototype.setAutoPadding=function(){};fs.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};fs.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};fs.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};fs.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}};fs.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};fs.prototype._finalOrDigest=function(e){var t=this.__final()||bs.alloc(0);return e&&(t=this._toString(t,e,!0)),t};fs.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new Mtt(t),this._encoding=t),this._encoding!==t)throw new Error("cant switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var Ntt=fs,Utt=Ye,ktt=HJ,ztt=UJ,jtt=Dtt,gL=Ntt;function pv(e){gL.call(this,"digest"),this._hash=e}Utt(pv,gL);pv.prototype._update=function(e){this._hash.update(e)};pv.prototype._final=function(){return this._hash.digest()};var V5=function(t){return t=t.toLowerCase(),t==="md5"?new ktt:t==="rmd160"||t==="ripemd160"?new ztt:new pv(jtt(t))},jb=rn.Buffer;function Ftt(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),a=i.charCodeAt(0);if(t[a]!==255)throw new TypeError(i+" is ambiguous");t[a]=n}var s=e.length,o=e.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function u(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=jb.from(g)),!jb.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var m=0,A=0,S=0,w=g.length;S!==w&&g[S]===0;)S++,m++;for(var C=(w-S)*c+1>>>0,B=new Uint8Array(C);S!==w;){for(var M=g[S],N=0,K=C-1;(M!==0||N<A)&&K!==-1;K--,N++)M+=256*B[K]>>>0,B[K]=M%s>>>0,M=M/s>>>0;if(M!==0)throw new Error("Non-zero carry");A=N,S++}for(var Q=C-A;Q!==C&&B[Q]===0;)Q++;for(var j=o.repeat(m);Q<C;++Q)j+=e.charAt(B[Q]);return j}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return jb.alloc(0);for(var m=0,A=0,S=0;g[m]===o;)A++,m++;for(var w=(g.length-m)*f+1>>>0,C=new Uint8Array(w);m<g.length;){var B=t[g.charCodeAt(m)];if(B===255)return;for(var M=0,N=w-1;(B!==0||M<S)&&N!==-1;N--,M++)B+=s*C[N]>>>0,C[N]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");S=M,m++}for(var K=w-S;K!==w&&C[K]===0;)K++;var Q=jb.allocUnsafe(A+(w-K));Q.fill(0,0,A);for(var j=A;K!==w;)Q[j++]=C[K++];return Q}function h(g){var m=l(g);if(m)return m;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:h}}var $tt=Ftt,qtt=$tt,Ktt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Qtt=qtt(Ktt),dm=Qtt,Ytt=rn.Buffer,Vtt=function(e){function t(a){var s=e(a);return dm.encode(Ytt.concat([a,s],a.length+4))}function r(a){var s=a.slice(0,-4),o=a.slice(-4),f=e(s);if(!(o[0]^f[0]|o[1]^f[1]|o[2]^f[2]|o[3]^f[3]))return s}function n(a){var s=dm.decodeUnsafe(a);if(s)return r(s)}function i(a){var s=dm.decode(a),o=r(s);if(!o)throw new Error("Invalid checksum");return o}return{encode:t,decode:i,decodeUnsafe:n}},ZE=V5,Gtt=Vtt;function Wtt(e){var t=ZE("sha256").update(e).digest();return ZE("sha256").update(t).digest()}var Xtt=Gtt(Wtt),Sy="qpzry9x8gf2tvdw0s3jn54khce6mua7l",A6={};for(var Fb=0;Fb<Sy.length;Fb++){var hm=Sy.charAt(Fb);if(A6[hm]!==void 0)throw new TypeError(hm+" is ambiguous");A6[hm]=Fb}function zl(e){var t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function yL(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=zl(t)^n>>5}for(t=zl(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=zl(t)^i&31}return t}function Ztt(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");e=e.toLowerCase();var n=yL(e);if(typeof n=="string")throw new Error(n);for(var i=e+"1",a=0;a<t.length;++a){var s=t[a];if(s>>5)throw new Error("Non 5-bit word");n=zl(n)^s,i+=Sy.charAt(s)}for(a=0;a<6;++a)n=zl(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=Sy.charAt(o)}return i}function vL(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;e=r;var i=e.lastIndexOf("1");if(i===-1)return"No separator character for "+e;if(i===0)return"Missing prefix for "+e;var a=e.slice(0,i),s=e.slice(i+1);if(s.length<6)return"Data too short";var o=yL(a);if(typeof o=="string")return o;for(var f=[],c=0;c<s.length;++c){var u=s.charAt(c),l=A6[u];if(l===void 0)return"Unknown character "+u;o=zl(o)^l,!(c+6>=s.length)&&f.push(l)}return o!==1?"Invalid checksum for "+e:{prefix:a,words:f}}function Jtt(){var e=vL.apply(null,arguments);if(typeof e=="object")return e}function tet(e){var t=vL.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function bv(e,t,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],f=0;f<e.length;++f)for(i=i<<t|e[f],a+=t;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=t)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function eet(e){var t=bv(e,8,5,!0);if(Array.isArray(t))return t}function ret(e){var t=bv(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function net(e){var t=bv(e,5,8,!1);if(Array.isArray(t))return t}function iet(e){var t=bv(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var aet={decodeUnsafe:Jtt,decode:tet,encode:Ztt,toWordsUnsafe:eet,toWords:ret,fromWordsUnsafe:net,fromWords:iet},set=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return!0;if(typeof e.equals=="function")return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},cs={},gv=Object.prototype.toString;cs.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)};cs.isBoolean=function(e,t){if(gv.call(e)!=="[object Boolean]")throw TypeError(t)};cs.isBuffer=function(e,t){if(!Buffer.isBuffer(e))throw TypeError(t)};cs.isFunction=function(e,t){if(gv.call(e)!=="[object Function]")throw TypeError(t)};cs.isNumber=function(e,t){if(gv.call(e)!=="[object Number]")throw TypeError(t)};cs.isObject=function(e,t){if(gv.call(e)!=="[object Object]")throw TypeError(t)};cs.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)};cs.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)};cs.isLengthGTZero=function(e,t){if(e.length===0)throw RangeError(t)};cs.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)};var m0={},oet=rn.Buffer;function fet(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;var t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return!1;var r=e[5+t];return!(r===0||6+t+r!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||r>1&&e[t+6]===0&&!(e[t+7]&128))}function cet(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");var t=e[3];if(t===0)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(e[4+t]!==2)throw new Error("Expected DER integer (2)");var r=e[5+t];if(r===0)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(t>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[t+6]&128)throw new Error("S value is negative");if(r>1&&e[t+6]===0&&!(e[t+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}function uet(e,t){var r=e.length,n=t.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(t[0]&128)throw new Error("S value is negative");if(r>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(n>1&&t[0]===0&&!(t[1]&128))throw new Error("S value excessively padded");var i=oet.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i}var det={check:fet,decode:cet,encode:uet},Va=rn.Buffer,_L=det,het=Va.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),pet=Va.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);m0.privateKeyExport=function(e,t,r){var n=Va.from(r?het:pet);return e.copy(n,r?8:9),t.copy(n,r?181:214),n};m0.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||e[r]!==48)&&(r+=1,!(t<r+1||!(e[r]&128)))){var n=e[r]&127;if(r+=1,!(n<1||n>2)&&!(t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(r+=n,!(t<r+i)&&!(t<r+3||e[r]!==2||e[r+1]!==1||e[r+2]!==1)&&(r+=3,!(t<r+2||e[r]!==4||e[r+1]>32||t<r+2+e[r+1])))return e.slice(r+2,r+2+e[r+1])}}};m0.signatureExport=function(e){for(var t=Va.concat([Va.from([0]),e.r]),r=33,n=0;r>1&&t[n]===0&&!(t[n+1]&128);--r,++n);for(var i=Va.concat([Va.from([0]),e.s]),a=33,s=0;a>1&&i[s]===0&&!(i[s+1]&128);--a,++s);return _L.encode(t.slice(n),i.slice(s))};m0.signatureImport=function(e){var t=Va.alloc(32,0),r=Va.alloc(32,0);try{var n=_L.decode(e);if(n.r.length===33&&n.r[0]===0&&(n.r=n.r.slice(1)),n.r.length>32)throw new Error("R length is too long");if(n.s.length===33&&n.s[0]===0&&(n.s=n.s.slice(1)),n.s.length>32)throw new Error("S length is too long")}catch{return}return n.r.copy(t,32-n.r.length),n.s.copy(r,32-n.s.length),{r:t,s:r}};m0.signatureImportLax=function(e){var t=Va.alloc(32,0),r=Va.alloc(32,0),n=e.length,i=0;if(e[i++]===48){var a=e[i++];if(!(a&128&&(i+=a-128,i>n))&&e[i++]===2){var s=e[i++];if(s&128){if(a=s-128,i+a>n)return;for(;a>0&&e[i]===0;i+=1,a-=1);for(s=0;a>0;i+=1,a-=1)s=(s<<8)+e[i]}if(!(s>n-i)){var o=i;if(i+=s,e[i++]===2){var f=e[i++];if(f&128){if(a=f-128,i+a>n)return;for(;a>0&&e[i]===0;i+=1,a-=1);for(f=0;a>0;i+=1,a-=1)f=(f<<8)+e[i]}if(!(f>n-i)){var c=i;for(i+=f;s>0&&e[o]===0;s-=1,o+=1);if(!(s>32)){var u=e.slice(o,o+s);for(u.copy(t,32-u.length);f>0&&e[c]===0;f-=1,c+=1);if(!(f>32)){var l=e.slice(c,c+f);return l.copy(r,32-l.length),{r:t,s:r}}}}}}}}};const bet="compressed should be a boolean",get="private key should be a Buffer",yet="private key length is invalid",vet="private key range is invalid",_et="tweak out of range or resulting private key is invalid",met="tweak out of range",wet="couldn't export to DER format",Aet="couldn't import from DER format",Eet="public keys should be an Array",xet="public keys Array should have at least 1 element",Cet="public key should be a Buffer",Iet="public key length is invalid",Tet="the public key could not be parsed or is invalid",Bet="private was invalid, try again",Oet="tweak out of range or resulting public key is invalid",Det="tweak out of range",Met="the sum of the public keys is not valid",Ret="scalar was invalid (zero or overflow)",Let="signature should be a Buffer",Het="signature length is invalid",Pet="couldn't parse signature",Net="couldn't parse DER signature",Uet="couldn't serialize signature to DER format",ket="nonce generation function failed or private key is invalid",zet="couldn't recover public key from signature",jet="message should be a Buffer",Fet="message length is invalid",$et="options should be an Object",qet="options.data should be a Buffer",Ket="options.data length is invalid",Qet="options.noncefn should be a Function",Yet="recovery should be a Number",Vet="recovery should have value between -1 and 4",Get="tweak should be a Buffer",Wet="tweak length is invalid",mL={COMPRESSED_TYPE_INVALID:bet,EC_PRIVATE_KEY_TYPE_INVALID:get,EC_PRIVATE_KEY_LENGTH_INVALID:yet,EC_PRIVATE_KEY_RANGE_INVALID:vet,EC_PRIVATE_KEY_TWEAK_ADD_FAIL:_et,EC_PRIVATE_KEY_TWEAK_MUL_FAIL:met,EC_PRIVATE_KEY_EXPORT_DER_FAIL:wet,EC_PRIVATE_KEY_IMPORT_DER_FAIL:Aet,EC_PUBLIC_KEYS_TYPE_INVALID:Eet,EC_PUBLIC_KEYS_LENGTH_INVALID:xet,EC_PUBLIC_KEY_TYPE_INVALID:Cet,EC_PUBLIC_KEY_LENGTH_INVALID:Iet,EC_PUBLIC_KEY_PARSE_FAIL:Tet,EC_PUBLIC_KEY_CREATE_FAIL:Bet,EC_PUBLIC_KEY_TWEAK_ADD_FAIL:Oet,EC_PUBLIC_KEY_TWEAK_MUL_FAIL:Det,EC_PUBLIC_KEY_COMBINE_FAIL:Met,ECDH_FAIL:Ret,ECDSA_SIGNATURE_TYPE_INVALID:Let,ECDSA_SIGNATURE_LENGTH_INVALID:Het,ECDSA_SIGNATURE_PARSE_FAIL:Pet,ECDSA_SIGNATURE_PARSE_DER_FAIL:Net,ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:Uet,ECDSA_SIGN_FAIL:ket,ECDSA_RECOVER_FAIL:zet,MSG32_TYPE_INVALID:jet,MSG32_LENGTH_INVALID:Fet,OPTIONS_TYPE_INVALID:$et,OPTIONS_DATA_TYPE_INVALID:qet,OPTIONS_DATA_LENGTH_INVALID:Ket,OPTIONS_NONCEFN_TYPE_INVALID:Qet,RECOVERY_ID_TYPE_INVALID:Yet,RECOVERY_ID_VALUE_INVALID:Vet,TWEAK_TYPE_INVALID:Get,TWEAK_LENGTH_INVALID:Wet};var xt=cs,fh=m0,wt=mL;function hf(e,t){return e===void 0?t:(xt.isBoolean(e,wt.COMPRESSED_TYPE_INVALID),e)}var Xet=function(e){return{privateKeyVerify:function(t){return xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),t.length===32&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(t,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),r=hf(r,!0);var n=e.privateKeyExport(t,r);return fh.privateKeyExport(t,n,r)},privateKeyImport:function(t){if(xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),t=fh.privateKeyImport(t),t&&t.length===32&&e.privateKeyVerify(t))return t;throw new Error(wt.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(t,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(t,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(t,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),xt.isBuffer(r,wt.TWEAK_TYPE_INVALID),xt.isBufferLength(r,32,wt.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(t,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),xt.isBuffer(r,wt.TWEAK_TYPE_INVALID),xt.isBufferLength(r,32,wt.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return xt.isBuffer(t,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(t,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),r=hf(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return xt.isBuffer(t,wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(t,33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID),r=hf(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return xt.isBuffer(t,wt.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,n){return xt.isBuffer(t,wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(t,33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID),xt.isBuffer(r,wt.TWEAK_TYPE_INVALID),xt.isBufferLength(r,32,wt.TWEAK_LENGTH_INVALID),n=hf(n,!0),e.publicKeyTweakAdd(t,r,n)},publicKeyTweakMul:function(t,r,n){return xt.isBuffer(t,wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(t,33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID),xt.isBuffer(r,wt.TWEAK_TYPE_INVALID),xt.isBufferLength(r,32,wt.TWEAK_LENGTH_INVALID),n=hf(n,!0),e.publicKeyTweakMul(t,r,n)},publicKeyCombine:function(t,r){xt.isArray(t,wt.EC_PUBLIC_KEYS_TYPE_INVALID),xt.isLengthGTZero(t,wt.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var n=0;n<t.length;++n)xt.isBuffer(t[n],wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(t[n],33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID);return r=hf(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return xt.isBuffer(t,wt.ECDSA_SIGNATURE_TYPE_INVALID),xt.isBufferLength(t,64,wt.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){xt.isBuffer(t,wt.ECDSA_SIGNATURE_TYPE_INVALID),xt.isBufferLength(t,64,wt.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return fh.signatureExport(r)},signatureImport:function(t){xt.isBuffer(t,wt.ECDSA_SIGNATURE_TYPE_INVALID),xt.isLengthGTZero(t,wt.ECDSA_SIGNATURE_LENGTH_INVALID);var r=fh.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(wt.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){xt.isBuffer(t,wt.ECDSA_SIGNATURE_TYPE_INVALID),xt.isLengthGTZero(t,wt.ECDSA_SIGNATURE_LENGTH_INVALID);var r=fh.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(wt.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,n){xt.isBuffer(t,wt.MSG32_TYPE_INVALID),xt.isBufferLength(t,32,wt.MSG32_LENGTH_INVALID),xt.isBuffer(r,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(r,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID);var i=null,a=null;return n!==void 0&&(xt.isObject(n,wt.OPTIONS_TYPE_INVALID),n.data!==void 0&&(xt.isBuffer(n.data,wt.OPTIONS_DATA_TYPE_INVALID),xt.isBufferLength(n.data,32,wt.OPTIONS_DATA_LENGTH_INVALID),i=n.data),n.noncefn!==void 0&&(xt.isFunction(n.noncefn,wt.OPTIONS_NONCEFN_TYPE_INVALID),a=n.noncefn)),e.sign(t,r,a,i)},verify:function(t,r,n){return xt.isBuffer(t,wt.MSG32_TYPE_INVALID),xt.isBufferLength(t,32,wt.MSG32_LENGTH_INVALID),xt.isBuffer(r,wt.ECDSA_SIGNATURE_TYPE_INVALID),xt.isBufferLength(r,64,wt.ECDSA_SIGNATURE_LENGTH_INVALID),xt.isBuffer(n,wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(n,33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,n)},recover:function(t,r,n,i){return xt.isBuffer(t,wt.MSG32_TYPE_INVALID),xt.isBufferLength(t,32,wt.MSG32_LENGTH_INVALID),xt.isBuffer(r,wt.ECDSA_SIGNATURE_TYPE_INVALID),xt.isBufferLength(r,64,wt.ECDSA_SIGNATURE_LENGTH_INVALID),xt.isNumber(n,wt.RECOVERY_ID_TYPE_INVALID),xt.isNumberInInterval(n,-1,4,wt.RECOVERY_ID_VALUE_INVALID),i=hf(i,!0),e.recover(t,r,n,i)},ecdh:function(t,r){return xt.isBuffer(t,wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(t,33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID),xt.isBuffer(r,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(r,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,n){return xt.isBuffer(t,wt.EC_PUBLIC_KEY_TYPE_INVALID),xt.isBufferLength2(t,33,65,wt.EC_PUBLIC_KEY_LENGTH_INVALID),xt.isBuffer(r,wt.EC_PRIVATE_KEY_TYPE_INVALID),xt.isBufferLength(r,32,wt.EC_PRIVATE_KEY_LENGTH_INVALID),n=hf(n,!0),e.ecdhUnsafe(t,r,n)}}},wL={},AL={};const Zet="elliptic",Jet="6.6.1",trt="EC cryptography",ert="lib/elliptic.js",rrt=["lib"],nrt={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},irt={type:"git",url:"git@github.com:indutny/elliptic"},art=["EC","Elliptic","curve","Cryptography"],srt="Fedor Indutny <fedor@indutny.com>",ort="MIT",frt={url:"https://github.com/indutny/elliptic/issues"},crt="https://github.com/indutny/elliptic",urt={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},lrt={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},drt={name:Zet,version:Jet,description:trt,main:ert,files:rrt,scripts:nrt,repository:irt,keywords:art,author:srt,license:ort,bugs:frt,homepage:crt,devDependencies:urt,dependencies:lrt};var Ni={};(function(e){var t=e,r=Sr,n=Ac,i=V2;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function a(u,l,h){var g=new Array(Math.max(u.bitLength(),h)+1),m;for(m=0;m<g.length;m+=1)g[m]=0;var A=1<<l+1,S=u.clone();for(m=0;m<g.length;m++){var w,C=S.andln(A-1);S.isOdd()?(C>(A>>1)-1?w=(A>>1)-C:w=C,S.isubn(w)):w=0,g[m]=w,S.iushrn(1)}return g}t.getNAF=a;function s(u,l){var h=[[],[]];u=u.clone(),l=l.clone();for(var g=0,m=0,A;u.cmpn(-g)>0||l.cmpn(-m)>0;){var S=u.andln(3)+g&3,w=l.andln(3)+m&3;S===3&&(S=-1),w===3&&(w=-1);var C;S&1?(A=u.andln(7)+g&7,(A===3||A===5)&&w===2?C=-S:C=S):C=0,h[0].push(C);var B;w&1?(A=l.andln(7)+m&7,(A===3||A===5)&&S===2?B=-w:B=w):B=0,h[1].push(B),2*g===C+1&&(g=1-g),2*m===B+1&&(m=1-m),u.iushrn(1),l.iushrn(1)}return h}t.getJSF=s;function o(u,l,h){var g="_"+l;u.prototype[l]=function(){return this[g]!==void 0?this[g]:this[g]=h.call(this)}}t.cachedProperty=o;function f(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=f;function c(u){return new r(u,"hex","le")}t.intFromLE=c})(Ni);var G5={},Oc=Sr,Q1=Ni,Cy=Q1.getNAF,hrt=Q1.getJSF,Iy=Q1.assert;function Sc(e,t){this.type=e,this.p=new Oc(t.p,16),this.red=t.prime?Oc.red(t.prime):Oc.mont(this.p),this.zero=new Oc(0).toRed(this.red),this.one=new Oc(1).toRed(this.red),this.two=new Oc(2).toRed(this.red),this.n=t.n&&new Oc(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var yv=Sc;Sc.prototype.point=function(){throw new Error("Not implemented")};Sc.prototype.validate=function(){throw new Error("Not implemented")};Sc.prototype._fixedNafMul=function(t,r){Iy(t.precomputed);var n=t._getDoubles(),i=Cy(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,f;for(o=0;o<i.length;o+=n.step){f=0;for(var c=o+n.step-1;c>=o;c--)f=(f<<1)+i[c];s.push(f)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=a;h>0;h--){for(o=0;o<s.length;o++)f=s[o],f===h?l=l.mixedAdd(n.points[o]):f===-h&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Sc.prototype._wnafMul=function(t,r){var n=4,i=t._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=Cy(r,n,this._bitLength),o=this.jpoint(null,null,null),f=s.length-1;f>=0;f--){for(var c=0;f>=0&&s[f]===0;f--)c++;if(f>=0&&c++,o=o.dblp(c),f<0)break;var u=s[f];Iy(u!==0),t.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return t.type==="affine"?o.toP():o};Sc.prototype._wnafMulAdd=function(t,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,f=this._wnafT3,c=0,u,l,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(t);s[u]=g.wnd,o[u]=g.points}for(u=i-1;u>=1;u-=2){var m=u-1,A=u;if(s[m]!==1||s[A]!==1){f[m]=Cy(n[m],s[m],this._bitLength),f[A]=Cy(n[A],s[A],this._bitLength),c=Math.max(f[m].length,c),c=Math.max(f[A].length,c);continue}var S=[r[m],null,null,r[A]];r[m].y.cmp(r[A].y)===0?(S[1]=r[m].add(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg())):r[m].y.cmp(r[A].y.redNeg())===0?(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].add(r[A].neg())):(S[1]=r[m].toJ().mixedAdd(r[A]),S[2]=r[m].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=hrt(n[m],n[A]);for(c=Math.max(C[0].length,c),f[m]=new Array(c),f[A]=new Array(c),l=0;l<c;l++){var B=C[0][l]|0,M=C[1][l]|0;f[m][l]=w[(B+1)*3+(M+1)],f[A][l]=0,o[m]=S}}var N=this.jpoint(null,null,null),K=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var j=!0;for(l=0;l<i;l++)K[l]=f[l][u]|0,K[l]!==0&&(j=!1);if(!j)break;Q++,u--}if(u>=0&&Q++,N=N.dblp(Q),u<0)break;for(l=0;l<i;l++){var G=K[l];G!==0&&(G>0?h=o[l][G-1>>1]:G<0&&(h=o[l][-G-1>>1].neg()),h.type==="affine"?N=N.mixedAdd(h):N=N.add(h))}}for(u=0;u<i;u++)o[u]=null;return a?N:N.toP()};function Ba(e,t){this.curve=e,this.type=t,this.precomputed=null}Sc.BasePoint=Ba;Ba.prototype.eq=function(){throw new Error("Not implemented")};Ba.prototype.validate=function(){return this.curve.validate(this)};Sc.prototype.decodePoint=function(t,r){t=Q1.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?Iy(t[t.length-1]%2===0):t[0]===7&&Iy(t[t.length-1]%2===1);var i=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return i}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Ba.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Ba.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ba.prototype.encode=function(t,r){return Q1.encode(this._encode(r),t)};Ba.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Ba.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Ba.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=t){for(var s=0;s<t;s++)i=i.dbl();n.push(i)}return{step:t,points:n}};Ba.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:t,points:r}};Ba.prototype._getBeta=function(){return null};Ba.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var prt=Ni,or=Sr,W5=Ye,w0=yv,brt=prt.assert;function Oa(e){w0.call(this,"short",e),this.a=new or(e.a,16).toRed(this.red),this.b=new or(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}W5(Oa,w0);var grt=Oa;Oa.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new or(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(t.lambda)n=new or(t.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],brt(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new or(o.a,16),b:new or(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Oa.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:or.mont(t),n=new or(2).toRed(r).redInvm(),i=n.redNeg(),a=new or(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Oa.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,i=this.n.clone(),a=new or(1),s=new or(0),o=new or(0),f=new or(1),c,u,l,h,g,m,A,S=0,w,C;n.cmpn(0)!==0;){var B=i.div(n);w=i.sub(B.mul(n)),C=o.sub(B.mul(a));var M=f.sub(B.mul(s));if(!l&&w.cmp(r)<0)c=A.neg(),u=a,l=w.neg(),h=C;else if(l&&++S===2)break;A=w,i=n,n=w,o=a,a=C,f=s,s=M}g=w.neg(),m=C;var N=l.sqr().add(h.sqr()),K=g.sqr().add(m.sqr());return K.cmp(N)>=0&&(g=c,m=u),l.negative&&(l=l.neg(),h=h.neg()),g.negative&&(g=g.neg(),m=m.neg()),[{a:l,b:h},{a:g,b:m}]};Oa.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(t).divRound(this.n),s=n.b.neg().mul(t).divRound(this.n),o=a.mul(n.a),f=s.mul(i.a),c=a.mul(n.b),u=s.mul(i.b),l=t.sub(o).sub(f),h=c.add(u).neg();return{k1:l,k2:h}};Oa.prototype.pointFromX=function(t,r){t=new or(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(t,i)};Oa.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Oa.prototype._endoWnafMulAdd=function(t,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(r[s]),f=t[s],c=f._getBeta();o.k1.negative&&(o.k1.ineg(),f=f.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[s*2]=f,i[s*2+1]=c,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function qr(e,t,r,n){w0.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new or(t,16),this.y=new or(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}W5(qr,w0.BasePoint);Oa.prototype.point=function(t,r,n){return new qr(this,t,r,n)};Oa.prototype.pointFromJSON=function(t,r){return qr.fromJSON(this,t,r)};qr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return r}};qr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qr.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=t.point(r[0],r[1],n);if(!r[2])return i;function a(o){return t.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qr.prototype.isInfinity=function(){return this.inf};qr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};qr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=t.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};qr.prototype.getX=function(){return this.x.fromRed()};qr.prototype.getY=function(){return this.y.fromRed()};qr.prototype.mul=function(t){return t=new or(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};qr.prototype.mulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};qr.prototype.jmulAdd=function(t,r,n){var i=[this,r],a=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};qr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};qr.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};qr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function nn(e,t,r,n){w0.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new or(0)):(this.x=new or(t,16),this.y=new or(r,16),this.z=new or(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}W5(nn,w0.BasePoint);Oa.prototype.jpoint=function(t,r,n){return new nn(this,t,r,n)};nn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(t);return this.curve.point(n,i)};nn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};nn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=t.x.redMul(n),s=this.y.redMul(r.redMul(t.z)),o=t.y.redMul(n.redMul(this.z)),f=i.redSub(a),c=s.redSub(o);if(f.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),l=u.redMul(f),h=i.redMul(u),g=c.redSqr().redIAdd(l).redISub(h).redISub(h),m=c.redMul(h.redISub(g)).redISub(s.redMul(l)),A=this.z.redMul(t.z).redMul(f);return this.curve.jpoint(g,m,A)};nn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=t.x.redMul(r),a=this.y,s=t.y.redMul(r).redMul(this.z),o=n.redSub(i),f=a.redSub(s);if(o.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=n.redMul(c),h=f.redSqr().redIAdd(u).redISub(l).redISub(l),g=f.redMul(l.redISub(h)).redISub(a.redMul(u)),m=this.z.redMul(o);return this.curve.jpoint(h,g,m)};nn.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,f=this.z,c=f.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<t;r++){var l=s.redSqr(),h=u.redSqr(),g=h.redSqr(),m=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),A=s.redMul(h),S=m.redSqr().redISub(A.redAdd(A)),w=A.redISub(S),C=m.redMul(w);C=C.redIAdd(C).redISub(g);var B=u.redMul(f);r+1<t&&(c=c.redMul(g)),s=S,f=B,u=C}return this.curve.jpoint(s,u.redMul(a),f)};nn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};nn.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i),c=f.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=c,r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),m=this.x.redAdd(h).redSqr().redISub(l).redISub(g);m=m.redIAdd(m);var A=l.redAdd(l).redIAdd(l),S=A.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),t=S.redISub(m).redISub(m),r=A.redMul(m.redISub(t)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};nn.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var f=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=f.redSqr().redISub(o).redISub(o);t=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=f.redMul(o.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),m=this.x.redSub(l).redMul(this.x.redAdd(l));m=m.redAdd(m).redIAdd(m);var A=g.redIAdd(g);A=A.redIAdd(A);var S=A.redAdd(A);t=m.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(A.redISub(t)).redISub(w)}return this.curve.jpoint(t,r,n)};nn.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),f=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(o),l=f.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=f.redMul(h).redISub(g),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,m,A)};nn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=t.redAdd(t).redIAdd(t),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(t).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var f=o.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=a.redIAdd(o).redSqr().redISub(s).redISub(f).redISub(c),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(f).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(f)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var m=this.z.redAdd(o).redSqr().redISub(n).redISub(f);return this.curve.jpoint(h,g,m)};nn.prototype.mul=function(t,r){return t=new or(t,r),this.curve._wnafMul(this,t)};nn.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(t.z);return this.y.redMul(a).redISub(t.y.redMul(i)).cmpn(0)===0};nn.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=t.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};nn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};nn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Al=Sr,EL=Ye,vv=yv,yrt=Ni;function A0(e){vv.call(this,"mont",e),this.a=new Al(e.a,16).toRed(this.red),this.b=new Al(e.b,16).toRed(this.red),this.i4=new Al(4).toRed(this.red).redInvm(),this.two=new Al(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}EL(A0,vv);var vrt=A0;A0.prototype.validate=function(t){var r=t.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Fr(e,t,r){vv.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Al(t,16),this.z=new Al(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}EL(Fr,vv.BasePoint);A0.prototype.decodePoint=function(t,r){return this.point(yrt.toArray(t,r),1)};A0.prototype.point=function(t,r){return new Fr(this,t,r)};A0.prototype.pointFromJSON=function(t){return Fr.fromJSON(this,t)};Fr.prototype.precompute=function(){};Fr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Fr.fromJSON=function(t,r){return new Fr(t,r[0],r[1]||t.one)};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Fr.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Fr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.diffAdd=function(t,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=t.x.redAdd(t.z),s=t.x.redSub(t.z),o=s.redMul(n),f=a.redMul(i),c=r.z.redMul(o.redAdd(f).redSqr()),u=r.x.redMul(o.redISub(f).redSqr());return this.curve.point(c,u)};Fr.prototype.mul=function(t){for(var r=t.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Fr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Fr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var _rt=Ni,Co=Sr,xL=Ye,_v=yv,mrt=_rt.assert;function Ws(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,_v.call(this,"edwards",e),this.a=new Co(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Co(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Co(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),mrt(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}xL(Ws,_v);var wrt=Ws;Ws.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};Ws.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};Ws.prototype.jpoint=function(t,r,n,i){return this.point(t,r,n,i)};Ws.prototype.pointFromX=function(t,r){t=new Co(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var f=o.fromRed().isOdd();return(r&&!f||!r&&f)&&(o=o.redNeg()),this.point(t,o)};Ws.prototype.pointFromY=function(t,r){t=new Co(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,t)};Ws.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),n=t.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Ee(e,t,r,n,i){_v.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Co(t,16),this.y=new Co(r,16),this.z=n?new Co(n,16):this.curve.one,this.t=i&&new Co(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}xL(Ee,_v.BasePoint);Ws.prototype.pointFromJSON=function(t){return Ee.fromJSON(this,t)};Ws.prototype.point=function(t,r,n,i){return new Ee(this,t,r,n,i)};Ee.fromJSON=function(t,r){return new Ee(t,r[0],r[1],r[2])};Ee.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ee.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ee.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(t),a=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=i.redAdd(r),o=s.redSub(n),f=i.redSub(r),c=a.redMul(o),u=s.redMul(f),l=a.redMul(f),h=o.redMul(s);return this.curve.point(c,u,h,l)};Ee.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,f,c;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=t.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(f=this.z.redSqr(),c=u.redSub(f).redISub(f),i=t.redSub(r).redISub(n).redMul(c),a=u.redMul(o.redSub(n)),s=u.redMul(c))}else o=r.redAdd(n),f=this.curve._mulC(this.z).redSqr(),c=o.redSub(f).redSub(f),i=this.curve._mulC(t.redISub(o)).redMul(c),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(c);return this.curve.point(i,a,s)};Ee.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ee.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),a=this.z.redMul(t.z.redAdd(t.z)),s=n.redSub(r),o=a.redSub(i),f=a.redAdd(i),c=n.redAdd(r),u=s.redMul(o),l=f.redMul(c),h=s.redMul(c),g=o.redMul(f);return this.curve.point(u,l,g,h)};Ee.prototype._projAdd=function(t){var r=this.z.redMul(t.z),n=r.redSqr(),i=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),f=n.redAdd(s),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(c),l,h;return this.curve.twisted?(l=r.redMul(f).redMul(a.redSub(this.curve._mulA(i))),h=o.redMul(f)):(l=r.redMul(f).redMul(a.redSub(i)),h=this.curve._mulC(o).redMul(f)),this.curve.point(u,l,h)};Ee.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Ee.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Ee.prototype.mulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!1)};Ee.prototype.jmulAdd=function(t,r,n){return this.curve._wnafMulAdd(1,[this,r],[t,n],2,!0)};Ee.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Ee.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ee.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ee.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ee.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Ee.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ee.prototype.toP=Ee.prototype.normalize;Ee.prototype.mixedAdd=Ee.prototype.add;(function(e){var t=e;t.base=yv,t.short=grt,t.mont=vrt,t.edwards=wrt})(G5);var mv={},pm,JE;function Art(){return JE||(JE=1,pm={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),pm}(function(e){var t=e,r=p0,n=G5,i=Ni,a=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function o(c,u){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=Art()}catch{f=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(mv);var Ert=Sr,xrt=Ni,E6=xrt.assert;function xn(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Srt=xn;xn.fromPublic=function(t,r,n){return r instanceof xn?r:new xn(t,{pub:r,pubEnc:n})};xn.fromPrivate=function(t,r,n){return r instanceof xn?r:new xn(t,{priv:r,privEnc:n})};xn.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};xn.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};xn.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};xn.prototype._importPrivate=function(t,r){this.priv=new Ert(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};xn.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?E6(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&E6(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};xn.prototype.derive=function(t){return t.validate()||E6(t.validate(),"public point not validated"),t.mul(this.priv).getX()};xn.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};xn.prototype.verify=function(t,r,n){return this.ec.verify(t,r,this,void 0,n)};xn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ty=Sr,X5=Ni,Crt=X5.assert;function wv(e,t){if(e instanceof wv)return e;this._importDER(e,t)||(Crt(e.r&&e.s,"Signature without r or s"),this.r=new Ty(e.r,16),this.s=new Ty(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Irt=wv;function Trt(){this.place=0}function bm(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function tx(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}wv.prototype._importDER=function(t,r){t=X5.toArray(t,r);var n=new Trt;if(t[n.place++]!==48)return!1;var i=bm(t,n);if(i===!1||i+n.place!==t.length||t[n.place++]!==2)return!1;var a=bm(t,n);if(a===!1||t[n.place]&128)return!1;var s=t.slice(n.place,a+n.place);if(n.place+=a,t[n.place++]!==2)return!1;var o=bm(t,n);if(o===!1||t.length!==o+n.place||t[n.place]&128)return!1;var f=t.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(f[0]===0)if(f[1]&128)f=f.slice(1);else return!1;return this.r=new Ty(s),this.s=new Ty(f),this.recoveryParam=null,!0};function gm(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}wv.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=tx(r),n=tx(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];gm(i,r.length),i=i.concat(r),i.push(2),gm(i,n.length);var a=i.concat(n),s=[48];return gm(s,a.length),s=s.concat(a),X5.encode(s,t)};var Ga=Sr,SL=MR,Brt=Ni,ym=mv,Ort=G2,Uc=Brt.assert,Z5=Srt,Av=Irt;function ma(e){if(!(this instanceof ma))return new ma(e);typeof e=="string"&&(Uc(Object.prototype.hasOwnProperty.call(ym,e),"Unknown curve "+e),e=ym[e]),e instanceof ym.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Drt=ma;ma.prototype.keyPair=function(t){return new Z5(this,t)};ma.prototype.keyFromPrivate=function(t,r){return Z5.fromPrivate(this,t,r)};ma.prototype.keyFromPublic=function(t,r){return Z5.fromPublic(this,t,r)};ma.prototype.genKeyPair=function(t){t||(t={});for(var r=new SL({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ort(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ga(2));;){var a=new Ga(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};ma.prototype._truncateToN=function(t,r,n){var i;if(Ga.isBN(t)||typeof t=="number")t=new Ga(t,16),i=t.byteLength();else if(typeof t=="object")i=t.length,t=new Ga(t,16);else{var a=t.toString();i=a.length+1>>>1,t=new Ga(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(t=t.ushrn(s)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};ma.prototype.sign=function(t,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof t!="string"&&typeof t!="number"&&!Ga.isBN(t)){Uc(typeof t=="object"&&t&&typeof t.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Uc(t.length>>>0===t.length);for(var a=0;a<t.length;a++)Uc((t[a]&255)===t[a])}r=this.keyFromPrivate(r,n),t=this._truncateToN(t,!1,i.msgBitLength),Uc(!t.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),f=t.toArray("be",s);Uc(new Ga(f).eq(t),"Can not sign message");for(var c=new SL({hash:this.hash,entropy:o,nonce:f,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Ga(1)),l=0;;l++){var h=i.k?i.k(l):new Ga(c.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var m=g.getX(),A=m.umod(this.n);if(A.cmpn(0)!==0){var S=h.invm(this.n).mul(A.mul(r.getPrivate()).iadd(t));if(S=S.umod(this.n),S.cmpn(0)!==0){var w=(g.getY().isOdd()?1:0)|(m.cmp(A)!==0?2:0);return i.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),w^=1),new Av({r:A,s:S,recoveryParam:w})}}}}}};ma.prototype.verify=function(t,r,n,i,a){a||(a={}),t=this._truncateToN(t,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new Av(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),c=f.mul(t).umod(this.n),u=f.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(c,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};ma.prototype.recoverPubKey=function(e,t,r,n){Uc((3&r)===r,"The recovery param is more than two bits"),t=new Av(t,n);var i=this.n,a=new Ga(e),s=t.r,o=t.s,f=r&1,c=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?s=this.curve.pointFromX(s.add(this.curve.n),f):s=this.curve.pointFromX(s,f);var u=t.r.invm(i),l=i.sub(a).mul(u).umod(i),h=o.mul(u).umod(i);return this.g.mulAdd(l,s,h)};ma.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new Av(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Y1=Ni,CL=Y1.assert,ex=Y1.parseBytes,E0=Y1.cachedProperty;function zr(e,t){this.eddsa=e,this._secret=ex(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=ex(t.pub)}zr.fromPublic=function(t,r){return r instanceof zr?r:new zr(t,{pub:r})};zr.fromSecret=function(t,r){return r instanceof zr?r:new zr(t,{secret:r})};zr.prototype.secret=function(){return this._secret};E0(zr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});E0(zr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});E0(zr,"privBytes",function(){var t=this.eddsa,r=this.hash(),n=t.encodingLength-1,i=r.slice(0,t.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});E0(zr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});E0(zr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});E0(zr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});zr.prototype.sign=function(t){return CL(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};zr.prototype.verify=function(t,r){return this.eddsa.verify(t,r,this)};zr.prototype.getSecret=function(t){return CL(this._secret,"KeyPair is public only"),Y1.encode(this.secret(),t)};zr.prototype.getPublic=function(t){return Y1.encode(this.pubBytes(),t)};var Mrt=zr,Rrt=Sr,Ev=Ni,rx=Ev.assert,xv=Ev.cachedProperty,Lrt=Ev.parseBytes;function Fu(e,t){this.eddsa=e,typeof t!="object"&&(t=Lrt(t)),Array.isArray(t)&&(rx(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),rx(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Rrt&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}xv(Fu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});xv(Fu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});xv(Fu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});xv(Fu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Fu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Fu.prototype.toHex=function(){return Ev.encode(this.toBytes(),"hex").toUpperCase()};var Hrt=Fu,Prt=p0,Nrt=mv,Nd=Ni,Urt=Nd.assert,IL=Nd.parseBytes,TL=Mrt,nx=Hrt;function oi(e){if(Urt(e==="ed25519","only tested with ed25519 so far"),!(this instanceof oi))return new oi(e);e=Nrt[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Prt.sha512}var krt=oi;oi.prototype.sign=function(t,r){t=IL(t);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),t),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),f=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:f,Rencoded:s})};oi.prototype.verify=function(t,r,n){if(t=IL(t),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),t),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};oi.prototype.hashInt=function(){for(var t=this.hash(),r=0;r<arguments.length;r++)t.update(arguments[r]);return Nd.intFromLE(t.digest()).umod(this.curve.n)};oi.prototype.keyFromPublic=function(t){return TL.fromPublic(this,t)};oi.prototype.keyFromSecret=function(t){return TL.fromSecret(this,t)};oi.prototype.makeSignature=function(t){return t instanceof nx?t:new nx(this,t)};oi.prototype.encodePoint=function(t){var r=t.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=t.getX().isOdd()?128:0,r};oi.prototype.decodePoint=function(t){t=Nd.parseBytes(t);var r=t.length-1,n=t.slice(0,r).concat(t[r]&-129),i=(t[r]&128)!==0,a=Nd.intFromLE(n);return this.curve.pointFromY(a,i)};oi.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};oi.prototype.decodeInt=function(t){return Nd.intFromLE(t)};oi.prototype.isPoint=function(t){return t instanceof this.pointClass};(function(e){var t=e;t.version=drt.version,t.utils=Ni,t.rand=G2,t.curve=G5,t.curves=mv,t.ec=Drt,t.eddsa=krt})(AL);(function(e){var t=rn.Buffer,r=V5,n=Sr,i=AL.ec,a=mL,s=new i("secp256k1"),o=s.curve;function f(l,h){var g=new n(h);if(g.cmp(o.p)>=0)return null;g=g.toRed(o.red);var m=g.redSqr().redIMul(g).redIAdd(o.b).redSqrt();l===3!==m.isOdd()&&(m=m.redNeg());const A=g.redSqr().redIMul(g);return m.redSqr().redISub(A.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:g,y:m}}):null}function c(l,h,g){var m=new n(h),A=new n(g);if(m.cmp(o.p)>=0||A.cmp(o.p)>=0||(m=m.toRed(o.red),A=A.toRed(o.red),(l===6||l===7)&&A.isOdd()!==(l===7)))return null;var S=m.redSqr().redIMul(m);return A.redSqr().redISub(S.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:m,y:A}}):null}function u(l){var h=l[0];switch(h){case 2:case 3:return l.length!==33?null:f(h,l.slice(1,33));case 4:case 6:case 7:return l.length!==65?null:c(h,l.slice(1,33),l.slice(33,65));default:return null}}e.privateKeyVerify=function(l){var h=new n(l);return h.cmp(o.n)<0&&!h.isZero()},e.privateKeyExport=function(l,h){var g=new n(l);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return t.from(s.keyFromPrivate(l).getPublic(h,!0))},e.privateKeyNegate=function(l){var h=new n(l);return h.isZero()?t.alloc(32):o.n.sub(h).umod(o.n).toArrayLike(t,"be",32)},e.privateKeyModInverse=function(l){var h=new n(l);if(h.cmp(o.n)>=0||h.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return h.invm(o.n).toArrayLike(t,"be",32)},e.privateKeyTweakAdd=function(l,h){var g=new n(h);if(g.cmp(o.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(g.iadd(new n(l)),g.cmp(o.n)>=0&&g.isub(o.n),g.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return g.toArrayLike(t,"be",32)},e.privateKeyTweakMul=function(l,h){var g=new n(h);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return g.imul(new n(l)),g.cmp(o.n)&&(g=g.umod(o.n)),g.toArrayLike(t,"be",32)},e.publicKeyCreate=function(l,h){var g=new n(l);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return t.from(s.keyFromPrivate(l).getPublic(h,!0))},e.publicKeyConvert=function(l,h){var g=u(l);if(g===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return t.from(g.getPublic(h,!0))},e.publicKeyVerify=function(l){return u(l)!==null},e.publicKeyTweakAdd=function(l,h,g){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(h=new n(h),h.cmp(o.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var A=o.g.mul(h).add(m.pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return t.from(A.encode(!0,g))},e.publicKeyTweakMul=function(l,h,g){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(h=new n(h),h.cmp(o.n)>=0||h.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return t.from(m.pub.mul(h).encode(!0,g))},e.publicKeyCombine=function(l,h){for(var g=new Array(l.length),m=0;m<l.length;++m)if(g[m]=u(l[m]),g[m]===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var A=g[0].pub,S=1;S<g.length;++S)A=A.add(g[S].pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return t.from(A.encode(!0,h))},e.signatureNormalize=function(l){var h=new n(l.slice(0,32)),g=new n(l.slice(32,64));if(h.cmp(o.n)>=0||g.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var m=t.from(l);return g.cmp(s.nh)===1&&o.n.sub(g).toArrayLike(t,"be",32).copy(m,32),m},e.signatureExport=function(l){var h=l.slice(0,32),g=l.slice(32,64);if(new n(h).cmp(o.n)>=0||new n(g).cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:h,s:g}},e.signatureImport=function(l){var h=new n(l.r);h.cmp(o.n)>=0&&(h=new n(0));var g=new n(l.s);return g.cmp(o.n)>=0&&(g=new n(0)),t.concat([h.toArrayLike(t,"be",32),g.toArrayLike(t,"be",32)])},e.sign=function(l,h,g,m){if(typeof g=="function"){var A=g;g=function(C){var B=A(l,h,null,m,C);if(!t.isBuffer(B)||B.length!==32)throw new Error(a.ECDSA_SIGN_FAIL);return new n(B)}}var S=new n(h);if(S.cmp(o.n)>=0||S.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var w=s.sign(l,h,{canonical:!0,k:g,pers:m});return{signature:t.concat([w.r.toArrayLike(t,"be",32),w.s.toArrayLike(t,"be",32)]),recovery:w.recoveryParam}},e.verify=function(l,h,g){var m={r:h.slice(0,32),s:h.slice(32,64)},A=new n(m.r),S=new n(m.s);if(A.cmp(o.n)>=0||S.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(S.cmp(s.nh)===1||A.isZero()||S.isZero())return!1;var w=u(g);if(w===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return s.verify(l,m,{x:w.pub.x,y:w.pub.y})},e.recover=function(l,h,g,m){var A={r:h.slice(0,32),s:h.slice(32,64)},S=new n(A.r),w=new n(A.s);if(S.cmp(o.n)>=0||w.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(S.isZero()||w.isZero())throw new Error;var C=s.recoverPubKey(l,A,g);return t.from(C.encode(!0,m))}catch{throw new Error(a.ECDSA_RECOVER_FAIL)}},e.ecdh=function(l,h){var g=e.ecdhUnsafe(l,h,!0);return r("sha256").update(g).digest()},e.ecdhUnsafe=function(l,h,g){var m=u(l);if(m===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var A=new n(h);if(A.cmp(o.n)>=0||A.isZero())throw new Error(a.ECDH_FAIL);return t.from(m.pub.mul(A).encode(!0,g))}})(wL);var zrt=Xet(wL),x6=rn.Buffer,jrt=9007199254740991;function J5(e){if(e<0||e>jrt||e%1!==0)throw new RangeError("value out of range")}function xh(e,t,r){if(J5(e),t||(t=x6.allocUnsafe(BL(e))),!x6.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),e<253?(t.writeUInt8(e,r),xh.bytes=1):e<=65535?(t.writeUInt8(253,r),t.writeUInt16LE(e,r+1),xh.bytes=3):e<=4294967295?(t.writeUInt8(254,r),t.writeUInt32LE(e,r+1),xh.bytes=5):(t.writeUInt8(255,r),t.writeUInt32LE(e>>>0,r+1),t.writeUInt32LE(e/4294967296|0,r+5),xh.bytes=9),t}function Sh(e,t){if(!x6.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");t||(t=0);var r=e.readUInt8(t);if(r<253)return Sh.bytes=1,r;if(r===253)return Sh.bytes=3,e.readUInt16LE(t+1);if(r===254)return Sh.bytes=5,e.readUInt32LE(t+1);Sh.bytes=9;var n=e.readUInt32LE(t+1),i=e.readUInt32LE(t+5),a=i*4294967296+n;return J5(a),a}function BL(e){return J5(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var Frt={encode:xh,decode:Sh,encodingLength:BL};const vm=Xtt,ix=aet,$b=set,OL=V5,tw=zrt,ax=Frt,zf={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function S6(e){return OL("sha256").update(e).digest()}function $rt(e){return S6(S6(e))}function DL(e){return OL("ripemd160").update(S6(e)).digest()}function ML(e,t,r,n){return n!==void 0?(t+=8,n===zf.P2WPKH&&(t+=4)):r&&(t+=4),Buffer.concat([Buffer.alloc(1,t+27),e])}function qrt(e){if(e.length!==65)throw new Error("Invalid signature length");const t=e.readUInt8(0)-27;if(t>15||t<0)throw new Error("Invalid signature parameter");return{compressed:!!(t&12),segwitType:t&8?t&4?zf.P2WPKH:zf.P2SH_P2WPKH:null,recovery:t&3,signature:e.slice(1)}}function Sv(e,t){t=t||`Bitcoin Signed Message:
`,Buffer.isBuffer(t)||(t=Buffer.from(t,"utf8")),Buffer.isBuffer(e)||(e=Buffer.from(e,"utf8"));const r=ax.encodingLength(e.length),n=Buffer.allocUnsafe(t.length+r+e.length);return t.copy(n,0),ax.encode(e.length,n,t.length),e.copy(n,t.length+r),$rt(n)}function RL(e,t){typeof e=="object"&&t===void 0&&(t=e,e=void 0);let{segwitType:r,extraEntropy:n}=t||{};if(r&&(typeof r=="string"||r instanceof String)&&(r=r.toLowerCase()),r&&r!==zf.P2SH_P2WPKH&&r!==zf.P2WPKH)throw new Error('Unrecognized segwitType: use "'+zf.P2SH_P2WPKH+'" or "'+zf.P2WPKH+'"');return{messagePrefixArg:e,segwitType:r,extraEntropy:n}}function LL(e){return e&&typeof e.sign=="function"}function Krt(e,t,r,n,i){const{messagePrefixArg:a,segwitType:s,extraEntropy:o}=RL(n,i),f=Sv(e,a),c=LL(t)?t.sign(f,o):tw.sign(f,t,{data:o});return ML(c.signature,c.recovery,r,s)}function Qrt(e,t,r,n,i){let a,s,o;return Promise.resolve().then(()=>{({messagePrefixArg:a,segwitType:s,extraEntropy:o}=RL(n,i));const f=Sv(e,a);return LL(t)?t.sign(f,o):tw.sign(f,t,{data:o})}).then(f=>ML(f.signature,f.recovery,r,s))}function sx(e){const t=Buffer.concat([Buffer.from("0014","hex"),e]);return DL(t)}function ox(e){const t=ix.decode(e),r=ix.fromWords(t.words.slice(1));return Buffer.from(r)}function Yrt(e,t,r,n,i){Buffer.isBuffer(r)||(r=Buffer.from(r,"base64"));const a=qrt(r);if(i&&!a.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const s=Sv(e,n),o=tw.recover(s,a.signature,a.recovery,a.compressed),f=DL(o);let c,u;if(a.segwitType)a.segwitType===zf.P2SH_P2WPKH?(c=sx(f),u=vm.decode(t).slice(1)):(c=f,u=ox(t));else if(i)try{return u=ox(t),$b(f,u)}catch{const h=sx(f);return u=vm.decode(t).slice(1),$b(f,u)||$b(h,u)}else c=f,u=vm.decode(t).slice(1);return $b(c,u)}var HL={magicHash:Sv,sign:Krt,signAsync:Qrt,verify:Yrt};const Vrt=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),PL=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),Grt=PL.map(e=>(9*e+5)%16);let ew=[PL],rw=[Grt];for(let e=0;e<4;e++)for(let t of[ew,rw])t.push(t[e].map(r=>Vrt[r]));const NL=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Wrt=ew.map((e,t)=>e.map(r=>NL[t][r])),Xrt=rw.map((e,t)=>e.map(r=>NL[t][r])),Zrt=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Jrt=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function fx(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const qb=new Uint32Array(16);class tnt extends UM{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:r,h2:n,h3:i,h4:a}=this;return[t,r,n,i,a]}set(t,r,n,i,a){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=a|0}process(t,r){for(let g=0;g<16;g++,r+=4)qb[g]=t.getUint32(r,!0);let n=this.h0|0,i=n,a=this.h1|0,s=a,o=this.h2|0,f=o,c=this.h3|0,u=c,l=this.h4|0,h=l;for(let g=0;g<5;g++){const m=4-g,A=Zrt[g],S=Jrt[g],w=ew[g],C=rw[g],B=Wrt[g],M=Xrt[g];for(let N=0;N<16;N++){const K=Pb(n+fx(g,a,o,c)+qb[w[N]]+A,B[N])+l|0;n=l,l=c,c=Pb(o,10)|0,o=a,a=K}for(let N=0;N<16;N++){const K=Pb(i+fx(m,s,f,u)+qb[C[N]]+S,M[N])+h|0;i=h,h=u,u=Pb(f,10)|0,f=s,s=K}}this.set(this.h1+o+u|0,this.h2+c+h|0,this.h3+l+i|0,this.h4+n+s|0,this.h0+a+f|0)}roundClean(){qb.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ent=m5(()=>new tnt);function rnt(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<e.length;c++){const u=e.charAt(c),l=u.charCodeAt(0);if(t[l]!==255)throw new TypeError(u+" is ambiguous");t[l]=c}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),a=Math.log(256)/Math.log(r);function s(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,l=0,h=0;const g=c.length;for(;h!==g&&c[h]===0;)h++,u++;const m=(g-h)*a+1>>>0,A=new Uint8Array(m);for(;h!==g;){let C=c[h],B=0;for(let M=m-1;(C!==0||B<l)&&M!==-1;M--,B++)C+=256*A[M]>>>0,A[M]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");l=B,h++}let S=m-l;for(;S!==m&&A[S]===0;)S++;let w=n.repeat(u);for(;S<m;++S)w+=e.charAt(A[S]);return w}function o(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,l=0,h=0;for(;c[u]===n;)l++,u++;const g=(c.length-u)*i+1>>>0,m=new Uint8Array(g);for(;c[u];){let C=t[c.charCodeAt(u)];if(C===255)return;let B=0;for(let M=g-1;(C!==0||B<h)&&M!==-1;M--,B++)C+=r*m[M]>>>0,m[M]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");h=B,u++}let A=g-h;for(;A!==g&&m[A]===0;)A++;const S=new Uint8Array(l+(g-A));let w=l;for(;A!==g;)S[w++]=m[A++];return S}function f(c){const u=o(c);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:o,decode:f}}var nnt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const _m=rnt(nnt);function int(e){function t(a){var s=Uint8Array.from(a),o=e(s),f=s.length+4,c=new Uint8Array(f);return c.set(s,0),c.set(o.subarray(0,4),s.length),_m.encode(c)}function r(a){var s=a.slice(0,-4),o=a.slice(-4),f=e(s);if(!(o[0]^f[0]|o[1]^f[1]|o[2]^f[2]|o[3]^f[3]))return s}function n(a){var s=_m.decodeUnsafe(a);if(s!=null)return r(s)}function i(a){var s=_m.decode(a),o=r(s);if(o==null)throw new Error("Invalid checksum");return o}return{encode:t,decode:i,decodeUnsafe:n}}function ant(e){return py(py(e))}const snt=int(ant);function UL(e){return ent(py(Tt(e)))}function ont(e){return vt(snt.decode(e).slice(1))}function fnt(e,t,r){const n=typeof e=="string"?e:vt(e).slice(2),[i,...a]=Tt(t,"base64");return Eu.verify(Tt(a),HL.magicHash(n),r)}function cnt(e,t,r){const n=typeof e=="string"?e:vt(e).slice(2),[i,...a]=Tt(t,"base64"),s=Eu.Signature.fromCompact(vt(a).slice(2)).addRecoveryBit(i-31);return ont(r)===vt(UL(s.recoverPublicKey(HL.magicHash(n,`Dogecoin Signed Message:
`)).toHex()))}const unt="6.13.4";function cx(e,t,r){for(let n in t){let i=t[n];Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function El(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(El).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[e[n]&15];return r}if(typeof e=="object"&&typeof e.toJSON=="function")return El(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map(r=>`${El(r)}: ${El(e[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function lnt(e,t,r){let n=e;{const a=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${El(r)}`);for(const s in r){if(s==="shortMessage")continue;const o=r[s];a.push(s+"="+El(o))}}a.push(`code=${t}`),a.push(`version=${unt}`),a.length&&(e+=" ("+a.join(", ")+")")}let i;switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return cx(i,{code:t}),r&&Object.assign(i,r),i.shortMessage==null&&cx(i,{shortMessage:n}),i}function V1(e,t,r,n){if(!e)throw lnt(t,r,n)}function he(e,t,r,n){V1(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");e.push(t)}catch{}return e},[]);function dnt(e,t,r){if(e!==t){let n=r,i="new";n+=".",i+=" "+r,V1(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function kL(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((e.length-2)/2);let i=2;for(let a=0;a<n.length;a++)n[a]=parseInt(e.substring(i,i+2),16),i+=2;return n}he(!1,"invalid BytesLike value",t||"value",e)}function aa(e,t){return kL(e,t,!1)}function ch(e,t){return kL(e,t,!0)}function C6(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}const ux="0123456789abcdef";function Hn(e){const t=aa(e);let r="0x";for(let n=0;n<t.length;n++){const i=t[n];r+=ux[(i&240)>>4]+ux[i&15]}return r}function By(e){return"0x"+e.map(t=>Hn(t).substring(2)).join("")}function tp(e){return C6(e,!0)?(e.length-2)/2:aa(e).length}function hnt(e,t,r){const n=aa(e);V1(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),i.set(n,t-n.length),Hn(i)}function pnt(e,t){return hnt(e,t)}const zL=BigInt(0);BigInt(1);const xl=9007199254740991;function Ch(e,t){switch(typeof e){case"bigint":return e;case"number":return he(Number.isInteger(e),"underflow",t||"value",e),he(e>=-xl&&e<=xl,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(r){he(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}he(!1,"invalid BigNumberish value",t||"value",e)}function jL(e,t){const r=Ch(e,t);return V1(r>=zL,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}function ep(e,t){switch(typeof e){case"bigint":return he(e>=-xl&&e<=xl,"overflow",t||"value",e),Number(e);case"number":return he(Number.isInteger(e),"underflow",t||"value",e),he(e>=-xl&&e<=xl,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return ep(BigInt(e),t)}catch(r){he(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}he(!1,"invalid numeric value",t||"value",e)}function lx(e,t){let n=jL(e,"value").toString(16);{const i=ep(t,"width");for(V1(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<i*2;)n="0"+n}return"0x"+n}function bnt(e){const t=jL(e,"value");if(t===zL)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const a=i*2;n[i]=parseInt(r.substring(a,a+2),16)}return n}function mm(e,t){he(typeof e=="string","invalid string value","str",e);let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=e.charCodeAt(n);he(n<e.length&&(a&64512)===56320,"invalid surrogate pair","str",e);const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function Oy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function nw(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function gnt(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Oy(e.outputLen),Oy(e.blockLen)}function Ud(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function FL(e,t){nw(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const wm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $L=e=>e instanceof Uint8Array,ynt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Am=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ps=(e,t)=>e<<32-t|e>>>t,vnt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vnt)throw new Error("Non little-endian hardware is not supported");function _nt(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Cv(e){if(typeof e=="string"&&(e=_nt(e)),!$L(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function mnt(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!$L(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}class iw{clone(){return this._cloneInto()}}function qL(e){const t=n=>e().update(Cv(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function wnt(e=32){if(wm&&typeof wm.getRandomValues=="function")return wm.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class KL extends iw{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,gnt(t);const n=Cv(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=t.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(t){return Ud(this),this.iHash.update(t),this}digestInto(t){Ud(this),nw(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return t=t,t.finished=i,t.destroyed=a,t.blockLen=s,t.outputLen=o,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QL=(e,t,r)=>new KL(e,t).update(r).digest();QL.create=(e,t)=>new KL(e,t);function Ant(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),f=n?4:0,c=n?0:4;e.setUint32(t+f,s,n),e.setUint32(t+c,o,n)}class Ent extends iw{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Am(this.buffer)}update(t){Ud(this);const{view:r,buffer:n,blockLen:i}=this;t=Cv(t);const a=t.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const f=Am(t);for(;i<=a-s;s+=i)this.process(f,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ud(this),FL(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;Ant(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=Am(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return t.length=i,t.pos=o,t.finished=a,t.destroyed=s,i%r&&t.buffer.set(n),t}}const xnt=(e,t,r)=>e&t^~e&r,Snt=(e,t,r)=>e&t^e&r^t&r,Cnt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bf=new Uint32Array(64);class Int extends Ent{constructor(){super(64,32,8,!1),this.A=pf[0]|0,this.B=pf[1]|0,this.C=pf[2]|0,this.D=pf[3]|0,this.E=pf[4]|0,this.F=pf[5]|0,this.G=pf[6]|0,this.H=pf[7]|0}get(){const{A:t,B:r,C:n,D:i,E:a,F:s,G:o,H:f}=this;return[t,r,n,i,a,s,o,f]}set(t,r,n,i,a,s,o,f){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=f|0}process(t,r){for(let l=0;l<16;l++,r+=4)bf[l]=t.getUint32(r,!1);for(let l=16;l<64;l++){const h=bf[l-15],g=bf[l-2],m=ps(h,7)^ps(h,18)^h>>>3,A=ps(g,17)^ps(g,19)^g>>>10;bf[l]=A+bf[l-7]+m+bf[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:f,G:c,H:u}=this;for(let l=0;l<64;l++){const h=ps(o,6)^ps(o,11)^ps(o,25),g=u+h+xnt(o,f,c)+Cnt[l]+bf[l]|0,A=(ps(n,2)^ps(n,13)^ps(n,22))+Snt(n,i,a)|0;u=c,c=f,f=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,f,c,u)}roundClean(){bf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Tnt=qL(()=>new Int),Kb=BigInt(2**32-1),dx=BigInt(32);function Bnt(e,t=!1){return t?{h:Number(e&Kb),l:Number(e>>dx&Kb)}:{h:Number(e>>dx&Kb)|0,l:Number(e&Kb)|0}}function Ont(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:s}=Bnt(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}const Dnt=(e,t,r)=>e<<r|t>>>32-r,Mnt=(e,t,r)=>t<<r|e>>>32-r,Rnt=(e,t,r)=>t<<r-32|e>>>64-r,Lnt=(e,t,r)=>e<<r-32|t>>>64-r,[YL,VL,GL]=[[],[],[]],Hnt=BigInt(0),uh=BigInt(1),Pnt=BigInt(2),Nnt=BigInt(7),Unt=BigInt(256),knt=BigInt(113);for(let e=0,t=uh,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],YL.push(2*(5*n+r)),VL.push((e+1)*(e+2)/2%64);let i=Hnt;for(let a=0;a<7;a++)t=(t<<uh^(t>>Nnt)*knt)%Unt,t&Pnt&&(i^=uh<<(uh<<BigInt(a))-uh);GL.push(i)}const[znt,jnt]=Ont(GL,!0),hx=(e,t,r)=>r>32?Rnt(e,t,r):Dnt(e,t,r),px=(e,t,r)=>r>32?Lnt(e,t,r):Mnt(e,t,r);function Fnt(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,f=(s+2)%10,c=r[f],u=r[f+1],l=hx(c,u,1)^r[o],h=px(c,u,1)^r[o+1];for(let g=0;g<50;g+=10)e[s+g]^=l,e[s+g+1]^=h}let i=e[2],a=e[3];for(let s=0;s<24;s++){const o=VL[s],f=hx(i,a,o),c=px(i,a,o),u=YL[s];i=e[u],a=e[u+1],e[u]=f,e[u+1]=c}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=e[s+o];for(let o=0;o<10;o++)e[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}e[0]^=znt[n],e[1]^=jnt[n]}r.fill(0)}class aw extends iw{constructor(t,r,n,i=!1,a=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Oy(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ynt(this.state)}keccak(){Fnt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ud(this);const{blockLen:r,state:n}=this;t=Cv(t);const i=t.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=t[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){Ud(this,!1),nw(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=t.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);t.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Oy(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(FL(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return t||(t=new aw(r,n,i,s,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=n,t.outputLen=i,t.enableXOF=s,t.destroyed=this.destroyed,t}}const $nt=(e,t,r)=>qL(()=>new aw(t,e,r)),qnt=$nt(1,136,256/8);let WL=!1;const XL=function(e){return qnt(e)};let ZL=XL;function $u(e){const t=aa(e,"data");return Hn(ZL(t))}$u._=XL;$u.lock=function(){WL=!0};$u.register=function(e){if(WL)throw new TypeError("keccak256 is locked");ZL=e};Object.freeze($u);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JL=BigInt(0),Iv=BigInt(1),Knt=BigInt(2),Tv=e=>e instanceof Uint8Array,Qnt=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function kd(e){if(!Tv(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Qnt[e[r]];return t}function tH(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function sw(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function zd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const i=n*2,a=e.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function uu(e){return sw(kd(e))}function ow(e){if(!Tv(e))throw new Error("Uint8Array expected");return sw(kd(Uint8Array.from(e).reverse()))}function jd(e,t){return zd(e.toString(16).padStart(t*2,"0"))}function fw(e,t){return jd(e,t).reverse()}function Ynt(e){return zd(tH(e))}function Pa(e,t,r){let n;if(typeof t=="string")try{n=zd(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(Tv(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function Np(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!Tv(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function Vnt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Gnt(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Wnt(e){let t;for(t=0;e>JL;e>>=Iv,t+=1);return t}function Xnt(e,t){return e>>BigInt(t)&Iv}const Znt=(e,t,r)=>e|(r?Iv:JL)<<BigInt(t),cw=e=>(Knt<<BigInt(e-1))-Iv,Em=e=>new Uint8Array(e),bx=e=>Uint8Array.from(e);function eH(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Em(e),i=Em(e),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),f=(l=Em())=>{i=o(bx([0]),l),n=o(),l.length!==0&&(i=o(bx([1]),l),n=o())},c=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const h=[];for(;l<t;){n=o();const g=n.slice();h.push(g),l+=n.length}return Np(...h)};return(l,h)=>{s(),f(l);let g;for(;!(g=h(c()));)f();return s(),g}}const Jnt={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function G1(e,t,r={}){const n=(i,a,s)=>{const o=Jnt[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const f=e[i];if(!(s&&f===void 0)&&!o(f,e))throw new Error(`Invalid param ${String(i)}=${f} (${typeof f}), expected ${a}`)};for(const[i,a]of Object.entries(t))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return e}const tit=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Xnt,bitLen:Wnt,bitMask:cw,bitSet:Znt,bytesToHex:kd,bytesToNumberBE:uu,bytesToNumberLE:ow,concatBytes:Np,createHmacDrbg:eH,ensureBytes:Pa,equalBytes:Vnt,hexToBytes:zd,hexToNumber:sw,numberToBytesBE:jd,numberToBytesLE:fw,numberToHexUnpadded:tH,numberToVarBytesBE:Ynt,utf8ToBytes:Gnt,validateObject:G1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nr=BigInt(0),lr=BigInt(1),kc=BigInt(2),eit=BigInt(3),I6=BigInt(4),gx=BigInt(5),yx=BigInt(8);BigInt(9);BigInt(16);function ri(e,t){const r=e%t;return r>=Nr?r:t+r}function rit(e,t,r){if(r<=Nr||t<Nr)throw new Error("Expected power/modulo > 0");if(r===lr)return Nr;let n=lr;for(;t>Nr;)t&lr&&(n=n*e%r),e=e*e%r,t>>=lr;return n}function Ki(e,t,r){let n=e;for(;t-- >Nr;)n*=n,n%=r;return n}function T6(e,t){if(e===Nr||t<=Nr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ri(e,t),n=t,i=Nr,a=lr;for(;r!==Nr;){const o=n/r,f=n%r,c=i-a*o;n=r,r=f,i=a,a=c}if(n!==lr)throw new Error("invert: does not exist");return ri(i,t)}function nit(e){const t=(e-lr)/kc;let r,n,i;for(r=e-lr,n=0;r%kc===Nr;r/=kc,n++);for(i=kc;i<e&&rit(i,t,e)!==e-lr;i++);if(n===1){const s=(e+lr)/I6;return function(f,c){const u=f.pow(c,s);if(!f.eql(f.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(r+lr)/kc;return function(o,f){if(o.pow(f,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(f,a),h=o.pow(f,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let g=1;for(let A=o.sqr(h);g<c&&!o.eql(A,o.ONE);g++)A=o.sqr(A);const m=o.pow(u,lr<<BigInt(c-g-1));u=o.sqr(m),l=o.mul(l,m),h=o.mul(h,u),c=g}return l}}function iit(e){if(e%I6===eit){const t=(e+lr)/I6;return function(n,i){const a=n.pow(i,t);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(e%yx===gx){const t=(e-gx)/yx;return function(n,i){const a=n.mul(i,kc),s=n.pow(a,t),o=n.mul(i,s),f=n.mul(n.mul(o,kc),s),c=n.mul(o,n.sub(f,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return nit(e)}const ait=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sit(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ait.reduce((n,i)=>(n[i]="function",n),t);return G1(e,r)}function oit(e,t,r){if(r<Nr)throw new Error("Expected power > 0");if(r===Nr)return e.ONE;if(r===lr)return t;let n=e.ONE,i=t;for(;r>Nr;)r&lr&&(n=e.mul(n,i)),i=e.sqr(i),r>>=lr;return n}function fit(e,t){const r=new Array(t.length),n=t.reduce((a,s,o)=>e.is0(s)?a:(r[o]=a,e.mul(a,s)),e.ONE),i=e.inv(n);return t.reduceRight((a,s,o)=>e.is0(s)?a:(r[o]=e.mul(a,r[o]),e.mul(a,s)),i),r}function rH(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function cit(e,t,r=!1,n={}){if(e<=Nr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:a}=rH(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=iit(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:cw(i),ZERO:Nr,ONE:lr,create:f=>ri(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Nr<=f&&f<e},is0:f=>f===Nr,isOdd:f=>(f&lr)===lr,neg:f=>ri(-f,e),eql:(f,c)=>f===c,sqr:f=>ri(f*f,e),add:(f,c)=>ri(f+c,e),sub:(f,c)=>ri(f-c,e),mul:(f,c)=>ri(f*c,e),pow:(f,c)=>oit(o,f,c),div:(f,c)=>ri(f*T6(c,e),e),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>T6(f,e),sqrt:n.sqrt||(f=>s(o,f)),invertBatch:f=>fit(o,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>r?fw(f,a):jd(f,a),fromBytes:f=>{if(f.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${f.length}`);return r?ow(f):uu(f)}});return Object.freeze(o)}function nH(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function iH(e){const t=nH(e);return t+Math.ceil(t/2)}function uit(e,t,r=!1){const n=e.length,i=nH(t),a=iH(t);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?uu(e):ow(e),o=ri(s,t-lr)+lr;return r?fw(o,i):jd(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lit=BigInt(0),xm=BigInt(1);function dit(e,t){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(t/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=e.ZERO,o=i;for(;a>lit;)a&xm&&(s=s.add(o)),o=o.double(),a>>=xm;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),f=[];let c=i,u=c;for(let l=0;l<s;l++){u=c,f.push(u);for(let h=1;h<o;h++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(i,a,s){const{windows:o,windowSize:f}=n(i);let c=e.ZERO,u=e.BASE;const l=BigInt(2**i-1),h=2**i,g=BigInt(i);for(let m=0;m<o;m++){const A=m*f;let S=Number(s&l);s>>=g,S>f&&(S-=h,s+=xm);const w=A,C=A+Math.abs(S)-1,B=m%2!==0,M=S<0;S===0?u=u.add(r(B,a[w])):c=c.add(r(M,a[C]))}return{p:c,f:u}},wNAFCached(i,a,s,o){const f=i._WINDOW_SIZE||1;let c=a.get(i);return c||(c=this.precomputeWindow(i,f),f!==1&&a.set(i,o(c))),this.wNAF(f,c,s)}}}function aH(e){return sit(e.Fp),G1(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rH(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hit(e){const t=aH(e);G1(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:pit,hexToBytes:bit}=tit,Qc={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Qc;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:pit(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Qc,r=typeof e=="string"?bit(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:a}=Qc._parseInt(r.subarray(2)),{d:s,l:o}=Qc._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=t(r(e.s)),i=t(r(e.r)),a=n.length/2,s=i.length/2,o=r(a),f=r(s);return`30${r(s+a+4)}02${f}${i}02${o}${n}`}},go=BigInt(0),Zi=BigInt(1);BigInt(2);const vx=BigInt(3);BigInt(4);function git(e){const t=hit(e),{Fp:r}=t,n=t.toBytes||((m,A,S)=>{const w=A.toAffine();return Np(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),i=t.fromBytes||(m=>{const A=m.subarray(1),S=r.fromBytes(A.subarray(0,r.BYTES)),w=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:S,y:w}});function a(m){const{a:A,b:S}=t,w=r.sqr(m),C=r.mul(w,m);return r.add(r.add(C,r.mul(m,A)),S)}if(!r.eql(r.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(m){return typeof m=="bigint"&&go<m&&m<t.n}function o(m){if(!s(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(m){const{allowedPrivateKeyLengths:A,nByteLength:S,wrapPrivateKey:w,n:C}=t;if(A&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=kd(m)),typeof m!="string"||!A.includes(m.length))throw new Error("Invalid key");m=m.padStart(S*2,"0")}let B;try{B=typeof m=="bigint"?m:uu(Pa("private key",m,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof m}`)}return w&&(B=ri(B,C)),o(B),B}const c=new Map;function u(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(A,S,w){if(this.px=A,this.py=S,this.pz=w,A==null||!r.isValid(A))throw new Error("x required");if(S==null||!r.isValid(S))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required")}static fromAffine(A){const{x:S,y:w}=A||{};if(!A||!r.isValid(S)||!r.isValid(w))throw new Error("invalid affine point");if(A instanceof l)throw new Error("projective point not allowed");const C=B=>r.eql(B,r.ZERO);return C(S)&&C(w)?l.ZERO:new l(S,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const S=r.invertBatch(A.map(w=>w.pz));return A.map((w,C)=>w.toAffine(S[C])).map(l.fromAffine)}static fromHex(A){const S=l.fromAffine(i(Pa("pointHex",A)));return S.assertValidity(),S}static fromPrivateKey(A){return l.BASE.multiply(f(A))}_setWindowSize(A){this._WINDOW_SIZE=A,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:S}=this.toAffine();if(!r.isValid(A)||!r.isValid(S))throw new Error("bad point: x or y not FE");const w=r.sqr(S),C=a(A);if(!r.eql(w,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){u(A);const{px:S,py:w,pz:C}=this,{px:B,py:M,pz:N}=A,K=r.eql(r.mul(S,N),r.mul(B,C)),Q=r.eql(r.mul(w,N),r.mul(M,C));return K&&Q}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:S}=t,w=r.mul(S,vx),{px:C,py:B,pz:M}=this;let N=r.ZERO,K=r.ZERO,Q=r.ZERO,j=r.mul(C,C),G=r.mul(B,B),W=r.mul(M,M),R=r.mul(C,B);return R=r.add(R,R),Q=r.mul(C,M),Q=r.add(Q,Q),N=r.mul(A,Q),K=r.mul(w,W),K=r.add(N,K),N=r.sub(G,K),K=r.add(G,K),K=r.mul(N,K),N=r.mul(R,N),Q=r.mul(w,Q),W=r.mul(A,W),R=r.sub(j,W),R=r.mul(A,R),R=r.add(R,Q),Q=r.add(j,j),j=r.add(Q,j),j=r.add(j,W),j=r.mul(j,R),K=r.add(K,j),W=r.mul(B,M),W=r.add(W,W),j=r.mul(W,R),N=r.sub(N,j),Q=r.mul(W,G),Q=r.add(Q,Q),Q=r.add(Q,Q),new l(N,K,Q)}add(A){u(A);const{px:S,py:w,pz:C}=this,{px:B,py:M,pz:N}=A;let K=r.ZERO,Q=r.ZERO,j=r.ZERO;const G=t.a,W=r.mul(t.b,vx);let R=r.mul(S,B),_=r.mul(w,M),I=r.mul(C,N),b=r.add(S,w),v=r.add(B,M);b=r.mul(b,v),v=r.add(R,_),b=r.sub(b,v),v=r.add(S,C);let d=r.add(B,N);return v=r.mul(v,d),d=r.add(R,I),v=r.sub(v,d),d=r.add(w,C),K=r.add(M,N),d=r.mul(d,K),K=r.add(_,I),d=r.sub(d,K),j=r.mul(G,v),K=r.mul(W,I),j=r.add(K,j),K=r.sub(_,j),j=r.add(_,j),Q=r.mul(K,j),_=r.add(R,R),_=r.add(_,R),I=r.mul(G,I),v=r.mul(W,v),_=r.add(_,I),I=r.sub(R,I),I=r.mul(G,I),v=r.add(v,I),R=r.mul(_,v),Q=r.add(Q,R),R=r.mul(d,v),K=r.mul(b,K),K=r.sub(K,R),R=r.mul(b,_),j=r.mul(d,j),j=r.add(j,R),new l(K,Q,j)}subtract(A){return this.add(A.negate())}is0(){return this.equals(l.ZERO)}wNAF(A){return g.wNAFCached(this,c,A,S=>{const w=r.invertBatch(S.map(C=>C.pz));return S.map((C,B)=>C.toAffine(w[B])).map(l.fromAffine)})}multiplyUnsafe(A){const S=l.ZERO;if(A===go)return S;if(o(A),A===Zi)return this;const{endo:w}=t;if(!w)return g.unsafeLadder(this,A);let{k1neg:C,k1:B,k2neg:M,k2:N}=w.splitScalar(A),K=S,Q=S,j=this;for(;B>go||N>go;)B&Zi&&(K=K.add(j)),N&Zi&&(Q=Q.add(j)),j=j.double(),B>>=Zi,N>>=Zi;return C&&(K=K.negate()),M&&(Q=Q.negate()),Q=new l(r.mul(Q.px,w.beta),Q.py,Q.pz),K.add(Q)}multiply(A){o(A);let S=A,w,C;const{endo:B}=t;if(B){const{k1neg:M,k1:N,k2neg:K,k2:Q}=B.splitScalar(S);let{p:j,f:G}=this.wNAF(N),{p:W,f:R}=this.wNAF(Q);j=g.constTimeNegate(M,j),W=g.constTimeNegate(K,W),W=new l(r.mul(W.px,B.beta),W.py,W.pz),w=j.add(W),C=G.add(R)}else{const{p:M,f:N}=this.wNAF(S);w=M,C=N}return l.normalizeZ([w,C])[0]}multiplyAndAddUnsafe(A,S,w){const C=l.BASE,B=(N,K)=>K===go||K===Zi||!N.equals(C)?N.multiplyUnsafe(K):N.multiply(K),M=B(this,S).add(B(A,w));return M.is0()?void 0:M}toAffine(A){const{px:S,py:w,pz:C}=this,B=this.is0();A==null&&(A=B?r.ONE:r.inv(C));const M=r.mul(S,A),N=r.mul(w,A),K=r.mul(C,A);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:M,y:N}}isTorsionFree(){const{h:A,isTorsionFree:S}=t;if(A===Zi)return!0;if(S)return S(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:S}=t;return A===Zi?this:S?S(l,this):this.multiplyUnsafe(t.h)}toRawBytes(A=!0){return this.assertValidity(),n(l,this,A)}toHex(A=!0){return kd(this.toRawBytes(A))}}l.BASE=new l(t.Gx,t.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,g=dit(l,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:s}}function yit(e){const t=aH(e);return G1(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function vit(e){const t=yit(e),{Fp:r,n}=t,i=r.BYTES+1,a=2*r.BYTES+1;function s(v){return go<v&&v<r.ORDER}function o(v){return ri(v,n)}function f(v){return T6(v,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=git({...t,toBytes(v,d,y){const x=d.toAffine(),E=r.toBytes(x.x),p=Np;return y?p(Uint8Array.from([d.hasEvenY()?2:3]),E):p(Uint8Array.from([4]),E,r.toBytes(x.y))},fromBytes(v){const d=v.length,y=v[0],x=v.subarray(1);if(d===i&&(y===2||y===3)){const E=uu(x);if(!s(E))throw new Error("Point is not on curve");const p=l(E);let T=r.sqrt(p);const F=(T&Zi)===Zi;return(y&1)===1!==F&&(T=r.neg(T)),{x:E,y:T}}else if(d===a&&y===4){const E=r.fromBytes(x.subarray(0,r.BYTES)),p=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:E,y:p}}else throw new Error(`Point of length ${d} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),g=v=>kd(jd(v,t.nByteLength));function m(v){const d=n>>Zi;return v>d}function A(v){return m(v)?o(-v):v}const S=(v,d,y)=>uu(v.slice(d,y));class w{constructor(d,y,x){this.r=d,this.s=y,this.recovery=x,this.assertValidity()}static fromCompact(d){const y=t.nByteLength;return d=Pa("compactSignature",d,y*2),new w(S(d,0,y),S(d,y,2*y))}static fromDER(d){const{r:y,s:x}=Qc.toSig(Pa("DER",d));return new w(y,x)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(d){return new w(this.r,this.s,d)}recoverPublicKey(d){const{r:y,s:x,recovery:E}=this,p=Q(Pa("msgHash",d));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const T=E===2||E===3?y+t.n:y;if(T>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=E&1?"03":"02",L=c.fromHex(F+g(T)),k=f(T),$=o(-p*k),H=o(x*k),q=c.BASE.multiplyAndAddUnsafe(L,$,H);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return zd(this.toDERHex())}toDERHex(){return Qc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zd(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const C={isValidPrivateKey(v){try{return u(v),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const v=iH(t.n);return uit(t.randomBytes(v),t.n)},precompute(v=8,d=c.BASE){return d._setWindowSize(v),d.multiply(BigInt(3)),d}};function B(v,d=!0){return c.fromPrivateKey(v).toRawBytes(d)}function M(v){const d=v instanceof Uint8Array,y=typeof v=="string",x=(d||y)&&v.length;return d?x===i||x===a:y?x===2*i||x===2*a:v instanceof c}function N(v,d,y=!0){if(M(v))throw new Error("first arg must be private key");if(!M(d))throw new Error("second arg must be public key");return c.fromHex(d).multiply(u(v)).toRawBytes(y)}const K=t.bits2int||function(v){const d=uu(v),y=v.length*8-t.nBitLength;return y>0?d>>BigInt(y):d},Q=t.bits2int_modN||function(v){return o(K(v))},j=cw(t.nBitLength);function G(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(go<=v&&v<j))throw new Error(`bigint expected < 2^${t.nBitLength}`);return jd(v,t.nByteLength)}function W(v,d,y=R){if(["recovered","canonical"].some(et=>et in y))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:E}=t;let{lowS:p,prehash:T,extraEntropy:F}=y;p==null&&(p=!0),v=Pa("msgHash",v),T&&(v=Pa("prehashed msgHash",x(v)));const L=Q(v),k=u(d),$=[G(k),G(L)];if(F!=null){const et=F===!0?E(r.BYTES):F;$.push(Pa("extraEntropy",et))}const H=Np(...$),q=L;function X(et){const rt=K(et);if(!h(rt))return;const U=f(rt),P=c.BASE.multiply(rt).toAffine(),nt=o(P.x);if(nt===go)return;const ft=o(U*o(q+nt*k));if(ft===go)return;let dt=(P.x===nt?0:2)|Number(P.y&Zi),V=ft;return p&&m(ft)&&(V=A(ft),dt^=1),new w(nt,V,dt)}return{seed:H,k2sig:X}}const R={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};function I(v,d,y=R){const{seed:x,k2sig:E}=W(v,d,y),p=t;return eH(p.hash.outputLen,p.nByteLength,p.hmac)(x,E)}c.BASE._setWindowSize(8);function b(v,d,y,x=_){var P;const E=v;if(d=Pa("msgHash",d),y=Pa("publicKey",y),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:p,prehash:T}=x;let F,L;try{if(typeof E=="string"||E instanceof Uint8Array)try{F=w.fromDER(E)}catch(nt){if(!(nt instanceof Qc.Err))throw nt;F=w.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:nt,s:ft}=E;F=new w(nt,ft)}else throw new Error("PARSE");L=c.fromHex(y)}catch(nt){if(nt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(p&&F.hasHighS())return!1;T&&(d=t.hash(d));const{r:k,s:$}=F,H=Q(d),q=f($),X=o(H*q),et=o(k*q),rt=(P=c.BASE.multiplyAndAddUnsafe(L,X,et))==null?void 0:P.toAffine();return rt?o(rt.x)===k:!1}return{CURVE:t,getPublicKey:B,getSharedSecret:N,sign:I,verify:b,ProjectivePoint:c,Signature:w,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _it(e){return{hash:e,hmac:(t,...r)=>QL(e,t,mnt(...r)),randomBytes:wnt}}function mit(e,t){const r=n=>vit({...e,..._it(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sH=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_x=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wit=BigInt(1),B6=BigInt(2),mx=(e,t)=>(e+t/B6)/t;function Ait(e){const t=sH,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),f=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=Ki(u,r,t)*u%t,h=Ki(l,r,t)*u%t,g=Ki(h,B6,t)*c%t,m=Ki(g,i,t)*g%t,A=Ki(m,a,t)*m%t,S=Ki(A,o,t)*A%t,w=Ki(S,f,t)*S%t,C=Ki(w,o,t)*A%t,B=Ki(C,r,t)*u%t,M=Ki(B,s,t)*m%t,N=Ki(M,n,t)*c%t,K=Ki(N,B6,t);if(!O6.eql(O6.sqr(K),e))throw new Error("Cannot find square root");return K}const O6=cit(sH,void 0,void 0,{sqrt:Ait}),vf=mit({a:BigInt(0),b:BigInt(7),Fp:O6,n:_x,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=_x,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-wit*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=mx(a*e,t),f=mx(-n*e,t);let c=ri(e-o*r-f*i,t),u=ri(-o*n-f*a,t);const l=c>s,h=u>s;if(l&&(c=t-c),h&&(u=t-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:h,k2:u}}}},Tnt);BigInt(0);vf.ProjectivePoint;const wx="0x0000000000000000000000000000000000000000000000000000000000000000",Eit=`Ethereum Signed Message:
`,Ax=BigInt(0),Ex=BigInt(1),xx=BigInt(2),Sx=BigInt(27),Cx=BigInt(28),Qb=BigInt(35),tl={};function Ix(e){return pnt(bnt(e),32)}var td,ed,rd,tu;const La=class La{constructor(t,r,n,i){Ot(this,td);Ot(this,ed);Ot(this,rd);Ot(this,tu);dnt(t,tl,"Signature"),_t(this,td,r),_t(this,ed,n),_t(this,rd,i),_t(this,tu,null)}get r(){return st(this,td)}set r(t){he(tp(t)===32,"invalid r","value",t),_t(this,td,Hn(t))}get s(){return st(this,ed)}set s(t){he(tp(t)===32,"invalid s","value",t);const r=Hn(t);he(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),_t(this,ed,r)}get v(){return st(this,rd)}set v(t){const r=ep(t,"value");he(r===27||r===28,"invalid v","v",t),_t(this,rd,r)}get networkV(){return st(this,tu)}get legacyChainId(){const t=this.networkV;return t==null?null:La.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=aa(this.s);return this.yParity&&(t[0]|=128),Hn(t)}get compactSerialized(){return By([this.r,this.yParityAndS])}get serialized(){return By([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new La(tl,this.r,this.s,this.v);return this.networkV&&_t(t,tu,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const r=Ch(t,"v");return r==Sx||r==Cx?Ax:(he(r>=Qb,"invalid EIP-155 v","v",t),(r-Qb)/xx)}static getChainIdV(t,r){return Ch(t)*xx+BigInt(35+r-27)}static getNormalizedV(t){const r=Ch(t);return r===Ax||r===Sx?27:r===Ex||r===Cx?28:(he(r>=Qb,"invalid v","v",t),r&Ex?27:28)}static from(t){function r(c,u){he(c,u,"signature",t)}if(t==null)return new La(tl,wx,wx,27);if(typeof t=="string"){const c=aa(t,"signature");if(c.length===64){const u=Hn(c.slice(0,32)),l=c.slice(32,64),h=l[0]&128?28:27;return l[0]&=127,new La(tl,u,Hn(l),h)}if(c.length===65){const u=Hn(c.slice(0,32)),l=c.slice(32,64);r((l[0]&128)===0,"non-canonical s");const h=La.getNormalizedV(c[64]);return new La(tl,u,Hn(l),h)}r(!1,"invalid raw signature length")}if(t instanceof La)return t.clone();const n=t.r;r(n!=null,"missing r");const i=Ix(n),a=function(c,u){if(c!=null)return Ix(c);if(u!=null){r(C6(u,32),"invalid yParityAndS");const l=aa(u);return l[0]&=127,Hn(l)}r(!1,"missing s")}(t.s,t.yParityAndS);r((aa(a)[0]&128)==0,"non-canonical s");const{networkV:s,v:o}=function(c,u,l){if(c!=null){const h=Ch(c);return{networkV:h>=Qb?h:void 0,v:La.getNormalizedV(h)}}if(u!=null)return r(C6(u,32),"invalid yParityAndS"),{v:aa(u)[0]&128?28:27};if(l!=null){switch(ep(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),f=new La(tl,i,a,o);return s&&_t(f,tu,s),r(t.yParity==null||ep(t.yParity,"sig.yParity")===f.yParity,"yParity mismatch"),r(t.yParityAndS==null||t.yParityAndS===f.yParityAndS,"yParityAndS mismatch"),f}};td=new WeakMap,ed=new WeakMap,rd=new WeakMap,tu=new WeakMap;let Dy=La;var oo;const zc=class zc{constructor(t){Ot(this,oo);he(tp(t)===32,"invalid private key","privateKey","[REDACTED]"),_t(this,oo,Hn(t))}get privateKey(){return st(this,oo)}get publicKey(){return zc.computePublicKey(st(this,oo))}get compressedPublicKey(){return zc.computePublicKey(st(this,oo),!0)}sign(t){he(tp(t)===32,"invalid digest length","digest",t);const r=vf.sign(ch(t),ch(st(this,oo)),{lowS:!0});return Dy.from({r:lx(r.r,32),s:lx(r.s,32),v:r.recovery?28:27})}computeSharedSecret(t){const r=zc.computePublicKey(t);return Hn(vf.getSharedSecret(ch(st(this,oo)),aa(r),!1))}static computePublicKey(t,r){let n=aa(t,"key");if(n.length===32){const a=vf.getPublicKey(n,!!r);return Hn(a)}if(n.length===64){const a=new Uint8Array(65);a[0]=4,a.set(n,1),n=a}const i=vf.ProjectivePoint.fromHex(n);return Hn(i.toRawBytes(r))}static recoverPublicKey(t,r){he(tp(t)===32,"invalid digest length","digest",t);const n=Dy.from(r);let i=vf.Signature.fromCompact(ch(By([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const a=i.recoverPublicKey(ch(t));return he(a!=null,"invalid signautre for digest","signature",r),"0x"+a.toHex(!1)}static addPoints(t,r,n){const i=vf.ProjectivePoint.fromHex(zc.computePublicKey(t).substring(2)),a=vf.ProjectivePoint.fromHex(zc.computePublicKey(r).substring(2));return"0x"+i.add(a).toHex(!!n)}};oo=new WeakMap;let My=zc;const xit=BigInt(0),Sit=BigInt(36);function Tx(e){e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=aa($u(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const uw={};for(let e=0;e<10;e++)uw[String(e)]=String(e);for(let e=0;e<26;e++)uw[String.fromCharCode(65+e)]=String(10+e);const Bx=15;function Cit(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>uw[n]).join("");for(;t.length>=Bx;){let n=t.substring(0,Bx);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const Iit=function(){const e={};for(let t=0;t<36;t++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[r]=BigInt(t)}return e}();function Tit(e){e=e.toLowerCase();let t=xit;for(let r=0;r<e.length;r++)t=t*Sit+Iit[e[r]];return t}function Bit(e){if(he(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Tx(e);return he(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){he(e.substring(2,4)===Cit(e),"bad icap checksum","address",e);let t=Tit(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Tx("0x"+t)}he(!1,"invalid address","address",e)}function Oit(e){let t;return typeof e=="string"?t=My.computePublicKey(e,!1):t=e.publicKey,Bit($u("0x"+t.substring(4)).substring(26))}function Dit(e,t){return Oit(My.recoverPublicKey(e,t))}function Mit(e){return typeof e=="string"&&(e=mm(e)),$u(By([mm(Eit),mm(String(e.length)),e]))}function Rit(e,t){const r=Mit(e);return Dit(r,t)}function Lit(e,t,r){return r.toLowerCase()===Rit(typeof e=="string"?e:Tt(e),t).toLowerCase()}function oH(e){if(typeof e=="string")try{const t=JSON.parse(e);if(typeof t=="object"&&typeof t.created_at=="number"&&typeof t.kind=="number"&&typeof t.content=="string"&&Array.isArray(t.args)&&t.args.every(r=>Array.isArray(r)&&r.every(n=>typeof n=="string")))return t}catch{}return{kind:23335,created_at:0,content:typeof e=="string"?e:vt(e),tags:[]}}function Hit(e,t,r){const{words:n}=yu.decode(r),i=vt(yu.fromWords(n)).slice(2),a=oH(e),s=JSON.stringify([0,i,a.created_at,a.kind,a.tags,a.content]),o=vt(py(Tt(s,"utf8")));try{return LG.verify(t.slice(2),o.slice(2),i)}catch{return!1}}var Pn;(function(e){e.Unknown="Unknown",e.BtcEcdsa="BtcEcdsa",e.EvmPersonal="EvmPersonal",e.JoyId="JoyId",e.NostrEvent="NostrEvent",e.CkbSecp256k1="CkbSecp256k1",e.DogeEcdsa="DogeEcdsa"})(Pn||(Pn={}));var es;(function(e){e.EVM="EVM",e.BTC="BTC",e.CKB="CKB",e.Nostr="Nostr",e.Doge="Doge"})(es||(es={}));class lc{constructor(t){this.client_=t}get client(){return this.client_}matchNetworkPreference(t,r){if(!(r!==void 0&&t.some(({signerType:n,addressPrefix:i,network:a})=>{n===this.type&&this.client.addressPrefix})))return t.find(({signerType:n,addressPrefix:i})=>n===this.type&&i===this.client.addressPrefix)}static async verifyMessage(t,r){switch(r.signType){case Pn.EvmPersonal:return Lit(t,r.signature,r.identity);case Pn.BtcEcdsa:return fnt(t,r.signature,r.identity);case Pn.JoyId:return BZ(t,r.signature,r.identity);case Pn.NostrEvent:return Hit(t,r.signature,r.identity);case Pn.CkbSecp256k1:return PG(t,r.signature,r.identity);case Pn.DogeEcdsa:return cnt(t,r.signature,r.identity);case Pn.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(t){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(t){return(await this.getAddressObjs())[0]}async getRecommendedAddress(t){return(await this.getRecommendedAddressObj(t)).toString()}async getAddresses(){return this.getAddressObjs().then(t=>t.map(r=>r.toString()))}async*findCells(t,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findCells({script:s,scriptType:"lock",filter:t,scriptSearchMode:"exact",withData:r},n,i))yield o}async*findTransactions(t,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findTransactions({script:s,scriptType:"lock",filter:t,scriptSearchMode:"exact",groupByTransaction:r},n,i))yield o}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map(({script:t})=>t))}async signMessage(t){return{signature:await this.signMessageRaw(t),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(t){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(t,r){return typeof r=="string"?lc.verifyMessage(t,{signType:this.signType,signature:r,identity:await this.getIdentity()}):r.identity!==await this.getIdentity()||![Pn.Unknown,this.signType].includes(r.signType)?!1:lc.verifyMessage(t,r)}async sendTransaction(t){return this.client.sendTransaction(await this.signTransaction(t))}async signTransaction(t){const r=await this.prepareTransaction(t);return this.signOnlyTransaction(r)}prepareTransaction(t){throw Error("Signer.prepareTransaction not implemented")}signOnlyTransaction(t){throw Error("Signer.signOnlyTransaction not implemented")}}class Pit extends lc{get type(){return es.BTC}get signType(){return Pn.BtcEcdsa}async getInternalAddress(){return this.getBtcAccount()}async getIdentity(){return vt(await this.getBtcPublicKey()).slice(2)}async getAddressObjs(){const t=await this.getBtcPublicKey(),r=UL(t);return[await ia.fromKnownScript(this.client,Dt.OmniLock,vt([4,...r,0]))]}async prepareTransaction(t){const r=Ne.from(t),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,Dt.OmniLock),await r.prepareSighashAllWitness(n,85,this.client),r}async signOnlyTransaction(t){const r=Ne.from(t),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Tt(await this.signMessageRaw(`CKB (Bitcoin Layer) transaction: ${i.message}`),"base64");a[0]=31+(a[0]-27)%4;const s=ts.fromBytes(r.witnesses[i.position]);return s.lock=vt(D1(yn(5*4+a.length,4),yn(4*4,4),yn(5*4+a.length,4),yn(5*4+a.length,4),yn(a.length,4),a)),r.setWitnessArgsAt(i.position,s),r}}class Nit extends lc{get signType(){return Pn.Unknown}constructor(t,r){super(t),this.type=r}async isConnected(){return!1}async getInternalAddress(){throw new Error("Can't get address from SignerDummy")}async getAddressObjs(){throw new Error("Can't get addresses from SignerDummy")}}class Uit extends Nit{constructor(t,r,n){super(t,r),this.message=n}async connect(){throw new Error(this.message)}}class kit extends lc{get type(){return es.EVM}get signType(){return Pn.EvmPersonal}async getInternalAddress(){return this.getEvmAccount()}async getAddressObjs(){const t=await this.getEvmAccount();return(await Promise.all([this._getOmniLockAddresses(t),this._getPWLockAddresses(t)])).flat()}_getOmniLockAddresses(t){return Promise.all([this._getOmniLockEvmAddressObj(t),this._getOmniLockOldEvmAddressObj(t)])}async _getPWLockAddresses(t){const r=await this._getPWLockEvmAddressObj(t);return r?[r]:[]}async _getOmniLockEvmAddressObj(t){return ia.fromKnownScript(this.client,Dt.OmniLock,vt([18,...Tt(t),0]))}async _getOmniLockOldEvmAddressObj(t){return ia.fromKnownScript(this.client,Dt.OmniLock,vt([1,...Tt(t),0]))}async _getPWLockEvmAddressObj(t){try{return ia.fromKnownScript(this.client,Dt.PWLock,vt(Tt(t)))}catch{}}async prepareTransaction(t){const r=Ne.from(t);await r.findInputIndexByLockId(await this.client.getKnownScript(Dt.OmniLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,Dt.OmniLock),await r.findInputIndexByLockId(await this.client.getKnownScript(Dt.PWLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,Dt.PWLock);const n=await this.getEvmAccount(),i=await this._getOmniLockAddresses(n),a=await this._getPWLockAddresses(n),s=Id(i,(o,{script:f})=>o.prepareSighashAllWitness(f,85,this.client),r);return Id(a,(o,{script:f})=>o.prepareSighashAllWitness(f,65,this.client),s)}async signOnlyTransaction(t){let r=Ne.from(t);const n=await this.getEvmAccount(),{script:i}=await this._getOmniLockEvmAddressObj(n),{script:a}=await this._getOmniLockOldEvmAddressObj(n);r=await this._signOmniLockScriptForTransaction(r,i,o=>`CKB transaction: ${o}`),r=await this._signOmniLockScriptForTransaction(r,a,o=>Tt(o));const s=await this._getPWLockEvmAddressObj(n);return s&&(r=await this._signPWLockScriptForTransaction(r,s.script,o=>Tt(o))),r}async _signOmniLockScriptForTransaction(t,r,n){const i=await this._signPersonalEvmForTransaction(t,r,n);if(!i)return t;const a=ts.fromBytes(t.witnesses[i.position]);return a.lock=vt(D1(yn(5*4+i.signature.length,4),yn(4*4,4),yn(5*4+i.signature.length,4),yn(5*4+i.signature.length,4),yn(i.signature.length,4),i.signature)),t.setWitnessArgsAt(i.position,a),t}async _signPWLockScriptForTransaction(t,r,n){const i=await this._signPersonalEvmForTransaction(t,r,n,new rV);if(!i)return t;const a=ts.fromBytes(t.witnesses[i.position]);return a.lock=vt(i.signature),t.setWitnessArgsAt(i.position,a),t}async _signPersonalEvmForTransaction(t,r,n,i){const a=await t.getSignHashInfo(r,this.client,i);if(!a)return;const s=Tt(await this.signMessageRaw(n(a.message)));return s[s.length-1]>=27&&(s[s.length-1]-=27),{signature:s,position:a.position}}}class tc extends lc{get type(){return es.Nostr}get signType(){return Pn.NostrEvent}async signMessageRaw(t){return vt((await this.signNostrEvent(oH(t))).sig)}async getInternalAddress(){return yu.encode("npub",yu.toWords(Tt(await this.getNostrPublicKey())))}async getAddressObjs(){const t=await this.getNostrPublicKey();return[await ia.fromKnownScript(this.client,Dt.NostrLock,vt(D1([0],M1(t).slice(0,42))))]}async prepareTransaction(t){const r=Ne.from(t),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,Dt.NostrLock),await r.prepareSighashAllWitness(n,572,this.client),r}async signOnlyTransaction(t){const r=Ne.from(t),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Tt(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[tc.CKB_SIG_HASH_ALL_TAG,i.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:tc.CKB_UNLOCK_EVENT_KIND,content:tc.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),s=ts.fromBytes(r.witnesses[i.position]);return s.lock=vt(a),r.setWitnessArgsAt(i.position,s),r}}tc.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all";tc.CKB_UNLOCK_EVENT_KIND=23334;tc.CKB_UNLOCK_EVENT_CONTENT=`Signing a CKB transaction

IMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message
`;async function Us(e,t){return t.popup==null&&(t.popup=GG(""),t.popup==null)?tW(async()=>Us(e,t)):(t.popup.location.href=e,new Promise((r,n)=>{iR()&&n(new VG(t.popup));let i,a;const s=setInterval(()=>{var o;(o=t.popup)!=null&&o.closed&&(clearInterval(s),clearTimeout(a),window.removeEventListener("message",i,!1),n(new fR(t.popup)))},1e3);a=setTimeout(()=>{clearInterval(s),n(new YG(t.popup)),window.removeEventListener("message",i,!1)},(t.timeoutInSeconds??3e3)*1e3),i=o=>{var u;const{joyidAppURL:f}=t,c=new URL(f);o.origin===c.origin&&(!o.data||((u=o.data)==null?void 0:u.type)!==t.type||(clearTimeout(a),clearInterval(s),window.removeEventListener("message",i,!1),t.popup.close(),o.data.error&&n(new Error(o.data.error)),r(o.data.data)))},window.addEventListener("message",i)}))}function Sm(e,t){return e.uri===t.uri&&e.addressType.startsWith(t.addressType)}class Bv{constructor(t="ccc-joy-id-signer"){this.storageKey=t}async readConnections(){return JSON.parse(window.localStorage.getItem(this.storageKey)??"[]")}async get(t){var r;return(r=(await this.readConnections()).find(([n])=>Sm(t,n)))==null?void 0:r[1]}async set(t,r){const n=await this.readConnections();if(r){const i=n.find(([a])=>Sm(a,t));i?i[1]=r:n.push([t,r]),window.localStorage.setItem(this.storageKey,JSON.stringify(n))}else window.localStorage.setItem(this.storageKey,JSON.stringify(n.filter(([i])=>!Sm(i,t))))}}class Cm extends Pit{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,i=[{addressPrefix:"ckb",signerType:es.BTC,network:"btc"},{addressPrefix:"ckt",signerType:es.BTC,network:"btcTestnet"}],a="auto",s,o=new Bv){super(t),this.name=r,this.icon=n,this.preferredNetworks=i,this.addressType=a,this._appUri=s,this.connectionsRepo=o,this.network="btcTestnet"}getConfig(){const{network:t}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network!==t&&(this.connection=void 0),this.network=t;const r={btc:"https://app.joy.id",btcTestnet:"https://testnet.joyid.dev"}[t];if(!r)throw new Error(`JoyID wallet doesn't support the requested chain ${this.network}`);return{redirectURL:location.href,joyidAppURL:this._appUri??r,requestNetwork:`btc-${this.addressType}`,name:this.name,logo:this.icon}}async disconnect(){await super.disconnect(),await this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"btc"},void 0)}async getBtcAccount(){const{address:t}=await this.assertConnection();return t}async getBtcPublicKey(){const{publicKey:t}=await this.assertConnection();return t}async connect(){const t=this.getConfig(),r=await Us(Do(t,"popup","/auth"),{...t,type:Ls.Auth}),{address:n,pubkey:i}=this.addressType==="auto"?r.btcAddressType==="p2wpkh"?r.nativeSegwit:r.taproot:this.addressType==="p2wpkh"?r.nativeSegwit:r.taproot;this.connection={address:n,publicKey:vt(i),keyType:r.keyType},await Promise.all([this.connectionsRepo.set({uri:t.joyidAppURL,addressType:`btc-${r.btcAddressType}`},this.connection),this.connectionsRepo.set({uri:t.joyidAppURL,addressType:"btc-auto"},this.connection)])}async isConnected(){return this.connection?!0:(this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:`btc-${this.addressType}`}),this.connection!==void 0)}async signMessageRaw(t){const{address:r}=await this.assertConnection(),n=typeof t=="string"?t:vt(t).slice(2),i=this.getConfig(),{signature:a}=await Us(Do({...i,challenge:n,address:r,signMessageType:"ecdsa"},"popup","/sign-message"),{...i,type:Ls.SignMessage});return a}}class zit extends lc{get type(){return es.CKB}get signType(){return Pn.JoyId}async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,i,a,s=new Bv){super(t),this.name=r,this.icon=n,this._appUri=i,this._aggregatorUri=a,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),name:this.name,logo:this.icon}}getAggregatorUri(){return this._aggregatorUri??(this.client.addressPrefix==="ckb"?"https://cota.nervina.dev/mainnet-aggregator":"https://cota.nervina.dev/aggregator")}async connect(){const t=this.getConfig(),r=await Us(Do(t,"popup","/auth"),{...t,type:Ls.Auth});this.connection={address:r.address,publicKey:vt(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getInternalAddress(){return(await this.assertConnection()).address}async getIdentity(){const t=await this.assertConnection();return JSON.stringify({keyType:t.keyType,publicKey:t.publicKey.slice(2)})}async getAddressObj(){return await ia.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async prepareTransaction(t){const r=Ne.from(t);await r.addCellDepsOfKnownScripts(this.client,Dt.JoyId);const n=await r.findInputIndexByLock((await this.getAddressObj()).script,this.client);if(n===void 0)return r;const i=r.getWitnessArgsAt(n)??ts.from({});return i.lock=vt("00".repeat(1e3)),await this.prepareTransactionForSubKey(r,i),r.setWitnessArgsAt(n,i),r}async prepareTransactionForSubKey(t,r){var f;if(((f=this.connection)==null?void 0:f.keyType)!=="sub_key"||(r.outputType??"0x")!=="0x")return;const n=M1(this.connection.publicKey).substring(0,42),i=(await this.getAddressObj()).script,a=new EZ(this.getAggregatorUri()),{unlock_entry:s}=await a.generateSubkeyUnlockSmt({alg_index:1,pubkey_hash:n,lock_script:vt(i.toBytes())});r.outputType=vt(s);const o=[];for await(const c of this.client.findCellsByLock(i,await ie.fromKnownScript(this.client,Dt.COTA,"0x")))o.push(xi.from({depType:"code",outPoint:c.outPoint}));if(o.length===0)throw new Error("No COTA cells for sub key wallet");t.addCellDepsAtStart(o)}async signOnlyTransaction(t){const r=Ne.from(t),{script:n}=await this.getAddressObj(),i=await Id(r.inputs,async(o,f,c)=>{if(await f.completeExtraInfos(this.client),!f.cellOutput)throw new Error("Unable to complete input");f.cellOutput.lock.eq(n)&&o.push(c)},[]);await r.prepareSighashAllWitness(n,0,this.client),r.inputs.forEach(o=>{o.cellOutput=void 0,o.outputData=void 0});const a=this.getConfig(),s=await Us(Do({...a,tx:JSON.parse(r.stringify()),signerAddress:(await this.assertConnection()).address,witnessIndexes:i},"popup","/sign-ckb-raw-tx"),{...a,type:Ls.SignCkbRawTx});return Ne.from(s.tx)}async signMessageRaw(t){const{address:r}=await this.assertConnection(),n=typeof t=="string"?t:vt(t).slice(2),i=this.getConfig(),a=await Us(Do({...i,challenge:n,isData:typeof t!="string",address:r},"popup","/sign-message"),{...i,type:Ls.SignMessage});return JSON.stringify({signature:a.signature,alg:a.alg,message:a.message})}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ckb"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ckb"})}}class jit extends kit{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,i,a=new Bv){super(t),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"ethereum",name:this.name,logo:this.icon}}async getEvmAccount(){return(await this.assertConnection()).address}async connect(){const t=this.getConfig(),r=await Us(Do(t,"popup","/auth"),{...t,type:Ls.Auth});this.connection={address:r.ethAddress,publicKey:vt(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async signMessageRaw(t){const{address:r}=await this.assertConnection(),n=typeof t=="string"?t:vt(t).slice(2),i=this.getConfig(),{signature:a}=await Us(Do({...i,challenge:n,isData:typeof t!="string",address:r},"popup","/sign-message"),{...i,type:Ls.SignMessage});return vt(a)}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ethereum"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ethereum"})}}class Fit extends tc{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(t,r,n,i,a=new Bv){super(t),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"nostr",name:this.name,logo:this.icon}}async connect(){const t=this.getConfig(),r=await Us(Do(t,"popup","/auth"),{...t,type:Ls.Auth});this.connection={address:"",publicKey:vt(r.nostrPubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getNostrPublicKey(){return(await this.assertConnection()).publicKey}async signNostrEvent(t){const r=this.getConfig();return(await Us(Do({...r,event:t},"popup","/sign-nostr-event"),{...r,type:Ls.SignNostrEvent})).event}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"nostr"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"nostr"})}}function $it(e,t,r,n){return iR()||hV(window.navigator.userAgent)?[es.CKB,es.EVM,es.BTC].map(i=>({name:i,signer:new Uit(e,i,"JoyID can only be used with standard browsers")})):[{name:"CKB",signer:new zit(e,t,r)},{name:"BTC",signer:new Cm(e,t,r,n)},{name:"Nostr",signer:new Fit(e,t,r)},{name:"EVM",signer:new jit(e,t,r)},{name:"BTC (P2WPKH)",signer:new Cm(e,t,r,n,"p2wpkh")},{name:"BTC (P2TR)",signer:new Cm(e,t,r,n,"p2tr")}]}function qit(e){const t=Xy.c(11),{rootConfig:r,signer:n,walletName:i}=e;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=["walletConfig"],t[0]=a):a=t[0];let s;t[1]!==r||t[2]!==n?(s={queryKey:a,queryFn:async()=>{await n.isConnected()||await n.connect();const[l,h,g]=await Promise.all([n.getRecommendedAddress(),n.getRecommendedAddressObj(),n.getAddressObjs()]);let m;return m=[h,...g].map(Qit),m=[...new Map(m.map(Kit)).values()],{...r,address:l,accountLocks:m,expander:C=>{const B=C.cellOutput.lock;for(const M of m)if(mn(B,M))return M},getTxSizeOverhead:async C=>{const B=Ne.fromLumosSkeleton(C),M=B.toBytes().length;return(await n.prepareTransaction(B)).toBytes().length-M},sendSigned:async C=>n.sendTransaction(Ne.fromLumosSkeleton(C))}}},t[1]=r,t[2]=n,t[3]=s):s=t[3];const{isPending:o,error:f,data:c}=M4(s);if(o){let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=mt.jsx(yQ,{}),t[4]=l):l=t[4];let h;return t[5]!==i?(h=mt.jsxs(mt.Fragment,{children:[l,mt.jsxs(b5,{children:["Waiting for ",i," authorization..."]})]}),t[5]=i,t[6]=h):h=t[6],h}if(f){setTimeout(function(){console.log(f),location.reload()},1e4);let l;return t[7]!==i?(l=mt.jsxs("p",{children:["Unable to connect to ",i," "]}),t[7]=i,t[8]=l):l=t[8],l}let u;return t[9]!==c?(u=mt.jsx(oY,{walletConfig:c}),t[9]=c,t[10]=u):u=t[10],u}function Kit(e){return[`${e.args}-${e.hashType}-${e.codeHash}`,e]}function Qit(e){return wn.from({...ha,...e.script})}const Yit="/favicon.png",Vit="iCKB DApp",Git=nD("testnet",void 0,!0,rM).then(e=>{const t={...e,queryClient:new FI,cccClient:new LV};return cM(t),t}),Wit=nD("mainnet","https://mainnet.ckbapp.dev/",!0,rM).then(e=>{const t={...e,queryClient:new FI,cccClient:new MV};return cM(t),t});async function vat(e){const[t,r]=e.split("_"),n=await(r==="mainnet"?Wit:Git),i=$it(n.cccClient,Vit,"https://ickb.org"+Yit).filter(o=>o.name==="CKB")[0].signer,a=document.getElementById("app"),s=BU.createRoot(a);a.textContent="",s.render(mt.jsx(dr.StrictMode,{children:mt.jsx(GU,{client:n.queryClient,children:mt.jsx(qit,{rootConfig:n,signer:i,walletName:t})})}))}export{vat as startApp};
