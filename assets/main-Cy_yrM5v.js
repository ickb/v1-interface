var IN=Object.defineProperty;var O7=t=>{throw TypeError(t)};var TN=(t,e,r)=>e in t?IN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qr=(t,e,r)=>TN(t,typeof e!="symbol"?e+"":e,r),bm=(t,e,r)=>e.has(t)||O7("Cannot "+r);var se=(t,e,r)=>(bm(t,e,"read from private field"),r?r.call(t):e.get(t)),De=(t,e,r)=>e.has(t)?O7("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),me=(t,e,r,n)=>(bm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Qe=(t,e,r)=>(bm(t,e,"access private method"),r);var Pb=(t,e,r,n)=>({set _(i){me(t,e,i,r)},get _(){return se(t,e,n)}});var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var uC={exports:{}},p2={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON=Symbol.for("react.transitional.element"),BN=Symbol.for("react.fragment");function lC(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:ON,type:t,key:n,ref:e!==void 0?e:null,props:r}}p2.Fragment=BN;p2.jsx=lC;p2.jsxs=lC;uC.exports=p2;var xe=uC.exports,dC={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=Symbol.for("react.transitional.element"),DN=Symbol.for("react.portal"),MN=Symbol.for("react.fragment"),PN=Symbol.for("react.strict_mode"),RN=Symbol.for("react.profiler"),LN=Symbol.for("react.consumer"),HN=Symbol.for("react.context"),NN=Symbol.for("react.forward_ref"),$N=Symbol.for("react.suspense"),UN=Symbol.for("react.memo"),hC=Symbol.for("react.lazy"),B7=Symbol.iterator;function kN(t){return t===null||typeof t!="object"?null:(t=B7&&t[B7]||t["@@iterator"],typeof t=="function"?t:null)}var pC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bC=Object.assign,gC={};function c0(t,e,r){this.props=t,this.context=e,this.refs=gC,this.updater=r||pC}c0.prototype.isReactComponent={};c0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};c0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yC(){}yC.prototype=c0.prototype;function T4(t,e,r){this.props=t,this.context=e,this.refs=gC,this.updater=r||pC}var O4=T4.prototype=new yC;O4.constructor=T4;bC(O4,c0.prototype);O4.isPureReactComponent=!0;var D7=Array.isArray,Kt={H:null,A:null,T:null,S:null},vC=Object.prototype.hasOwnProperty;function B4(t,e,r,n,i,a,s){return r=s.ref,{$$typeof:I4,type:t,key:e,ref:r!==void 0?r:null,props:s}}function zN(t,e){return B4(t.type,e,null,void 0,void 0,void 0,t.props)}function D4(t){return typeof t=="object"&&t!==null&&t.$$typeof===I4}function FN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var M7=/\/+/g;function gm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FN(""+t.key):e.toString(36)}function P7(){}function jN(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(P7,P7):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ml(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case I4:case DN:s=!0;break;case hC:return s=t._init,ml(s(t._payload),e,r,n,i)}}if(s)return i=i(t),s=n===""?"."+gm(t,0):n,D7(i)?(r="",s!=null&&(r=s.replace(M7,"$&/")+"/"),ml(i,e,r,"",function(f){return f})):i!=null&&(D4(i)&&(i=zN(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(M7,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=n===""?".":n+":";if(D7(t))for(var c=0;c<t.length;c++)n=t[c],a=o+gm(n,c),s+=ml(n,e,r,a,i);else if(c=kN(t),typeof c=="function")for(t=c.call(t),c=0;!(n=t.next()).done;)n=n.value,a=o+gm(n,c++),s+=ml(n,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return ml(jN(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Rb(t,e,r){if(t==null)return t;var n=[],i=0;return ml(t,n,"","",function(a){return e.call(r,a,i++)}),n}function qN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var R7=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function KN(){}Fe.Children={map:Rb,forEach:function(t,e,r){Rb(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rb(t,function(){e++}),e},toArray:function(t){return Rb(t,function(e){return e})||[]},only:function(t){if(!D4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=c0;Fe.Fragment=MN;Fe.Profiler=RN;Fe.PureComponent=T4;Fe.StrictMode=PN;Fe.Suspense=$N;Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;Fe.act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.cache=function(t){return function(){return t.apply(null,arguments)}};Fe.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=bC({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!vC.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(n[s]=e[s]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];n.children=o}return B4(t.type,i,null,void 0,void 0,a,n)};Fe.createContext=function(t){return t={$$typeof:HN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:LN,_context:t},t};Fe.createElement=function(t,e,r){var n,i={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)vC.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return B4(t,a,null,void 0,void 0,null,i)};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:NN,render:t}};Fe.isValidElement=D4;Fe.lazy=function(t){return{$$typeof:hC,_payload:{_status:-1,_result:t},_init:qN}};Fe.memo=function(t,e){return{$$typeof:UN,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=Kt.T,r={};Kt.T=r;try{var n=t(),i=Kt.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(KN,R7)}catch(a){R7(a)}finally{Kt.T=e}};Fe.unstable_useCacheRefresh=function(){return Kt.H.useCacheRefresh()};Fe.use=function(t){return Kt.H.use(t)};Fe.useActionState=function(t,e,r){return Kt.H.useActionState(t,e,r)};Fe.useCallback=function(t,e){return Kt.H.useCallback(t,e)};Fe.useContext=function(t){return Kt.H.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t,e){return Kt.H.useDeferredValue(t,e)};Fe.useEffect=function(t,e){return Kt.H.useEffect(t,e)};Fe.useId=function(){return Kt.H.useId()};Fe.useImperativeHandle=function(t,e,r){return Kt.H.useImperativeHandle(t,e,r)};Fe.useInsertionEffect=function(t,e){return Kt.H.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Kt.H.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Kt.H.useMemo(t,e)};Fe.useOptimistic=function(t,e){return Kt.H.useOptimistic(t,e)};Fe.useReducer=function(t,e,r){return Kt.H.useReducer(t,e,r)};Fe.useRef=function(t){return Kt.H.useRef(t)};Fe.useState=function(t){return Kt.H.useState(t)};Fe.useSyncExternalStore=function(t,e,r){return Kt.H.useSyncExternalStore(t,e,r)};Fe.useTransition=function(){return Kt.H.useTransition()};Fe.version="19.0.0-rc-603e6108-20241029";dC.exports=Fe;var pe=dC.exports;const zr=C4(pe);var mC={exports:{}},b2={},_C={exports:{}},wC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(d,y){var S=d.length;d.push(y);e:for(;0<S;){var E=S-1>>>1,p=d[E];if(0<i(p,y))d[E]=y,d[S]=p,S=E;else break e}}function r(d){return d.length===0?null:d[0]}function n(d){if(d.length===0)return null;var y=d[0],S=d.pop();if(S!==y){d[0]=S;e:for(var E=0,p=d.length,O=p>>>1;E<O;){var k=2*(E+1)-1,L=d[k],j=k+1,q=d[j];if(0>i(L,S))j<p&&0>i(q,L)?(d[E]=q,d[j]=S,E=j):(d[E]=L,d[k]=S,E=k);else if(j<p&&0>i(q,S))d[E]=q,d[j]=S,E=j;else break e}}return y}function i(d,y){var S=d.sortIndex-y.sortIndex;return S!==0?S:d.id-y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],f=[],u=1,l=null,h=3,g=!1,_=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function T(d){for(var y=r(f);y!==null;){if(y.callback===null)n(f);else if(y.startTime<=d)n(f),y.sortIndex=y.expirationTime,e(c,y);else break;y=r(f)}}function R(d){if(A=!1,T(d),!_)if(r(c)!==null)_=!0,b();else{var y=r(f);y!==null&&v(R,y.startTime-d)}}var N=!1,K=-1,V=5,D=-1;function Q(){return!(t.unstable_now()-D<V)}function Y(){if(N){var d=t.unstable_now();D=d;var y=!0;try{e:{_=!1,A&&(A=!1,w(K),K=-1),g=!0;var S=h;try{t:{for(T(d),l=r(c);l!==null&&!(l.expirationTime>d&&Q());){var E=l.callback;if(typeof E=="function"){l.callback=null,h=l.priorityLevel;var p=E(l.expirationTime<=d);if(d=t.unstable_now(),typeof p=="function"){l.callback=p,T(d),y=!0;break t}l===r(c)&&n(c),T(d)}else n(c);l=r(c)}if(l!==null)y=!0;else{var O=r(f);O!==null&&v(R,O.startTime-d),y=!1}}break e}finally{l=null,h=S,g=!1}y=void 0}}finally{y?M():N=!1}}}var M;if(typeof I=="function")M=function(){I(Y)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,x=m.port2;m.port1.onmessage=Y,M=function(){x.postMessage(null)}}else M=function(){C(Y,0)};function b(){N||(N=!0,M())}function v(d,y){K=C(function(){d(t.unstable_now())},y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(d){d.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,b())},t.unstable_forceFrameRate=function(d){0>d||125<d?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<d?Math.floor(1e3/d):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(d){switch(h){case 1:case 2:case 3:var y=3;break;default:y=h}var S=h;h=y;try{return d()}finally{h=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(d,y){switch(d){case 1:case 2:case 3:case 4:case 5:break;default:d=3}var S=h;h=d;try{return y()}finally{h=S}},t.unstable_scheduleCallback=function(d,y,S){var E=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?E+S:E):S=E,d){case 1:var p=-1;break;case 2:p=250;break;case 5:p=1073741823;break;case 4:p=1e4;break;default:p=5e3}return p=S+p,d={id:u++,callback:y,priorityLevel:d,startTime:S,expirationTime:p,sortIndex:-1},S>E?(d.sortIndex=S,e(f,d),r(c)===null&&d===r(f)&&(A?(w(K),K=-1):A=!0,v(R,S-E))):(d.sortIndex=p,e(c,d),_||g||(_=!0,b())),d},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(d){var y=h;return function(){var S=h;h=y;try{return d.apply(this,arguments)}finally{h=S}}}})(wC);_C.exports=wC;var VN=_C.exports,AC={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN=pe;function EC(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function uc(){}var qn={d:{f:uc,r:function(){throw Error(EC(522))},D:uc,C:uc,L:uc,m:uc,X:uc,S:uc,M:uc},p:0,findDOMNode:null},YN=Symbol.for("react.portal");function GN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:YN,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Xh=QN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g2(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Zn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(EC(299));return GN(t,e,null,r)};Zn.flushSync=function(t){var e=Xh.T,r=qn.p;try{if(Xh.T=null,qn.p=2,t)return t()}finally{Xh.T=e,qn.p=r,qn.d.f()}};Zn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Zn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Zn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=g2(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&qn.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=g2(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Zn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=g2(r,e.crossOrigin);qn.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zn.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=g2(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Zn.requestFormReset=function(t){qn.d.r(t)};Zn.unstable_batchedUpdates=function(t,e){return t(e)};Zn.useFormState=function(t,e,r){return Xh.H.useFormState(t,e,r)};Zn.useFormStatus=function(){return Xh.H.useHostTransitionStatus()};Zn.version="19.0.0-rc-603e6108-20241029";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(t){console.error(t)}}xC(),AC.exports=Zn;var WN=AC.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=VN,SC=pe,XN=WN;function be(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function CC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var ZN=Symbol.for("react.element"),Lb=Symbol.for("react.transitional.element"),Ph=Symbol.for("react.portal"),Cl=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),p3=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),TC=Symbol.for("react.consumer"),So=Symbol.for("react.context"),M4=Symbol.for("react.forward_ref"),b3=Symbol.for("react.suspense"),g3=Symbol.for("react.suspense_list"),P4=Symbol.for("react.memo"),Cc=Symbol.for("react.lazy"),OC=Symbol.for("react.offscreen"),e$=Symbol.for("react.memo_cache_sentinel"),L7=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=L7&&t[L7]||t["@@iterator"],typeof t=="function"?t:null)}var t$=Symbol.for("react.client.reference");function y3(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===t$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cl:return"Fragment";case Ph:return"Portal";case p3:return"Profiler";case IC:return"StrictMode";case b3:return"Suspense";case g3:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case So:return(t.displayName||"Context")+".Provider";case TC:return(t._context.displayName||"Context")+".Consumer";case M4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P4:return e=t.displayName||null,e!==null?e:y3(t.type)||"Memo";case Cc:e=t._payload,t=t._init;try{return y3(t(e))}catch{}}return null}var ke=SC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt=Object.assign,ym,H7;function Rh(t){if(ym===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ym=e&&e[1]||"",H7=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ym+t+H7}var vm=!1;function mm(t,e){if(!t||vm)return"";vm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(g){var h=g}Reflect.construct(t,[],l)}else{try{l.call()}catch(g){h=g}t.call(l.prototype)}}else{try{throw Error()}catch(g){h=g}(l=t())&&typeof l.catch=="function"&&l.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var c=s.split(`
`),f=o.split(`
`);for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<f.length&&!f[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===f.length)for(n=c.length-1,i=f.length-1;1<=n&&0<=i&&c[n]!==f[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==f[i]){if(n!==1||i!==1)do if(n--,i--,0>i||c[n]!==f[i]){var u=`
`+c[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=i);break}}}finally{vm=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Rh(r):""}function r$(t){switch(t.tag){case 26:case 27:case 5:return Rh(t.type);case 16:return Rh("Lazy");case 13:return Rh("Suspense");case 19:return Rh("SuspenseList");case 0:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function N7(t){try{var e="";do e+=r$(t),t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function f0(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function BC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $7(t){if(f0(t)!==t)throw Error(be(188))}function n$(t){var e=t.alternate;if(!e){if(e=f0(t),e===null)throw Error(be(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return $7(i),t;if(a===n)return $7(i),e;a=a.sibling}throw Error(be(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(be(189))}}if(r.alternate!==n)throw Error(be(190))}if(r.tag!==3)throw Error(be(188));return r.stateNode.current===r?t:e}function DC(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=DC(t),e!==null)return e;t=t.sibling}return null}var Lh=Array.isArray,Tt=XN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hu={pending:!1,data:null,method:null,action:null},v3=[],Il=-1;function Zs(t){return{current:t}}function $r(t){0>Il||(t.current=v3[Il],v3[Il]=null,Il--)}function Ut(t,e){Il++,v3[Il]=t.current,t.current=e}var Ns=Zs(null),Cp=Zs(null),Wc=Zs(null),Qg=Zs(null);function Yg(t,e){switch(Ut(Wc,e),Ut(Cp,t),Ut(Ns,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?U9(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=U9(t),e=jT(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$r(Ns),Ut(Ns,e)}function Ad(){$r(Ns),$r(Cp),$r(Wc)}function m3(t){t.memoizedState!==null&&Ut(Qg,t);var e=Ns.current,r=jT(e,t.type);e!==r&&(Ut(Cp,t),Ut(Ns,r))}function Gg(t){Cp.current===t&&($r(Ns),$r(Cp)),Qg.current===t&&($r(Qg),$p._currentValue=hu)}var _3=Object.prototype.hasOwnProperty,R4=Er.unstable_scheduleCallback,_m=Er.unstable_cancelCallback,i$=Er.unstable_shouldYield,a$=Er.unstable_requestPaint,$s=Er.unstable_now,s$=Er.unstable_getCurrentPriorityLevel,L4=Er.unstable_ImmediatePriority,MC=Er.unstable_UserBlockingPriority,Wg=Er.unstable_NormalPriority,o$=Er.unstable_LowPriority,PC=Er.unstable_IdlePriority,c$=Er.log,f$=Er.unstable_setDisableYieldValue,g1=null,Mi=null;function u$(t){if(Mi&&typeof Mi.onCommitFiberRoot=="function")try{Mi.onCommitFiberRoot(g1,t,void 0,(t.current.flags&128)===128)}catch{}}function Kc(t){if(typeof c$=="function"&&f$(t),Mi&&typeof Mi.setStrictMode=="function")try{Mi.setStrictMode(g1,t)}catch{}}var Pi=Math.clz32?Math.clz32:h$,l$=Math.log,d$=Math.LN2;function h$(t){return t>>>=0,t===0?32:31-(l$(t)/d$|0)|0}var Hb=128,Nb=4194304;function Hh(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function y2(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes;t=t.pingedLanes;var a=r&134217727;return a!==0?(r=a&~i,r!==0?n=Hh(r):(t&=a,t!==0&&(n=Hh(t)))):(r&=~i,r!==0?n=Hh(r):t!==0&&(n=Hh(t))),n===0?0:e!==0&&e!==n&&!(e&i)&&(i=n&-n,t=e&-e,i>=t||i===32&&(t&4194176)!==0)?e:n}function p$(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(){var t=Hb;return Hb<<=1,!(Hb&4194176)&&(Hb=128),t}function LC(){var t=Nb;return Nb<<=1,!(Nb&62914560)&&(Nb=4194304),t}function wm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function y1(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function b$(t,e,r,n){var i=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0,e=t.entanglements;var a=t.expirationTimes,s=t.hiddenUpdates;for(r=i&~r;0<r;){var o=31-Pi(r);i=1<<o,e[o]=0,a[o]=-1;var c=s[o];if(c!==null)for(s[o]=null,o=0;o<c.length;o++){var f=c[o];f!==null&&(f.lane&=-536870913)}r&=~i}n!==0&&HC(t,n,0)}function HC(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Pi(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194218}function NC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function $C(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function UC(){var t=Tt.p;return t!==0?t:(t=window.event,t===void 0?32:JT(t.type))}function g$(t,e){var r=Tt.p;try{return Tt.p=t,e()}finally{Tt.p=r}}var Af=Math.random().toString(36).slice(2),wn="__reactFiber$"+Af,fi="__reactProps$"+Af,u0="__reactContainer$"+Af,w3="__reactEvents$"+Af,y$="__reactListeners$"+Af,v$="__reactHandles$"+Af,U7="__reactResources$"+Af,Ip="__reactMarker$"+Af;function H4(t){delete t[wn],delete t[fi],delete t[w3],delete t[y$],delete t[v$]}function Zf(t){var e=t[wn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[u0]||r[wn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=z9(t);t!==null;){if(r=t[wn])return r;t=z9(t)}return e}t=r,r=t.parentNode}return null}function l0(t){if(t=t[wn]||t[u0]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Nh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(be(33))}function Kl(t){var e=t[U7];return e||(e=t[U7]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Mr(t){t[Ip]=!0}var kC=new Set,zC={};function Fu(t,e){Ed(t,e),Ed(t+"Capture",e)}function Ed(t,e){for(zC[t]=e,t=0;t<e.length;t++)kC.add(e[t])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),k7={},z7={};function _$(t){return _3.call(z7,t)?!0:_3.call(k7,t)?!1:m$.test(t)?z7[t]=!0:(k7[t]=!0,!1)}function Eg(t,e,r){if(_$(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function $b(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function oo(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function ca(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w$(t){var e=FC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xg(t){t._valueTracker||(t._valueTracker=w$(t))}function jC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=FC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var A$=/[\n"\\]/g;function da(t){return t.replace(A$,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function A3(t,e,r,n,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ca(e)):t.value!==""+ca(e)&&(t.value=""+ca(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?E3(t,s,ca(e)):r!=null?E3(t,s,ca(r)):n!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ca(o):t.removeAttribute("name")}function qC(t,e,r,n,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;r=r!=null?""+ca(r):"",e=e!=null?""+ca(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function E3(t,e,r){e==="number"&&Zg(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Vl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ca(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function KC(t,e,r){if(e!=null&&(e=""+ca(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+ca(r):""}function VC(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(be(92));if(Lh(n)){if(1<n.length)throw Error(be(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=ca(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function xd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var E$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function F7(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||E$.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function QC(t,e,r){if(e!=null&&typeof e!="object")throw Error(be(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&F7(t,i,n)}else for(var a in e)e.hasOwnProperty(a)&&F7(t,a,e[a])}function N4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),S$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xg(t){return S$.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var x3=null;function $4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tl=null,Ql=null;function j7(t){var e=l0(t);if(e&&(t=e.stateNode)){var r=t[fi]||null;e:switch(t=e.stateNode,e.type){case"input":if(A3(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+da(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[fi]||null;if(!i)throw Error(be(90));A3(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&jC(n)}break e;case"textarea":KC(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&Vl(t,!!r.multiple,e,!1)}}}var Am=!1;function YC(t,e,r){if(Am)return t(e,r);Am=!0;try{var n=t(e);return n}finally{if(Am=!1,(Tl!==null||Ql!==null)&&(O2(),Tl&&(e=Tl,t=Ql,Ql=Tl=null,j7(e),t)))for(e=0;e<t.length;e++)j7(t[e])}}function Tp(t,e){var r=t.stateNode;if(r===null)return null;var n=r[fi]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(be(231,e,typeof r));return r}var S3=!1;if(ko)try{var fh={};Object.defineProperty(fh,"passive",{get:function(){S3=!0}}),window.addEventListener("test",fh,fh),window.removeEventListener("test",fh,fh)}catch{S3=!1}var Vc=null,U4=null,Sg=null;function GC(){if(Sg)return Sg;var t,e=U4,r=e.length,n,i="value"in Vc?Vc.value:Vc.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Sg=i.slice(t,1<n?1-n:void 0)}function Cg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ub(){return!0}function q7(){return!1}function pi(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ub:q7,this.isPropagationStopped=q7,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ub)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ub)},persist:function(){},isPersistent:Ub}),e}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v2=pi(ju),v1=Dt({},ju,{view:0,detail:0}),C$=pi(v1),Em,xm,uh,m2=Dt({},v1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uh&&(uh&&t.type==="mousemove"?(Em=t.screenX-uh.screenX,xm=t.screenY-uh.screenY):xm=Em=0,uh=t),Em)},movementY:function(t){return"movementY"in t?t.movementY:xm}}),K7=pi(m2),I$=Dt({},m2,{dataTransfer:0}),T$=pi(I$),O$=Dt({},v1,{relatedTarget:0}),Sm=pi(O$),B$=Dt({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),D$=pi(B$),M$=Dt({},ju,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P$=pi(M$),R$=Dt({},ju,{data:0}),V7=pi(R$),L$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N$[t])?!!e[t]:!1}function k4(){return $$}var U$=Dt({},v1,{key:function(t){if(t.key){var e=L$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k4,charCode:function(t){return t.type==="keypress"?Cg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k$=pi(U$),z$=Dt({},m2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q7=pi(z$),F$=Dt({},v1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k4}),j$=pi(F$),q$=Dt({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),K$=pi(q$),V$=Dt({},m2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q$=pi(V$),Y$=Dt({},ju,{newState:0,oldState:0}),G$=pi(Y$),W$=[9,13,27,32],z4=ko&&"CompositionEvent"in window,Zh=null;ko&&"documentMode"in document&&(Zh=document.documentMode);var X$=ko&&"TextEvent"in window&&!Zh,WC=ko&&(!z4||Zh&&8<Zh&&11>=Zh),Y7=" ",G7=!1;function XC(t,e){switch(t){case"keyup":return W$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function Z$(t,e){switch(t){case"compositionend":return ZC(e);case"keypress":return e.which!==32?null:(G7=!0,Y7);case"textInput":return t=e.data,t===Y7&&G7?null:t;default:return null}}function J$(t,e){if(Ol)return t==="compositionend"||!z4&&XC(t,e)?(t=GC(),Sg=U4=Vc=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WC&&e.locale!=="ko"?null:e.data;default:return null}}var eU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W7(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eU[t.type]:e==="textarea"}function JC(t,e,r,n){Tl?Ql?Ql.push(n):Ql=[n]:Tl=n,e=by(e,"onChange"),0<e.length&&(r=new v2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Jh=null,Op=null;function tU(t){kT(t,0)}function _2(t){var e=Nh(t);if(jC(e))return t}function X7(t,e){if(t==="change")return e}var eI=!1;if(ko){var Cm;if(ko){var Im="oninput"in document;if(!Im){var Z7=document.createElement("div");Z7.setAttribute("oninput","return;"),Im=typeof Z7.oninput=="function"}Cm=Im}else Cm=!1;eI=Cm&&(!document.documentMode||9<document.documentMode)}function J7(){Jh&&(Jh.detachEvent("onpropertychange",tI),Op=Jh=null)}function tI(t){if(t.propertyName==="value"&&_2(Op)){var e=[];JC(e,Op,t,$4(t)),YC(tU,e)}}function rU(t,e,r){t==="focusin"?(J7(),Jh=e,Op=r,Jh.attachEvent("onpropertychange",tI)):t==="focusout"&&J7()}function nU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _2(Op)}function iU(t,e){if(t==="click")return _2(e)}function aU(t,e){if(t==="input"||t==="change")return _2(e)}function sU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hi=typeof Object.is=="function"?Object.is:sU;function Bp(t,e){if(Hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!_3.call(e,i)||!Hi(t[i],e[i]))return!1}return!0}function e9(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t9(t,e){var r=e9(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e9(r)}}function rI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nI(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Zg(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zg(t.document)}return e}function F4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oU(t,e){var r=nI(e);e=t.focusedElem;var n=t.selectionRange;if(r!==e&&e&&e.ownerDocument&&rI(e.ownerDocument.documentElement,e)){if(n!==null&&F4(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var i=e.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!r.extend&&a>n&&(i=n,n=a,a=i),i=t9(e,a);var s=t9(e,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),r.removeAllRanges(),a>n?(r.addRange(t),r.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cU=ko&&"documentMode"in document&&11>=document.documentMode,Bl=null,C3=null,ep=null,I3=!1;function r9(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;I3||Bl==null||Bl!==Zg(n)||(n=Bl,"selectionStart"in n&&F4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ep&&Bp(ep,n)||(ep=n,n=by(C3,"onSelect"),0<n.length&&(e=new v2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Bl)))}function zf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Dl={animationend:zf("Animation","AnimationEnd"),animationiteration:zf("Animation","AnimationIteration"),animationstart:zf("Animation","AnimationStart"),transitionrun:zf("Transition","TransitionRun"),transitionstart:zf("Transition","TransitionStart"),transitioncancel:zf("Transition","TransitionCancel"),transitionend:zf("Transition","TransitionEnd")},Tm={},iI={};ko&&(iI=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function qu(t){if(Tm[t])return Tm[t];if(!Dl[t])return t;var e=Dl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iI)return Tm[t]=e[r];return t}var aI=qu("animationend"),sI=qu("animationiteration"),oI=qu("animationstart"),fU=qu("transitionrun"),uU=qu("transitionstart"),lU=qu("transitioncancel"),cI=qu("transitionend"),fI=new Map,n9="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function bs(t,e){fI.set(t,e),Fu(e,[t])}var ia=[],Ml=0,j4=0;function w2(){for(var t=Ml,e=j4=Ml=0;e<t;){var r=ia[e];ia[e++]=null;var n=ia[e];ia[e++]=null;var i=ia[e];ia[e++]=null;var a=ia[e];if(ia[e++]=null,n!==null&&i!==null){var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}a!==0&&uI(r,i,a)}}function A2(t,e,r,n){ia[Ml++]=t,ia[Ml++]=e,ia[Ml++]=r,ia[Ml++]=n,j4|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function q4(t,e,r,n){return A2(t,e,r,n),Jg(t)}function lf(t,e){return A2(t,null,null,e),Jg(t)}function uI(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;i&&e!==null&&t.tag===3&&(a=t.stateNode,i=31-Pi(r),a=a.hiddenUpdates,t=a[i],t===null?a[i]=[e]:t.push(e),e.lane=r|536870912)}function Jg(t){if(50<dp)throw dp=0,G3=null,Error(be(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Pl={},i9=new WeakMap;function ha(t,e){if(typeof t=="object"&&t!==null){var r=i9.get(t);return r!==void 0?r:(e={value:t,source:e,stack:N7(e)},i9.set(t,e),e)}return{value:t,source:e,stack:N7(e)}}var Rl=[],Ll=0,ey=null,ty=0,fa=[],ua=0,pu=null,Co=1,Io="";function qf(t,e){Rl[Ll++]=ty,Rl[Ll++]=ey,ey=t,ty=e}function lI(t,e,r){fa[ua++]=Co,fa[ua++]=Io,fa[ua++]=pu,pu=t;var n=Co;t=Io;var i=32-Pi(n)-1;n&=~(1<<i),r+=1;var a=32-Pi(e)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Co=1<<32-Pi(e)+i|r<<i|n,Io=a+t}else Co=1<<a|r<<i|n,Io=t}function K4(t){t.return!==null&&(qf(t,1),lI(t,1,0))}function V4(t){for(;t===ey;)ey=Rl[--Ll],Rl[Ll]=null,ty=Rl[--Ll],Rl[Ll]=null;for(;t===pu;)pu=fa[--ua],fa[ua]=null,Io=fa[--ua],fa[ua]=null,Co=fa[--ua],fa[ua]=null}var Fn=null,Xr=null,tt=!1,Ga=null,Ts=!1,T3=Error(be(519));function xu(t){var e=Error(be(418,""));throw Dp(ha(e,t)),T3}function a9(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[wn]=t,e[fi]=n,r){case"dialog":Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":case"embed":Ge("load",e);break;case"video":case"audio":for(r=0;r<Lp.length;r++)Ge(Lp[r],e);break;case"source":Ge("error",e);break;case"img":case"image":case"link":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"input":Ge("invalid",e),qC(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Xg(e);break;case"select":Ge("invalid",e);break;case"textarea":Ge("invalid",e),VC(e,n.value,n.defaultValue,n.children),Xg(e)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||FT(e.textContent,r)?(n.popover!=null&&(Ge("beforetoggle",e),Ge("toggle",e)),n.onScroll!=null&&Ge("scroll",e),n.onScrollEnd!=null&&Ge("scrollend",e),n.onClick!=null&&(e.onclick=D2),e=!0):e=!1,e||xu(t)}function s9(t){for(Fn=t.return;Fn;)switch(Fn.tag){case 3:case 27:Ts=!0;return;case 5:case 13:Ts=!1;return;default:Fn=Fn.return}}function lh(t){if(t!==Fn)return!1;if(!tt)return s9(t),tt=!0,!1;var e=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||r6(t.type,t.memoizedProps)),r=!r),r&&(e=!0),e&&Xr&&xu(t),s9(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(e===0){Xr=as(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++;t=t.nextSibling}Xr=null}}else Xr=Fn?as(t.stateNode.nextSibling):null;return!0}function m1(){Xr=Fn=null,tt=!1}function Dp(t){Ga===null?Ga=[t]:Ga.push(t)}var tp=Error(be(460)),dI=Error(be(474)),O3={then:function(){}};function o9(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kb(){}function hI(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(kb,kb),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===tp?Error(be(483)):t;default:if(typeof e.status=="string")e.then(kb,kb);else{if(t=_t,t!==null&&100<t.shellSuspendCounter)throw Error(be(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===tp?Error(be(483)):t}throw rp=e,tp}}var rp=null;function c9(){if(rp===null)throw Error(be(459));var t=rp;return rp=null,t}var Yl=null,Mp=0;function zb(t){var e=Mp;return Mp+=1,Yl===null&&(Yl=[]),hI(Yl,t,e)}function dh(t,e,r,n){t=n.props.ref,r.ref=t!==void 0?t:null}function Fb(t,e){throw e.$$typeof===ZN?Error(be(525)):(t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function f9(t){var e=t._init;return e(t._payload)}function pI(t){function e(w,I){if(t){var T=w.deletions;T===null?(w.deletions=[I],w.flags|=16):T.push(I)}}function r(w,I){if(!t)return null;for(;I!==null;)e(w,I),I=I.sibling;return null}function n(w){for(var I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function i(w,I){return w=Jc(w,I),w.index=0,w.sibling=null,w}function a(w,I,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<I?(w.flags|=33554434,I):T):(w.flags|=33554434,I)):(w.flags|=1048576,I)}function s(w){return t&&w.alternate===null&&(w.flags|=33554434),w}function o(w,I,T,R){return I===null||I.tag!==6?(I=km(T,w.mode,R),I.return=w,I):(I=i(I,T),I.return=w,I)}function c(w,I,T,R){var N=T.type;return N===Cl?u(w,I,T.props.children,R,T.key):I!==null&&(I.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cc&&f9(N)===I.type)?(R=i(I,T.props),dh(w,I,R,T),R.return=w,R):(R=Dg(T.type,T.key,T.props,null,w.mode,R),dh(w,I,R,T),R.return=w,R)}function f(w,I,T,R){return I===null||I.tag!==4||I.stateNode.containerInfo!==T.containerInfo||I.stateNode.implementation!==T.implementation?(I=zm(T,w.mode,R),I.return=w,I):(I=i(I,T.children||[]),I.return=w,I)}function u(w,I,T,R,N){return I===null||I.tag!==7?(I=gu(T,w.mode,R,N),I.return=w,I):(I=i(I,T),I.return=w,I)}function l(w,I,T){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=km(""+I,w.mode,T),I.return=w,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Lb:return T=Dg(I.type,I.key,I.props,null,w.mode,T),dh(w,null,T,I),T.return=w,T;case Ph:return I=zm(I,w.mode,T),I.return=w,I;case Cc:var R=I._init;return I=R(I._payload),l(w,I,T)}if(Lh(I)||ch(I))return I=gu(I,w.mode,T,null),I.return=w,I;if(typeof I.then=="function")return l(w,zb(I),T);if(I.$$typeof===So)return l(w,jb(w,I),T);Fb(w,I)}return null}function h(w,I,T,R){var N=I!==null?I.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return N!==null?null:o(w,I,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Lb:return T.key===N?c(w,I,T,R):null;case Ph:return T.key===N?f(w,I,T,R):null;case Cc:return N=T._init,T=N(T._payload),h(w,I,T,R)}if(Lh(T)||ch(T))return N!==null?null:u(w,I,T,R,null);if(typeof T.then=="function")return h(w,I,zb(T),R);if(T.$$typeof===So)return h(w,I,jb(w,T),R);Fb(w,T)}return null}function g(w,I,T,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return w=w.get(T)||null,o(I,w,""+R,N);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Lb:return w=w.get(R.key===null?T:R.key)||null,c(I,w,R,N);case Ph:return w=w.get(R.key===null?T:R.key)||null,f(I,w,R,N);case Cc:var K=R._init;return R=K(R._payload),g(w,I,T,R,N)}if(Lh(R)||ch(R))return w=w.get(T)||null,u(I,w,R,N,null);if(typeof R.then=="function")return g(w,I,T,zb(R),N);if(R.$$typeof===So)return g(w,I,T,jb(I,R),N);Fb(I,R)}return null}function _(w,I,T,R){for(var N=null,K=null,V=I,D=I=0,Q=null;V!==null&&D<T.length;D++){V.index>D?(Q=V,V=null):Q=V.sibling;var Y=h(w,V,T[D],R);if(Y===null){V===null&&(V=Q);break}t&&V&&Y.alternate===null&&e(w,V),I=a(Y,I,D),K===null?N=Y:K.sibling=Y,K=Y,V=Q}if(D===T.length)return r(w,V),tt&&qf(w,D),N;if(V===null){for(;D<T.length;D++)V=l(w,T[D],R),V!==null&&(I=a(V,I,D),K===null?N=V:K.sibling=V,K=V);return tt&&qf(w,D),N}for(V=n(V);D<T.length;D++)Q=g(V,w,D,T[D],R),Q!==null&&(t&&Q.alternate!==null&&V.delete(Q.key===null?D:Q.key),I=a(Q,I,D),K===null?N=Q:K.sibling=Q,K=Q);return t&&V.forEach(function(M){return e(w,M)}),tt&&qf(w,D),N}function A(w,I,T,R){if(T==null)throw Error(be(151));for(var N=null,K=null,V=I,D=I=0,Q=null,Y=T.next();V!==null&&!Y.done;D++,Y=T.next()){V.index>D?(Q=V,V=null):Q=V.sibling;var M=h(w,V,Y.value,R);if(M===null){V===null&&(V=Q);break}t&&V&&M.alternate===null&&e(w,V),I=a(M,I,D),K===null?N=M:K.sibling=M,K=M,V=Q}if(Y.done)return r(w,V),tt&&qf(w,D),N;if(V===null){for(;!Y.done;D++,Y=T.next())Y=l(w,Y.value,R),Y!==null&&(I=a(Y,I,D),K===null?N=Y:K.sibling=Y,K=Y);return tt&&qf(w,D),N}for(V=n(V);!Y.done;D++,Y=T.next())Y=g(V,w,D,Y.value,R),Y!==null&&(t&&Y.alternate!==null&&V.delete(Y.key===null?D:Y.key),I=a(Y,I,D),K===null?N=Y:K.sibling=Y,K=Y);return t&&V.forEach(function(m){return e(w,m)}),tt&&qf(w,D),N}function C(w,I,T,R){if(typeof T=="object"&&T!==null&&T.type===Cl&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Lb:e:{for(var N=T.key,K=I;K!==null;){if(K.key===N){if(N=T.type,N===Cl){if(K.tag===7){r(w,K.sibling),I=i(K,T.props.children),I.return=w,w=I;break e}}else if(K.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cc&&f9(N)===K.type){r(w,K.sibling),I=i(K,T.props),dh(w,K,I,T),I.return=w,w=I;break e}r(w,K);break}else e(w,K);K=K.sibling}T.type===Cl?(I=gu(T.props.children,w.mode,R,T.key),I.return=w,w=I):(R=Dg(T.type,T.key,T.props,null,w.mode,R),dh(w,I,R,T),R.return=w,w=R)}return s(w);case Ph:e:{for(K=T.key;I!==null;){if(I.key===K)if(I.tag===4&&I.stateNode.containerInfo===T.containerInfo&&I.stateNode.implementation===T.implementation){r(w,I.sibling),I=i(I,T.children||[]),I.return=w,w=I;break e}else{r(w,I);break}else e(w,I);I=I.sibling}I=zm(T,w.mode,R),I.return=w,w=I}return s(w);case Cc:return K=T._init,T=K(T._payload),C(w,I,T,R)}if(Lh(T))return _(w,I,T,R);if(ch(T)){if(K=ch(T),typeof K!="function")throw Error(be(150));return T=K.call(T),A(w,I,T,R)}if(typeof T.then=="function")return C(w,I,zb(T),R);if(T.$$typeof===So)return C(w,I,jb(w,T),R);Fb(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,I!==null&&I.tag===6?(r(w,I.sibling),I=i(I,T),I.return=w,w=I):(r(w,I),I=km(T,w.mode,R),I.return=w,w=I),s(w)):r(w,I)}return function(w,I,T,R){try{Mp=0;var N=C(w,I,T,R);return Yl=null,N}catch(V){if(V===tp)throw V;var K=ya(29,V,null,w.mode);return K.lanes=R,K.return=w,K}finally{}}}var Su=pI(!0),bI=pI(!1),Sd=Zs(null),ry=Zs(0);function u9(t,e){t=jo,Ut(ry,t),Ut(Sd,e),jo=t|e.baseLanes}function B3(){Ut(ry,jo),Ut(Sd,Sd.current)}function Q4(){jo=ry.current,$r(Sd),$r(ry)}var Qs=Zs(null),Us=null;function Mc(t){var e=t.alternate;Ut(_r,_r.current&1),Ut(Qs,t),Us===null&&(e===null||Sd.current!==null||e.memoizedState!==null)&&(Us=t)}function gI(t){if(t.tag===22){if(Ut(_r,_r.current),Ut(Qs,t),Us===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Us=t)}}else Pc()}function Pc(){Ut(_r,_r.current),Ut(Qs,Qs.current)}function To(t){$r(Qs),Us===t&&(Us=null),$r(_r)}var _r=Zs(0);function ny(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dU=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},hU=Er.unstable_scheduleCallback,pU=Er.unstable_NormalPriority,mr={$$typeof:So,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y4(){return{controller:new dU,data:new Map,refCount:0}}function _1(t){t.refCount--,t.refCount===0&&hU(pU,function(){t.controller.abort()})}var np=null,D3=0,Cd=0,Gl=null;function bU(t,e){if(np===null){var r=np=[];D3=0,Cd=v8(),Gl={status:"pending",value:void 0,then:function(n){r.push(n)}}}return D3++,e.then(l9,l9),e}function l9(){if(--D3===0&&np!==null){Gl!==null&&(Gl.status="fulfilled");var t=np;np=null,Cd=0,Gl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function gU(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var d9=ke.S;ke.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&bU(t,e),d9!==null&&d9(t,e)};var bu=Zs(null);function G4(){var t=bu.current;return t!==null?t:_t.pooledCache}function Ig(t,e){e===null?Ut(bu,bu.current):Ut(bu,e.pool)}function yI(){var t=G4();return t===null?null:{parent:mr._currentValue,pool:t}}var df=0,je=null,ut=null,br=null,iy=!1,Wl=!1,Cu=!1,ay=0,Pp=0,Xl=null,yU=0;function ur(){throw Error(be(321))}function W4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hi(t[r],e[r]))return!1;return!0}function X4(t,e,r,n,i,a){return df=a,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ke.H=t===null||t.memoizedState===null?Ku:Ef,Cu=!1,a=r(n,i),Cu=!1,Wl&&(a=mI(e,r,n,i)),vI(t),a}function vI(t){ke.H=Ys;var e=ut!==null&&ut.next!==null;if(df=0,br=ut=je=null,iy=!1,Pp=0,Xl=null,e)throw Error(be(300));t===null||Rr||(t=t.dependencies,t!==null&&cy(t)&&(Rr=!0))}function mI(t,e,r,n){je=t;var i=0;do{if(Wl&&(Xl=null),Pp=0,Wl=!1,25<=i)throw Error(be(301));if(i+=1,br=ut=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ke.H=Vu,a=e(r,n)}while(Wl);return a}function vU(){var t=ke.H,e=t.useState()[0];return e=typeof e.then=="function"?w1(e):e,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(je.flags|=1024),e}function Z4(){var t=ay!==0;return ay=0,t}function J4(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function e8(t){if(iy){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}iy=!1}df=0,br=ut=je=null,Wl=!1,Pp=ay=0,Xl=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?je.memoizedState=br=t:br=br.next=t,br}function gr(){if(ut===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=br===null?je.memoizedState:br.next;if(e!==null)br=e,ut=t;else{if(t===null)throw je.alternate===null?Error(be(467)):Error(be(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},br===null?je.memoizedState=br=t:br=br.next=t}return br}var E2;E2=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function w1(t){var e=Pp;return Pp+=1,Xl===null&&(Xl=[]),t=hI(Xl,t,e),e=je,(br===null?e.memoizedState:br.next)===null&&(e=e.alternate,ke.H=e===null||e.memoizedState===null?Ku:Ef),t}function x2(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return w1(t);if(t.$$typeof===So)return An(t)}throw Error(be(438,String(t)))}function t8(t){var e=null,r=je.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=je.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=E2(),je.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=e$;return e.index++,r}function zo(t,e){return typeof e=="function"?e(t):e}function Tg(t){var e=gr();return r8(e,ut,t)}function r8(t,e,r){var n=t.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=r;var i=t.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,n.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,c=null,f=e,u=!1;do{var l=f.lane&-536870913;if(l!==f.lane?(rt&l)===l:(df&l)===l){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),l===Cd&&(u=!0);else if((df&h)===h){f=f.next,h===Cd&&(u=!0);continue}else l={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(o=c=l,s=a):c=c.next=l,je.lanes|=h,qo|=h;l=f.action,Cu&&r(a,l),a=f.hasEagerState?f.eagerState:r(a,l)}else h={lane:l,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(o=c=h,s=a):c=c.next=h,je.lanes|=l,qo|=l;f=f.next}while(f!==null&&f!==e);if(c===null?s=a:c.next=o,!Hi(a,t.memoizedState)&&(Rr=!0,u&&(r=Gl,r!==null)))throw r;t.memoizedState=a,t.baseState=s,t.baseQueue=c,n.lastRenderedState=a}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Om(t){var e=gr(),r=e.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Hi(a,e.memoizedState)||(Rr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function _I(t,e,r){var n=je,i=gr(),a=tt;if(a){if(r===void 0)throw Error(be(407));r=r()}else r=e();var s=!Hi((ut||i).memoizedState,r);if(s&&(i.memoizedState=r,Rr=!0),i=i.queue,n8(EI.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||br!==null&&br.memoizedState.tag&1){if(n.flags|=2048,Id(9,AI.bind(null,n,i,r,e),{destroy:void 0},null),_t===null)throw Error(be(349));a||df&60||wI(n,e,r)}return r}function wI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=je.updateQueue,e===null?(e=E2(),je.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function AI(t,e,r,n){e.value=r,e.getSnapshot=n,xI(e)&&SI(t)}function EI(t,e,r){return r(function(){xI(e)&&SI(t)})}function xI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hi(t,r)}catch{return!0}}function SI(t){var e=lf(t,2);e!==null&&Vn(e,t,2)}function M3(t){var e=ni();if(typeof t=="function"){var r=t;if(t=r(),Cu){Kc(!0);try{r()}finally{Kc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:t},e}function CI(t,e,r,n){return t.baseState=r,r8(t,ut,typeof n=="function"?n:zo)}function mU(t,e,r,n,i){if(C2(t))throw Error(be(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ke.T!==null?r(!0):a.isTransition=!1,n(a),r=e.pending,r===null?(a.next=e.pending=a,II(e,a)):(a.next=r.next,e.pending=r.next=a)}}function II(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var a=ke.T,s={};ke.T=s;try{var o=r(i,n),c=ke.S;c!==null&&c(s,o),h9(t,e,o)}catch(f){P3(t,e,f)}finally{ke.T=a}}else try{a=r(i,n),h9(t,e,a)}catch(f){P3(t,e,f)}}function h9(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){p9(t,e,n)},function(n){return P3(t,e,n)}):p9(t,e,r)}function p9(t,e,r){e.status="fulfilled",e.value=r,TI(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,II(t,r)))}function P3(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,TI(e),e=e.next;while(e!==n)}t.action=null}function TI(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function OI(t,e){return e}function BI(t,e){if(tt){var r=_t.formState;if(r!==null){e:{var n=je;if(tt){if(Xr){t:{for(var i=Xr,a=Ts;i.nodeType!==8;){if(!a){i=null;break t}if(i=as(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Xr=as(i.nextSibling),n=i.data==="F!";break e}}xu(n)}n=!1}n&&(e=r[0])}}return r=ni(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OI,lastRenderedState:e},r.queue=n,r=QI.bind(null,je,n),n.dispatch=r,n=M3(!1),a=o8.bind(null,je,!1,n.queue),n=ni(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=mU.bind(null,je,i,a,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function DI(t){var e=gr();return MI(e,ut,t)}function MI(t,e,r){e=r8(t,e,OI)[0],t=Tg(zo)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?w1(e):e;var n=gr(),i=n.queue,a=i.dispatch;return r!==n.memoizedState&&(je.flags|=2048,Id(9,_U.bind(null,i,r),{destroy:void 0},null)),[e,a,t]}function _U(t,e){t.action=e}function PI(t){var e=gr(),r=ut;if(r!==null)return MI(e,r,t);gr(),e=e.memoizedState,r=gr();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function Id(t,e,r,n){return t={tag:t,create:e,inst:r,deps:n,next:null},e=je.updateQueue,e===null&&(e=E2(),je.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function RI(){return gr().memoizedState}function Og(t,e,r,n){var i=ni();je.flags|=t,i.memoizedState=Id(1|e,r,{destroy:void 0},n===void 0?null:n)}function S2(t,e,r,n){var i=gr();n=n===void 0?null:n;var a=i.memoizedState.inst;ut!==null&&n!==null&&W4(n,ut.memoizedState.deps)?i.memoizedState=Id(e,r,a,n):(je.flags|=t,i.memoizedState=Id(1|e,r,a,n))}function b9(t,e){Og(8390656,8,t,e)}function n8(t,e){S2(2048,8,t,e)}function LI(t,e){return S2(4,2,t,e)}function HI(t,e){return S2(4,4,t,e)}function NI(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $I(t,e,r){r=r!=null?r.concat([t]):null,S2(4,4,NI.bind(null,e,t),r)}function i8(){}function UI(t,e){var r=gr();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&W4(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function kI(t,e){var r=gr();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&W4(e,n[1]))return n[0];if(n=t(),Cu){Kc(!0);try{t()}finally{Kc(!1)}}return r.memoizedState=[n,e],n}function a8(t,e,r){return r===void 0||df&1073741824?t.memoizedState=e:(t.memoizedState=r,t=TT(),je.lanes|=t,qo|=t,r)}function zI(t,e,r,n){return Hi(r,e)?r:Sd.current!==null?(t=a8(t,r,n),Hi(t,e)||(Rr=!0),t):df&42?(t=TT(),je.lanes|=t,qo|=t,e):(Rr=!0,t.memoizedState=r)}function FI(t,e,r,n,i){var a=Tt.p;Tt.p=a!==0&&8>a?a:8;var s=ke.T,o={};ke.T=o,o8(t,!1,e,r);try{var c=i(),f=ke.S;if(f!==null&&f(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=gU(c,n);ip(t,e,u,Ri(t))}else ip(t,e,n,Ri(t))}catch(l){ip(t,e,{then:function(){},status:"rejected",reason:l},Ri())}finally{Tt.p=a,ke.T=s}}function wU(){}function R3(t,e,r,n){if(t.tag!==5)throw Error(be(476));var i=jI(t).queue;FI(t,i,e,hu,r===null?wU:function(){return qI(t),r(n)})}function jI(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:hu,baseState:hu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:hu},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function qI(t){var e=jI(t).next.queue;ip(t,e,{},Ri())}function s8(){return An($p)}function KI(){return gr().memoizedState}function VI(){return gr().memoizedState}function AU(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Ri();t=Xc(r);var n=Zc(e,t,r);n!==null&&(Vn(n,e,r),sp(n,e,r)),e={cache:Y4()},t.payload=e;return}e=e.return}}function EU(t,e,r){var n=Ri();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},C2(t)?YI(e,r):(r=q4(t,e,r,n),r!==null&&(Vn(r,t,n),GI(r,e,n)))}function QI(t,e,r){var n=Ri();ip(t,e,r,n)}function ip(t,e,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(C2(t))YI(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Hi(o,s))return A2(t,e,i,0),_t===null&&w2(),!1}catch{}finally{}if(r=q4(t,e,i,n),r!==null)return Vn(r,t,n),GI(r,e,n),!0}return!1}function o8(t,e,r,n){if(n={lane:2,revertLane:v8(),action:n,hasEagerState:!1,eagerState:null,next:null},C2(t)){if(e)throw Error(be(479))}else e=q4(t,r,n,2),e!==null&&Vn(e,t,2)}function C2(t){var e=t.alternate;return t===je||e!==null&&e===je}function YI(t,e){Wl=iy=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GI(t,e,r){if(r&4194176){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,NC(t,r)}}var Ys={readContext:An,use:x2,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur};Ys.useCacheRefresh=ur;Ys.useMemoCache=ur;Ys.useHostTransitionStatus=ur;Ys.useFormState=ur;Ys.useActionState=ur;Ys.useOptimistic=ur;var Ku={readContext:An,use:x2,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:b9,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,Og(4194308,4,NI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Og(4194308,4,t,e)},useInsertionEffect:function(t,e){Og(4,2,t,e)},useMemo:function(t,e){var r=ni();e=e===void 0?null:e;var n=t();if(Cu){Kc(!0);try{t()}finally{Kc(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=ni();if(r!==void 0){var i=r(e);if(Cu){Kc(!0);try{r(e)}finally{Kc(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=EU.bind(null,je,t),[n.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:function(t){t=M3(t);var e=t.queue,r=QI.bind(null,je,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:i8,useDeferredValue:function(t,e){var r=ni();return a8(r,t,e)},useTransition:function(){var t=M3(!1);return t=FI.bind(null,je,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=je,i=ni();if(tt){if(r===void 0)throw Error(be(407));r=r()}else{if(r=e(),_t===null)throw Error(be(349));rt&60||wI(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,b9(EI.bind(null,n,a,t),[t]),n.flags|=2048,Id(9,AI.bind(null,n,a,r,e),{destroy:void 0},null),r},useId:function(){var t=ni(),e=_t.identifierPrefix;if(tt){var r=Io,n=Co;r=(n&~(1<<32-Pi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ay++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return ni().memoizedState=AU.bind(null,je)}};Ku.useMemoCache=t8;Ku.useHostTransitionStatus=s8;Ku.useFormState=BI;Ku.useActionState=BI;Ku.useOptimistic=function(t){var e=ni();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=o8.bind(null,je,!0,r),r.dispatch=e,[t,e]};var Ef={readContext:An,use:x2,useCallback:UI,useContext:An,useEffect:n8,useImperativeHandle:$I,useInsertionEffect:LI,useLayoutEffect:HI,useMemo:kI,useReducer:Tg,useRef:RI,useState:function(){return Tg(zo)},useDebugValue:i8,useDeferredValue:function(t,e){var r=gr();return zI(r,ut.memoizedState,t,e)},useTransition:function(){var t=Tg(zo)[0],e=gr().memoizedState;return[typeof t=="boolean"?t:w1(t),e]},useSyncExternalStore:_I,useId:KI};Ef.useCacheRefresh=VI;Ef.useMemoCache=t8;Ef.useHostTransitionStatus=s8;Ef.useFormState=DI;Ef.useActionState=DI;Ef.useOptimistic=function(t,e){var r=gr();return CI(r,ut,t,e)};var Vu={readContext:An,use:x2,useCallback:UI,useContext:An,useEffect:n8,useImperativeHandle:$I,useInsertionEffect:LI,useLayoutEffect:HI,useMemo:kI,useReducer:Om,useRef:RI,useState:function(){return Om(zo)},useDebugValue:i8,useDeferredValue:function(t,e){var r=gr();return ut===null?a8(r,t,e):zI(r,ut.memoizedState,t,e)},useTransition:function(){var t=Om(zo)[0],e=gr().memoizedState;return[typeof t=="boolean"?t:w1(t),e]},useSyncExternalStore:_I,useId:KI};Vu.useCacheRefresh=VI;Vu.useMemoCache=t8;Vu.useHostTransitionStatus=s8;Vu.useFormState=PI;Vu.useActionState=PI;Vu.useOptimistic=function(t,e){var r=gr();return ut!==null?CI(r,ut,t,e):(r.baseState=t,[t,r.queue.dispatch])};function Bm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Dt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var L3={isMounted:function(t){return(t=t._reactInternals)?f0(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ri(),i=Xc(n);i.payload=e,r!=null&&(i.callback=r),e=Zc(t,i,n),e!==null&&(Vn(e,t,n),sp(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ri(),i=Xc(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Zc(t,i,n),e!==null&&(Vn(e,t,n),sp(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ri(),n=Xc(r);n.tag=2,e!=null&&(n.callback=e),e=Zc(t,n,r),e!==null&&(Vn(e,t,r),sp(e,t,r))}};function g9(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!Bp(r,n)||!Bp(i,a):!0}function y9(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&L3.enqueueReplaceState(e,e.state,null)}function Iu(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Dt({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var sy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function WI(t){sy(t)}function XI(t){console.error(t)}function ZI(t){sy(t)}function oy(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function v9(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function H3(t,e,r){return r=Xc(r),r.tag=3,r.payload={element:null},r.callback=function(){oy(t,e)},r}function JI(t){return t=Xc(t),t.tag=3,t}function eT(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;t.payload=function(){return i(a)},t.callback=function(){v9(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){v9(e,r,n),typeof i!="function"&&(tf===null?tf=new Set([this]):tf.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function xU(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&A1(e,r,i,!0),r=Qs.current,r!==null){switch(r.tag){case 13:return Us===null?X3():r.alternate===null&&sr===0&&(sr=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===O3?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),jm(t,n,i)),!1;case 22:return r.flags|=65536,n===O3?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),jm(t,n,i)),!1}throw Error(be(435,r.tag))}return jm(t,n,i),X3(),!1}if(tt)return e=Qs.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==T3&&(t=Error(be(422),{cause:n}),Dp(ha(t,r)))):(n!==T3&&(e=Error(be(423),{cause:n}),Dp(ha(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=ha(n,r),i=H3(t.stateNode,n,i),Hm(t,i),sr!==4&&(sr=2)),!1;var a=Error(be(520),{cause:n});if(a=ha(a,r),up===null?up=[a]:up.push(a),sr!==4&&(sr=2),e===null)return!0;n=ha(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=H3(r.stateNode,n,t),Hm(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(tf===null||!tf.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=JI(i),eT(i,t,r,n),Hm(r,i),!1}r=r.return}while(r!==null);return!1}var tT=Error(be(461)),Rr=!1;function Yr(t,e,r,n){e.child=t===null?bI(e,null,r,n):Su(e,t.child,r,n)}function m9(t,e,r,n,i){r=r.render;var a=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return Tu(e),n=X4(t,e,r,s,a,i),o=Z4(),t!==null&&!Rr?(J4(t,e,i),Fo(t,e,i)):(tt&&o&&K4(e),e.flags|=1,Yr(t,e,n,i),e.child)}function _9(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!h8(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,rT(t,e,a,n,i)):(t=Dg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!c8(t,i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Bp,r(s,n)&&t.ref===e.ref)return Fo(t,e,i)}return e.flags|=1,t=Jc(a,n),t.ref=e.ref,t.return=e,e.child=t}function rT(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Bp(a,n)&&t.ref===e.ref)if(Rr=!1,e.pendingProps=n=a,c8(t,i))t.flags&131072&&(Rr=!0);else return e.lanes=t.lanes,Fo(t,e,i)}return N3(t,e,r,n,i)}function nT(t,e,r){var n=e.pendingProps,i=n.children,a=(e.stateNode._pendingVisibility&2)!==0,s=t!==null?t.memoizedState:null;if(ap(t,e),n.mode==="hidden"||a){if(e.flags&128){if(n=s!==null?s.baseLanes|r:r,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~n}else e.childLanes=0,e.child=null;return w9(t,e,n,r)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ig(e,s!==null?s.cachePool:null),s!==null?u9(e,s):B3(),gI(e);else return e.lanes=e.childLanes=536870912,w9(t,e,s!==null?s.baseLanes|r:r,r)}else s!==null?(Ig(e,s.cachePool),u9(e,s),Pc(),e.memoizedState=null):(t!==null&&Ig(e,null),B3(),Pc());return Yr(t,e,i,r),e.child}function w9(t,e,r,n){var i=G4();return i=i===null?null:{parent:mr._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&Ig(e,null),B3(),gI(e),t!==null&&A1(t,e,n,!0),null}function ap(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(be(284));(t===null||t.ref!==r)&&(e.flags|=2097664)}}function N3(t,e,r,n,i){return Tu(e),r=X4(t,e,r,n,void 0,i),n=Z4(),t!==null&&!Rr?(J4(t,e,i),Fo(t,e,i)):(tt&&n&&K4(e),e.flags|=1,Yr(t,e,r,i),e.child)}function A9(t,e,r,n,i,a){return Tu(e),e.updateQueue=null,r=mI(e,n,r,i),vI(t),n=Z4(),t!==null&&!Rr?(J4(t,e,a),Fo(t,e,a)):(tt&&n&&K4(e),e.flags|=1,Yr(t,e,r,a),e.child)}function E9(t,e,r,n,i){if(Tu(e),e.stateNode===null){var a=Pl,s=r.contextType;typeof s=="object"&&s!==null&&(a=An(s)),a=new r(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=L3,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},u8(e),s=r.contextType,a.context=typeof s=="object"&&s!==null?An(s):Pl,a.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(Bm(e,r,s,n),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&L3.enqueueReplaceState(a,a.state,null),cp(e,n,a,i),op(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,c=Iu(r,o);a.props=c;var f=a.context,u=r.contextType;s=Pl,typeof u=="object"&&u!==null&&(s=An(u));var l=r.getDerivedStateFromProps;u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||f!==s)&&y9(e,a,n,s),Ic=!1;var h=e.memoizedState;a.state=h,cp(e,n,a,i),op(),f=e.memoizedState,o||h!==f||Ic?(typeof l=="function"&&(Bm(e,r,l,n),f=e.memoizedState),(c=Ic||g9(e,r,c,n,h,f,s))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=f),a.props=n,a.state=f,a.context=s,n=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,j3(t,e),s=e.memoizedProps,u=Iu(r,s),a.props=u,l=e.pendingProps,h=a.context,f=r.contextType,c=Pl,typeof f=="object"&&f!==null&&(c=An(f)),o=r.getDerivedStateFromProps,(f=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==l||h!==c)&&y9(e,a,n,c),Ic=!1,h=e.memoizedState,a.state=h,cp(e,n,a,i),op();var g=e.memoizedState;s!==l||h!==g||Ic||t!==null&&t.dependencies!==null&&cy(t.dependencies)?(typeof o=="function"&&(Bm(e,r,o,n),g=e.memoizedState),(u=Ic||g9(e,r,u,n,h,g,c)||t!==null&&t.dependencies!==null&&cy(t.dependencies))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,ap(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=Su(e,t.child,null,i),e.child=Su(e,null,r,i)):Yr(t,e,r,i),e.memoizedState=a.state,t=e.child):t=Fo(t,e,i),t}function x9(t,e,r,n){return m1(),e.flags|=256,Yr(t,e,r,n),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Mm(t){return{baseLanes:t,cachePool:yI()}}function Pm(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=va),t}function iT(t,e,r){var n=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(_r.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(tt){if(i?Mc(e):Pc(),tt){var o=Xr,c;if(c=o){e:{for(c=o,o=Ts;c.nodeType!==8;){if(!o){o=null;break e}if(c=as(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:pu!==null?{id:Co,overflow:Io}:null,retryLane:536870912},c=ya(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,Fn=e,Xr=null,c=!0):c=!1}c||xu(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return o.data==="$!"?e.lanes=16:e.lanes=536870912,null;To(e)}return o=n.children,n=n.fallback,i?(Pc(),i=e.mode,o=U3({mode:"hidden",children:o},i),n=gu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,i=e.child,i.memoizedState=Mm(r),i.childLanes=Pm(t,s,r),e.memoizedState=Dm,n):(Mc(e),$3(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(a)e.flags&256?(Mc(e),e.flags&=-257,e=Rm(t,e,r)):e.memoizedState!==null?(Pc(),e.child=t.child,e.flags|=128,e=null):(Pc(),i=n.fallback,o=e.mode,n=U3({mode:"visible",children:n.children},o),i=gu(i,o,r,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Su(e,t.child,null,r),n=e.child,n.memoizedState=Mm(r),n.childLanes=Pm(t,s,r),e.memoizedState=Dm,e=i);else if(Mc(e),o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var f=s.dgst;s=f,n=Error(be(419)),n.stack="",n.digest=s,Dp({value:n,source:null,stack:null}),e=Rm(t,e,r)}else if(Rr||A1(t,e,r,!1),s=(r&t.childLanes)!==0,Rr||s){if(s=_t,s!==null){if(n=r&-r,n&42)n=1;else switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=64;break;case 268435456:n=134217728;break;default:n=0}if(n=n&(s.suspendedLanes|r)?0:n,n!==0&&n!==c.retryLane)throw c.retryLane=n,lf(t,n),Vn(s,t,n),tT}o.data==="$?"||X3(),e=Rm(t,e,r)}else o.data==="$?"?(e.flags|=128,e.child=t.child,e=UU.bind(null,t),o._reactRetry=e,e=null):(t=c.treeContext,Xr=as(o.nextSibling),Fn=e,tt=!0,Ga=null,Ts=!1,t!==null&&(fa[ua++]=Co,fa[ua++]=Io,fa[ua++]=pu,Co=t.id,Io=t.overflow,pu=e),e=$3(e,n.children),e.flags|=4096);return e}return i?(Pc(),i=n.fallback,o=e.mode,c=t.child,f=c.sibling,n=Jc(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&31457280,f!==null?i=Jc(f,i):(i=gu(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o===null?o=Mm(r):(c=o.cachePool,c!==null?(f=mr._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=yI(),o={baseLanes:o.baseLanes|r,cachePool:c}),i.memoizedState=o,i.childLanes=Pm(t,s,r),e.memoizedState=Dm,n):(Mc(e),r=t.child,t=r.sibling,r=Jc(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function $3(t,e){return e=U3({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function U3(t,e){return CT(t,e,0,null)}function Rm(t,e,r){return Su(e,t.child,null,r),t=$3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S9(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),z3(t.return,e,r)}function Lm(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function aT(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Yr(t,e,n.children,r),n=_r.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S9(t,r,e);else if(t.tag===19)S9(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(Ut(_r,n),i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ny(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Lm(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ny(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Lm(e,!0,r,null,a);break;case"together":Lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(r&e.childLanes))if(t!==null){if(A1(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,r=Jc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Jc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function c8(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&cy(t)))}function SU(t,e,r){switch(e.tag){case 3:Yg(e,e.stateNode.containerInfo),Rc(e,mr,t.memoizedState.cache),m1();break;case 27:case 5:m3(e);break;case 4:Yg(e,e.stateNode.containerInfo);break;case 10:Rc(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Mc(e),e.flags|=128,null):r&e.child.childLanes?iT(t,e,r):(Mc(e),t=Fo(t,e,r),t!==null?t.sibling:null);Mc(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(A1(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return aT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ut(_r,_r.current),n)break;return null;case 22:case 23:return e.lanes=0,nT(t,e,r);case 24:Rc(e,mr,t.memoizedState.cache)}return Fo(t,e,r)}function sT(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Rr=!0;else{if(!c8(t,r)&&!(e.flags&128))return Rr=!1,SU(t,e,r);Rr=!!(t.flags&131072)}else Rr=!1,tt&&e.flags&1048576&&lI(e,ty,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")h8(n)?(t=Iu(n,t),e.tag=1,e=E9(null,e,n,t,r)):(e.tag=0,e=N3(null,e,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===M4){e.tag=11,e=m9(null,e,n,t,r);break e}else if(i===P4){e.tag=14,e=_9(null,e,n,t,r);break e}}throw e=y3(n)||n,Error(be(306,e,""))}}return e;case 0:return N3(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=Iu(n,e.pendingProps),E9(t,e,n,i,r);case 3:e:{if(Yg(e,e.stateNode.containerInfo),t===null)throw Error(be(387));var a=e.pendingProps;i=e.memoizedState,n=i.element,j3(t,e),cp(e,a,null,r);var s=e.memoizedState;if(a=s.cache,Rc(e,mr,a),a!==i.cache&&F3(e,[mr],r,!0),op(),a=s.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=x9(t,e,a,r);break e}else if(a!==n){n=ha(Error(be(424)),e),Dp(n),e=x9(t,e,a,r);break e}else for(Xr=as(e.stateNode.containerInfo.firstChild),Fn=e,tt=!0,Ga=null,Ts=!0,r=bI(e,null,a,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(m1(),a===n){e=Fo(t,e,r);break e}Yr(t,e,a,r)}e=e.child}return e;case 26:return ap(t,e),t===null?(r=j9(e.type,null,e.pendingProps,null))?e.memoizedState=r:tt||(r=e.type,t=e.pendingProps,n=gy(Wc.current).createElement(r),n[wn]=e,n[fi]=t,en(n,r,t),Mr(n),e.stateNode=n):e.memoizedState=j9(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return m3(e),t===null&&tt&&(n=e.stateNode=KT(e.type,e.pendingProps,Wc.current),Fn=e,Ts=!0,Xr=as(n.firstChild)),n=e.pendingProps.children,t!==null||tt?Yr(t,e,n,r):e.child=Su(e,null,n,r),ap(t,e),e.child;case 5:return t===null&&tt&&((i=n=Xr)&&(n=tk(n,e.type,e.pendingProps,Ts),n!==null?(e.stateNode=n,Fn=e,Xr=as(n.firstChild),Ts=!1,i=!0):i=!1),i||xu(e)),m3(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,n=a.children,r6(i,a)?n=null:s!==null&&r6(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=X4(t,e,vU,null,null,r),$p._currentValue=i),ap(t,e),Yr(t,e,n,r),e.child;case 6:return t===null&&tt&&((t=r=Xr)&&(r=rk(r,e.pendingProps,Ts),r!==null?(e.stateNode=r,Fn=e,Xr=null,t=!0):t=!1),t||xu(e)),null;case 13:return iT(t,e,r);case 4:return Yg(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Su(e,null,n,r):Yr(t,e,n,r),e.child;case 11:return m9(t,e,e.type,e.pendingProps,r);case 7:return Yr(t,e,e.pendingProps,r),e.child;case 8:return Yr(t,e,e.pendingProps.children,r),e.child;case 12:return Yr(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,Rc(e,e.type,n.value),Yr(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,Tu(e),i=An(i),n=n(i),e.flags|=1,Yr(t,e,n,r),e.child;case 14:return _9(t,e,e.type,e.pendingProps,r);case 15:return rT(t,e,e.type,e.pendingProps,r);case 19:return aT(t,e,r);case 22:return nT(t,e,r);case 24:return Tu(e),n=An(mr),t===null?(i=G4(),i===null&&(i=_t,a=Y4(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:n,cache:i},u8(e),Rc(e,mr,i)):(t.lanes&r&&(j3(t,e),cp(e,null,null,r),op()),i=t.memoizedState,a=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Rc(e,mr,n)):(n=a.cache,Rc(e,mr,n),n!==i.cache&&F3(e,[mr],r,!0))),Yr(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(be(156,e.tag))}var k3=Zs(null),I2=null,Hl=null,f8=null;function T2(){f8=Hl=I2=null}function Rc(t,e,r){Ut(k3,e._currentValue),e._currentValue=r}function Ro(t){t._currentValue=k3.current,$r(k3)}function z3(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function F3(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var c=0;c<e.length;c++)if(o.context===e[c]){a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),z3(a.return,r,t),n||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(be(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),z3(s,r,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function A1(t,e,r,n){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(be(387));if(s=s.memoizedProps,s!==null){var o=i.type;Hi(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Qg.current){if(s=i.alternate,s===null)throw Error(be(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push($p):t=[$p])}i=i.return}t!==null&&F3(e,t,r,n),e.flags|=262144}function cy(t){for(t=t.firstContext;t!==null;){if(!Hi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tu(t){I2=t,f8=Hl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function An(t){return oT(I2,t)}function jb(t,e){return I2===null&&Tu(t),oT(t,e)}function oT(t,e){var r=e._currentValue;if(f8!==e)if(e={context:e,memoizedValue:r,next:null},Hl===null){if(t===null)throw Error(be(308));Hl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Hl=Hl.next=e;return r}var Ic=!1;function u8(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function j3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xc(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Vt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=Jg(t),uI(t,null,r),e}return A2(t,n,e,r),Jg(t)}function sp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194176)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,NC(t,r)}}function Hm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var q3=!1;function op(){if(q3){var t=Gl;if(t!==null)throw t}}function cp(t,e,r,n){q3=!1;var i=t.updateQueue;Ic=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,f=c.next;c.next=null,s===null?a=f:s.next=f,s=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=f:o.next=f,u.lastBaseUpdate=c))}if(a!==null){var l=i.baseState;s=0,u=f=c=null,o=a;do{var h=o.lane&-536870913,g=h!==o.lane;if(g?(rt&h)===h:(n&h)===h){h!==0&&h===Cd&&(q3=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var _=t,A=o;h=e;var C=r;switch(A.tag){case 1:if(_=A.payload,typeof _=="function"){l=_.call(C,l,h);break e}l=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=A.payload,h=typeof _=="function"?_.call(C,l,h):_,h==null)break e;l=Dt({},l,h);break e;case 2:Ic=!0}}h=o.callback,h!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[h]:g.push(h))}else g={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(f=u=g,c=l):u=u.next=g,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);u===null&&(c=l),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),qo|=s,t.lanes=s,t.memoizedState=l}}function cT(t,e){if(typeof t!="function")throw Error(be(191,t));t.call(e)}function fT(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cT(r[t],e)}function E1(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(o){gt(e,e.return,o)}}function hf(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var c=r;try{o()}catch(f){gt(i,c,f)}}}n=n.next}while(n!==a)}}catch(f){gt(e,e.return,f)}}function uT(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{fT(e,r)}catch(n){gt(t,t.return,n)}}}function lT(t,e,r){r.props=Iu(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){gt(t,e,n)}}function Jf(t,e){try{var r=t.ref;if(r!==null){var n=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=n;break;default:i=n}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(a){gt(t,e,a)}}function Si(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){gt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){gt(t,e,i)}else r.current=null}function dT(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){gt(t,t.return,i)}}function C9(t,e,r){try{var n=t.stateNode;WU(n,t.type,r,e),n[fi]=e}catch(i){gt(t,t.return,i)}}function hT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function K3(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=D2));else if(n!==4&&n!==27&&(t=t.child,t!==null))for(K3(t,e,r),t=t.sibling;t!==null;)K3(t,e,r),t=t.sibling}function fy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&n!==27&&(t=t.child,t!==null))for(fy(t,e,r),t=t.sibling;t!==null;)fy(t,e,r),t=t.sibling}var mo=!1,Gr=!1,$m=!1,I9=typeof WeakSet=="function"?WeakSet:Set,Dr=null,T9=!1;function CU(t,e){if(t=t.containerInfo,e6=_y,t=nI(t),F4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,f=0,u=0,l=t,h=null;t:for(;;){for(var g;l!==r||i!==0&&l.nodeType!==3||(o=s+i),l!==a||n!==0&&l.nodeType!==3||(c=s+n),l.nodeType===3&&(s+=l.nodeValue.length),(g=l.firstChild)!==null;)h=l,l=g;for(;;){if(l===t)break t;if(h===r&&++f===i&&(o=s),h===a&&++u===n&&(c=s),(g=l.nextSibling)!==null)break;l=h,h=l.parentNode}l=g}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(t6={focusedElem:t,selectionRange:r},_y=!1,Dr=e;Dr!==null;)if(e=Dr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Dr=t;else for(;Dr!==null;){switch(e=Dr,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var _=Iu(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(_,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(A){gt(r,r.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)n6(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":n6(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(be(163))}if(t=e.sibling,t!==null){t.return=e.return,Dr=t;break}Dr=e.return}return _=T9,T9=!1,_}function pT(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:fo(t,r),n&4&&E1(5,r);break;case 1:if(fo(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(o){gt(r,r.return,o)}else{var i=Iu(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){gt(r,r.return,o)}}n&64&&uT(r),n&512&&Jf(r,r.return);break;case 3:if(fo(t,r),n&64&&(n=r.updateQueue,n!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{fT(n,t)}catch(o){gt(r,r.return,o)}}break;case 26:fo(t,r),n&512&&Jf(r,r.return);break;case 27:case 5:fo(t,r),e===null&&n&4&&dT(r),n&512&&Jf(r,r.return);break;case 12:fo(t,r);break;case 13:fo(t,r),n&4&&yT(t,r);break;case 22:if(i=r.memoizedState!==null||mo,!i){e=e!==null&&e.memoizedState!==null||Gr;var a=mo,s=Gr;mo=i,(Gr=e)&&!s?Ec(t,r,(r.subtreeFlags&8772)!==0):fo(t,r),mo=a,Gr=s}n&512&&(r.memoizedProps.mode==="manual"?Jf(r,r.return):Si(r,r.return));break;default:fo(t,r)}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&H4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pr=null,Ei=!1;function co(t,e,r){for(r=r.child;r!==null;)gT(t,e,r),r=r.sibling}function gT(t,e,r){if(Mi&&typeof Mi.onCommitFiberUnmount=="function")try{Mi.onCommitFiberUnmount(g1,r)}catch{}switch(r.tag){case 26:Gr||Si(r,e),co(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Gr||Si(r,e);var n=pr,i=Ei;for(pr=r.stateNode,co(t,e,r),r=r.stateNode,e=r.attributes;e.length;)r.removeAttributeNode(e[0]);H4(r),pr=n,Ei=i;break;case 5:Gr||Si(r,e);case 6:i=pr;var a=Ei;if(pr=null,co(t,e,r),pr=i,Ei=a,pr!==null)if(Ei)try{t=pr,n=r.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)}catch(s){gt(r,e,s)}else try{pr.removeChild(r.stateNode)}catch(s){gt(r,e,s)}break;case 18:pr!==null&&(Ei?(e=pr,r=r.stateNode,e.nodeType===8?Wm(e.parentNode,r):e.nodeType===1&&Wm(e,r),zp(e)):Wm(pr,r.stateNode));break;case 4:n=pr,i=Ei,pr=r.stateNode.containerInfo,Ei=!0,co(t,e,r),pr=n,Ei=i;break;case 0:case 11:case 14:case 15:Gr||hf(2,r,e),Gr||hf(4,r,e),co(t,e,r);break;case 1:Gr||(Si(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&lT(r,e,n)),co(t,e,r);break;case 21:co(t,e,r);break;case 22:Si(r,e),Gr=(n=Gr)||r.memoizedState!==null,co(t,e,r),Gr=n;break;default:co(t,e,r)}}function yT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zp(t)}catch(r){gt(e,e.return,r)}}function IU(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new I9),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new I9),e;default:throw Error(be(435,t.tag))}}function Um(t,e){var r=IU(t);e.forEach(function(n){var i=kU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function Gi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:case 5:pr=o.stateNode,Ei=!1;break e;case 3:pr=o.stateNode.containerInfo,Ei=!0;break e;case 4:pr=o.stateNode.containerInfo,Ei=!0;break e}o=o.return}if(pr===null)throw Error(be(160));gT(a,s,i),pr=null,Ei=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)vT(e,t),e=e.sibling}var Qa=null;function vT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gi(e,t),Wi(t),n&4&&(hf(3,t,t.return),E1(3,t),hf(5,t,t.return));break;case 1:Gi(e,t),Wi(t),n&512&&r!==null&&Si(r,r.return),n&64&&mo&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=Qa;if(Gi(e,t),Wi(t),n&512&&r!==null&&Si(r,r.return),n&4){var a=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Ip]||a[wn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),en(a,n,r),a[wn]=t,Mr(a),n=a;break e;case"link":var s=K9("link","href",i).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(r.href==null?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(n),en(a,n,r),i.head.appendChild(a);break;case"meta":if(s=K9("meta","content",i).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}a=i.createElement(n),en(a,n,r),i.head.appendChild(a);break;default:throw Error(be(468,n))}a[wn]=t,Mr(a),n=a}t.stateNode=n}else V9(i,t.type,t.stateNode);else t.stateNode=q9(i,n,t.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?V9(i,t.type,t.stateNode):q9(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&C9(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(n&4&&t.alternate===null){i=t.stateNode,a=t.memoizedProps;try{for(var c=i.firstChild;c;){var f=c.nextSibling,u=c.nodeName;c[Ip]||u==="HEAD"||u==="BODY"||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=f}for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);en(i,l,a),i[wn]=t,i[fi]=a}catch(_){gt(t,t.return,_)}}case 5:if(Gi(e,t),Wi(t),n&512&&r!==null&&Si(r,r.return),t.flags&32){i=t.stateNode;try{xd(i,"")}catch(_){gt(t,t.return,_)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,C9(t,i,r!==null?r.memoizedProps:i)),n&1024&&($m=!0);break;case 6:if(Gi(e,t),Wi(t),n&4){if(t.stateNode===null)throw Error(be(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(_){gt(t,t.return,_)}}break;case 3:if(Pg=null,i=Qa,Qa=yy(e.containerInfo),Gi(e,t),Qa=i,Wi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zp(e.containerInfo)}catch(_){gt(t,t.return,_)}$m&&($m=!1,mT(t));break;case 4:n=Qa,Qa=yy(t.stateNode.containerInfo),Gi(e,t),Wi(t),Qa=n;break;case 12:Gi(e,t),Wi(t);break;case 13:Gi(e,t),Wi(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(g8=$s()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Um(t,n)));break;case 22:if(n&512&&r!==null&&Si(r,r.return),c=t.memoizedState!==null,f=r!==null&&r.memoizedState!==null,u=mo,l=Gr,mo=u||c,Gr=l||f,Gi(e,t),Gr=l,mo=u,Wi(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,n&8192&&(e._visibility=c?e._visibility&-2:e._visibility|1,c&&(e=mo||Gr,r===null||f||e||_l(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(r=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(r===null){f=r=e;try{if(i=f.stateNode,c)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{s=f.stateNode,o=f.memoizedProps.style;var g=o!=null&&o.hasOwnProperty("display")?o.display:null;s.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(_){gt(f,f.return,_)}}}else if(e.tag===6){if(r===null){f=e;try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){gt(f,f.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Um(t,r))));break;case 19:Gi(e,t),Wi(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,Um(t,n)));break;case 21:break;default:Gi(e,t),Wi(t)}}function Wi(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var r=t.return;r!==null;){if(hT(r)){var n=r;break e}r=r.return}throw Error(be(160))}switch(n.tag){case 27:var i=n.stateNode,a=Nm(t);fy(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(xd(s,""),n.flags&=-33);var o=Nm(t);fy(t,o,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Nm(t);K3(t,f,c);break;default:throw Error(be(161))}}}catch(u){gt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;mT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function fo(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)pT(t,e.alternate,e),e=e.sibling}function _l(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:hf(4,e,e.return),_l(e);break;case 1:Si(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&lT(e,e.return,r),_l(e);break;case 26:case 27:case 5:Si(e,e.return),_l(e);break;case 22:Si(e,e.return),e.memoizedState===null&&_l(e);break;default:_l(e)}t=t.sibling}}function Ec(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Ec(i,a,r),E1(4,a);break;case 1:if(Ec(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(f){gt(n,n.return,f)}if(n=a,i=n.updateQueue,i!==null){var o=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)cT(c[i],o)}catch(f){gt(n,n.return,f)}}r&&s&64&&uT(a),Jf(a,a.return);break;case 26:case 27:case 5:Ec(i,a,r),r&&n===null&&s&4&&dT(a),Jf(a,a.return);break;case 12:Ec(i,a,r);break;case 13:Ec(i,a,r),r&&s&4&&yT(i,a);break;case 22:a.memoizedState===null&&Ec(i,a,r),Jf(a,a.return);break;default:Ec(i,a,r)}e=e.sibling}}function l8(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&_1(r))}function d8(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_1(t))}function lc(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_T(t,e,r,n),e=e.sibling}function _T(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:lc(t,e,r,n),i&2048&&E1(9,e);break;case 3:lc(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_1(t)));break;case 12:if(i&2048){lc(t,e,r,n),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){gt(e,e.return,c)}}else lc(t,e,r,n);break;case 23:break;case 22:a=e.stateNode,e.memoizedState!==null?a._visibility&4?lc(t,e,r,n):fp(t,e):a._visibility&4?lc(t,e,r,n):(a._visibility|=4,wl(t,e,r,n,(e.subtreeFlags&10256)!==0)),i&2048&&l8(e.alternate,e);break;case 24:lc(t,e,r,n),i&2048&&d8(e.alternate,e);break;default:lc(t,e,r,n)}}function wl(t,e,r,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,o=r,c=n,f=s.flags;switch(s.tag){case 0:case 11:case 15:wl(a,s,o,c,i),E1(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&4?wl(a,s,o,c,i):fp(a,s):(u._visibility|=4,wl(a,s,o,c,i)),i&&f&2048&&l8(s.alternate,s);break;case 24:wl(a,s,o,c,i),i&&f&2048&&d8(s.alternate,s);break;default:wl(a,s,o,c,i)}e=e.sibling}}function fp(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:fp(r,n),i&2048&&l8(n.alternate,n);break;case 24:fp(r,n),i&2048&&d8(n.alternate,n);break;default:fp(r,n)}e=e.sibling}}var $h=8192;function fl(t){if(t.subtreeFlags&$h)for(t=t.child;t!==null;)wT(t),t=t.sibling}function wT(t){switch(t.tag){case 26:fl(t),t.flags&$h&&t.memoizedState!==null&&bk(Qa,t.memoizedState,t.memoizedProps);break;case 5:fl(t);break;case 3:case 4:var e=Qa;Qa=yy(t.stateNode.containerInfo),fl(t),Qa=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=$h,$h=16777216,fl(t),$h=e):fl(t));break;default:fl(t)}}function AT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function hh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Dr=n,xT(n,t)}AT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ET(t),t=t.sibling}function ET(t){switch(t.tag){case 0:case 11:case 15:hh(t),t.flags&2048&&hf(9,t,t.return);break;case 3:hh(t);break;case 12:hh(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,Bg(t)):hh(t);break;default:hh(t)}}function Bg(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Dr=n,xT(n,t)}AT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:hf(8,e,e.return),Bg(e);break;case 22:r=e.stateNode,r._visibility&4&&(r._visibility&=-5,Bg(e));break;default:Bg(e)}t=t.sibling}}function xT(t,e){for(;Dr!==null;){var r=Dr;switch(r.tag){case 0:case 11:case 15:hf(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:_1(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Dr=n;else e:for(r=t;Dr!==null;){n=Dr;var i=n.sibling,a=n.return;if(bT(n),n===r){Dr=null;break e}if(i!==null){i.return=a,Dr=i;break e}Dr=a}}}function TU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(t,e,r,n){return new TU(t,e,r,n)}function h8(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jc(t,e){var r=t.alternate;return r===null?(r=ya(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ST(t,e){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Dg(t,e,r,n,i,a){var s=0;if(n=t,typeof t=="function")h8(t)&&(s=1);else if(typeof t=="string")s=hk(t,r,Ns.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Cl:return gu(r.children,i,a,e);case IC:s=8,i|=24;break;case p3:return t=ya(12,r,e,i|2),t.elementType=p3,t.lanes=a,t;case b3:return t=ya(13,r,e,i),t.elementType=b3,t.lanes=a,t;case g3:return t=ya(19,r,e,i),t.elementType=g3,t.lanes=a,t;case OC:return CT(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JN:case So:s=10;break e;case TC:s=9;break e;case M4:s=11;break e;case P4:s=14;break e;case Cc:s=16,n=null;break e}s=29,r=Error(be(130,t===null?"null":typeof t,"")),n=null}return e=ya(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function gu(t,e,r,n){return t=ya(7,t,n,e),t.lanes=r,t}function CT(t,e,r,n){t=ya(22,t,n,e),t.elementType=OC,t.lanes=r;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var a=i._current;if(a===null)throw Error(be(456));if(!(i._pendingVisibility&2)){var s=lf(a,2);s!==null&&(i._pendingVisibility|=2,Vn(s,a,2))}},attach:function(){var a=i._current;if(a===null)throw Error(be(456));if(i._pendingVisibility&2){var s=lf(a,2);s!==null&&(i._pendingVisibility&=-3,Vn(s,a,2))}}};return t.stateNode=i,t}function km(t,e,r){return t=ya(6,t,null,e),t.lanes=r,t}function zm(t,e,r){return e=ya(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uo(t){t.flags|=4}function O9(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!YT(e))if(DT())t.flags|=8192;else throw rp=O3,dI}function qb(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?LC():536870912,t.lanes|=e)}function ph(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&31457280,n|=i.flags&31457280,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function OU(t,e,r){var n=e.pendingProps;switch(V4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return qt(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ro(mr),Ad(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lh(e)?uo(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ga!==null&&(W3(Ga),Ga=null))),qt(e),null;case 26:return r=e.memoizedState,t===null?(uo(e),r!==null?(qt(e),O9(e,r)):(qt(e),e.flags&=-16777217)):r?r!==t.memoizedState?(uo(e),qt(e),O9(e,r)):(qt(e),e.flags&=-16777217):(t.memoizedProps!==n&&uo(e),qt(e),e.flags&=-16777217),null;case 27:Gg(e),r=Wc.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&uo(e);else{if(!n){if(e.stateNode===null)throw Error(be(166));return qt(e),null}t=Ns.current,lh(e)?a9(e):(t=KT(i,n,r),e.stateNode=t,uo(e))}return qt(e),null;case 5:if(Gg(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&uo(e);else{if(!n){if(e.stateNode===null)throw Error(be(166));return qt(e),null}if(t=Ns.current,lh(e))a9(e);else{switch(i=gy(Wc.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[wn]=e,t[fi]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(en(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&uo(e)}}return qt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&uo(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(be(166));if(t=Wc.current,lh(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=Fn,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[wn]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||FT(t.nodeValue,r)),t||xu(e)}else t=gy(t).createTextNode(n),t[wn]=e,e.stateNode=t}return qt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=lh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(be(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[wn]=e}else m1(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),i=!1}else Ga!==null&&(W3(Ga),Ga=null),i=!0;if(!i)return e.flags&256?(To(e),e):(To(e),null)}if(To(e),e.flags&128)return e.lanes=r,e;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==t&&r&&(e.child.flags|=8192),qb(e,e.updateQueue),qt(e),null;case 4:return Ad(),t===null&&m8(e.stateNode.containerInfo),qt(e),null;case 10:return Ro(e.type),qt(e),null;case 19:if($r(_r),i=e.memoizedState,i===null)return qt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)ph(i,!1);else{if(sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ny(t),a!==null){for(e.flags|=128,ph(i,!1),t=a.updateQueue,e.updateQueue=t,qb(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)ST(r,t),r=r.sibling;return Ut(_r,_r.current&1|2),e.child}t=t.sibling}i.tail!==null&&$s()>ly&&(e.flags|=128,n=!0,ph(i,!1),e.lanes=4194304)}else{if(!n)if(t=ny(a),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,qb(e,t),ph(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!tt)return qt(e),null}else 2*$s()-i.renderingStartTime>ly&&r!==536870912&&(e.flags|=128,n=!0,ph(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$s(),e.sibling=null,t=_r.current,Ut(_r,n?t&1|2:t&1),e):(qt(e),null);case 22:case 23:return To(e),Q4(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),r=e.updateQueue,r!==null&&qb(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&$r(bu),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ro(mr),qt(e),null;case 25:return null}throw Error(be(156,e.tag))}function BU(t,e){switch(V4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(mr),Ad(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Gg(e),null;case 13:if(To(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));m1()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $r(_r),null;case 4:return Ad(),null;case 10:return Ro(e.type),null;case 22:case 23:return To(e),Q4(),t!==null&&$r(bu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ro(mr),null;case 25:return null;default:return null}}function IT(t,e){switch(V4(e),e.tag){case 3:Ro(mr),Ad();break;case 26:case 27:case 5:Gg(e);break;case 4:Ad();break;case 13:To(e);break;case 19:$r(_r);break;case 10:Ro(e.type);break;case 22:case 23:To(e),Q4(),t!==null&&$r(bu);break;case 24:Ro(mr)}}var DU={getCacheForType:function(t){var e=An(mr),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r}},MU=typeof WeakMap=="function"?WeakMap:Map,Vt=0,_t=null,Ke=null,rt=0,Nt=0,aa=null,uy=!1,p8=!1,jo=0,sr=0,qo=0,ef=0,b8=0,va=0,Rp=0,up=null,Os=null,V3=!1,g8=0,ly=1/0,dy=null,tf=null,Kb=!1,Kf=null,lp=0,Q3=0,Y3=null,dp=0,G3=null;function Ri(){if(Vt&2&&rt!==0)return rt&-rt;if(ke.T!==null){var t=Cd;return t!==0?t:v8()}return UC()}function TT(){va===0&&(va=!(rt&536870912)||tt?RC():536870912);var t=Qs.current;return t!==null&&(t.flags|=32),va}function Vn(t,e,r){(t===_t&&Nt===2||t.cancelPendingCommit!==null)&&(Td(t,0),Qc(t,rt,va)),y1(t,r),(!(Vt&2)||t!==_t)&&(t===_t&&(!(Vt&2)&&(ef|=r),sr===4&&Qc(t,rt,va)),Js(t))}function OT(t,e,r){if(Vt&6)throw Error(be(327));var n=(r=!r&&(e&60)===0&&(e&t.expiredLanes)===0)?LU(t,e):Fm(t,e);if(n!==0){var i=r;do{if(n===6)Qc(t,e,0);else{if(r=t.current.alternate,i&&!PU(r)){n=Fm(t,e),i=!1;continue}if(n===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var s=t;n=up;var o=s.current.memoizedState.isDehydrated;if(o&&(Td(s,a).flags|=256),a=Fm(s,a),a!==2){if(p8&&!o){s.errorRecoveryDisabledLanes|=i,ef|=i,n=4;break e}i=Os,Os=n,i!==null&&W3(i)}n=a}if(i=!1,n!==2)continue}}if(n===1){Td(t,0),Qc(t,e,0);break}e:{switch(i=t,n){case 0:case 1:throw Error(be(345));case 4:if((e&4194176)===e){Qc(i,e,va);break e}break;case 2:Os=null;break;case 3:case 5:break;default:throw Error(be(329))}if(i.finishedWork=r,i.finishedLanes=e,(e&62914560)===e&&(n=g8+300-$s(),10<n)){if(Qc(i,e,va),y2(i,0)!==0)break e;i.timeoutHandle=qT(B9.bind(null,i,r,Os,dy,V3,e,va,ef,Rp,uy,2,-0,0),n);break e}B9(i,r,Os,dy,V3,e,va,ef,Rp,uy,0,-0,0)}}break}while(!0)}Js(t)}function W3(t){Os===null?Os=t:Os.push.apply(Os,t)}function B9(t,e,r,n,i,a,s,o,c,f,u,l,h){if(f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Np={stylesheets:null,count:0,unsuspend:pk},wT(e),e=gk(),e!==null)){t.cancelPendingCommit=e(M9.bind(null,t,r,n,i,s,o,c,1,l,h)),Qc(t,a,s);return}M9(t,r,n,i,s,o,c,u,l,h)}function PU(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Hi(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qc(t,e,r){e&=~b8,e&=~ef,t.suspendedLanes|=e,t.pingedLanes&=~e;for(var n=t.expirationTimes,i=e;0<i;){var a=31-Pi(i),s=1<<a;n[a]=-1,i&=~s}r!==0&&HC(t,r,e)}function O2(){return Vt&6?!0:(x1(0),!1)}function y8(){if(Ke!==null){if(Nt===0)var t=Ke.return;else t=Ke,T2(),e8(t),Yl=null,Mp=0,t=Ke;for(;t!==null;)IT(t.alternate,t),t=t.return;Ke=null}}function Td(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ZU(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),y8(),_t=t,Ke=r=Jc(t.current,null),rt=e,Nt=0,aa=null,p8=uy=!1,Rp=va=b8=ef=qo=sr=0,Os=up=null,V3=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Pi(n),a=1<<i;e|=t[i],n&=~a}return jo=e,w2(),r}function BT(t,e){je=null,ke.H=Ys,e===tp?(e=c9(),Nt=DT()&&!(qo&134217727)&&!(ef&134217727)?2:3):e===dI?(e=c9(),Nt=4):Nt=e===tT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,aa=e,Ke===null&&(sr=1,oy(t,ha(e,t.current)))}function DT(){var t=Qs.current;return t===null?!0:(rt&4194176)===rt?Us===null:(rt&62914560)===rt||rt&536870912?t===Us:!1}function MT(){var t=ke.H;return ke.H=Ys,t===null?Ys:t}function PT(){var t=ke.A;return ke.A=DU,t}function X3(){sr=4,!(qo&134217727)&&!(ef&134217727)||_t===null||Qc(_t,rt,va)}function Fm(t,e){var r=Vt;Vt|=2;var n=MT(),i=PT();(_t!==t||rt!==e)&&(dy=null,Td(t,e)),e=!1;e:do try{if(Nt!==0&&Ke!==null){var a=Ke,s=aa;switch(Nt){case 8:y8(),sr=6;break e;case 3:case 2:e||Qs.current!==null||(e=!0);default:var o=Nt;Nt=0,aa=null,Uh(t,a,s,o)}}RU();break}catch(c){BT(t,c)}while(!0);if(e&&t.shellSuspendCounter++,T2(),Vt=r,ke.H=n,ke.A=i,Ke!==null)throw Error(be(261));return _t=null,rt=0,w2(),sr}function RU(){for(;Ke!==null;)RT(Ke)}function LU(t,e){var r=Vt;Vt|=2;var n=MT(),i=PT();(_t!==t||rt!==e)&&(dy=null,ly=$s()+500,Td(t,e));e:do try{if(Nt!==0&&Ke!==null){e=Ke;var a=aa;t:switch(Nt){case 1:Nt=0,aa=null,Uh(t,e,a,1);break;case 2:if(o9(a)){Nt=0,aa=null,D9(e);break}e=function(){Nt===2&&_t===t&&(Nt=7),Js(t)},a.then(e,e);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:o9(a)?(Nt=0,aa=null,D9(e)):(Nt=0,aa=null,Uh(t,e,a,7));break;case 5:var s=null;switch(Ke.tag){case 26:s=Ke.memoizedState;case 5:case 27:var o=Ke;if(!s||YT(s)){Nt=0,aa=null;var c=o.sibling;if(c!==null)Ke=c;else{var f=o.return;f!==null?(Ke=f,B2(f)):Ke=null}break t}}Nt=0,aa=null,Uh(t,e,a,5);break;case 6:Nt=0,aa=null,Uh(t,e,a,6);break;case 8:y8(),sr=6;break e;default:throw Error(be(462))}}HU();break}catch(u){BT(t,u)}while(!0);return T2(),ke.H=n,ke.A=i,Vt=r,Ke!==null?0:(_t=null,rt=0,w2(),sr)}function HU(){for(;Ke!==null&&!i$();)RT(Ke)}function RT(t){var e=sT(t.alternate,t,jo);t.memoizedProps=t.pendingProps,e===null?B2(t):Ke=e}function D9(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=A9(r,e,e.pendingProps,e.type,void 0,rt);break;case 11:e=A9(r,e,e.pendingProps,e.type.render,e.ref,rt);break;case 5:e8(e);default:IT(r,e),e=Ke=ST(e,jo),e=sT(r,e,jo)}t.memoizedProps=t.pendingProps,e===null?B2(t):Ke=e}function Uh(t,e,r){T2(),e8(e),Yl=null,Mp=0;var n=e.return;try{if(xU(t,n,e,r,rt)){sr=1,oy(t,ha(r,t.current)),Ke=null;return}}catch(i){if(n!==null)throw Ke=n,i;sr=1,oy(t,ha(r,t.current)),Ke=null;return}e.flags&32768?LT(e,!0):B2(e)}function B2(t){var e=t;do{if(e.flags&32768){LT(e,uy);return}t=e.return;var r=OU(e.alternate,e,jo);if(r!==null){Ke=r;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);sr===0&&(sr=5)}function LT(t,e){do{var r=BU(t.alternate,t);if(r!==null){r.flags&=32767,Ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){Ke=t;return}Ke=t=r}while(t!==null);sr=6,Ke=null}function M9(t,e,r,n,i,a,s,o,c,f){var u=ke.T,l=Tt.p;try{Tt.p=2,ke.T=null,NU(t,e,r,n,l,i,a,s,o,c,f)}finally{ke.T=u,Tt.p=l}}function NU(t,e,r,n,i,a){do Zl();while(Kf!==null);if(Vt&6)throw Error(be(327));var s=t.finishedWork;if(n=t.finishedLanes,s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var o=s.lanes|s.childLanes;if(o|=j4,b$(t,n,o,a),t===_t&&(Ke=_t=null,rt=0),!(s.subtreeFlags&10256)&&!(s.flags&10256)||Kb||(Kb=!0,Q3=o,Y3=r,zU(Wg,function(){return Zl(),null})),r=(s.flags&15990)!==0,s.subtreeFlags&15990||r){r=ke.T,ke.T=null,a=Tt.p,Tt.p=2;var c=Vt;Vt|=4,CU(t,s),vT(s,t),oU(t6,t.containerInfo),_y=!!e6,t6=e6=null,t.current=s,pT(t,s.alternate,s),a$(),Vt=c,Tt.p=a,ke.T=r}else t.current=s;if(Kb?(Kb=!1,Kf=t,lp=n):HT(t,o),o=t.pendingLanes,o===0&&(tf=null),u$(s.stateNode),Js(t),e!==null)for(i=t.onRecoverableError,s=0;s<e.length;s++)o=e[s],i(o.value,{componentStack:o.stack});return lp&3&&Zl(),o=t.pendingLanes,n&4194218&&o&42?t===G3?dp++:(dp=0,G3=t):dp=0,x1(0),null}function HT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,_1(e)))}function Zl(){if(Kf!==null){var t=Kf,e=Q3;Q3=0;var r=$C(lp),n=ke.T,i=Tt.p;try{if(Tt.p=32>r?32:r,ke.T=null,Kf===null)var a=!1;else{r=Y3,Y3=null;var s=Kf,o=lp;if(Kf=null,lp=0,Vt&6)throw Error(be(331));var c=Vt;if(Vt|=4,ET(s.current),_T(s,s.current,o,r),Vt=c,x1(0,!1),Mi&&typeof Mi.onPostCommitFiberRoot=="function")try{Mi.onPostCommitFiberRoot(g1,s)}catch{}a=!0}return a}finally{Tt.p=i,ke.T=n,HT(t,e)}}return!1}function P9(t,e,r){e=ha(r,e),e=H3(t.stateNode,e,2),t=Zc(t,e,2),t!==null&&(y1(t,2),Js(t))}function gt(t,e,r){if(t.tag===3)P9(t,t,r);else for(;e!==null;){if(e.tag===3){P9(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tf===null||!tf.has(n))){t=ha(r,t),r=JI(2),n=Zc(e,r,2),n!==null&&(eT(r,n,e,t),y1(n,2),Js(n));break}}e=e.return}}function jm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new MU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(p8=!0,i.add(r),t=$U.bind(null,t,e,r),e.then(t,t))}function $U(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,_t===t&&(rt&r)===r&&(sr===4||sr===3&&(rt&62914560)===rt&&300>$s()-g8?!(Vt&2)&&Td(t,0):b8|=r,Rp===rt&&(Rp=0)),Js(t)}function NT(t,e){e===0&&(e=LC()),t=lf(t,e),t!==null&&(y1(t,e),Js(t))}function UU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),NT(t,r)}function kU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(be(314))}n!==null&&n.delete(e),NT(t,r)}function zU(t,e){return R4(t,e)}var hy=null,Al=null,Z3=!1,py=!1,qm=!1,yu=0;function Js(t){t!==Al&&t.next===null&&(Al===null?hy=Al=t:Al=Al.next=t),py=!0,Z3||(Z3=!0,jU(FU))}function x1(t,e){if(!qm&&py){qm=!0;do for(var r=!1,n=hy;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var s=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-Pi(42|t)+1)-1,a&=i&~(s&~o),a=a&201326677?a&201326677|1:a?a|2:0}a!==0&&(r=!0,R9(n,a))}else a=rt,a=y2(n,n===_t?a:0),a&3&&(r=!0,R9(n,a));n=n.next}while(r);qm=!1}}function FU(){py=Z3=!1;var t=0;yu!==0&&(XU()&&(t=yu),yu=0);for(var e=$s(),r=null,n=hy;n!==null;){var i=n.next,a=$T(n,e);a===0?(n.next=null,r===null?hy=i:r.next=i,i===null&&(Al=r)):(r=n,(t!==0||a&3)&&(py=!0)),n=i}x1(t)}function $T(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-Pi(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=p$(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}if(e=_t,r=rt,r=y2(t,t===e?r:0),n=t.callbackNode,r===0||t===e&&Nt===2||t.cancelPendingCommit!==null)return n!==null&&n!==null&&_m(n),t.callbackNode=null,t.callbackPriority=0;if(r&3)return n!==null&&n!==null&&_m(n),t.callbackPriority=2,t.callbackNode=null,2;if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&_m(n),$C(r)){case 2:r=L4;break;case 8:r=MC;break;case 32:r=Wg;break;case 268435456:r=PC;break;default:r=Wg}return n=UT.bind(null,t),r=R4(r,n),t.callbackPriority=e,t.callbackNode=r,e}function UT(t,e){var r=t.callbackNode;if(Zl()&&t.callbackNode!==r)return null;var n=rt;return n=y2(t,t===_t?n:0),n===0?null:(OT(t,n,e),$T(t,$s()),t.callbackNode===r?UT.bind(null,t):null)}function R9(t,e){if(Zl())return null;OT(t,e,!0)}function jU(t){JU(function(){Vt&6?R4(L4,t):t()})}function v8(){return yu===0&&(yu=RC()),yu}function L9(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xg(""+t)}function H9(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function qU(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var a=L9((i[fi]||null).action),s=n.submitter;s&&(e=(e=s[fi]||null)?L9(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new v2("action","action",null,n,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(yu!==0){var c=s?H9(i,s):new FormData(i);R3(r,{pending:!0,data:c,method:i.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=s?H9(i,s):new FormData(i),R3(r,{pending:!0,data:c,method:i.method,action:a},a,c))},currentTarget:i}]})}}for(var Km=0;Km<n9.length;Km++){var Vm=n9[Km],KU=Vm.toLowerCase(),VU=Vm[0].toUpperCase()+Vm.slice(1);bs(KU,"on"+VU)}bs(aI,"onAnimationEnd");bs(sI,"onAnimationIteration");bs(oI,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(fU,"onTransitionRun");bs(uU,"onTransitionStart");bs(lU,"onTransitionCancel");bs(cI,"onTransitionEnd");Ed("onMouseEnter",["mouseout","mouseover"]);Ed("onMouseLeave",["mouseout","mouseover"]);Ed("onPointerEnter",["pointerout","pointerover"]);Ed("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lp));function kT(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,f=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=f;try{a(i)}catch(u){sy(u)}i.currentTarget=null,a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,f=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=f;try{a(i)}catch(u){sy(u)}i.currentTarget=null,a=c}}}}function Ge(t,e){var r=e[w3];r===void 0&&(r=e[w3]=new Set);var n=t+"__bubble";r.has(n)||(zT(e,t,2,!1),r.add(n))}function Qm(t,e,r){var n=0;e&&(n|=4),zT(r,t,n,e)}var Vb="_reactListening"+Math.random().toString(36).slice(2);function m8(t){if(!t[Vb]){t[Vb]=!0,kC.forEach(function(r){r!=="selectionchange"&&(QU.has(r)||Qm(r,!1,t),Qm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vb]||(e[Vb]=!0,Qm("selectionchange",!1,e))}}function zT(t,e,r,n){switch(JT(e)){case 2:var i=mk;break;case 8:i=_k;break;default:i=E8}r=i.bind(null,e,r,t),i=void 0,!S3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ym(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Zf(o),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){n=a=s;continue e}o=o.parentNode}}n=n.return}YC(function(){var f=a,u=$4(r),l=[];e:{var h=fI.get(t);if(h!==void 0){var g=v2,_=t;switch(t){case"keypress":if(Cg(r)===0)break e;case"keydown":case"keyup":g=k$;break;case"focusin":_="focus",g=Sm;break;case"focusout":_="blur",g=Sm;break;case"beforeblur":case"afterblur":g=Sm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=K7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=T$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=j$;break;case aI:case sI:case oI:g=D$;break;case cI:g=K$;break;case"scroll":case"scrollend":g=C$;break;case"wheel":g=Q$;break;case"copy":case"cut":case"paste":g=P$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Q7;break;case"toggle":case"beforetoggle":g=G$}var A=(e&4)!==0,C=!A&&(t==="scroll"||t==="scrollend"),w=A?h!==null?h+"Capture":null:h;A=[];for(var I=f,T;I!==null;){var R=I;if(T=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||T===null||w===null||(R=Tp(I,w),R!=null&&A.push(Hp(I,R,T))),C)break;I=I.return}0<A.length&&(h=new g(h,_,null,r,u),l.push({event:h,listeners:A}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==x3&&(_=r.relatedTarget||r.fromElement)&&(Zf(_)||_[u0]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=r.relatedTarget||r.toElement,g=f,_=_?Zf(_):null,_!==null&&(C=f0(_),A=_.tag,_!==C||A!==5&&A!==27&&A!==6)&&(_=null)):(g=null,_=f),g!==_)){if(A=K7,R="onMouseLeave",w="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(A=Q7,R="onPointerLeave",w="onPointerEnter",I="pointer"),C=g==null?h:Nh(g),T=_==null?h:Nh(_),h=new A(R,I+"leave",g,r,u),h.target=C,h.relatedTarget=T,R=null,Zf(u)===f&&(A=new A(w,I+"enter",_,r,u),A.target=T,A.relatedTarget=C,R=A),C=R,g&&_)t:{for(A=g,w=_,I=0,T=A;T;T=ul(T))I++;for(T=0,R=w;R;R=ul(R))T++;for(;0<I-T;)A=ul(A),I--;for(;0<T-I;)w=ul(w),T--;for(;I--;){if(A===w||w!==null&&A===w.alternate)break t;A=ul(A),w=ul(w)}A=null}else A=null;g!==null&&N9(l,h,g,A,!1),_!==null&&C!==null&&N9(l,C,_,A,!0)}}e:{if(h=f?Nh(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=X7;else if(W7(h))if(eI)N=aU;else{N=nU;var K=rU}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&N4(f.elementType)&&(N=X7):N=iU;if(N&&(N=N(t,f))){JC(l,N,r,u);break e}K&&K(t,h,f),t==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&E3(h,"number",h.value)}switch(K=f?Nh(f):window,t){case"focusin":(W7(K)||K.contentEditable==="true")&&(Bl=K,C3=f,ep=null);break;case"focusout":ep=C3=Bl=null;break;case"mousedown":I3=!0;break;case"contextmenu":case"mouseup":case"dragend":I3=!1,r9(l,r,u);break;case"selectionchange":if(cU)break;case"keydown":case"keyup":r9(l,r,u)}var V;if(z4)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ol?XC(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(WC&&r.locale!=="ko"&&(Ol||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ol&&(V=GC()):(Vc=u,U4="value"in Vc?Vc.value:Vc.textContent,Ol=!0)),K=by(f,D),0<K.length&&(D=new V7(D,t,null,r,u),l.push({event:D,listeners:K}),V?D.data=V:(V=ZC(r),V!==null&&(D.data=V)))),(V=X$?Z$(t,r):J$(t,r))&&(D=by(f,"onBeforeInput"),0<D.length&&(K=new V7("onBeforeInput","beforeinput",null,r,u),l.push({event:K,listeners:D}),K.data=V)),qU(l,t,f,r,u)}kT(l,e)})}function Hp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function by(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Tp(t,r),i!=null&&n.unshift(Hp(t,i,a)),i=Tp(t,e),i!=null&&n.push(Hp(t,i,a))),t=t.return}return n}function ul(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N9(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,f=o.stateNode;if(o=o.tag,c!==null&&c===n)break;o!==5&&o!==26&&o!==27||f===null||(c=f,i?(f=Tp(r,a),f!=null&&s.unshift(Hp(r,f,c))):i||(f=Tp(r,a),f!=null&&s.push(Hp(r,f,c)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var YU=/\r\n?/g,GU=/\u0000|\uFFFD/g;function $9(t){return(typeof t=="string"?t:""+t).replace(YU,`
`).replace(GU,"")}function FT(t,e){return e=$9(e),$9(t)===e}function D2(){}function ft(t,e,r,n,i,a){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||xd(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&xd(t,""+n);break;case"className":$b(t,"class",n);break;case"tabIndex":$b(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":$b(t,r,n);break;case"style":QC(t,n,a);break;case"data":if(e!=="object"){$b(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=xg(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&ft(t,e,"name",i.name,i,null),ft(t,e,"formEncType",i.formEncType,i,null),ft(t,e,"formMethod",i.formMethod,i,null),ft(t,e,"formTarget",i.formTarget,i,null)):(ft(t,e,"encType",i.encType,i,null),ft(t,e,"method",i.method,i,null),ft(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=xg(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=D2);break;case"onScroll":n!=null&&Ge("scroll",t);break;case"onScrollEnd":n!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(be(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(be(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=xg(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),Eg(t,"popover",n);break;case"xlinkActuate":oo(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":oo(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":oo(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":oo(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":oo(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":oo(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":oo(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":oo(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":oo(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Eg(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=x$.get(r)||r,Eg(t,r,n))}}function J3(t,e,r,n,i,a){switch(r){case"style":QC(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(be(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(be(60));t.innerHTML=r}}break;case"children":typeof n=="string"?xd(t,n):(typeof n=="number"||typeof n=="bigint")&&xd(t,""+n);break;case"onScroll":n!=null&&Ge("scroll",t);break;case"onScrollEnd":n!=null&&Ge("scrollend",t);break;case"onClick":n!=null&&(t.onclick=D2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zC.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[fi]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):Eg(t,r,n)}}}function en(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(be(137,e));default:ft(t,e,a,s,r,null)}}i&&ft(t,e,"srcSet",r.srcSet,r,null),n&&ft(t,e,"src",r.src,r,null);return;case"input":Ge("invalid",t);var o=a=s=i=null,c=null,f=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":s=u;break;case"checked":c=u;break;case"defaultChecked":f=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(be(137,e));break;default:ft(t,e,n,u,r,null)}}qC(t,a,o,c,f,s,i,!1),Xg(t);return;case"select":Ge("invalid",t),n=s=a=null;for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:ft(t,e,i,o,r,null)}e=a,r=s,t.multiple=!!n,e!=null?Vl(t,!!n,e,!1):r!=null&&Vl(t,!!n,r,!0);return;case"textarea":Ge("invalid",t),a=i=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(be(91));break;default:ft(t,e,s,o,r,null)}VC(t,n,i,a),Xg(t);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ft(t,e,c,n,r,null)}return;case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(n=0;n<Lp.length;n++)Ge(Lp[n],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in r)if(r.hasOwnProperty(f)&&(n=r[f],n!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(be(137,e));default:ft(t,e,f,n,r,null)}return;default:if(N4(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&J3(t,e,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&ft(t,e,o,n,r,null))}function WU(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,c=null,f=null,u=null;for(g in r){var l=r[g];if(r.hasOwnProperty(g)&&l!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=l;default:n.hasOwnProperty(g)||ft(t,e,g,null,n,l)}}for(var h in n){var g=n[h];if(l=r[h],n.hasOwnProperty(h)&&(g!=null||l!=null))switch(h){case"type":a=g;break;case"name":i=g;break;case"checked":f=g;break;case"defaultChecked":u=g;break;case"value":s=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(be(137,e));break;default:g!==l&&ft(t,e,h,g,n,l)}}A3(t,s,o,c,f,u,a,i);return;case"select":g=s=o=h=null;for(a in r)if(c=r[a],r.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":g=c;default:n.hasOwnProperty(a)||ft(t,e,a,null,n,c)}for(i in n)if(a=n[i],c=r[i],n.hasOwnProperty(i)&&(a!=null||c!=null))switch(i){case"value":h=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==c&&ft(t,e,i,a,n,c)}e=o,r=s,n=g,h!=null?Vl(t,!!r,h,!1):!!n!=!!r&&(e!=null?Vl(t,!!r,e,!0):Vl(t,!!r,r?[]:"",!1));return;case"textarea":g=h=null;for(o in r)if(i=r[o],r.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ft(t,e,o,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":h=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(be(91));break;default:i!==a&&ft(t,e,s,i,n,a)}KC(t,h,g);return;case"option":for(var _ in r)if(h=r[_],r.hasOwnProperty(_)&&h!=null&&!n.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:ft(t,e,_,null,n,h)}for(c in n)if(h=n[c],g=r[c],n.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ft(t,e,c,h,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in r)h=r[A],r.hasOwnProperty(A)&&h!=null&&!n.hasOwnProperty(A)&&ft(t,e,A,null,n,h);for(f in n)if(h=n[f],g=r[f],n.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(be(137,e));break;default:ft(t,e,f,h,n,g)}return;default:if(N4(e)){for(var C in r)h=r[C],r.hasOwnProperty(C)&&h!==void 0&&!n.hasOwnProperty(C)&&J3(t,e,C,void 0,n,h);for(u in n)h=n[u],g=r[u],!n.hasOwnProperty(u)||h===g||h===void 0&&g===void 0||J3(t,e,u,h,n,g);return}}for(var w in r)h=r[w],r.hasOwnProperty(w)&&h!=null&&!n.hasOwnProperty(w)&&ft(t,e,w,null,n,h);for(l in n)h=n[l],g=r[l],!n.hasOwnProperty(l)||h===g||h==null&&g==null||ft(t,e,l,h,n,g)}var e6=null,t6=null;function gy(t){return t.nodeType===9?t:t.ownerDocument}function U9(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function r6(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gm=null;function XU(){var t=window.event;return t&&t.type==="popstate"?t===Gm?!1:(Gm=t,!0):(Gm=null,!1)}var qT=typeof setTimeout=="function"?setTimeout:void 0,ZU=typeof clearTimeout=="function"?clearTimeout:void 0,k9=typeof Promise=="function"?Promise:void 0,JU=typeof queueMicrotask=="function"?queueMicrotask:typeof k9<"u"?function(t){return k9.resolve(null).then(t).catch(ek)}:qT;function ek(t){setTimeout(function(){throw t})}function Wm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),zp(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);zp(e)}function n6(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":n6(r),H4(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function tk(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Ip])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=as(t.nextSibling),t===null)break}return null}function rk(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=as(t.nextSibling),t===null))return null;return t}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function z9(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}function KT(t,e,r){switch(e=gy(r),t){case"html":if(t=e.documentElement,!t)throw Error(be(452));return t;case"head":if(t=e.head,!t)throw Error(be(453));return t;case"body":if(t=e.body,!t)throw Error(be(454));return t;default:throw Error(be(451))}}var Sa=new Map,F9=new Set;function yy(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Jo=Tt.d;Tt.d={f:nk,r:ik,D:ak,C:sk,L:ok,m:ck,X:uk,S:fk,M:lk};function nk(){var t=Jo.f(),e=O2();return t||e}function ik(t){var e=l0(t);e!==null&&e.tag===5&&e.type==="form"?qI(e):Jo.r(t)}var d0=typeof document>"u"?null:document;function VT(t,e,r){var n=d0;if(n&&typeof e=="string"&&e){var i=da(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),F9.has(i)||(F9.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),en(e,"link",t),Mr(e),n.head.appendChild(e)))}}function ak(t){Jo.D(t),VT("dns-prefetch",t,null)}function sk(t,e){Jo.C(t,e),VT("preconnect",t,e)}function ok(t,e,r){Jo.L(t,e,r);var n=d0;if(n&&t&&e){var i='link[rel="preload"][as="'+da(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+da(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+da(r.imageSizes)+'"]')):i+='[href="'+da(t)+'"]';var a=i;switch(e){case"style":a=Od(t);break;case"script":a=h0(t)}Sa.has(a)||(t=Dt({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),Sa.set(a,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(S1(a))||e==="script"&&n.querySelector(C1(a))||(e=n.createElement("link"),en(e,"link",t),Mr(e),n.head.appendChild(e)))}}function ck(t,e){Jo.m(t,e);var r=d0;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+da(n)+'"][href="'+da(t)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=h0(t)}if(!Sa.has(a)&&(t=Dt({rel:"modulepreload",href:t},e),Sa.set(a,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(C1(a)))return}n=r.createElement("link"),en(n,"link",t),Mr(n),r.head.appendChild(n)}}}function fk(t,e,r){Jo.S(t,e,r);var n=d0;if(n&&t){var i=Kl(n).hoistableStyles,a=Od(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(S1(a)))o.loading=5;else{t=Dt({rel:"stylesheet",href:t,"data-precedence":e},r),(r=Sa.get(a))&&_8(t,r);var c=s=n.createElement("link");Mr(c),en(c,"link",t),c._p=new Promise(function(f,u){c.onload=f,c.onerror=u}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Mg(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function uk(t,e){Jo.X(t,e);var r=d0;if(r&&t){var n=Kl(r).hoistableScripts,i=h0(t),a=n.get(i);a||(a=r.querySelector(C1(i)),a||(t=Dt({src:t,async:!0},e),(e=Sa.get(i))&&w8(t,e),a=r.createElement("script"),Mr(a),en(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function lk(t,e){Jo.M(t,e);var r=d0;if(r&&t){var n=Kl(r).hoistableScripts,i=h0(t),a=n.get(i);a||(a=r.querySelector(C1(i)),a||(t=Dt({src:t,async:!0,type:"module"},e),(e=Sa.get(i))&&w8(t,e),a=r.createElement("script"),Mr(a),en(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function j9(t,e,r,n){var i=(i=Wc.current)?yy(i):null;if(!i)throw Error(be(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=Od(r.href),r=Kl(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Od(r.href);var a=Kl(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(S1(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Sa.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sa.set(t,r),a||dk(i,t,r,s.state))),e&&n===null)throw Error(be(528,""));return s}if(e&&n!==null)throw Error(be(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=h0(r),r=Kl(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(be(444,t))}}function Od(t){return'href="'+da(t)+'"'}function S1(t){return'link[rel="stylesheet"]['+t+"]"}function QT(t){return Dt({},t,{"data-precedence":t.precedence,precedence:null})}function dk(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),en(e,"link",r),Mr(e),t.head.appendChild(e))}function h0(t){return'[src="'+da(t)+'"]'}function C1(t){return"script[async]"+t}function q9(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+da(r.href)+'"]');if(n)return e.instance=n,Mr(n),n;var i=Dt({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Mr(n),en(n,"style",i),Mg(n,r.precedence,t),e.instance=n;case"stylesheet":i=Od(r.href);var a=t.querySelector(S1(i));if(a)return e.state.loading|=4,e.instance=a,Mr(a),a;n=QT(r),(i=Sa.get(i))&&_8(n,i),a=(t.ownerDocument||t).createElement("link"),Mr(a);var s=a;return s._p=new Promise(function(o,c){s.onload=o,s.onerror=c}),en(a,"link",n),e.state.loading|=4,Mg(a,r.precedence,t),e.instance=a;case"script":return a=h0(r.src),(i=t.querySelector(C1(a)))?(e.instance=i,Mr(i),i):(n=r,(i=Sa.get(a))&&(n=Dt({},r),w8(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),Mr(i),en(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(be(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,Mg(n,r.precedence,t));return e.instance}function Mg(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function _8(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function w8(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Pg=null;function K9(t,e,r){if(Pg===null){var n=new Map,i=Pg=new Map;i.set(r,n)}else i=Pg,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[Ip]||a[wn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(a):n.set(s,[a])}}return n}function V9(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function hk(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function YT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Np=null;function pk(){}function bk(t,e,r){if(Np===null)throw Error(be(475));var n=Np;if(e.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Od(r.href),a=t.querySelector(S1(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=vy.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=a,Mr(a);return}a=t.ownerDocument||t,r=QT(r),(i=Sa.get(i))&&_8(r,i),a=a.createElement("link"),Mr(a);var s=a;s._p=new Promise(function(o,c){s.onload=o,s.onerror=c}),en(a,"link",r),e.instance=a}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(n.count++,e=vy.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function gk(){if(Np===null)throw Error(be(475));var t=Np;return t.stylesheets&&t.count===0&&i6(t,t.stylesheets),0<t.count?function(e){var r=setTimeout(function(){if(t.stylesheets&&i6(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(r)}}:null}function vy(){if(this.count--,this.count===0){if(this.stylesheets)i6(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var my=null;function i6(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,my=new Map,e.forEach(yk,t),my=null,vy.call(t))}function yk(t,e){if(!(e.state.loading&4)){var r=my.get(t);if(r)var n=r.get(null);else{r=new Map,my.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}i=e.instance,s=i.getAttribute("data-precedence"),a=r.get(s)||n,a===n&&r.set(null,i),r.set(s,i),this.count++,n=vy.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var $p={$$typeof:So,Provider:null,Consumer:null,_currentValue:hu,_currentValue2:hu,_threadCount:0};function vk(t,e,r,n,i,a,s,o){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wm(0),this.hiddenUpdates=wm(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function GT(t,e,r,n,i,a,s,o,c,f,u,l){return t=new vk(t,e,r,s,o,c,f,l),e=1,a===!0&&(e|=24),a=ya(3,null,null,e),t.current=a,a.stateNode=t,e=Y4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:e},u8(a),t}function WT(t){return t?(t=Pl,t):Pl}function XT(t,e,r,n,i,a){i=WT(i),n.context===null?n.context=i:n.pendingContext=i,n=Xc(e),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=Zc(t,n,e),r!==null&&(Vn(r,t,e),sp(r,t,e))}function Q9(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function A8(t,e){Q9(t,e),(t=t.alternate)&&Q9(t,e)}function ZT(t){if(t.tag===13){var e=lf(t,67108864);e!==null&&Vn(e,t,67108864),A8(t,67108864)}}var _y=!0;function mk(t,e,r,n){var i=ke.T;ke.T=null;var a=Tt.p;try{Tt.p=2,E8(t,e,r,n)}finally{Tt.p=a,ke.T=i}}function _k(t,e,r,n){var i=ke.T;ke.T=null;var a=Tt.p;try{Tt.p=8,E8(t,e,r,n)}finally{Tt.p=a,ke.T=i}}function E8(t,e,r,n){if(_y){var i=a6(n);if(i===null)Ym(t,e,n,wy,r),Y9(t,n);else if(Ak(i,t,e,r,n))n.stopPropagation();else if(Y9(t,n),e&4&&-1<wk.indexOf(t)){for(;i!==null;){var a=l0(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Hh(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var c=1<<31-Pi(s);o.entanglements[1]|=c,s&=~c}Js(a),!(Vt&6)&&(ly=$s()+500,x1(0))}}break;case 13:o=lf(a,2),o!==null&&Vn(o,a,2),O2(),A8(a,2)}if(a=a6(n),a===null&&Ym(t,e,n,wy,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Ym(t,e,n,null,r)}}function a6(t){return t=$4(t),x8(t)}var wy=null;function x8(t){if(wy=null,t=Zf(t),t!==null){var e=f0(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=BC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wy=t,null}function JT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(s$()){case L4:return 2;case MC:return 8;case Wg:case o$:return 32;case PC:return 268435456;default:return 32}default:return 32}}var s6=!1,rf=null,nf=null,af=null,Up=new Map,kp=new Map,Lc=[],wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y9(t,e){switch(t){case"focusin":case"focusout":rf=null;break;case"dragenter":case"dragleave":nf=null;break;case"mouseover":case"mouseout":af=null;break;case"pointerover":case"pointerout":Up.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function bh(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=l0(e),e!==null&&ZT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ak(t,e,r,n,i){switch(e){case"focusin":return rf=bh(rf,t,e,r,n,i),!0;case"dragenter":return nf=bh(nf,t,e,r,n,i),!0;case"mouseover":return af=bh(af,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Up.set(a,bh(Up.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,kp.set(a,bh(kp.get(a)||null,t,e,r,n,i)),!0}return!1}function eO(t){var e=Zf(t.target);if(e!==null){var r=f0(e);if(r!==null){if(e=r.tag,e===13){if(e=BC(r),e!==null){t.blockedOn=e,g$(t.priority,function(){if(r.tag===13){var n=Ri(),i=lf(r,n);i!==null&&Vn(i,r,n),A8(r,n)}});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=a6(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);x3=n,r.target.dispatchEvent(n),x3=null}else return e=l0(r),e!==null&&ZT(e),t.blockedOn=r,!1;e.shift()}return!0}function G9(t,e,r){Rg(t)&&r.delete(e)}function Ek(){s6=!1,rf!==null&&Rg(rf)&&(rf=null),nf!==null&&Rg(nf)&&(nf=null),af!==null&&Rg(af)&&(af=null),Up.forEach(G9),kp.forEach(G9)}function Qb(t,e){t.blockedOn===e&&(t.blockedOn=null,s6||(s6=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,Ek)))}var Yb=null;function W9(t){Yb!==t&&(Yb=t,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,function(){Yb===t&&(Yb=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(x8(n||r)===null)continue;break}var a=l0(r);a!==null&&(t.splice(e,3),e-=3,R3(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function zp(t){function e(c){return Qb(c,t)}rf!==null&&Qb(rf,t),nf!==null&&Qb(nf,t),af!==null&&Qb(af,t),Up.forEach(e),kp.forEach(e);for(var r=0;r<Lc.length;r++){var n=Lc[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Lc.length&&(r=Lc[0],r.blockedOn===null);)eO(r),r.blockedOn===null&&Lc.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[fi]||null;if(typeof a=="function")s||W9(r);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[fi]||null)o=s.formAction;else if(x8(i)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),W9(r)}}}function S8(t){this._internalRoot=t}M2.prototype.render=S8.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));var r=e.current,n=Ri();XT(r,n,t,e,null,null)};M2.prototype.unmount=S8.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&Zl(),XT(t.current,2,null,t,null,null),O2(),e[u0]=null}};function M2(t){this._internalRoot=t}M2.prototype.unstable_scheduleHydration=function(t){if(t){var e=UC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Lc.length&&e!==0&&e<Lc[r].priority;r++);Lc.splice(r,0,t),r===0&&eO(t)}};var X9=SC.version;if(X9!=="19.0.0-rc-603e6108-20241029")throw Error(be(527,X9,"19.0.0-rc-603e6108-20241029"));Tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=n$(e),t=t!==null?DC(t):null,t=t===null?null:t.stateNode,t};var xk={bundleType:0,version:"19.0.0-rc-603e6108-20241029",rendererPackageName:"react-dom",currentDispatcherRef:ke,findFiberByHostInstance:Zf,reconcilerVersion:"19.0.0-rc-603e6108-20241029"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gb.isDisabled&&Gb.supportsFiber)try{g1=Gb.inject(xk),Mi=Gb}catch{}}b2.createRoot=function(t,e){if(!CC(t))throw Error(be(299));var r=!1,n="",i=WI,a=XI,s=ZI,o=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=GT(t,1,!1,null,null,r,n,i,a,s,o,null),t[u0]=e.current,m8(t.nodeType===8?t.parentNode:t),new S8(e)};b2.hydrateRoot=function(t,e,r){if(!CC(t))throw Error(be(299));var n=!1,i="",a=WI,s=XI,o=ZI,c=null,f=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(c=r.unstable_transitionCallbacks),r.formState!==void 0&&(f=r.formState)),e=GT(t,1,!0,e,r??null,n,i,a,s,o,c,f),e.context=WT(null),r=e.current,n=Ri(),i=Xc(n),i.callback=null,Zc(r,i,n),e.current.lanes=n,y1(e,n),Js(e),t[u0]=e.current,m8(t),new M2(e)};b2.version="19.0.0-rc-603e6108-20241029";function tO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tO)}catch(t){console.error(t)}}tO(),mC.exports=b2;var Sk=mC.exports,I1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ou=typeof window>"u"||"Deno"in globalThis;function sa(){}function Ck(t,e){return typeof t=="function"?t(e):t}function o6(t){return typeof t=="number"&&t>=0&&t!==1/0}function rO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jl(t,e){return typeof t=="function"?t(e):t}function Wa(t,e){return typeof t=="function"?t(e):t}function Z9(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==C8(s,e.options))return!1}else if(!jp(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function J9(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Fp(e.options.mutationKey)!==Fp(a))return!1}else if(!jp(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function C8(t,e){return((e==null?void 0:e.queryKeyHashFn)||Fp)(t)}function Fp(t){return JSON.stringify(t,(e,r)=>f6(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function jp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!jp(t[r],e[r])):!1}function nO(t,e){if(t===e)return t;const r=eA(t)&&eA(e);if(r||f6(t)&&f6(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),s=a.length,o=r?[]:{};let c=0;for(let f=0;f<s;f++){const u=r?f:a[f];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,c++):(o[u]=nO(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return i===s&&c===i?t:o}return e}function c6(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function eA(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function f6(t){if(!tA(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!tA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function tA(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ik(t){return new Promise(e=>{setTimeout(e,t)})}function u6(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?nO(t,e):e}function Tk(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ok(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var I8=Symbol();function iO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===I8?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var au,$c,sd,JS,Bk=(JS=class extends I1{constructor(){super();De(this,au);De(this,$c);De(this,sd);me(this,sd,e=>{if(!Ou&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,$c)||this.setEventListener(se(this,sd))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,$c))==null||e.call(this),me(this,$c,void 0))}setEventListener(e){var r;me(this,sd,e),(r=se(this,$c))==null||r.call(this),me(this,$c,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){se(this,au)!==e&&(me(this,au,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof se(this,au)=="boolean"?se(this,au):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},au=new WeakMap,$c=new WeakMap,sd=new WeakMap,JS),T8=new Bk,od,Uc,cd,eC,Dk=(eC=class extends I1{constructor(){super();De(this,od,!0);De(this,Uc);De(this,cd);me(this,cd,e=>{if(!Ou&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,Uc)||this.setEventListener(se(this,cd))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Uc))==null||e.call(this),me(this,Uc,void 0))}setEventListener(e){var r;me(this,cd,e),(r=se(this,Uc))==null||r.call(this),me(this,Uc,e(this.setOnline.bind(this)))}setOnline(e){se(this,od)!==e&&(me(this,od,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return se(this,od)}},od=new WeakMap,Uc=new WeakMap,cd=new WeakMap,eC),Ay=new Dk;function l6(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Mk(t){return Math.min(1e3*2**t,3e4)}function aO(t){return(t??"online")==="online"?Ay.isOnline():!0}var sO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xm(t){return t instanceof sO}function oO(t){let e=!1,r=0,n=!1,i;const a=l6(),s=A=>{var C;n||(h(new sO(A)),(C=t.abort)==null||C.call(t))},o=()=>{e=!0},c=()=>{e=!1},f=()=>T8.isFocused()&&(t.networkMode==="always"||Ay.isOnline())&&t.canRun(),u=()=>aO(t.networkMode)&&t.canRun(),l=A=>{var C;n||(n=!0,(C=t.onSuccess)==null||C.call(t,A),i==null||i(),a.resolve(A))},h=A=>{var C;n||(n=!0,(C=t.onError)==null||C.call(t,A),i==null||i(),a.reject(A))},g=()=>new Promise(A=>{var C;i=w=>{(n||f())&&A(w)},(C=t.onPause)==null||C.call(t)}).then(()=>{var A;i=void 0,n||(A=t.onContinue)==null||A.call(t)}),_=()=>{if(n)return;let A;const C=r===0?t.initialPromise:void 0;try{A=C??t.fn()}catch(w){A=Promise.reject(w)}Promise.resolve(A).then(l).catch(w=>{var K;if(n)return;const I=t.retry??(Ou?0:3),T=t.retryDelay??Mk,R=typeof T=="function"?T(r,w):T,N=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,w);if(e||!N){h(w);return}r++,(K=t.onFail)==null||K.call(t,r,w),Ik(R).then(()=>f()?void 0:g()).then(()=>{e?h(w):_()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?_():g().then(_),a)}}function Pk(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Zr=Pk(),su,tC,cO=(tC=class{constructor(){De(this,su)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),o6(this.gcTime)&&me(this,su,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ou?1/0:5*60*1e3))}clearGcTimeout(){se(this,su)&&(clearTimeout(se(this,su)),me(this,su,void 0))}},su=new WeakMap,tC),fd,ud,na,bn,d1,ou,Va,po,rC,Rk=(rC=class extends cO{constructor(e){super();De(this,Va);De(this,fd);De(this,ud);De(this,na);De(this,bn);De(this,d1);De(this,ou);me(this,ou,!1),me(this,d1,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,na,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,fd,Lk(this.options)),this.state=e.state??se(this,fd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=se(this,bn))==null?void 0:e.promise}setOptions(e){this.options={...se(this,d1),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,na).remove(this)}setData(e,r){const n=u6(this.state.data,e,this.options);return Qe(this,Va,po).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Qe(this,Va,po).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=se(this,bn))==null?void 0:n.promise;return(i=se(this,bn))==null||i.cancel(e),r?r.then(sa).catch(sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,fd))}isActive(){return this.observers.some(e=>Wa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===I8||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!rO(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,bn))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=se(this,bn))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),se(this,na).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(se(this,bn)&&(se(this,ou)?se(this,bn).cancel({revert:!0}):se(this,bn).cancelRetry()),this.scheduleGc()),se(this,na).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qe(this,Va,po).call(this,{type:"invalidate"})}fetch(e,r){var c,f,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,bn))return se(this,bn).continueRetry(),se(this,bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(h=>h.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(me(this,ou,!0),n.signal)})},a=()=>{const l=iO(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),me(this,ou,!1),this.options.persister?this.options.persister(l,h,this):l(h)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(c=this.options.behavior)==null||c.onFetch(s,this),me(this,ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=s.fetchOptions)==null?void 0:f.meta))&&Qe(this,Va,po).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const o=l=>{var h,g,_,A;Xm(l)&&l.silent||Qe(this,Va,po).call(this,{type:"error",error:l}),Xm(l)||((g=(h=se(this,na).config).onError)==null||g.call(h,l,this),(A=(_=se(this,na).config).onSettled)==null||A.call(_,this.state.data,l,this)),this.scheduleGc()};return me(this,bn,oO({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{var h,g,_,A;if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(C){o(C);return}(g=(h=se(this,na).config).onSuccess)==null||g.call(h,l,this),(A=(_=se(this,na).config).onSettled)==null||A.call(_,l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,h)=>{Qe(this,Va,po).call(this,{type:"failed",failureCount:l,error:h})},onPause:()=>{Qe(this,Va,po).call(this,{type:"pause"})},onContinue:()=>{Qe(this,Va,po).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),se(this,bn).start()}},fd=new WeakMap,ud=new WeakMap,na=new WeakMap,bn=new WeakMap,d1=new WeakMap,ou=new WeakMap,Va=new WeakSet,po=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fO(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Xm(i)&&i.revert&&se(this,ud)?{...se(this,ud),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,na).notify({query:this,type:"updated",action:e})})},rC);function fO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Lk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xs,nC,Hk=(nC=class extends I1{constructor(e={}){super();De(this,xs);this.config=e,me(this,xs,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??C8(i,r);let s=this.get(a);return s||(s=new Rk({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){se(this,xs).has(e.queryHash)||(se(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=se(this,xs).get(e.queryHash);r&&(e.destroy(),r===e&&se(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,xs).get(e)}getAll(){return[...se(this,xs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Z9(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Z9(e,n)):r}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,nC),Ss,Hn,cu,Cs,xc,iC,Nk=(iC=class extends cO{constructor(e){super();De(this,Cs);De(this,Ss);De(this,Hn);De(this,cu);this.mutationId=e.mutationId,me(this,Hn,e.mutationCache),me(this,Ss,[]),this.state=e.state||$k(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){se(this,Ss).includes(e)||(se(this,Ss).push(e),this.clearGcTimeout(),se(this,Hn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Ss,se(this,Ss).filter(r=>r!==e)),this.scheduleGc(),se(this,Hn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){se(this,Ss).length||(this.state.status==="pending"?this.scheduleGc():se(this,Hn).remove(this))}continue(){var e;return((e=se(this,cu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,c,f,u,l,h,g,_,A,C,w,I,T,R,N,K,V;me(this,cu,oO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,Q)=>{Qe(this,Cs,xc).call(this,{type:"failed",failureCount:D,error:Q})},onPause:()=>{Qe(this,Cs,xc).call(this,{type:"pause"})},onContinue:()=>{Qe(this,Cs,xc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Hn).canRun(this)}));const r=this.state.status==="pending",n=!se(this,cu).canStart();try{if(!r){Qe(this,Cs,xc).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=se(this,Hn).config).onMutate)==null?void 0:a.call(i,e,this));const Q=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));Q!==this.state.context&&Qe(this,Cs,xc).call(this,{type:"pending",context:Q,variables:e,isPaused:n})}const D=await se(this,cu).start();return await((f=(c=se(this,Hn).config).onSuccess)==null?void 0:f.call(c,D,e,this.state.context,this)),await((l=(u=this.options).onSuccess)==null?void 0:l.call(u,D,e,this.state.context)),await((g=(h=se(this,Hn).config).onSettled)==null?void 0:g.call(h,D,null,this.state.variables,this.state.context,this)),await((A=(_=this.options).onSettled)==null?void 0:A.call(_,D,null,e,this.state.context)),Qe(this,Cs,xc).call(this,{type:"success",data:D}),D}catch(D){try{throw await((w=(C=se(this,Hn).config).onError)==null?void 0:w.call(C,D,e,this.state.context,this)),await((T=(I=this.options).onError)==null?void 0:T.call(I,D,e,this.state.context)),await((N=(R=se(this,Hn).config).onSettled)==null?void 0:N.call(R,void 0,D,this.state.variables,this.state.context,this)),await((V=(K=this.options).onSettled)==null?void 0:V.call(K,void 0,D,e,this.state.context)),D}finally{Qe(this,Cs,xc).call(this,{type:"error",error:D})}}finally{se(this,Hn).runNext(this)}}},Ss=new WeakMap,Hn=new WeakMap,cu=new WeakMap,Cs=new WeakSet,xc=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zr.batch(()=>{se(this,Ss).forEach(n=>{n.onMutationUpdate(e)}),se(this,Hn).notify({mutation:this,type:"updated",action:e})})},iC);function $k(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,h1,aC,Uk=(aC=class extends I1{constructor(e={}){super();De(this,Ai);De(this,h1);this.config=e,me(this,Ai,new Map),me(this,h1,Date.now())}build(e,r,n){const i=new Nk({mutationCache:this,mutationId:++Pb(this,h1)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Wb(e),n=se(this,Ai).get(r)??[];n.push(e),se(this,Ai).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Wb(e);if(se(this,Ai).has(r)){const i=(n=se(this,Ai).get(r))==null?void 0:n.filter(a=>a!==e);i&&(i.length===0?se(this,Ai).delete(r):se(this,Ai).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=se(this,Ai).get(Wb(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=se(this,Ai).get(Wb(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...se(this,Ai).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>J9(r,n))}findAll(e={}){return this.getAll().filter(r=>J9(e,r))}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(sa))))}},Ai=new WeakMap,h1=new WeakMap,aC);function Wb(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function rA(t){return{onFetch:(e,r)=>{var u,l,h,g,_;const n=e.options,i=(h=(l=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:l.fetchMore)==null?void 0:h.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],s=((_=e.state.data)==null?void 0:_.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const f=async()=>{let A=!1;const C=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?A=!0:e.signal.addEventListener("abort",()=>{A=!0}),e.signal)})},w=iO(e.options,e.fetchOptions),I=async(T,R,N)=>{if(A)return Promise.reject();if(R==null&&T.pages.length)return Promise.resolve(T);const K={queryKey:e.queryKey,pageParam:R,direction:N?"backward":"forward",meta:e.options.meta};C(K);const V=await w(K),{maxPages:D}=e.options,Q=N?Ok:Tk;return{pages:Q(T.pages,V,D),pageParams:Q(T.pageParams,R,D)}};if(i&&a.length){const T=i==="backward",R=T?kk:nA,N={pages:a,pageParams:s},K=R(n,N);o=await I(N,K,T)}else{const T=t??a.length;do{const R=c===0?s[0]??n.initialPageParam:nA(n,o);if(c>0&&R==null)break;o=await I(o,R),c++}while(c<T)}return o};e.options.persister?e.fetchFn=()=>{var A,C;return(C=(A=e.options).persister)==null?void 0:C.call(A,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=f}}}function nA(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function kk(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ar,kc,zc,ld,dd,Fc,hd,pd,sC,uO=(sC=class{constructor(t={}){De(this,ar);De(this,kc);De(this,zc);De(this,ld);De(this,dd);De(this,Fc);De(this,hd);De(this,pd);me(this,ar,t.queryCache||new Hk),me(this,kc,t.mutationCache||new Uk),me(this,zc,t.defaultOptions||{}),me(this,ld,new Map),me(this,dd,new Map),me(this,Fc,0)}mount(){Pb(this,Fc)._++,se(this,Fc)===1&&(me(this,hd,T8.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ar).onFocus())})),me(this,pd,Ay.subscribe(async t=>{t&&(await this.resumePausedMutations(),se(this,ar).onOnline())})))}unmount(){var t,e;Pb(this,Fc)._--,se(this,Fc)===0&&((t=se(this,hd))==null||t.call(this),me(this,hd,void 0),(e=se(this,pd))==null||e.call(this),me(this,pd,void 0))}isFetching(t){return se(this,ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return se(this,kc).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,ar).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=se(this,ar).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Jl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return se(this,ar).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=se(this,ar).get(n.queryHash),a=i==null?void 0:i.state.data,s=Ck(e,a);if(s!==void 0)return se(this,ar).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Zr.batch(()=>se(this,ar).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=se(this,ar).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=se(this,ar);Zr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=se(this,ar),n={type:"active",...t};return Zr.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Zr.batch(()=>se(this,ar).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(sa).catch(sa)}invalidateQueries(t={},e={}){return Zr.batch(()=>{if(se(this,ar).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Zr.batch(()=>se(this,ar).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(sa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(sa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=se(this,ar).build(this,e);return r.isStaleByTime(Jl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sa).catch(sa)}fetchInfiniteQuery(t){return t.behavior=rA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sa).catch(sa)}ensureInfiniteQueryData(t){return t.behavior=rA(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ay.isOnline()?se(this,kc).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,ar)}getMutationCache(){return se(this,kc)}getDefaultOptions(){return se(this,zc)}setDefaultOptions(t){me(this,zc,t)}setQueryDefaults(t,e){se(this,ld).set(Fp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...se(this,ld).values()];let r={};return e.forEach(n=>{jp(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){se(this,dd).set(Fp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...se(this,dd).values()];let r={};return e.forEach(n=>{jp(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...se(this,zc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=C8(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===I8&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...se(this,zc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){se(this,ar).clear(),se(this,kc).clear()}},ar=new WeakMap,kc=new WeakMap,zc=new WeakMap,ld=new WeakMap,dd=new WeakMap,Fc=new WeakMap,hd=new WeakMap,pd=new WeakMap,sC),ri,Ye,p1,Nn,fu,bd,jc,Is,b1,gd,yd,uu,lu,qc,vd,at,kh,d6,h6,p6,b6,g6,y6,v6,lO,oC,zk=(oC=class extends I1{constructor(e,r){super();De(this,at);De(this,ri);De(this,Ye);De(this,p1);De(this,Nn);De(this,fu);De(this,bd);De(this,jc);De(this,Is);De(this,b1);De(this,gd);De(this,yd);De(this,uu);De(this,lu);De(this,qc);De(this,vd,new Set);this.options=r,me(this,ri,e),me(this,Is,null),me(this,jc,l6()),this.options.experimental_prefetchInRender||se(this,jc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(se(this,Ye).addObserver(this),iA(se(this,Ye),this.options)?Qe(this,at,kh).call(this):this.updateResult(),Qe(this,at,b6).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return m6(se(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return m6(se(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qe(this,at,g6).call(this),Qe(this,at,y6).call(this),se(this,Ye).removeObserver(this)}setOptions(e,r){const n=this.options,i=se(this,Ye);if(this.options=se(this,ri).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Wa(this.options.enabled,se(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qe(this,at,v6).call(this),se(this,Ye).setOptions(this.options),n._defaulted&&!c6(this.options,n)&&se(this,ri).getQueryCache().notify({type:"observerOptionsUpdated",query:se(this,Ye),observer:this});const a=this.hasListeners();a&&aA(se(this,Ye),i,this.options,n)&&Qe(this,at,kh).call(this),this.updateResult(r),a&&(se(this,Ye)!==i||Wa(this.options.enabled,se(this,Ye))!==Wa(n.enabled,se(this,Ye))||Jl(this.options.staleTime,se(this,Ye))!==Jl(n.staleTime,se(this,Ye)))&&Qe(this,at,d6).call(this);const s=Qe(this,at,h6).call(this);a&&(se(this,Ye)!==i||Wa(this.options.enabled,se(this,Ye))!==Wa(n.enabled,se(this,Ye))||s!==se(this,qc))&&Qe(this,at,p6).call(this,s)}getOptimisticResult(e){const r=se(this,ri).getQueryCache().build(se(this,ri),e),n=this.createResult(r,e);return jk(this,n)&&(me(this,Nn,n),me(this,bd,this.options),me(this,fu,se(this,Ye).state)),n}getCurrentResult(){return se(this,Nn)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){se(this,vd).add(e)}getCurrentQuery(){return se(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=se(this,ri).defaultQueryOptions(e),n=se(this,ri).getQueryCache().build(se(this,ri),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Qe(this,at,kh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),se(this,Nn)))}createResult(e,r){var D;const n=se(this,Ye),i=this.options,a=se(this,Nn),s=se(this,fu),o=se(this,bd),f=e!==n?e.state:se(this,p1),{state:u}=e;let l={...u},h=!1,g;if(r._optimisticResults){const Q=this.hasListeners(),Y=!Q&&iA(e,r),M=Q&&aA(e,n,r,i);(Y||M)&&(l={...l,...fO(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:_,errorUpdatedAt:A,status:C}=l;if(r.select&&l.data!==void 0)if(a&&l.data===(s==null?void 0:s.data)&&r.select===se(this,b1))g=se(this,gd);else try{me(this,b1,r.select),g=r.select(l.data),g=u6(a==null?void 0:a.data,g,r),me(this,gd,g),me(this,Is,null)}catch(Q){me(this,Is,Q)}else g=l.data;if(r.placeholderData!==void 0&&g===void 0&&C==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))Q=a.data;else if(Q=typeof r.placeholderData=="function"?r.placeholderData((D=se(this,yd))==null?void 0:D.state.data,se(this,yd)):r.placeholderData,r.select&&Q!==void 0)try{Q=r.select(Q),me(this,Is,null)}catch(Y){me(this,Is,Y)}Q!==void 0&&(C="success",g=u6(a==null?void 0:a.data,Q,r),h=!0)}se(this,Is)&&(_=se(this,Is),g=se(this,gd),A=Date.now(),C="error");const w=l.fetchStatus==="fetching",I=C==="pending",T=C==="error",R=I&&w,N=g!==void 0,V={status:C,fetchStatus:l.fetchStatus,isPending:I,isSuccess:C==="success",isError:T,isInitialLoading:R,isLoading:R,data:g,dataUpdatedAt:l.dataUpdatedAt,error:_,errorUpdatedAt:A,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>f.dataUpdateCount||l.errorUpdateCount>f.errorUpdateCount,isFetching:w,isRefetching:w&&!I,isLoadingError:T&&!N,isPaused:l.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&N,isStale:O8(e,r),refetch:this.refetch,promise:se(this,jc)};if(this.options.experimental_prefetchInRender){const Q=m=>{V.status==="error"?m.reject(V.error):V.data!==void 0&&m.resolve(V.data)},Y=()=>{const m=me(this,jc,V.promise=l6());Q(m)},M=se(this,jc);switch(M.status){case"pending":e.queryHash===n.queryHash&&Q(M);break;case"fulfilled":(V.status==="error"||V.data!==M.value)&&Y();break;case"rejected":(V.status!=="error"||V.error!==M.reason)&&Y();break}}return V}updateResult(e){const r=se(this,Nn),n=this.createResult(se(this,Ye),this.options);if(me(this,fu,se(this,Ye).state),me(this,bd,this.options),se(this,fu).data!==void 0&&me(this,yd,se(this,Ye)),c6(n,r))return;me(this,Nn,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!se(this,vd).size)return!0;const c=new Set(o??se(this,vd));return this.options.throwOnError&&c.add("error"),Object.keys(se(this,Nn)).some(f=>{const u=f;return se(this,Nn)[u]!==r[u]&&c.has(u)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),Qe(this,at,lO).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qe(this,at,b6).call(this)}},ri=new WeakMap,Ye=new WeakMap,p1=new WeakMap,Nn=new WeakMap,fu=new WeakMap,bd=new WeakMap,jc=new WeakMap,Is=new WeakMap,b1=new WeakMap,gd=new WeakMap,yd=new WeakMap,uu=new WeakMap,lu=new WeakMap,qc=new WeakMap,vd=new WeakMap,at=new WeakSet,kh=function(e){Qe(this,at,v6).call(this);let r=se(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(sa)),r},d6=function(){Qe(this,at,g6).call(this);const e=Jl(this.options.staleTime,se(this,Ye));if(Ou||se(this,Nn).isStale||!o6(e))return;const n=rO(se(this,Nn).dataUpdatedAt,e)+1;me(this,uu,setTimeout(()=>{se(this,Nn).isStale||this.updateResult()},n))},h6=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(se(this,Ye)):this.options.refetchInterval)??!1},p6=function(e){Qe(this,at,y6).call(this),me(this,qc,e),!(Ou||Wa(this.options.enabled,se(this,Ye))===!1||!o6(se(this,qc))||se(this,qc)===0)&&me(this,lu,setInterval(()=>{(this.options.refetchIntervalInBackground||T8.isFocused())&&Qe(this,at,kh).call(this)},se(this,qc)))},b6=function(){Qe(this,at,d6).call(this),Qe(this,at,p6).call(this,Qe(this,at,h6).call(this))},g6=function(){se(this,uu)&&(clearTimeout(se(this,uu)),me(this,uu,void 0))},y6=function(){se(this,lu)&&(clearInterval(se(this,lu)),me(this,lu,void 0))},v6=function(){const e=se(this,ri).getQueryCache().build(se(this,ri),this.options);if(e===se(this,Ye))return;const r=se(this,Ye);me(this,Ye,e),me(this,p1,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},lO=function(e){Zr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(se(this,Nn))}),se(this,ri).getQueryCache().notify({query:se(this,Ye),type:"observerResultsUpdated"})})},oC);function Fk(t,e){return Wa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function iA(t,e){return Fk(t,e)||t.state.data!==void 0&&m6(t,e,e.refetchOnMount)}function m6(t,e,r){if(Wa(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&O8(t,e)}return!1}function aA(t,e,r,n){return(t!==e||Wa(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&O8(t,r)}function O8(t,e){return Wa(e.enabled,t)!==!1&&t.isStaleByTime(Jl(e.staleTime,t))}function jk(t,e){return!c6(t.getCurrentResult(),e)}var dO=pe.createContext(void 0),qk=t=>{const e=pe.useContext(dO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Kk=({client:t,children:e})=>(pe.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),xe.jsx(dO.Provider,{value:t,children:e})),hO=pe.createContext(!1),Vk=()=>pe.useContext(hO);hO.Provider;function Qk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Yk=pe.createContext(Qk()),Gk=()=>pe.useContext(Yk);function Wk(t,e){return typeof t=="function"?t(...e):!!t}function Xk(){}var Zk=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Jk=t=>{pe.useEffect(()=>{t.clearReset()},[t])},ez=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Wk(r,[t.error,n]),tz=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},rz=(t,e)=>t.isLoading&&t.isFetching&&!e,nz=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,sA=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function iz(t,e,r){var u,l,h,g,_;const n=qk(),i=Vk(),a=Gk(),s=n.defaultQueryOptions(t);(l=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||l.call(u,s),s._optimisticResults=i?"isRestoring":"optimistic",tz(s),Zk(s,a),Jk(a);const o=!n.getQueryCache().get(s.queryHash),[c]=pe.useState(()=>new e(n,s)),f=c.getOptimisticResult(s);if(pe.useSyncExternalStore(pe.useCallback(A=>{const C=i?()=>{}:c.subscribe(Zr.batchCalls(A));return c.updateResult(),C},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),pe.useEffect(()=>{c.setOptions(s,{listeners:!1})},[s,c]),nz(s,f))throw sA(s,c,a);if(ez({result:f,errorResetBoundary:a,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw f.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,s,f),s.experimental_prefetchInRender&&!Ou&&rz(f,i)){const A=o?sA(s,c,a):(_=n.getQueryCache().get(s.queryHash))==null?void 0:_.promise;A==null||A.catch(Xk).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?f:c.trackResult(f)}function B8(t,e){return iz(t,zk)}var pO={exports:{}},bO={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var az=pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;bO.c=function(t){return az.H.useMemoCache(t)};pO.exports=bO;var p0=pO.exports,Zm={},ot={},ec={},Da={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.CodecExecuteError=Ea.CodecBaseParseError=Ea.CODEC_OPTIONAL_PATH=void 0;Ea.isCodecExecuteError=oz;const sz=Ea.CODEC_OPTIONAL_PATH="__lc_option__";class gO extends Error{constructor(e,r){super(e),this.expectedType=r}}Ea.CodecBaseParseError=gO;const yO="CodecExecuteError";function oz(t){return t instanceof Error?t.name===yO:!1}class cz extends Error{constructor(r){super();Qr(this,"name",yO);Qr(this,"keys",[]);this.origin=r}updateKey(r){this.keys.push(r),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var r;const n=(s,o,c)=>(o===sz?o=c===0?"?":"?.":typeof o=="number"?o=`[${o}]`:o=`.${o}`,s+o),i=this.keys.reduceRight(n,"input");return`${this.origin instanceof gO?`Expect type ${this.origin.expectedType} at ${i} but got error:`:`Error at ${i}:`} ${this.origin.message}
    ${(r=this.origin.stack)===null||r===void 0?void 0:r.replace(/Error:.+?\n/,"")}
    `}}Ea.CodecExecuteError=cz;Object.defineProperty(Da,"__esModule",{value:!0});Da.assertBufferLength=vz;Da.assertHexDecimal=bz;Da.assertHexString=gz;Da.assertMinBufferLength=mz;Da.assertUtf8String=yz;Da.isObjectLike=_z;Da.trackCodeExecuteError=wz;var oA=Ea;const fz=48,uz=57,lz=65,dz=70,hz=97,pz=102;function vO(t){if(!t||!t.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function mO(t){const e=t.length;for(let r=2;r<e;r++){const n=t[r].charCodeAt(0);if(!(n>=fz&&n<=uz||n>=hz&&n<=pz||n>=lz&&n<=dz))throw new Error(`Invalid hex character ${t[r]} in the string ${t}`)}}function bz(t,e){if(vO(t),t.length===2)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=t.length;if(typeof e=="number"&&r>e*2+2)throw new Error(`Invalid hex decimal length, should be less than ${e} bytes, got ${r/2-1} bytes`);mO(t)}function gz(t,e){vO(t);const r=t.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if(typeof e=="number"&&r!==e*2+2)throw new Error("Invalid hex string length, not match with byteLength!");mO(t)}function yz(t){for(let e=0;e<t.length;e++)if(t.charCodeAt(e)>255)throw new Error("Invalid UTF-8 raw string!")}function vz(t,e){if(t.byteLength!==e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be ${e}`)}function mz(t,e){if(t.byteLength<e)throw new Error(`Invalid buffer length: ${t.byteLength}, should be at least ${e}`)}function _z(t){return t?typeof t=="object":!1}function wz(t,e){try{return e()}catch(r){const n=(0,oA.isCodecExecuteError)(r)?r:new oA.CodecExecuteError(r);throw n.updateKey(t),n}}var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.bytify=qp;Ma.bytifyRawString=Az;Ma.concat=Oz;Ma.equal=Sz;var xf=Ma.hexify=Tz,_O=Da;function Az(t){(0,_O.assertUtf8String)(t);const e=new ArrayBuffer(t.length),r=new DataView(e);for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);r.setUint8(n,i)}return new Uint8Array(e)}const cA=48,fA=57,uA=65,lA=70,dA=97;function Ez(t){(0,_O.assertHexString)(t);const e=Uint8Array.from({length:t.length/2-1});for(let r=2,n=0;r<t.length;r=r+2,n++){const i=t.charCodeAt(r),a=t.charCodeAt(r+1),s=i<=fA?i-cA:i<=lA?i-uA+10:i-dA+10,o=a<=fA?a-cA:a<=lA?a-uA+10:a-dA+10;e[n]=s<<4|o}return e}function xz(t){for(let e=0;e<t.length;e++){const r=t[e];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(t)}function qp(t){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Uint8Array.from(t);if(typeof t=="string")return Ez(t);if(Array.isArray(t))return xz(t);throw new Error(`Cannot convert ${t}`)}function Sz(t,e){const r=qp(t),n=qp(e);return Cz(r,n)}function Cz(t,e){if(t.length!==e.length)return!1;for(let r=t.length;-1<r;r-=1)if(t[r]!==e[r])return!1;return!0}const Iz=Array.from({length:256}).map((t,e)=>e.toString(16).padStart(2,"0"));function Tz(t){let e="";const r=qp(t);for(let n=0;n<r.length;n++)e+=Iz[r[n]];return"0x"+e}function Oz(...t){const e=t.map(qp),r=e.reduce((a,s)=>a+s.length,0),n=new Uint8Array(r);let i=0;return e.forEach(a=>{n.set(a,i),i+=a.length}),n}Object.defineProperty(ec,"__esModule",{value:!0});ec.createBytesCodec=wO;ec.createFixedBytesCodec=Mz;ec.isFixedCodec=Dz;var _6=Da,Bz=Ma;function wO(t){return{pack:e=>t.pack(e),unpack:e=>t.unpack((0,Bz.bytify)(e))}}function Dz(t){return(0,_6.isObjectLike)(t)&&!!t.__isFixedCodec__}function Mz(t){const e=t.byteLength;return{__isFixedCodec__:!0,byteLength:e,...wO({pack:r=>{const n=t.pack(r);return(0,_6.assertBufferLength)(n,e),n},unpack:r=>((0,_6.assertBufferLength)(r,e),t.unpack(r))})}}var D8={},b0={};Object.defineProperty(b0,"__esModule",{value:!0});b0.createArrayCodec=Hz;b0.createNullableCodec=Rz;b0.createObjectCodec=Lz;b0.enhancePack=Nz;var M8=Da,Pz=Ea;function Rz(t){return{pack:e=>e==null?e:(0,M8.trackCodeExecuteError)(Pz.CODEC_OPTIONAL_PATH,()=>t.pack(e)),unpack:e=>e==null?e:t.unpack(e)}}function Lz(t){const e=Object.entries(t);return{pack:r=>{const n={};return e.forEach(([i,a])=>{Object.assign(n,{[i]:(0,M8.trackCodeExecuteError)(i,()=>a.pack(r[i]))})}),n},unpack:r=>{const n={};return e.forEach(([i,a])=>{Object.assign(n,{[i]:a.unpack(r[i])})}),n}}}function Hz(t){return{pack:e=>e.map((r,n)=>(0,M8.trackCodeExecuteError)(n,()=>t.pack(r))),unpack:e=>e.map(r=>t.unpack(r))}}function Nz(t,e,r){return{pack:n=>e(t.pack(n)),unpack:n=>t.unpack(r(n))}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return e.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return e.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return e.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return e.enhancePack}});var e=b0})(D8);var g0={},Ko={},wt={},AO={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(jn,function(){var r=Math.imul,n=Math.clz32;function i(Y){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},i(Y)}function a(Y,M){if(!(Y instanceof M))throw new TypeError("Cannot call a class as a function")}function s(Y,M){for(var m,x=0;x<M.length;x++)m=M[x],m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(Y,m.key,m)}function o(Y,M,m){return M&&s(Y.prototype,M),m&&s(Y,m),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function c(Y,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(M&&M.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),M&&u(Y,M)}function f(Y){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},f(Y)}function u(Y,M){return u=Object.setPrototypeOf||function(m,x){return m.__proto__=x,m},u(Y,M)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(){return h=l()?Reflect.construct:function(Y,M,m){var x=[null];x.push.apply(x,M);var b=Function.bind.apply(Y,x),v=new b;return m&&u(v,m.prototype),v},h.apply(null,arguments)}function g(Y){return Function.toString.call(Y).indexOf("[native code]")!==-1}function _(Y){var M=typeof Map=="function"?new Map:void 0;return _=function(m){function x(){return h(m,arguments,f(this).constructor)}if(m===null||!g(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(typeof M<"u"){if(M.has(m))return M.get(m);M.set(m,x)}return x.prototype=Object.create(m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),u(x,m)},_(Y)}function A(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function C(Y,M){if(M&&(typeof M=="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(Y)}function w(Y){var M=l();return function(){var m,x=f(Y);if(M){var b=f(this).constructor;m=Reflect.construct(x,arguments,b)}else m=x.apply(this,arguments);return C(this,m)}}function I(Y,M){return T(Y)||R(Y,M)||N(Y,M)||V()}function T(Y){if(Array.isArray(Y))return Y}function R(Y,M){var m=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(m!=null){var x,b,v=[],d=!0,y=!1;try{for(m=m.call(Y);!(d=(x=m.next()).done)&&(v.push(x.value),!(M&&v.length===M));d=!0);}catch(S){y=!0,b=S}finally{try{d||m.return==null||m.return()}finally{if(y)throw b}}return v}}function N(Y,M){if(Y){if(typeof Y=="string")return K(Y,M);var m=Object.prototype.toString.call(Y).slice(8,-1);return m==="Object"&&Y.constructor&&(m=Y.constructor.name),m==="Map"||m==="Set"?Array.from(Y):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?K(Y,M):void 0}}function K(Y,M){(M==null||M>Y.length)&&(M=Y.length);for(var m=0,x=Array(M);m<M;m++)x[m]=Y[m];return x}function V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(Y,M){var m=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!m){if(Array.isArray(Y)||(m=N(Y))||M){m&&(Y=m);var x=0,b=function(){};return{s:b,n:function(){return x>=Y.length?{done:!0}:{done:!1,value:Y[x++]}},e:function(S){throw S},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,d=!0,y=!1;return{s:function(){m=m.call(Y)},n:function(){var S=m.next();return d=S.done,S},e:function(S){y=!0,v=S},f:function(){try{d||m.return==null||m.return()}finally{if(y)throw v}}}}var Q=function(Y){var M=Math.abs,m=Math.max,x=Math.floor;function b(d,y){var S;if(a(this,b),S=v.call(this,d),S.sign=y,Object.setPrototypeOf(A(S),b.prototype),d>b.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return S}c(b,Y);var v=w(b);return o(b,[{key:"toDebugString",value:function(){var d,y=["BigInt["],S=D(this);try{for(S.s();!(d=S.n()).done;){var E=d.value;y.push((E&&(E>>>0).toString(16))+", ")}}catch(p){S.e(p)}finally{S.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":d&d-1?b.__toStringGeneric(this,d,!1):b.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new b(this.length,this.sign),y=0;y<this.length;y++)d[y]=this[y];return d}},{key:"__trim",value:function(){for(var d=this.length,y=this[d-1];y===0;)d--,y=this[d-1],this.pop();return d===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return b.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,y,S){S>this.length&&(S=this.length);for(var E=32767&d,p=d>>>15,O=0,k=y,L=0;L<S;L++){var j=this.__digit(L),q=32767&j,H=j>>>15,z=b.__imul(q,E),X=b.__imul(q,p),ee=b.__imul(H,E),ie=b.__imul(H,p),F=k+z+O;O=F>>>30,F&=1073741823,F+=((32767&X)<<15)+((32767&ee)<<15),O+=F>>>30,k=ie+(X>>>15)+(ee>>>15),this.__setDigit(L,1073741823&F)}if(O!==0||k!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,y,S){for(var E,p=0,O=0;O<S;O++)E=this.__halfDigit(y+O)+d.__halfDigit(O)+p,p=E>>>15,this.__setHalfDigit(y+O,32767&E);return p}},{key:"__inplaceSub",value:function(d,y,S){var E=0;if(1&y){y>>=1;for(var p=this.__digit(y),O=32767&p,k=0;k<S-1>>>1;k++){var L=d.__digit(k),j=(p>>>15)-(32767&L)-E;E=1&j>>>15,this.__setDigit(y+k,(32767&j)<<15|32767&O),p=this.__digit(y+k+1),O=(32767&p)-(L>>>15)-E,E=1&O>>>15}var q=d.__digit(k),H=(p>>>15)-(32767&q)-E;if(E=1&H>>>15,this.__setDigit(y+k,(32767&H)<<15|32767&O),y+k+1>=this.length)throw new RangeError("out of bounds");!(1&S)&&(p=this.__digit(y+k+1),O=(32767&p)-(q>>>15)-E,E=1&O>>>15,this.__setDigit(y+d.length,1073709056&p|32767&O))}else{y>>=1;for(var z=0;z<d.length-1;z++){var X=this.__digit(y+z),ee=d.__digit(z),ie=(32767&X)-(32767&ee)-E;E=1&ie>>>15;var F=(X>>>15)-(ee>>>15)-E;E=1&F>>>15,this.__setDigit(y+z,(32767&F)<<15|32767&ie)}var $=this.__digit(y+z),re=d.__digit(z),ue=(32767&$)-(32767&re)-E;E=1&ue>>>15;var de=0;!(1&S)&&(de=($>>>15)-(re>>>15)-E,E=1&de>>>15),this.__setDigit(y+z,(32767&de)<<15|32767&ue)}return E}},{key:"__inplaceRightShift",value:function(d){if(d!==0){for(var y,S=this.__digit(0)>>>d,E=this.length-1,p=0;p<E;p++)y=this.__digit(p+1),this.__setDigit(p,1073741823&y<<30-d|S),S=y>>>d;this.__setDigit(E,S)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,y){this[d]=0|y}},{key:"__setDigitGrow",value:function(d,y){this[d]=0|y}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,y){var S=d>>>1,E=this.__digit(S),p=1&d?32767&E|y<<15:1073709056&E|32767&y;this.__setDigit(S,p)}}],[{key:"BigInt",value:function(d){var y=Number.isFinite;if(typeof d=="number"){if(d===0)return b.__zero();if(b.__isOneDigitInt(d))return 0>d?b.__oneDigit(-d,!0):b.__oneDigit(d,!1);if(!y(d)||x(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return b.__fromDouble(d)}if(typeof d=="string"){var S=b.__fromString(d);if(S===null)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return S}if(typeof d=="boolean")return d===!0?b.__oneDigit(1,!1):b.__zero();if(i(d)==="object"){if(d.constructor===b)return d;var E=b.__toPrimitive(d);return b.BigInt(E)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var y=d.length;if(y===0)return 0;if(y===1){var S=d.__unsignedDigit(0);return d.sign?-S:S}var E=d.__digit(y-1),p=b.__clz30(E),O=30*y-p;if(1024<O)return d.sign?-1/0:1/0;var k=O-1,L=E,j=y-1,q=p+3,H=q===32?0:L<<q;H>>>=12;var z=q-12,X=12<=q?0:L<<20+q,ee=20+q;for(0<z&&0<j&&(j--,L=d.__digit(j),H|=L>>>30-z,X=L<<z+2,ee=z+2);0<ee&&0<j;)j--,L=d.__digit(j),X|=30<=ee?L<<ee-30:L>>>30-ee,ee-=30;var ie=b.__decideRounding(d,ee,j,L);if((ie===1||ie===0&&(1&X)==1)&&(X=X+1>>>0,X===0&&(H++,H>>>20!=0&&(H=0,k++,1023<k))))return d.sign?-1/0:1/0;var F=d.sign?-2147483648:0;return k=k+1023<<20,b.__kBitConversionInts[1]=F|k|H,b.__kBitConversionInts[0]=X,b.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(d){if(d.length===0)return d;var y=d.__copy();return y.sign=!d.sign,y}},{key:"bitwiseNot",value:function(d){return d.sign?b.__absoluteSubOne(d).__trim():b.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,y){if(y.sign)throw new RangeError("Exponent must be positive");if(y.length===0)return b.__oneDigit(1,!1);if(d.length===0)return d;if(d.length===1&&d.__digit(0)===1)return d.sign&&!(1&y.__digit(0))?b.unaryMinus(d):d;if(1<y.length)throw new RangeError("BigInt too big");var S=y.__unsignedDigit(0);if(S===1)return d;if(S>=b.__kMaxLengthBits)throw new RangeError("BigInt too big");if(d.length===1&&d.__digit(0)===2){var E=1+(0|S/30),p=d.sign&&(1&S)!=0,O=new b(E,p);O.__initializeDigits();var k=1<<S%30;return O.__setDigit(E-1,k),O}var L=null,j=d;for(1&S&&(L=d),S>>=1;S!==0;S>>=1)j=b.multiply(j,j),1&S&&(L===null?L=j:L=b.multiply(L,j));return L}},{key:"multiply",value:function(d,y){if(d.length===0)return d;if(y.length===0)return y;var S=d.length+y.length;30<=d.__clzmsd()+y.__clzmsd()&&S--;var E=new b(S,d.sign!==y.sign);E.__initializeDigits();for(var p=0;p<d.length;p++)b.__multiplyAccumulate(y,d.__digit(p),E,p);return E.__trim()}},{key:"divide",value:function(d,y){if(y.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(d,y))return b.__zero();var S,E=d.sign!==y.sign,p=y.__unsignedDigit(0);if(y.length===1&&32767>=p){if(p===1)return E===d.sign?d:b.unaryMinus(d);S=b.__absoluteDivSmall(d,p,null)}else S=b.__absoluteDivLarge(d,y,!0,!1);return S.sign=E,S.__trim()}},{key:"remainder",value:function(y,S){if(S.length===0)throw new RangeError("Division by zero");if(0>b.__absoluteCompare(y,S))return y;var E=S.__unsignedDigit(0);if(S.length===1&&32767>=E){if(E===1)return b.__zero();var p=b.__absoluteModSmall(y,E);return p===0?b.__zero():b.__oneDigit(p,y.sign)}var O=b.__absoluteDivLarge(y,S,!1,!0);return O.sign=y.sign,O.__trim()}},{key:"add",value:function(d,y){var S=d.sign;return S===y.sign?b.__absoluteAdd(d,y,S):0<=b.__absoluteCompare(d,y)?b.__absoluteSub(d,y,S):b.__absoluteSub(y,d,!S)}},{key:"subtract",value:function(d,y){var S=d.sign;return S===y.sign?0<=b.__absoluteCompare(d,y)?b.__absoluteSub(d,y,S):b.__absoluteSub(y,d,!S):b.__absoluteAdd(d,y,S)}},{key:"leftShift",value:function(d,y){return y.length===0||d.length===0?d:y.sign?b.__rightShiftByAbsolute(d,y):b.__leftShiftByAbsolute(d,y)}},{key:"signedRightShift",value:function(d,y){return y.length===0||d.length===0?d:y.sign?b.__leftShiftByAbsolute(d,y):b.__rightShiftByAbsolute(d,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,y){return 0>b.__compareToBigInt(d,y)}},{key:"lessThanOrEqual",value:function(d,y){return 0>=b.__compareToBigInt(d,y)}},{key:"greaterThan",value:function(d,y){return 0<b.__compareToBigInt(d,y)}},{key:"greaterThanOrEqual",value:function(d,y){return 0<=b.__compareToBigInt(d,y)}},{key:"equal",value:function(d,y){if(d.sign!==y.sign||d.length!==y.length)return!1;for(var S=0;S<d.length;S++)if(d.__digit(S)!==y.__digit(S))return!1;return!0}},{key:"notEqual",value:function(d,y){return!b.equal(d,y)}},{key:"bitwiseAnd",value:function(d,y){if(!d.sign&&!y.sign)return b.__absoluteAnd(d,y).__trim();if(d.sign&&y.sign){var S=m(d.length,y.length)+1,E=b.__absoluteSubOne(d,S),p=b.__absoluteSubOne(y);return E=b.__absoluteOr(E,p,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var O=[y,d];d=O[0],y=O[1]}return b.__absoluteAndNot(d,b.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(d,y){if(!d.sign&&!y.sign)return b.__absoluteXor(d,y).__trim();if(d.sign&&y.sign){var S=m(d.length,y.length),E=b.__absoluteSubOne(d,S),p=b.__absoluteSubOne(y);return b.__absoluteXor(E,p,E).__trim()}var O=m(d.length,y.length)+1;if(d.sign){var k=[y,d];d=k[0],y=k[1]}var L=b.__absoluteSubOne(y,O);return L=b.__absoluteXor(L,d,L),b.__absoluteAddOne(L,!0,L).__trim()}},{key:"bitwiseOr",value:function(d,y){var S=m(d.length,y.length);if(!d.sign&&!y.sign)return b.__absoluteOr(d,y).__trim();if(d.sign&&y.sign){var E=b.__absoluteSubOne(d,S),p=b.__absoluteSubOne(y);return E=b.__absoluteAnd(E,p,E),b.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var O=[y,d];d=O[0],y=O[1]}var k=b.__absoluteSubOne(y,S);return k=b.__absoluteAndNot(k,d,k),b.__absoluteAddOne(k,!0,k).__trim()}},{key:"asIntN",value:function(d,y){if(y.length===0)return y;if(d=x(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(d>=b.__kMaxLengthBits)return y;var S=0|(d+29)/30;if(y.length<S)return y;var E=y.__unsignedDigit(S-1),p=1<<(d-1)%30;if(y.length===S&&E<p)return y;if((E&p)!==p)return b.__truncateToNBits(d,y);if(!y.sign)return b.__truncateAndSubFromPowerOfTwo(d,y,!0);if(!(E&p-1)){for(var O=S-2;0<=O;O--)if(y.__digit(O)!==0)return b.__truncateAndSubFromPowerOfTwo(d,y,!1);return y.length===S&&E===p?y:b.__truncateToNBits(d,y)}return b.__truncateAndSubFromPowerOfTwo(d,y,!1)}},{key:"asUintN",value:function(d,y){if(y.length===0)return y;if(d=x(d),0>d)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(d===0)return b.__zero();if(y.sign){if(d>b.__kMaxLengthBits)throw new RangeError("BigInt too big");return b.__truncateAndSubFromPowerOfTwo(d,y,!1)}if(d>=b.__kMaxLengthBits)return y;var S=0|(d+29)/30;if(y.length<S)return y;var E=d%30;if(y.length==S){if(E===0)return y;var p=y.__digit(S-1);if(!(p>>>E))return y}return b.__truncateToNBits(d,y)}},{key:"ADD",value:function(d,y){if(d=b.__toPrimitive(d),y=b.__toPrimitive(y),typeof d=="string")return typeof y!="string"&&(y=y.toString()),d+y;if(typeof y=="string")return d.toString()+y;if(d=b.__toNumeric(d),y=b.__toNumeric(y),b.__isBigInt(d)&&b.__isBigInt(y))return b.add(d,y);if(typeof d=="number"&&typeof y=="number")return d+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,y){return b.__compare(d,y,0)}},{key:"LE",value:function(d,y){return b.__compare(d,y,1)}},{key:"GT",value:function(d,y){return b.__compare(d,y,2)}},{key:"GE",value:function(d,y){return b.__compare(d,y,3)}},{key:"EQ",value:function(d,y){for(;;){if(b.__isBigInt(d))return b.__isBigInt(y)?b.equal(d,y):b.EQ(y,d);if(typeof d=="number"){if(b.__isBigInt(y))return b.__equalToNumber(y,d);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(typeof d=="string"){if(b.__isBigInt(y))return d=b.__fromString(d),d!==null&&b.equal(d,y);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(typeof d=="boolean"){if(b.__isBigInt(y))return b.__equalToNumber(y,+d);if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(i(d)==="symbol"){if(b.__isBigInt(y))return!1;if(i(y)!=="object")return d==y;y=b.__toPrimitive(y)}else if(i(d)==="object"){if(i(y)==="object"&&y.constructor!==b)return d==y;d=b.__toPrimitive(d)}else return d==y}}},{key:"NE",value:function(d,y){return!b.EQ(d,y)}},{key:"DataViewGetBigInt64",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0&&arguments[2];return b.asIntN(64,b.DataViewGetBigUint64(d,y,S))}},{key:"DataViewGetBigUint64",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0&&arguments[2],E=S?[4,0]:[0,4],p=I(E,2),O=p[0],k=p[1],L=d.getUint32(y+O,S),j=d.getUint32(y+k,S),q=new b(3,!1);return q.__setDigit(0,1073741823&j),q.__setDigit(1,(268435455&L)<<2|j>>>30),q.__setDigit(2,L>>>28),q.__trim()}},{key:"DataViewSetBigInt64",value:function(d,y,S){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];b.DataViewSetBigUint64(d,y,S,E)}},{key:"DataViewSetBigUint64",value:function(d,y,S){var E=3<arguments.length&&arguments[3]!==void 0&&arguments[3];S=b.asUintN(64,S);var p=0,O=0;if(0<S.length&&(O=S.__digit(0),1<S.length)){var k=S.__digit(1);O|=k<<30,p=k>>>2,2<S.length&&(p|=S.__digit(2)<<28)}var L=E?[4,0]:[0,4],j=I(L,2),q=j[0],H=j[1];d.setUint32(y+q,p,E),d.setUint32(y+H,O,E)}},{key:"__zero",value:function(){return new b(0,!1)}},{key:"__oneDigit",value:function(d,y){var S=new b(1,y);return S.__setDigit(0,d),S}},{key:"__decideRounding",value:function(d,y,S,E){if(0<y)return-1;var p;if(0>y)p=-y-1;else{if(S===0)return-1;S--,E=d.__digit(S),p=29}var O=1<<p;if(!(E&O))return-1;if(O-=1,(E&O)!=0)return 1;for(;0<S;)if(S--,d.__digit(S)!==0)return 1;return 0}},{key:"__fromDouble",value:function(d){b.__kBitConversionDouble[0]=d;var y,S=2047&b.__kBitConversionInts[1]>>>20,E=S-1023,p=(0|E/30)+1,O=new b(p,0>d),k=1048575&b.__kBitConversionInts[1]|1048576,L=b.__kBitConversionInts[0],j=20,q=E%30,H=0;if(q<j){var z=j-q;H=z+32,y=k>>>z,k=k<<32-z|L>>>z,L<<=32-z}else if(q===j)H=32,y=k,k=L,L=0;else{var X=q-j;H=32-X,y=k<<X|L>>>32-X,k=L<<X,L=0}O.__setDigit(p-1,y);for(var ee=p-2;0<=ee;ee--)0<H?(H-=30,y=k>>>2,k=k<<30|L>>>2,L<<=30):y=0,O.__setDigit(ee,y);return O.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?d==32:131071>=d?d==160||d==5760:196607>=d?(d&=131071,10>=d||d==40||d==41||d==47||d==95||d==4096):d==65279)}},{key:"__fromString",value:function(d){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,S=0,E=d.length,p=0;if(p===E)return b.__zero();for(var O=d.charCodeAt(p);b.__isWhitespace(O);){if(++p===E)return b.__zero();O=d.charCodeAt(p)}if(O===43){if(++p===E)return null;O=d.charCodeAt(p),S=1}else if(O===45){if(++p===E)return null;O=d.charCodeAt(p),S=-1}if(y===0){if(y=10,O===48){if(++p===E)return b.__zero();if(O=d.charCodeAt(p),O===88||O===120){if(y=16,++p===E)return null;O=d.charCodeAt(p)}else if(O===79||O===111){if(y=8,++p===E)return null;O=d.charCodeAt(p)}else if(O===66||O===98){if(y=2,++p===E)return null;O=d.charCodeAt(p)}}}else if(y===16&&O===48){if(++p===E)return b.__zero();if(O=d.charCodeAt(p),O===88||O===120){if(++p===E)return null;O=d.charCodeAt(p)}}if(S!==0&&y!==10)return null;for(;O===48;){if(++p===E)return b.__zero();O=d.charCodeAt(p)}var k=E-p,L=b.__kMaxBitsPerChar[y],j=b.__kBitsPerCharTableMultiplier-1;if(k>1073741824/L)return null;var q=L*k+j>>>b.__kBitsPerCharTableShift,H=new b(0|(q+29)/30,!1),z=10>y?y:10,X=10<y?y-10:0;if(y&y-1){H.__initializeDigits();var de=!1,W=0;do{for(var J,ne=0,fe=1;;){if(J=void 0,O-48>>>0<z)J=O-48;else if((32|O)-97>>>0<X)J=(32|O)-87;else{de=!0;break}var ve=fe*y;if(1073741823<ve)break;if(fe=ve,ne=ne*y+J,W++,++p===E){de=!0;break}O=d.charCodeAt(p)}j=30*b.__kBitsPerCharTableMultiplier-1;var ye=0|(L*W+j>>>b.__kBitsPerCharTableShift)/30;H.__inplaceMultiplyAdd(fe,ne,ye)}while(!de)}else{L>>=b.__kBitsPerCharTableShift;var ee=[],ie=[],F=!1;do{for(var $,re=0,ue=0;;){if($=void 0,O-48>>>0<z)$=O-48;else if((32|O)-97>>>0<X)$=(32|O)-87;else{F=!0;break}if(ue+=L,re=re<<L|$,++p===E){F=!0;break}if(O=d.charCodeAt(p),30<ue+L)break}ee.push(re),ie.push(ue)}while(!F);b.__fillFromParts(H,ee,ie)}if(p!==E){if(!b.__isWhitespace(O))return null;for(p++;p<E;p++)if(O=d.charCodeAt(p),!b.__isWhitespace(O))return null}return H.sign=S===-1,H.__trim()}},{key:"__fillFromParts",value:function(d,y,S){for(var E=0,p=0,O=0,k=y.length-1;0<=k;k--){var L=y[k],j=S[k];p|=L<<O,O+=j,O===30?(d.__setDigit(E++,p),O=0,p=0):30<O&&(d.__setDigit(E++,1073741823&p),O-=30,p=L>>>j-O)}if(p!==0){if(E>=d.length)throw new Error("implementation bug");d.__setDigit(E++,p)}for(;E<d.length;E++)d.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,y){var S=d.length,E=y-1;E=(85&E>>>1)+(85&E),E=(51&E>>>2)+(51&E),E=(15&E>>>4)+(15&E);var p=E,O=y-1,k=d.__digit(S-1),L=b.__clz30(k),j=0|(30*S-L+p-1)/p;if(d.sign&&j++,268435456<j)throw new Error("string too long");for(var q=Array(j),H=j-1,z=0,X=0,ee=0;ee<S-1;ee++){var ie=d.__digit(ee),F=(z|ie<<X)&O;q[H--]=b.__kConversionChars[F];var $=p-X;for(z=ie>>>$,X=30-$;X>=p;)q[H--]=b.__kConversionChars[z&O],z>>>=p,X-=p}var re=(z|k<<X)&O;for(q[H--]=b.__kConversionChars[re],z=k>>>p-X;z!==0;)q[H--]=b.__kConversionChars[z&O],z>>>=p;if(d.sign&&(q[H--]="-"),H!==-1)throw new Error("implementation bug");return q.join("")}},{key:"__toStringGeneric",value:function(d,y,S){var E=d.length;if(E===0)return"";if(E===1){var p=d.__unsignedDigit(0).toString(y);return S===!1&&d.sign&&(p="-"+p),p}var O=30*E-b.__clz30(d.__digit(E-1)),k=b.__kMaxBitsPerChar[y],L=k-1,j=O*b.__kBitsPerCharTableMultiplier;j+=L-1,j=0|j/L;var q,H,z=j+1>>1,X=b.exponentiate(b.__oneDigit(y,!1),b.__oneDigit(z,!1)),ee=X.__unsignedDigit(0);if(X.length===1&&32767>=ee){q=new b(d.length,!1),q.__initializeDigits();for(var ie,F=0,$=2*d.length-1;0<=$;$--)ie=F<<15|d.__halfDigit($),q.__setHalfDigit($,0|ie/ee),F=0|ie%ee;H=F.toString(y)}else{var re=b.__absoluteDivLarge(d,X,!0,!0);q=re.quotient;var ue=re.remainder.__trim();H=b.__toStringGeneric(ue,y,!0)}q.__trim();for(var de=b.__toStringGeneric(q,y,!0);H.length<z;)H="0"+H;return S===!1&&d.sign&&(de="-"+de),de+H}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,y){var S=d.sign;if(S!==y.sign)return b.__unequalSign(S);var E=b.__absoluteCompare(d,y);return 0<E?b.__absoluteGreater(S):0>E?b.__absoluteLess(S):0}},{key:"__compareToNumber",value:function(d,y){if(b.__isOneDigitInt(y)){var S=d.sign,E=0>y;if(S!==E)return b.__unequalSign(S);if(d.length===0){if(E)throw new Error("implementation bug");return y===0?0:-1}if(1<d.length)return b.__absoluteGreater(S);var p=M(y),O=d.__unsignedDigit(0);return O>p?b.__absoluteGreater(S):O<p?b.__absoluteLess(S):0}return b.__compareToDouble(d,y)}},{key:"__compareToDouble",value:function(d,y){if(y!==y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var S=d.sign;if(S!==0>y)return b.__unequalSign(S);if(y===0)throw new Error("implementation bug: should be handled elsewhere");if(d.length===0)return-1;b.__kBitConversionDouble[0]=y;var E=2047&b.__kBitConversionInts[1]>>>20;if(E==2047)throw new Error("implementation bug: handled elsewhere");var p=E-1023;if(0>p)return b.__absoluteGreater(S);var O=d.length,k=d.__digit(O-1),L=b.__clz30(k),j=30*O-L,q=p+1;if(j<q)return b.__absoluteLess(S);if(j>q)return b.__absoluteGreater(S);var H=1048576|1048575&b.__kBitConversionInts[1],z=b.__kBitConversionInts[0],X=20,ee=29-L;if(ee!==(0|(j-1)%30))throw new Error("implementation bug");var ie,F=0;if(ee<X){var $=X-ee;F=$+32,ie=H>>>$,H=H<<32-$|z>>>$,z<<=32-$}else if(ee===X)F=32,ie=H,H=z,z=0;else{var re=ee-X;F=32-re,ie=H<<re|z>>>32-re,H=z<<re,z=0}if(k>>>=0,ie>>>=0,k>ie)return b.__absoluteGreater(S);if(k<ie)return b.__absoluteLess(S);for(var ue=O-2;0<=ue;ue--){0<F?(F-=30,ie=H>>>2,H=H<<30|z>>>2,z<<=30):ie=0;var de=d.__unsignedDigit(ue);if(de>ie)return b.__absoluteGreater(S);if(de<ie)return b.__absoluteLess(S)}if(H!==0||z!==0){if(F===0)throw new Error("implementation bug");return b.__absoluteLess(S)}return 0}},{key:"__equalToNumber",value:function(d,y){return b.__isOneDigitInt(y)?y===0?d.length===0:d.length===1&&d.sign===0>y&&d.__unsignedDigit(0)===M(y):b.__compareToDouble(d,y)===0}},{key:"__comparisonResultToBool",value:function(d,y){return y===0?0>d:y===1?0>=d:y===2?0<d:y===3?0<=d:void 0}},{key:"__compare",value:function(d,y,S){if(d=b.__toPrimitive(d),y=b.__toPrimitive(y),typeof d=="string"&&typeof y=="string")switch(S){case 0:return d<y;case 1:return d<=y;case 2:return d>y;case 3:return d>=y}if(b.__isBigInt(d)&&typeof y=="string")return y=b.__fromString(y),y!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,y),S);if(typeof d=="string"&&b.__isBigInt(y))return d=b.__fromString(d),d!==null&&b.__comparisonResultToBool(b.__compareToBigInt(d,y),S);if(d=b.__toNumeric(d),y=b.__toNumeric(y),b.__isBigInt(d)){if(b.__isBigInt(y))return b.__comparisonResultToBool(b.__compareToBigInt(d,y),S);if(typeof y!="number")throw new Error("implementation bug");return b.__comparisonResultToBool(b.__compareToNumber(d,y),S)}if(typeof d!="number")throw new Error("implementation bug");if(b.__isBigInt(y))return b.__comparisonResultToBool(b.__compareToNumber(y,d),2^S);if(typeof y!="number")throw new Error("implementation bug");return S===0?d<y:S===1?d<=y:S===2?d>y:S===3?d>=y:void 0}},{key:"__absoluteAdd",value:function(d,y,S){if(d.length<y.length)return b.__absoluteAdd(y,d,S);if(d.length===0)return d;if(y.length===0)return d.sign===S?d:b.unaryMinus(d);var E=d.length;(d.__clzmsd()===0||y.length===d.length&&y.__clzmsd()===0)&&E++;for(var p,O=new b(E,S),k=0,L=0;L<y.length;L++)p=d.__digit(L)+y.__digit(L)+k,k=p>>>30,O.__setDigit(L,1073741823&p);for(;L<d.length;L++){var j=d.__digit(L)+k;k=j>>>30,O.__setDigit(L,1073741823&j)}return L<O.length&&O.__setDigit(L,k),O.__trim()}},{key:"__absoluteSub",value:function(d,y,S){if(d.length===0)return d;if(y.length===0)return d.sign===S?d:b.unaryMinus(d);for(var E,p=new b(d.length,S),O=0,k=0;k<y.length;k++)E=d.__digit(k)-y.__digit(k)-O,O=1&E>>>30,p.__setDigit(k,1073741823&E);for(;k<d.length;k++){var L=d.__digit(k)-O;O=1&L>>>30,p.__setDigit(k,1073741823&L)}return p.__trim()}},{key:"__absoluteAddOne",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length;S===null?S=new b(E,y):S.sign=y;for(var p,O=1,k=0;k<E;k++)p=d.__digit(k)+O,O=p>>>30,S.__setDigit(k,1073741823&p);return O!==0&&S.__setDigitGrow(E,1),S}},{key:"__absoluteSubOne",value:function(d,y){var S=d.length;y=y||S;for(var E,p=new b(y,!1),O=1,k=0;k<S;k++)E=d.__digit(k)-O,O=1&E>>>30,p.__setDigit(k,1073741823&E);if(O!==0)throw new Error("implementation bug");for(var L=S;L<y;L++)p.__setDigit(L,0);return p}},{key:"__absoluteAnd",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,O=p;if(E<p){O=E;var k=d,L=E;d=y,E=p,y=k,p=L}var j=O;S===null?S=new b(j,!1):j=S.length;for(var q=0;q<O;q++)S.__setDigit(q,d.__digit(q)&y.__digit(q));for(;q<j;q++)S.__setDigit(q,0);return S}},{key:"__absoluteAndNot",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,O=p;E<p&&(O=E);var k=E;S===null?S=new b(k,!1):k=S.length;for(var L=0;L<O;L++)S.__setDigit(L,d.__digit(L)&~y.__digit(L));for(;L<E;L++)S.__setDigit(L,d.__digit(L));for(;L<k;L++)S.__setDigit(L,0);return S}},{key:"__absoluteOr",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,O=p;if(E<p){O=E;var k=d,L=E;d=y,E=p,y=k,p=L}var j=E;S===null?S=new b(j,!1):j=S.length;for(var q=0;q<O;q++)S.__setDigit(q,d.__digit(q)|y.__digit(q));for(;q<E;q++)S.__setDigit(q,d.__digit(q));for(;q<j;q++)S.__setDigit(q,0);return S}},{key:"__absoluteXor",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,E=d.length,p=y.length,O=p;if(E<p){O=E;var k=d,L=E;d=y,E=p,y=k,p=L}var j=E;S===null?S=new b(j,!1):j=S.length;for(var q=0;q<O;q++)S.__setDigit(q,d.__digit(q)^y.__digit(q));for(;q<E;q++)S.__setDigit(q,d.__digit(q));for(;q<j;q++)S.__setDigit(q,0);return S}},{key:"__absoluteCompare",value:function(d,y){var S=d.length-y.length;if(S!=0)return S;for(var E=d.length-1;0<=E&&d.__digit(E)===y.__digit(E);)E--;return 0>E?0:d.__unsignedDigit(E)>y.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(d,y,S,E){if(y!==0){for(var p=32767&y,O=y>>>15,k=0,L=0,j=0;j<d.length;j++,E++){var q=S.__digit(E),H=d.__digit(j),z=32767&H,X=H>>>15,ee=b.__imul(z,p),ie=b.__imul(z,O),F=b.__imul(X,p),$=b.__imul(X,O);q+=L+ee+k,k=q>>>30,q&=1073741823,q+=((32767&ie)<<15)+((32767&F)<<15),k+=q>>>30,L=$+(ie>>>15)+(F>>>15),S.__setDigit(E,1073741823&q)}for(;k!==0||L!==0;E++){var re=S.__digit(E);re+=k+L,L=0,k=re>>>30,S.__setDigit(E,1073741823&re)}}}},{key:"__internalMultiplyAdd",value:function(d,y,S,E,p){for(var O=S,k=0,L=0;L<E;L++){var j=d.__digit(L),q=b.__imul(32767&j,y),H=b.__imul(j>>>15,y),z=q+((32767&H)<<15)+k+O;O=z>>>30,k=H>>>15,p.__setDigit(L,1073741823&z)}if(p.length>E)for(p.__setDigit(E++,O+k);E<p.length;)p.__setDigit(E++,0);else if(O+k!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;S===null&&(S=new b(d.length,!1));for(var E=0,p=2*d.length-1;0<=p;p-=2){var O=(E<<15|d.__halfDigit(p))>>>0,k=0|O/y;E=0|O%y,O=(E<<15|d.__halfDigit(p-1))>>>0;var L=0|O/y;E=0|O%y,S.__setDigit(p>>>1,k<<15|L)}return S}},{key:"__absoluteModSmall",value:function(d,y){for(var S,E=0,p=2*d.length-1;0<=p;p--)S=(E<<15|d.__halfDigit(p))>>>0,E=0|S%y;return E}},{key:"__absoluteDivLarge",value:function(d,y,S,E){var p=y.__halfDigitLength(),O=y.length,k=d.__halfDigitLength()-p,L=null;S&&(L=new b(k+2>>>1,!1),L.__initializeDigits());var j=new b(p+2>>>1,!1);j.__initializeDigits();var q=b.__clz15(y.__halfDigit(p-1));0<q&&(y=b.__specialLeftShift(y,q,0));for(var H=b.__specialLeftShift(d,q,1),z=y.__halfDigit(p-1),X=0,ee=k;0<=ee;ee--){var ie=32767,F=H.__halfDigit(ee+p);if(F!==z){var $=(F<<15|H.__halfDigit(ee+p-1))>>>0;ie=0|$/z;for(var re=0|$%z,ue=y.__halfDigit(p-2),de=H.__halfDigit(ee+p-2);b.__imul(ie,ue)>>>0>(re<<16|de)>>>0&&(ie--,re+=z,!(32767<re)););}b.__internalMultiplyAdd(y,ie,0,O,j);var W=H.__inplaceSub(j,ee,p+1);W!==0&&(W=H.__inplaceAdd(y,ee,p),H.__setHalfDigit(ee+p,32767&H.__halfDigit(ee+p)+W),ie--),S&&(1&ee?X=ie<<15:L.__setDigit(ee>>>1,X|ie))}if(E)return H.__inplaceRightShift(q),S?{quotient:L,remainder:H}:H;if(S)return L;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return b.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,y,S){var E=d.length,p=new b(E+S,!1);if(y===0){for(var O=0;O<E;O++)p.__setDigit(O,d.__digit(O));return 0<S&&p.__setDigit(E,0),p}for(var k,L=0,j=0;j<E;j++)k=d.__digit(j),p.__setDigit(j,1073741823&k<<y|L),L=k>>>30-y;return 0<S&&p.__setDigit(E,L),p}},{key:"__leftShiftByAbsolute",value:function(d,y){var S=b.__toShiftAmount(y);if(0>S)throw new RangeError("BigInt too big");var E=0|S/30,p=S%30,O=d.length,k=p!==0&&d.__digit(O-1)>>>30-p!=0,L=O+E+(k?1:0),j=new b(L,d.sign);if(p===0){for(var q=0;q<E;q++)j.__setDigit(q,0);for(;q<L;q++)j.__setDigit(q,d.__digit(q-E))}else{for(var H=0,z=0;z<E;z++)j.__setDigit(z,0);for(var X,ee=0;ee<O;ee++)X=d.__digit(ee),j.__setDigit(ee+E,1073741823&X<<p|H),H=X>>>30-p;if(k)j.__setDigit(O+E,H);else if(H!==0)throw new Error("implementation bug")}return j.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,y){var S=d.length,E=d.sign,p=b.__toShiftAmount(y);if(0>p)return b.__rightShiftByMaximum(E);var O=0|p/30,k=p%30,L=S-O;if(0>=L)return b.__rightShiftByMaximum(E);var j=!1;if(E){if(d.__digit(O)&(1<<k)-1)j=!0;else for(var q=0;q<O;q++)if(d.__digit(q)!==0){j=!0;break}}if(j&&k===0){var H=d.__digit(S-1);!~H&&L++}var z=new b(L,E);if(k===0){z.__setDigit(L-1,0);for(var X=O;X<S;X++)z.__setDigit(X-O,d.__digit(X))}else{for(var ee,ie=d.__digit(O)>>>k,F=S-O-1,$=0;$<F;$++)ee=d.__digit($+O+1),z.__setDigit($,1073741823&ee<<30-k|ie),ie=ee>>>k;z.__setDigit(F,ie)}return j&&(z=b.__absoluteAddOne(z,!0,z)),z.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?b.__oneDigit(1,!0):b.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var y=d.__unsignedDigit(0);return y>b.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(d){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(i(d)!=="object"||d.constructor===b)return d;if(typeof Symbol<"u"&&i(Symbol.toPrimitive)==="symbol"){var S=d[Symbol.toPrimitive];if(S){var E=S(y);if(i(E)!=="object")return E;throw new TypeError("Cannot convert object to primitive value")}}var p=d.valueOf;if(p){var O=p.call(d);if(i(O)!=="object")return O}var k=d.toString;if(k){var L=k.call(d);if(i(L)!=="object")return L}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return b.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return i(d)==="object"&&d!==null&&d.constructor===b}},{key:"__truncateToNBits",value:function(d,y){for(var S=0|(d+29)/30,E=new b(S,y.sign),p=S-1,O=0;O<p;O++)E.__setDigit(O,y.__digit(O));var k=y.__digit(p);if(d%30!=0){var L=32-d%30;k=k<<L>>>L}return E.__setDigit(p,k),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,y,S){for(var E=Math.min,p,O=0|(d+29)/30,k=new b(O,S),L=0,j=O-1,q=0,H=E(j,y.length);L<H;L++)p=0-y.__digit(L)-q,q=1&p>>>30,k.__setDigit(L,1073741823&p);for(;L<j;L++)k.__setDigit(L,0|1073741823&-q);var z,X=j<y.length?y.__digit(j):0,ee=d%30;if(ee===0)z=0-X-q,z&=1073741823;else{var ie=32-ee;X=X<<ie>>>ie;var F=1<<32-ie;z=F-X-q,z&=F-1}return k.__setDigit(j,z),k.__trim()}},{key:"__digitPow",value:function(d,y){for(var S=1;0<y;)1&y&&(S*=d),y>>>=1,d*=d;return S}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),b}(_(Array));return Q.__kMaxLength=33554432,Q.__kMaxLengthBits=Q.__kMaxLength<<5,Q.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],Q.__kBitsPerCharTableShift=5,Q.__kBitsPerCharTableMultiplier=1<<Q.__kBitsPerCharTableShift,Q.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Q.__kBitConversionBuffer=new ArrayBuffer(8),Q.__kBitConversionDouble=new Float64Array(Q.__kBitConversionBuffer),Q.__kBitConversionInts=new Int32Array(Q.__kBitConversionBuffer),Q.__clz30=n?function(Y){return n(Y)-2}:function(Y){var M=Math.LN2,m=Math.log;return Y===0?30:0|29-(0|m(Y>>>0)/M)},Q.__imul=r||function(Y,M){return 0|Y*M},Q})})(AO);var $z=AO.exports;Object.defineProperty(wt,"__esModule",{value:!0});wt.ckbDecimals=wt.BI=void 0;wt.formatUnit=Fz;wt.isBIish=EO;wt.parseUnit=jz;wt.toJSBI=ht;var Xe=Uz($z);function Uz(t){return t&&t.__esModule?t:{default:t}}function EO(t){return t!==null&&(typeof t=="number"&&t%1===0||typeof t=="string"&&(!!t.match(/^0x(0|[0-9a-fA-F]+)$/)||!!t.match(/^-?[0-9]+$/))||typeof t=="bigint"||Vo.isBI(t))}class Vo{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return Ir(Xe.default.add(this.jsbi,ht(e)))}sub(e){return Ir(Xe.default.subtract(this.jsbi,ht(e)))}div(e){return Ir(Xe.default.divide(this.jsbi,ht(e)))}mul(e){return Ir(Xe.default.multiply(this.jsbi,ht(e)))}mod(e){return Ir(Xe.default.remainder(this.jsbi,ht(e)))}abs(){return Xe.default.greaterThanOrEqual(this.jsbi,ht(0))?Ir(this.jsbi):Ir(Xe.default.unaryMinus(this.jsbi))}pow(e){return Ir(Xe.default.exponentiate(this.jsbi,ht(e)))}and(e){return Ir(Xe.default.bitwiseAnd(this.jsbi,ht(e)))}or(e){return Ir(Xe.default.bitwiseOr(this.jsbi,ht(e)))}xor(e){return Ir(Xe.default.bitwiseXor(this.jsbi,ht(e)))}not(){return Ir(Xe.default.bitwiseNot(this.jsbi))}mask(e){const r=ht(e);if(Xe.default.lessThan(r,ht(0))||Xe.default.lessThan(this.jsbi,ht(0)))throw new Error("mask works only with positive numbers");const n=ht(this.jsbi.toString(2).length);if(Xe.default.lessThanOrEqual(n,r))return Ir(this.jsbi);{const i=Xe.default.leftShift(Xe.default.signedRightShift(this.jsbi,r),r);return Ir(Xe.default.bitwiseXor(this.jsbi,i))}}shl(e){return Ir(Xe.default.leftShift(this.jsbi,ht(e)))}shr(e){return Ir(Xe.default.signedRightShift(this.jsbi,ht(e)))}eq(e){return Xe.default.equal(this.jsbi,ht(e))}lt(e){return Xe.default.lessThan(this.jsbi,ht(e))}lte(e){return Xe.default.lessThanOrEqual(this.jsbi,ht(e))}gt(e){return Xe.default.greaterThan(this.jsbi,ht(e))}gte(e){return Xe.default.greaterThanOrEqual(this.jsbi,ht(e))}isNegative(){return Xe.default.lessThan(this.jsbi,ht(0))}isZero(){return Xe.default.equal(this.jsbi,ht(0))}toNumber(){return Xe.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch{throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return Xe.default.lessThan(this.jsbi,ht(0))?"-0x"+Xe.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof Vo)return e;if(EO(e))return Ir(ht(e));if(e instanceof Xe.default)return Ir(ht(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return kz(e)&&!!e._isBI}}wt.BI=Vo;function kz(t){return t==null?!1:typeof t=="object"}function Ir(t){return new Vo(t)}function ht(t){return typeof t=="number"||typeof t=="string"?Xe.default.BigInt(t):Xe.default.BigInt(t.toString())}const hA=["shannon","ckb"],zz=wt.ckbDecimals=8,xO=Vo.from(-1);function Fz(t,e){const r=SO(e);return qz(t,r)}function jz(t,e){const r=SO(e);return Kz(t,r)}function qz(t,e){if(!P8(e))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(e).fill("0").join("");t=Vo.from(t);const n=t.isNegative();n&&(t=t.mul(xO));let a=t.div(r).toString();if(r.length>1){let s=t.mod(r).toString();for(;s.length<r.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1],a+="."+s}return n&&(a="-"+a),a}function Kz(t,e){if(!P8(e))throw new Error("decimal size must be a non-negative integer");if(!t.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(e).fill("0").join(""),n=t.substring(0,1)==="-";n&&(t=t.substring(1));let i,a;const s=t.split(".");if(s.length===1)i=s[0],a="0";else if(s.length===2)i=s[0],a=s[1];else throw new Error("too many decimal points (should not happen)");for(;i.length>0&&i[0]==="0";)i=i.substring(1);for(i===""&&(i="0");a.length>0&&a[a.length-1]==="0";)a=a.substring(0,a.length-1);if(a.length>r.length-1)throw new Error("decimal part exceeds max decimals");for(a===""&&(a="0");a.length<r.length-1;)a+="0";const o=Vo.from(i),c=Vo.from(a);let f=o.mul(r).add(c);return n&&(f=f.mul(xO)),f}function SO(t){let e=0;if(typeof t=="string"){if(hA.indexOf(t)===-1)throw new Error(`invalid unit name, supported names are ${hA.join(", ")}`);t==="ckb"&&(e=zz)}else if(P8(t))e=t;else throw new Error("unit of integer must be a non-negative integer");return e}function P8(t){return Number.isInteger(t)&&t>=0}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return e.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return e.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var e=wt,r=ec,n=Ea;function i(g,_,A,C){if(g=e.BI.from(g),g.lt(_)||g.gt(A))throw new n.CodecBaseParseError(`Value must be between ${_.toString()} and ${A.toString()}, but got ${g.toString()}`,C)}function a(g,_=!1){const A=s(g,_);return{__isFixedCodec__:!0,byteLength:g,pack:C=>A.pack(C),unpack:C=>A.unpack(C).toNumber()}}const s=(g,_=!1)=>{const A=e.BI.from(1).shl(g*8).sub(1);return(0,r.createFixedBytesCodec)({byteLength:g,pack(C){let w=_?"LE":"BE";g<=1&&(w="");const I=`Uint${g*8}${w}`;if(typeof C=="number"&&!Number.isSafeInteger(C))throw new n.CodecBaseParseError(`${C} is not a safe integer`,I);let T=e.BI.from(C);i(T,0,A,I);const R=new DataView(new ArrayBuffer(g));for(let N=0;N<g;N++)_?R.setUint8(N,T.and(255).toNumber()):R.setUint8(g-N-1,T.and(255).toNumber()),T=T.shr(8);return new Uint8Array(R.buffer)},unpack:C=>{const w=new DataView(Uint8Array.from(C).buffer);let I=e.BI.from(0);for(let T=0;T<g;T++)_?I=I.or(e.BI.from(w.getUint8(T)).shl(T*8)):I=I.shl(8).or(w.getUint8(T));return I}})};t.Uint8=a(1);const o=t.Uint16LE=a(2,!0);t.Uint16BE=a(2),t.Uint16=o;const c=t.Uint32LE=a(4,!0);t.Uint32BE=a(4),t.Uint32=c;const f=t.Uint64LE=s(8,!0);t.Uint64BE=s(8),t.Uint64=f;const u=t.Uint128LE=s(16,!0);t.Uint128BE=s(16),t.Uint128=u;const l=t.Uint256LE=s(32,!0);t.Uint256BE=s(32),t.Uint256=l;const h=t.Uint512LE=s(64,!0);t.Uint512BE=s(64),t.Uint512=h})(Ko);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ko;Object.keys(e).forEach(function(r){r==="default"||r==="__esModule"||r in t&&t[r]===e[r]||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})})(g0);var T1={},O1={};Object.defineProperty(O1,"__esModule",{value:!0});O1.byteArrayOf=IO;O1.byteOf=Qz;O1.byteVecOf=Yz;var pA=Da,Vz=Ma,CO=ec,bA=g0;function IO(t){const e=t.byteLength;return(0,CO.createFixedBytesCodec)({byteLength:e,pack:r=>t.pack(r),unpack:r=>t.unpack(r)})}function Qz(t){return IO({...t,byteLength:1})}function Yz(t){return(0,CO.createBytesCodec)({pack(e){const r=t.pack(e),n=bA.Uint32LE.pack(r.byteLength);return(0,Vz.concat)(n,r)},unpack(e){(0,pA.assertMinBufferLength)(e,4);const r=bA.Uint32LE.unpack(e.slice(0,4));return(0,pA.assertBufferLength)(e.slice(4),r),t.unpack(e.slice(4))}})}var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.array=TO;eo.dynvec=BO;eo.fixvec=OO;eo.option=Jz;eo.struct=Gz;eo.table=Xz;eo.union=Zz;eo.vector=Wz;var Sf=ec,Ci=g0,ss=Ma,gA=Ea,y0=D8;function TO(t,e){const r=(0,y0.createArrayCodec)(t);return(0,Sf.createFixedBytesCodec)({byteLength:t.byteLength*e,pack(n){const i=r.pack(n);return(0,ss.concat)(...i)},unpack(n){const i=[],a=t.byteLength;for(let s=0;s<n.byteLength;s+=a)i.push(t.unpack(n.slice(s,s+a)));return i}})}function yA(t,e){return t.filter(r=>!e.includes(r))}function R8(t,e){const r=Object.keys(t),n=yA(r,e),i=yA(e,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function Gz(t,e){R8(t,e);const r=(0,y0.createObjectCodec)(t);return(0,Sf.createFixedBytesCodec)({byteLength:e.reduce((n,i)=>n+t[i].byteLength,0),pack(n){const i=r.pack(n);return e.reduce((a,s)=>(0,ss.concat)(a,i[s]),Uint8Array.from([]))},unpack(n){const i={};let a=0;return e.forEach(s=>{const o=t[s],c=n.slice(a,a+o.byteLength);Object.assign(i,{[s]:o.unpack(c)}),a=a+o.byteLength}),i}})}function OO(t){return(0,Sf.createBytesCodec)({pack(e){const r=(0,y0.createArrayCodec)(t);return(0,ss.concat)(Ci.Uint32LE.pack(e.length),r.pack(e).reduce((n,i)=>(0,ss.concat)(n,i),new ArrayBuffer(0)))},unpack(e){if(e.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${e.byteLength}`);const r=Ci.Uint32LE.unpack(e.slice(0,4));return TO(t,r).unpack(e.slice(4))}})}function BO(t){return(0,Sf.createBytesCodec)({pack(e){const n=(0,y0.createArrayCodec)(t).pack(e).reduce((a,s)=>{const o=Ci.Uint32LE.pack(a.offset);return{header:(0,ss.concat)(a.header,o),body:(0,ss.concat)(a.body,s),offset:a.offset+s.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+e.length*4}),i=Ci.Uint32LE.pack(n.header.byteLength+n.body.byteLength+4);return(0,ss.concat)(i,n.header,n.body)},unpack(e){const r=Ci.Uint32LE.unpack(e.slice(0,4));if(r!==e.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${e.byteLength}`);const n=[];if(r<=4)return n;{const a=(Ci.Uint32LE.unpack(e.slice(4,8))-4)/4,s=new Array(a).fill(1).map((c,f)=>Ci.Uint32LE.unpack(e.slice(4+f*4,8+f*4)));s.push(r);const o=[];for(let c=0;c<s.length-1;c++){const f=s[c],u=s[c+1],l=e.slice(f,u);o.push(t.unpack(l))}return o}}})}function Wz(t){return(0,Sf.isFixedCodec)(t)?OO(t):BO(t)}function Xz(t,e){return R8(t,e),(0,Sf.createBytesCodec)({pack(r){const n=4+e.length*4,a=(0,y0.createObjectCodec)(t).pack(r),s=e.reduce((c,f)=>{const u=a[f],l=Ci.Uint32LE.pack(c.offset);return{header:(0,ss.concat)(c.header,l),body:(0,ss.concat)(c.body,u),offset:c.offset+u.byteLength}},{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),o=Ci.Uint32LE.pack(s.header.byteLength+s.body.byteLength+4);return(0,ss.concat)(o,s.header,s.body)},unpack(r){const n=Ci.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||e.length===0)return{};{const i=e.map((s,o)=>Ci.Uint32LE.unpack(r.slice(4+o*4,8+o*4)));i.push(n);const a={};for(let s=0;s<i.length-1;s++){const o=i[s],c=i[s+1],f=e[s],u=t[f],l=r.slice(o,c);Object.assign(a,{[f]:u.unpack(l)})}return a}}})}function Zz(t,e){if(R8(t,Array.isArray(e)?e:Object.keys(e)),!Array.isArray(e)){const r=Object.values(e);if(r.length!==new Set(r).size)throw new Error(`Duplicated id in union: ${r.join(", ")}`)}return(0,Sf.createBytesCodec)({pack(r){const n=Object.keys(t),i=r.type,a=`Union(${n.join(" | ")})`;if(typeof i!="string")throw new gA.CodecBaseParseError("Invalid type in union, type must be a string",a);const s=Array.isArray(e)?e.indexOf(i):e[i];if(s<0)throw new gA.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,a);const o=Ci.Uint32LE.pack(s),c=t[i].pack(r.value);return(0,ss.concat)(o,c)},unpack(r){const n=Ci.Uint32LE.unpack(r.slice(0,4)),i=(()=>{if(Array.isArray(e))return e[n];const a=Object.entries(e).find(([,s])=>s===n);return a==null?void 0:a[0]})();if(!i)throw new Error(`Unknown union field id: ${n}, only ${e} are allowed`);return{type:i,value:t[i].unpack(r.slice(4))}}})}function Jz(t){return(0,Sf.createBytesCodec)({pack(e){const r=(0,y0.createNullableCodec)(t);return e!=null?r.pack(e):Uint8Array.from([])},unpack(e){if(e.byteLength!==0)return t.unpack(e)}})}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return r.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return e.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return e.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return e.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return r.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return r.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return r.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return r.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return r.vector}});var e=O1,r=eo})(T1);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return r.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return r.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return r.isFixedCodec}}),t.number=t.molecule=void 0;var r=ec,n=D8;Object.keys(n).forEach(function(f){f==="default"||f==="__esModule"||Object.prototype.hasOwnProperty.call(e,f)||f in t&&t[f]===n[f]||Object.defineProperty(t,f,{enumerable:!0,get:function(){return n[f]}})});var i=c(Ma);t.bytes=i;var a=c(g0);t.number=a;var s=c(T1);t.molecule=s;function o(f){if(typeof WeakMap!="function")return null;var u=new WeakMap,l=new WeakMap;return(o=function(h){return h?l:u})(f)}function c(f,u){if(f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var l=o(u);if(l&&l.has(f))return l.get(f);var h={__proto__:null},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in f)if(_!=="default"&&{}.hasOwnProperty.call(f,_)){var A=g?Object.getOwnPropertyDescriptor(f,_):null;A&&(A.get||A.set)?Object.defineProperty(h,_,A):h[_]=f[_]}return h.default=f,l&&l.set(f,h),h}})(ot);var xr={},ts={},L8={},H8={},DO={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(i){const a=[],s=new Array(4),o=[0,192,224,240],c=[127,63,63,63],f=[0,128,128,128];for(const u of i){const l=s,h=u.codePointAt(0),g=0-(-(h&4294967168)>>31)-(-(h&4294965248)>>31)-(-(h&4294901760)>>31),_=c[g],A=f[g];l[3]=A|h&_,l[2]=A|h>>>6&_,l[1]=A|h>>>12&_,l[0]=A|h>>>18&_;const C=3-g;l[C]|=o[g],Array.prototype.push.apply(a,l.slice(C))}return new Uint8Array(a)}t.toUtf8_1=e;function r(i){const a=[];for(const s of i){const o=s.codePointAt(0);o<128?a.push(o):o<2048?a.push(192|o>>6&31,128|o&63):o<65536?a.push(224|o>>12&15,128|o>>6&63,128|o&63):a.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}return new Uint8Array(a)}t.toUtf8_2=r;function n(i){const a=[];for(let s=0,o=i.length;s<o;++s){const c=i.charCodeAt(s);if(c<128)a.push(c);else if(c<2048)a.push(192|c>>6,128|c&63);else if(c<55296||c>=57344)a.push(224|c>>12,128|c>>6&63,128|c&63);else{let f=65536+((c&1023)<<10|i.charCodeAt(++s)&1023);a.push(240|f>>18&7,128|f>>12&63,128|f>>6&63,128|f&63)}}return new Uint8Array(a)}t.toUtf8_3=n,t.toUtf8=n,t.default=t.toUtf8})(DO);Object.defineProperty(H8,"__esModule",{value:!0});const eF=DO,ll=2654435761,dl=2246822519,Xb=3266489917,vA=668265263,mA=374761393;function tF(t,e=0){t=typeof t=="string"?eF.default(t):t;const r=t;let n=e+mA&4294967295,i=0;if(r.length>=16){const s=[e+ll+dl&4294967295,e+dl&4294967295,e+0&4294967295,e-ll&4294967295],o=t,c=o.length-16;let f=0;for(i=0;(i&4294967280)<=c;i+=4){const u=i,l=o[u+0]+(o[u+1]<<8),h=o[u+2]+(o[u+3]<<8),g=l*dl+(h*dl<<16);let _=s[f]+g&4294967295;_=_<<13|_>>>19;const A=_&65535,C=_>>>16;s[f]=A*ll+(C*ll<<16)&4294967295,f=f+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+t.length&4294967295;let a=t.length-4;for(;i<=a;i+=4){const s=i,o=r[s+0]+(r[s+1]<<8),c=r[s+2]+(r[s+3]<<8),f=o*Xb+(c*Xb<<16);n=n+f&4294967295,n=n<<17|n>>>15,n=(n&65535)*vA+((n>>>16)*vA<<16)&4294967295}for(;i<r.length;++i){const s=r[i];n=n+s*mA,n=n<<11|n>>>21,n=(n&65535)*ll+((n>>>16)*ll<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*dl&4294967295)+((n>>>16)*dl<<16),n=n^n>>>13,n=((n&65535)*Xb&4294967295)+((n>>>16)*Xb<<16),n=n^n>>>16,n<0?n+4294967296:n}H8.xxHash32=tF;(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(H8)})(L8);var St={},Yn={exports:{}},MO=RO;class PO extends Error{}PO.prototype.name="AssertionError";function RO(t,e){if(!t){var r=new PO(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,RO),r}}var to={exports:{}},w6={exports:{}};function LO(t){return t.length}function rF(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}function nF(t,e,r=0,n=LO(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++)t[r+a]=e.charCodeAt(a);return i}var iF={byteLength:LO,toString:rF,write:nF};const Nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eu=new Uint8Array(256);for(let t=0;t<Nl.length;t++)eu[Nl.charCodeAt(t)]=t;eu[45]=62;eu[95]=63;function HO(t){let e=t.length;return t.charCodeAt(e-1)===61&&e--,e>1&&t.charCodeAt(e-1)===61&&e--,e*3>>>2}function aF(t){const e=t.byteLength;let r="";for(let n=0;n<e;n+=3)r+=Nl[t[n]>>2]+Nl[(t[n]&3)<<4|t[n+1]>>4]+Nl[(t[n+1]&15)<<2|t[n+2]>>6]+Nl[t[n+2]&63];return e%3===2?r=r.substring(0,r.length-1)+"=":e%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function sF(t,e,r=0,n=HO(e)){const i=Math.min(n,t.byteLength-r);for(let a=0,s=0;s<i;a+=4){const o=eu[e.charCodeAt(a)],c=eu[e.charCodeAt(a+1)],f=eu[e.charCodeAt(a+2)],u=eu[e.charCodeAt(a+3)];t[s++]=o<<2|c>>4,t[s++]=(c&15)<<4|f>>2,t[s++]=(f&3)<<6|u&63}return i}var oF={byteLength:HO,toString:aF,write:sF};function NO(t){return t.length>>>1}function cF(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let i=e-e%4;n<i;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r}function fF(t,e,r=0,n=NO(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++){const s=_A(e.charCodeAt(a*2)),o=_A(e.charCodeAt(a*2+1));if(s===void 0||o===void 0)return t.subarray(0,a);t[r+a]=s<<4|o}return i}var uF={byteLength:NO,toString:cF,write:fF};function _A(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10}function A6(t){let e=0;for(let r=0,n=t.length;r<n;r++){const i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const a=t.charCodeAt(r+1);if(a>=56320&&a<=57343){e+=4,r++;continue}}i<=127?e+=1:i<=2047?e+=2:e+=3}return e}let E6;if(typeof TextDecoder<"u"){const t=new TextDecoder;E6=function(r){return t.decode(r)}}else E6=function(e){const r=e.byteLength;let n="",i=0;for(;i<r;){let a=e[i];if(a<=127){n+=String.fromCharCode(a),i++;continue}let s=0,o=0;if(a<=223?(s=1,o=a&31):a<=239?(s=2,o=a&15):a<=244&&(s=3,o=a&7),r-i-s>0){let c=0;for(;c<s;)a=e[i+c+1],o=o<<6|a&63,c+=1}else o=65533,s=r-i;n+=String.fromCodePoint(o),i+=s+1}return n};let x6;if(typeof TextEncoder<"u"){const t=new TextEncoder;x6=function(r,n,i=0,a=A6(n)){const s=Math.min(a,r.byteLength-i);return t.encodeInto(n,r.subarray(i,i+s)),s}}else x6=function(e,r,n=0,i=A6(r)){const a=Math.min(i,e.byteLength-n);e=e.subarray(n,n+a);let s=0,o=0;for(;s<r.length;){const c=r.codePointAt(s);if(c<=127){e[o++]=c,s++;continue}let f=0,u=0;for(c<=2047?(f=6,u=192):c<=65535?(f=12,u=224):c<=2097151&&(f=18,u=240),e[o++]=u|c>>f,f-=6;f>=0;)e[o++]=128|c>>f&63,f-=6;s+=c>=65536?2:1}return a};var lF={byteLength:A6,toString:E6,write:x6};function $O(t){return t.length*2}function dF(t){const e=t.byteLength;let r="";for(let n=0;n<e-1;n+=2)r+=String.fromCharCode(t[n]+t[n+1]*256);return r}function hF(t,e,r=0,n=$O(e)){const i=Math.min(n,t.byteLength-r);let a=i;for(let s=0;s<e.length&&!((a-=2)<0);++s){const o=e.charCodeAt(s),c=o>>8,f=o%256;t[r+s*2]=f,t[r+s*2+1]=c}return i}var pF={byteLength:$O,toString:dF,write:hF};(function(t,e){const r=iF,n=oF,i=uF,a=lF,s=pF,o=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function c(W){switch(W){case"ascii":return r;case"base64":return n;case"hex":return i;case"utf8":case"utf-8":case void 0:case null:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${W}`)}}function f(W){return W instanceof Uint8Array}function u(W){try{return c(W),!0}catch{return!1}}function l(W,J,ne){const fe=new Uint8Array(W);return J!==void 0&&e.fill(fe,J,0,fe.byteLength,ne),fe}function h(W){return new Uint8Array(W)}function g(W){return new Uint8Array(W)}function _(W,J){return c(J).byteLength(W)}function A(W,J){if(W===J)return 0;const ne=Math.min(W.byteLength,J.byteLength);W=new DataView(W.buffer,W.byteOffset,W.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let fe=0;for(let ve=ne-ne%4;fe<ve;fe+=4){const ye=W.getUint32(fe,o),Ce=J.getUint32(fe,o);if(ye!==Ce)break}for(;fe<ne;fe++){const ve=W.getUint8(fe),ye=J.getUint8(fe);if(ve<ye)return-1;if(ve>ye)return 1}return W.byteLength>J.byteLength?1:W.byteLength<J.byteLength?-1:0}function C(W,J){J===void 0&&(J=W.reduce((ve,ye)=>ve+ye.byteLength,0));const ne=new Uint8Array(J);let fe=0;for(const ve of W){if(fe+ve.byteLength>ne.byteLength){const ye=ve.subarray(0,ne.byteLength-fe);return ne.set(ye,fe),ne}ne.set(ve,fe),fe+=ve.byteLength}return ne}function w(W,J,ne=0,fe=0,ve=W.byteLength){if(ve>0&&ve<fe||ve===fe||W.byteLength===0||J.byteLength===0)return 0;if(ne<0)throw new RangeError("targetStart is out of range");if(fe<0||fe>=W.byteLength)throw new RangeError("sourceStart is out of range");if(ve<0)throw new RangeError("sourceEnd is out of range");ne>=J.byteLength&&(ne=J.byteLength),ve>W.byteLength&&(ve=W.byteLength),J.byteLength-ne<ve-fe&&(ve=J.length-ne+fe);const ye=ve-fe;return W===J?J.copyWithin(ne,fe,ve):J.set(W.subarray(fe,ve),ne),ye}function I(W,J){if(W===J)return!0;if(W.byteLength!==J.byteLength)return!1;const ne=W.byteLength;W=new DataView(W.buffer,W.byteOffset,W.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let fe=0;for(let ve=ne-ne%4;fe<ve;fe+=4)if(W.getUint32(fe,o)!==J.getUint32(fe,o))return!1;for(;fe<ne;fe++)if(W.getUint8(fe)!==J.getUint8(fe))return!1;return!0}function T(W,J,ne,fe,ve){if(typeof J=="string"?typeof ne=="string"?(ve=ne,ne=0,fe=W.byteLength):typeof fe=="string"&&(ve=fe,fe=W.byteLength):typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=+J),ne<0||W.byteLength<ne||W.byteLength<fe)throw new RangeError("Out of range index");if(ne===void 0&&(ne=0),fe===void 0&&(fe=W.byteLength),fe<=ne)return W;if(J||(J=0),typeof J=="number")for(let ye=ne;ye<fe;++ye)W[ye]=J;else{J=f(J)?J:R(J,ve);const ye=J.byteLength;for(let Ce=0;Ce<fe-ne;++Ce)W[Ce+ne]=J[Ce%ye]}return W}function R(W,J,ne){return typeof W=="string"?N(W,J):Array.isArray(W)?K(W):ArrayBuffer.isView(W)?V(W):D(W,J,ne)}function N(W,J){const ne=c(J),fe=new Uint8Array(ne.byteLength(W));return ne.write(fe,W,0,fe.byteLength),fe}function K(W){const J=new Uint8Array(W.length);return J.set(W),J}function V(W){const J=new Uint8Array(W.byteLength);return J.set(W),J}function D(W,J,ne){return new Uint8Array(W,J,ne)}function Q(W,J,ne,fe){return M(W,J,ne,fe)!==-1}function Y(W,J,ne,fe,ve){if(W.byteLength===0)return-1;if(typeof ne=="string"?(fe=ne,ne=0):ne===void 0?ne=ve?0:W.length-1:ne<0&&(ne+=W.byteLength),ne>=W.byteLength){if(ve)return-1;ne=W.byteLength-1}else if(ne<0)if(ve)ne=0;else return-1;if(typeof J=="string")J=R(J,fe);else if(typeof J=="number")return J=J&255,ve?W.indexOf(J,ne):W.lastIndexOf(J,ne);if(J.byteLength===0)return-1;if(ve){let ye=-1;for(let Ce=ne;Ce<W.byteLength;Ce++)if(W[Ce]===J[ye===-1?0:Ce-ye]){if(ye===-1&&(ye=Ce),Ce-ye+1===J.byteLength)return ye}else ye!==-1&&(Ce-=Ce-ye),ye=-1}else{ne+J.byteLength>W.byteLength&&(ne=W.byteLength-J.byteLength);for(let ye=ne;ye>=0;ye--){let Ce=!0;for(let kt=0;kt<J.byteLength;kt++)if(W[ye+kt]!==J[kt]){Ce=!1;break}if(Ce)return ye}}return-1}function M(W,J,ne,fe){return Y(W,J,ne,fe,!0)}function m(W,J,ne,fe){return Y(W,J,ne,fe,!1)}function x(W,J,ne){const fe=W[J];W[J]=W[ne],W[ne]=fe}function b(W){const J=W.byteLength;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ne=0;ne<J;ne+=2)x(W,ne,ne+1);return W}function v(W){const J=W.byteLength;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ne=0;ne<J;ne+=4)x(W,ne,ne+3),x(W,ne+1,ne+2);return W}function d(W){const J=W.byteLength;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ne=0;ne<J;ne+=8)x(W,ne,ne+7),x(W,ne+1,ne+6),x(W,ne+2,ne+5),x(W,ne+3,ne+4);return W}function y(W){return W}function S(W,J,ne=0,fe=W.byteLength){const ve=W.byteLength;return ne>=ve||fe<=ne?"":(ne<0&&(ne=0),fe>ve&&(fe=ve),(ne!==0||fe<ve)&&(W=W.subarray(ne,fe)),c(J).toString(W))}function E(W,J,ne,fe,ve){return ne===void 0?ve="utf8":fe===void 0&&typeof ne=="string"?(ve=ne,ne=void 0):ve===void 0&&typeof fe=="string"&&(ve=fe,fe=void 0),c(ve).write(W,J,ne,fe)}function p(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setFloat64(ne,J,!0),ne+8}function O(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setFloat32(ne,J,!0),ne+4}function k(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setUint32(ne,J,!0),ne+4}function L(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setInt32(ne,J,!0),ne+4}function j(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getFloat64(J,!0)}function q(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getFloat32(J,!0)}function H(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getUint32(J,!0)}function z(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getInt32(J,!0)}function X(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setFloat64(ne,J,!1),ne+8}function ee(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setFloat32(ne,J,!1),ne+4}function ie(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setUint32(ne,J,!1),ne+4}function F(W,J,ne){return ne===void 0&&(ne=0),new DataView(W.buffer,W.byteOffset,W.byteLength).setInt32(ne,J,!1),ne+4}function $(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getFloat64(J,!1)}function re(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getFloat32(J,!1)}function ue(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getUint32(J,!1)}function de(W,J){return J===void 0&&(J=0),new DataView(W.buffer,W.byteOffset,W.byteLength).getInt32(J,!1)}t.exports=e={isBuffer:f,isEncoding:u,alloc:l,allocUnsafe:h,allocUnsafeSlow:g,byteLength:_,compare:A,concat:C,copy:w,equals:I,fill:T,from:R,includes:Q,indexOf:M,lastIndexOf:m,swap16:b,swap32:v,swap64:d,toBuffer:y,toString:S,write:E,writeDoubleLE:p,writeFloatLE:O,writeUInt32LE:k,writeInt32LE:L,readDoubleLE:j,readFloatLE:q,readUInt32LE:H,readInt32LE:z,writeDoubleBE:X,writeFloatBE:ee,writeUInt32BE:ie,writeInt32BE:F,readDoubleBE:$,readFloatBE:re,readUInt32BE:ue,readInt32BE:de}})(w6,w6.exports);var bF=w6.exports,Jm,wA;function gF(){if(wA)return Jm;wA=1;var t=(a,s)=>function(){return s||(0,a[Object.keys(a)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var a=new Uint8Array(128),s=0;s<64;s++)a[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return o=>{for(var c=o.length,f=new Uint8Array((c-(o[c-1]=="=")-(o[c-2]=="="))*3/4|0),u=0,l=0;u<c;){var h=a[o.charCodeAt(u++)],g=a[o.charCodeAt(u++)],_=a[o.charCodeAt(u++)],A=a[o.charCodeAt(u++)];f[l++]=h<<2|g>>4,f[l++]=g<<4|_>>2,f[l++]=_<<6|A}return f}})(),r=t({"wasm-binary:./blake2b.wat"(a,s){s.exports=e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),n=r(),i=WebAssembly.compile(n);return Jm=async a=>(await WebAssembly.instantiate(await i,a)).exports,Jm}var xi=MO,yF=bF,Lo=null,AA=typeof WebAssembly<"u"&&gF()().then(t=>{Lo=t}),_o=64,Lg=[];to.exports=Gn;var EA=to.exports.BYTES_MIN=16,xA=to.exports.BYTES_MAX=64;to.exports.BYTES=32;var SA=to.exports.KEYBYTES_MIN=16,CA=to.exports.KEYBYTES_MAX=64;to.exports.KEYBYTES=32;var IA=to.exports.SALTBYTES=16,TA=to.exports.PERSONALBYTES=16;function Gn(t,e,r,n,i){if(!(this instanceof Gn))return new Gn(t,e,r,n,i);if(!Lo)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(xi(t>=EA,"digestLength must be at least "+EA+", was given "+t),xi(t<=xA,"digestLength must be at most "+xA+", was given "+t),e!=null&&(xi(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),xi(e.length>=SA,"key must be at least "+SA+", was given "+e.length),xi(e.length<=CA,"key must be at least "+CA+", was given "+e.length)),r!=null&&(xi(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),xi(r.length===IA,"salt must be exactly "+IA+", was given "+r.length)),n!=null&&(xi(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),xi(n.length===TA,"personal must be exactly "+TA+", was given "+n.length))),Lg.length||(Lg.push(_o),_o+=216),this.digestLength=t,this.finalized=!1,this.pointer=Lg.pop(),this._memory=new Uint8Array(Lo.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),Lo.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,_o,_o+e.length),this._memory[this.pointer+200]=128)}Gn.prototype._realloc=function(t){Lo.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(Lo.memory.buffer)};Gn.prototype.update=function(t){return xi(this.finalized===!1,"Hash instance finalized"),xi(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),_o+t.length>this._memory.length&&this._realloc(_o+t.length),this._memory.set(t,_o),Lo.blake2b_update(this.pointer,_o,_o+t.length),this};Gn.prototype.digest=function(t){if(xi(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,Lg.push(this.pointer),Lo.blake2b_final(this.pointer),!t||t==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof t=="string")return yF.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);xi(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t};Gn.prototype.final=Gn.prototype.digest;Gn.WASM=Lo;Gn.SUPPORTED=typeof WebAssembly<"u";Gn.ready=function(t){return t||(t=vF),AA?AA.then(()=>t(),t):t(new Error("WebAssembly not supported"))};Gn.prototype.ready=Gn.ready;Gn.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Gn.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};function vF(){}var mF=to.exports,ea=MO,Kp=mF;function Zb(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function OA(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var a=t[e+1]+n;i>=4294967296&&a++,t[e]=i,t[e+1]=a}function UO(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function dc(t,e,r,n,i,a){var s=zh[i],o=zh[i+1],c=zh[a],f=zh[a+1];Zb(Ue,t,e),OA(Ue,t,s,o);var u=Ue[n]^Ue[t],l=Ue[n+1]^Ue[t+1];Ue[n]=l,Ue[n+1]=u,Zb(Ue,r,n),u=Ue[e]^Ue[r],l=Ue[e+1]^Ue[r+1],Ue[e]=u>>>24^l<<8,Ue[e+1]=l>>>24^u<<8,Zb(Ue,t,e),OA(Ue,t,c,f),u=Ue[n]^Ue[t],l=Ue[n+1]^Ue[t+1],Ue[n]=u>>>16^l<<16,Ue[n+1]=l>>>16^u<<16,Zb(Ue,r,n),u=Ue[e]^Ue[r],l=Ue[e+1]^Ue[r+1],Ue[e]=l>>>31^u<<1,Ue[e+1]=u>>>31^l<<1}var kO=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),_F=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],un=new Uint8Array(_F.map(function(t){return t*2})),Ue=new Uint32Array(32),zh=new Uint32Array(32);function zO(t,e){var r=0;for(r=0;r<16;r++)Ue[r]=t.h[r],Ue[r+16]=kO[r];for(Ue[24]=Ue[24]^t.t,Ue[25]=Ue[25]^t.t/4294967296,e&&(Ue[28]=~Ue[28],Ue[29]=~Ue[29]),r=0;r<32;r++)zh[r]=UO(t.b,4*r);for(r=0;r<12;r++)dc(0,8,16,24,un[r*16+0],un[r*16+1]),dc(2,10,18,26,un[r*16+2],un[r*16+3]),dc(4,12,20,28,un[r*16+4],un[r*16+5]),dc(6,14,22,30,un[r*16+6],un[r*16+7]),dc(0,10,20,30,un[r*16+8],un[r*16+9]),dc(2,12,22,24,un[r*16+10],un[r*16+11]),dc(4,14,16,26,un[r*16+12],un[r*16+13]),dc(6,8,18,28,un[r*16+14],un[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Ue[r]^Ue[r+16]}var hc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Bd(t,e,r,n){hc.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,hc[0]=t,e&&(hc[1]=e.length),hc[2]=1,hc[3]=1,r&&hc.set(r,32),n&&hc.set(n,48);for(var i=0;i<16;i++)this.h[i]=kO[i]^UO(hc,i*4);e&&(FO(this,e),this.c=128)}Bd.prototype.update=function(t){return ea(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),FO(this,t),this};Bd.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return ea(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),ea(e.length>=this.outlen,"out must have at least outlen bytes of space"),wF(this,e),t==="hex"?AF(e):e};Bd.prototype.final=Bd.prototype.digest;Bd.ready=function(t){Kp.ready(function(){t()})};function FO(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,zO(t,!1),t.c=0),t.b[t.c++]=e[r]}function wF(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;zO(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function AF(t){for(var e="",r=0;r<t.length;r++)e+=EF(t[r]);return e}function EF(t){return t<16?"0"+t.toString(16):t.toString(16)}var xF=Bd;Yn.exports=function(e,r,n,i,a){return a!==!0&&(ea(e>=BA,"outlen must be at least "+BA+", was given "+e),ea(e<=DA,"outlen must be at most "+DA+", was given "+e),r!=null&&(ea(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),ea(r.length>=MA,"key must be at least "+MA+", was given "+r.length),ea(r.length<=PA,"key must be at most "+PA+", was given "+r.length)),n!=null&&(ea(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),ea(n.length===RA,"salt must be exactly "+RA+", was given "+n.length)),i!=null&&(ea(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),ea(i.length===LA,"personal must be exactly "+LA+", was given "+i.length))),new xF(e,r,n,i)};Yn.exports.ready=function(t){Kp.ready(function(){t()})};Yn.exports.WASM_SUPPORTED=Kp.SUPPORTED;Yn.exports.WASM_LOADED=!1;var BA=Yn.exports.BYTES_MIN=16,DA=Yn.exports.BYTES_MAX=64;Yn.exports.BYTES=32;var MA=Yn.exports.KEYBYTES_MIN=16,PA=Yn.exports.KEYBYTES_MAX=64;Yn.exports.KEYBYTES=32;var RA=Yn.exports.SALTBYTES=16,LA=Yn.exports.PERSONALBYTES=16;Kp.ready(function(t){t||(Yn.exports.WASM_LOADED=!0,Yn.exports=Kp)});var SF=Yn.exports,Ey={exports:{}};Ey.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,o="[object Arguments]",c="[object Array]",f="[object AsyncFunction]",u="[object Boolean]",l="[object Date]",h="[object Error]",g="[object Function]",_="[object GeneratorFunction]",A="[object Map]",C="[object Number]",w="[object Null]",I="[object Object]",T="[object Promise]",R="[object Proxy]",N="[object RegExp]",K="[object Set]",V="[object String]",D="[object Symbol]",Q="[object Undefined]",Y="[object WeakMap]",M="[object ArrayBuffer]",m="[object DataView]",x="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",d="[object Int16Array]",y="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",p="[object Uint16Array]",O="[object Uint32Array]",k=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,q={};q[x]=q[b]=q[v]=q[d]=q[y]=q[S]=q[E]=q[p]=q[O]=!0,q[o]=q[c]=q[M]=q[u]=q[m]=q[l]=q[h]=q[g]=q[A]=q[C]=q[I]=q[N]=q[K]=q[V]=q[Y]=!1;var H=typeof jn=="object"&&jn&&jn.Object===Object&&jn,z=typeof self=="object"&&self&&self.Object===Object&&self,X=H||z||Function("return this")(),ee=e&&!e.nodeType&&e,ie=ee&&!0&&t&&!t.nodeType&&t,F=ie&&ie.exports===ee,$=F&&H.process,re=function(){try{return $&&$.binding&&$.binding("util")}catch{}}(),ue=re&&re.isTypedArray;function de(Z,oe){for(var ge=-1,Te=Z==null?0:Z.length,Ct=0,ze=[];++ge<Te;){var ir=Z[ge];oe(ir,ge,Z)&&(ze[Ct++]=ir)}return ze}function W(Z,oe){for(var ge=-1,Te=oe.length,Ct=Z.length;++ge<Te;)Z[Ct+ge]=oe[ge];return Z}function J(Z,oe){for(var ge=-1,Te=Z==null?0:Z.length;++ge<Te;)if(oe(Z[ge],ge,Z))return!0;return!1}function ne(Z,oe){for(var ge=-1,Te=Array(Z);++ge<Z;)Te[ge]=oe(ge);return Te}function fe(Z){return function(oe){return Z(oe)}}function ve(Z,oe){return Z.has(oe)}function ye(Z,oe){return Z==null?void 0:Z[oe]}function Ce(Z){var oe=-1,ge=Array(Z.size);return Z.forEach(function(Te,Ct){ge[++oe]=[Ct,Te]}),ge}function kt(Z,oe){return function(ge){return Z(oe(ge))}}function He(Z){var oe=-1,ge=Array(Z.size);return Z.forEach(function(Te){ge[++oe]=Te}),ge}var qe=Array.prototype,cn=Function.prototype,U=Object.prototype,B=X["__core-js_shared__"],P=cn.toString,G=U.hasOwnProperty,ae=function(){var Z=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),ce=U.toString,le=RegExp("^"+P.call(G).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=F?X.Buffer:void 0,it=X.Symbol,Re=X.Uint8Array,Le=U.propertyIsEnumerable,Ze=qe.splice,ct=it?it.toStringTag:void 0,zt=Object.getOwnPropertySymbols,xb=Be?Be.isBuffer:void 0,Wt=kt(Object.keys,Object),Pt=cl(X,"DataView"),sc=cl(X,"Map"),Rt=cl(X,"Promise"),Lt=cl(X,"Set"),ol=cl(X,"WeakMap"),vt=cl(Object,"create"),Xt=Uf(Pt),Sb=Uf(sc),Zt=Uf(Rt),Jt=Uf(Lt),Cb=Uf(ol),Ft=it?it.prototype:void 0,Ht=Ft?Ft.valueOf:void 0;function ms(Z){var oe=-1,ge=Z==null?0:Z.length;for(this.clear();++oe<ge;){var Te=Z[oe];this.set(Te[0],Te[1])}}function er(){this.__data__=vt?vt(null):{},this.size=0}function tr(Z){var oe=this.has(Z)&&delete this.__data__[Z];return this.size-=oe?1:0,oe}function Ib(Z){var oe=this.__data__;if(vt){var ge=oe[Z];return ge===n?void 0:ge}return G.call(oe,Z)?oe[Z]:void 0}function rr(Z){var oe=this.__data__;return vt?oe[Z]!==void 0:G.call(oe,Z)}function nr(Z,oe){var ge=this.__data__;return this.size+=this.has(Z)?0:1,ge[Z]=vt&&oe===void 0?n:oe,this}ms.prototype.clear=er,ms.prototype.delete=tr,ms.prototype.get=Ib,ms.prototype.has=rr,ms.prototype.set=nr;function yi(Z){var oe=-1,ge=Z==null?0:Z.length;for(this.clear();++oe<ge;){var Te=Z[oe];this.set(Te[0],Te[1])}}function K0(){this.__data__=[],this.size=0}function V0(Z){var oe=this.__data__,ge=Tb(oe,Z);if(ge<0)return!1;var Te=oe.length-1;return ge==Te?oe.pop():Ze.call(oe,ge,1),--this.size,!0}function Q0(Z){var oe=this.__data__,ge=Tb(oe,Z);return ge<0?void 0:oe[ge][1]}function Y0(Z){return Tb(this.__data__,Z)>-1}function G0(Z,oe){var ge=this.__data__,Te=Tb(ge,Z);return Te<0?(++this.size,ge.push([Z,oe])):ge[Te][1]=oe,this}yi.prototype.clear=K0,yi.prototype.delete=V0,yi.prototype.get=Q0,yi.prototype.has=Y0,yi.prototype.set=G0;function za(Z){var oe=-1,ge=Z==null?0:Z.length;for(this.clear();++oe<ge;){var Te=Z[oe];this.set(Te[0],Te[1])}}function W0(){this.size=0,this.__data__={hash:new ms,map:new(sc||yi),string:new ms}}function X0(Z){var oe=Ob(this,Z).delete(Z);return this.size-=oe?1:0,oe}function Z0(Z){return Ob(this,Z).get(Z)}function J0(Z){return Ob(this,Z).has(Z)}function eh(Z,oe){var ge=Ob(this,Z),Te=ge.size;return ge.set(Z,oe),this.size+=ge.size==Te?0:1,this}za.prototype.clear=W0,za.prototype.delete=X0,za.prototype.get=Z0,za.prototype.has=J0,za.prototype.set=eh;function oc(Z){var oe=-1,ge=Z==null?0:Z.length;for(this.__data__=new za;++oe<ge;)this.add(Z[oe])}function th(Z){return this.__data__.set(Z,n),this}function rh(Z){return this.__data__.has(Z)}oc.prototype.add=oc.prototype.push=th,oc.prototype.has=rh;function Vi(Z){var oe=this.__data__=new yi(Z);this.size=oe.size}function nh(){this.__data__=new yi,this.size=0}function ih(Z){var oe=this.__data__,ge=oe.delete(Z);return this.size=oe.size,ge}function ah(Z){return this.__data__.get(Z)}function iN(Z){return this.__data__.has(Z)}function aN(Z,oe){var ge=this.__data__;if(ge instanceof yi){var Te=ge.__data__;if(!sc||Te.length<r-1)return Te.push([Z,oe]),this.size=++ge.size,this;ge=this.__data__=new za(Te)}return ge.set(Z,oe),this.size=ge.size,this}Vi.prototype.clear=nh,Vi.prototype.delete=ih,Vi.prototype.get=ah,Vi.prototype.has=iN,Vi.prototype.set=aN;function sN(Z,oe){var ge=Bb(Z),Te=!ge&&wN(Z),Ct=!ge&&!Te&&pm(Z),ze=!ge&&!Te&&!Ct&&I7(Z),ir=ge||Te||Ct||ze,Cr=ir?ne(Z.length,String):[],Vr=Cr.length;for(var jt in Z)G.call(Z,jt)&&!(ir&&(jt=="length"||Ct&&(jt=="offset"||jt=="parent")||ze&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||gN(jt,Vr)))&&Cr.push(jt);return Cr}function Tb(Z,oe){for(var ge=Z.length;ge--;)if(E7(Z[ge][0],oe))return ge;return-1}function oN(Z,oe,ge){var Te=oe(Z);return Bb(Z)?Te:W(Te,ge(Z))}function sh(Z){return Z==null?Z===void 0?Q:w:ct&&ct in Object(Z)?pN(Z):_N(Z)}function m7(Z){return oh(Z)&&sh(Z)==o}function _7(Z,oe,ge,Te,Ct){return Z===oe?!0:Z==null||oe==null||!oh(Z)&&!oh(oe)?Z!==Z&&oe!==oe:cN(Z,oe,ge,Te,_7,Ct)}function cN(Z,oe,ge,Te,Ct,ze){var ir=Bb(Z),Cr=Bb(oe),Vr=ir?c:cc(Z),jt=Cr?c:cc(oe);Vr=Vr==o?I:Vr,jt=jt==o?I:jt;var vi=Vr==I,Fa=jt==I,fn=Vr==jt;if(fn&&pm(Z)){if(!pm(oe))return!1;ir=!0,vi=!1}if(fn&&!vi)return ze||(ze=new Vi),ir||I7(Z)?w7(Z,oe,ge,Te,Ct,ze):dN(Z,oe,Vr,ge,Te,Ct,ze);if(!(ge&i)){var Qi=vi&&G.call(Z,"__wrapped__"),Yi=Fa&&G.call(oe,"__wrapped__");if(Qi||Yi){var fc=Qi?Z.value():Z,so=Yi?oe.value():oe;return ze||(ze=new Vi),Ct(fc,so,ge,Te,ze)}}return fn?(ze||(ze=new Vi),hN(Z,oe,ge,Te,Ct,ze)):!1}function fN(Z){if(!C7(Z)||vN(Z))return!1;var oe=x7(Z)?le:L;return oe.test(Uf(Z))}function uN(Z){return oh(Z)&&S7(Z.length)&&!!q[sh(Z)]}function lN(Z){if(!mN(Z))return Wt(Z);var oe=[];for(var ge in Object(Z))G.call(Z,ge)&&ge!="constructor"&&oe.push(ge);return oe}function w7(Z,oe,ge,Te,Ct,ze){var ir=ge&i,Cr=Z.length,Vr=oe.length;if(Cr!=Vr&&!(ir&&Vr>Cr))return!1;var jt=ze.get(Z);if(jt&&ze.get(oe))return jt==oe;var vi=-1,Fa=!0,fn=ge&a?new oc:void 0;for(ze.set(Z,oe),ze.set(oe,Z);++vi<Cr;){var Qi=Z[vi],Yi=oe[vi];if(Te)var fc=ir?Te(Yi,Qi,vi,oe,Z,ze):Te(Qi,Yi,vi,Z,oe,ze);if(fc!==void 0){if(fc)continue;Fa=!1;break}if(fn){if(!J(oe,function(so,kf){if(!ve(fn,kf)&&(Qi===so||Ct(Qi,so,ge,Te,ze)))return fn.push(kf)})){Fa=!1;break}}else if(!(Qi===Yi||Ct(Qi,Yi,ge,Te,ze))){Fa=!1;break}}return ze.delete(Z),ze.delete(oe),Fa}function dN(Z,oe,ge,Te,Ct,ze,ir){switch(ge){case m:if(Z.byteLength!=oe.byteLength||Z.byteOffset!=oe.byteOffset)return!1;Z=Z.buffer,oe=oe.buffer;case M:return!(Z.byteLength!=oe.byteLength||!ze(new Re(Z),new Re(oe)));case u:case l:case C:return E7(+Z,+oe);case h:return Z.name==oe.name&&Z.message==oe.message;case N:case V:return Z==oe+"";case A:var Cr=Ce;case K:var Vr=Te&i;if(Cr||(Cr=He),Z.size!=oe.size&&!Vr)return!1;var jt=ir.get(Z);if(jt)return jt==oe;Te|=a,ir.set(Z,oe);var vi=w7(Cr(Z),Cr(oe),Te,Ct,ze,ir);return ir.delete(Z),vi;case D:if(Ht)return Ht.call(Z)==Ht.call(oe)}return!1}function hN(Z,oe,ge,Te,Ct,ze){var ir=ge&i,Cr=A7(Z),Vr=Cr.length,jt=A7(oe),vi=jt.length;if(Vr!=vi&&!ir)return!1;for(var Fa=Vr;Fa--;){var fn=Cr[Fa];if(!(ir?fn in oe:G.call(oe,fn)))return!1}var Qi=ze.get(Z);if(Qi&&ze.get(oe))return Qi==oe;var Yi=!0;ze.set(Z,oe),ze.set(oe,Z);for(var fc=ir;++Fa<Vr;){fn=Cr[Fa];var so=Z[fn],kf=oe[fn];if(Te)var T7=ir?Te(kf,so,fn,oe,Z,ze):Te(so,kf,fn,Z,oe,ze);if(!(T7===void 0?so===kf||Ct(so,kf,ge,Te,ze):T7)){Yi=!1;break}fc||(fc=fn=="constructor")}if(Yi&&!fc){var Db=Z.constructor,Mb=oe.constructor;Db!=Mb&&"constructor"in Z&&"constructor"in oe&&!(typeof Db=="function"&&Db instanceof Db&&typeof Mb=="function"&&Mb instanceof Mb)&&(Yi=!1)}return ze.delete(Z),ze.delete(oe),Yi}function A7(Z){return oN(Z,xN,bN)}function Ob(Z,oe){var ge=Z.__data__;return yN(oe)?ge[typeof oe=="string"?"string":"hash"]:ge.map}function cl(Z,oe){var ge=ye(Z,oe);return fN(ge)?ge:void 0}function pN(Z){var oe=G.call(Z,ct),ge=Z[ct];try{Z[ct]=void 0;var Te=!0}catch{}var Ct=ce.call(Z);return Te&&(oe?Z[ct]=ge:delete Z[ct]),Ct}var bN=zt?function(Z){return Z==null?[]:(Z=Object(Z),de(zt(Z),function(oe){return Le.call(Z,oe)}))}:SN,cc=sh;(Pt&&cc(new Pt(new ArrayBuffer(1)))!=m||sc&&cc(new sc)!=A||Rt&&cc(Rt.resolve())!=T||Lt&&cc(new Lt)!=K||ol&&cc(new ol)!=Y)&&(cc=function(Z){var oe=sh(Z),ge=oe==I?Z.constructor:void 0,Te=ge?Uf(ge):"";if(Te)switch(Te){case Xt:return m;case Sb:return A;case Zt:return T;case Jt:return K;case Cb:return Y}return oe});function gN(Z,oe){return oe=oe??s,!!oe&&(typeof Z=="number"||j.test(Z))&&Z>-1&&Z%1==0&&Z<oe}function yN(Z){var oe=typeof Z;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?Z!=="__proto__":Z===null}function vN(Z){return!!ae&&ae in Z}function mN(Z){var oe=Z&&Z.constructor,ge=typeof oe=="function"&&oe.prototype||U;return Z===ge}function _N(Z){return ce.call(Z)}function Uf(Z){if(Z!=null){try{return P.call(Z)}catch{}try{return Z+""}catch{}}return""}function E7(Z,oe){return Z===oe||Z!==Z&&oe!==oe}var wN=m7(function(){return arguments}())?m7:function(Z){return oh(Z)&&G.call(Z,"callee")&&!Le.call(Z,"callee")},Bb=Array.isArray;function AN(Z){return Z!=null&&S7(Z.length)&&!x7(Z)}var pm=xb||CN;function EN(Z,oe){return _7(Z,oe)}function x7(Z){if(!C7(Z))return!1;var oe=sh(Z);return oe==g||oe==_||oe==f||oe==R}function S7(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=s}function C7(Z){var oe=typeof Z;return Z!=null&&(oe=="object"||oe=="function")}function oh(Z){return Z!=null&&typeof Z=="object"}var I7=ue?fe(ue):uN;function xN(Z){return AN(Z)?sN(Z):lN(Z)}function SN(){return[]}function CN(){return!1}t.exports=EN})(Ey,Ey.exports);var CF=Ey.exports,Ee={},N8,$8;Object.defineProperty(Ee,"__esModule",{value:!0});var xy=Ee.WitnessArgs=Ee.UncleBlockVec=Ee.UncleBlock=Ee.TransactionVec=$8=Ee.Transaction=Ee.ScriptOpt=Ee.Script=Ee.RawTransaction=Ee.RawHeader=Ee.ProposalShortIdVec=Ee.ProposalShortId=N8=Ee.OutPoint=Ee.Header=Ee.HashType=Ee.DepType=Ee.CellbaseWitness=Ee.CellOutputVec=Ee.CellOutput=Ee.CellInputVec=Ee.CellInput=Ee.CellDepVec=Ee.CellDep=Ee.BytesVec=Ee.BytesOptVec=Ee.BytesOpt=Ee.Bytes=Ee.Byte32Vec=Ee.Byte32=Ee.BlockV1=Ee.Block=Ee.BaseHeader=void 0;Ee.WitnessArgsOf=qO;Ee.createFixedHexBytesCodec=z8;Ee.deTransformHeaderCodecType=XO;Ee.deTransformTransactionCodecType=GO;Ee.transformHeaderCodecType=WO;Ee.transformTransactionCodecType=YO;var Pr=ot,IF=wt;function P2(t){return{...t,unpack:e=>IF.BI.from(t.unpack(e)).toHexString()}}const HA=P2(Pr.number.Uint8),Sy=P2(Pr.number.Uint32LE),hp=P2(Pr.number.Uint64LE),TF=P2(Pr.number.Uint128LE),{byteVecOf:Hg,option:pp,table:tc,vector:rc,struct:B1}=Pr.molecule,{bytify:U8,hexify:k8}=Pr.bytes;function z8(t){return(0,Pr.createFixedBytesCodec)({byteLength:t,pack:e=>U8(e),unpack:e=>k8(e)})}const D1=Ee.Bytes=Hg({pack:U8,unpack:k8}),OF=Ee.BytesOpt=pp(D1),jO=Ee.BytesVec=rc(D1);Ee.BytesOptVec=rc(OF);const Hc=Ee.Byte32=z8(32),BF=Ee.Byte32Vec=rc(Hc);function qO(t){return tc({lock:pp(Hg(t.lock)),inputType:pp(Hg(t.inputType)),outputType:pp(Hg(t.outputType))},["lock","inputType","outputType"])}const e_=(0,Pr.createBytesCodec)({pack:U8,unpack:k8});xy=Ee.WitnessArgs=qO({lock:e_,inputType:e_,outputType:e_});const DF=Ee.HashType=(0,Pr.createFixedBytesCodec)({byteLength:1,pack:t=>{if(t==="type")return Pr.number.Uint8.pack(1);if(t==="data")return Pr.number.Uint8.pack(0);if(t==="data1")return Pr.number.Uint8.pack(2);if(t==="data2")return Pr.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${t}`)},unpack:t=>{const e=Pr.number.Uint8.unpack(t);if(e===1)return"type";if(e===0)return"data";if(e===2)return"data1";if(e===4)return"data2";throw new Error(`Invalid hash type: ${e}`)}}),MF=Ee.DepType=(0,Pr.createFixedBytesCodec)({byteLength:1,pack:t=>{if(t==="code")return HA.pack(0);if(t==="depGroup")return HA.pack(1);throw new Error(`Invalid dep type: ${t}`)},unpack:t=>{const e=Pr.number.Uint8.unpack(t);if(e===0)return"code";if(e===1)return"depGroup";throw new Error(`Invalid dep type: ${e}`)}}),F8=Ee.Script=tc({codeHash:Hc,hashType:DF,args:D1},["codeHash","hashType","args"]),PF=Ee.ScriptOpt=pp(F8),KO=N8=Ee.OutPoint=B1({txHash:Hc,index:Sy},["txHash","index"]),RF=Ee.CellInput=B1({since:hp,previousOutput:KO},["since","previousOutput"]),LF=Ee.CellInputVec=rc(RF),HF=Ee.CellOutput=tc({capacity:hp,lock:F8,type:PF},["capacity","lock","type"]),NF=Ee.CellOutputVec=rc(HF),$F=Ee.CellDep=B1({outPoint:KO,depType:MF},["outPoint","depType"]),UF=Ee.CellDepVec=rc($F),kF=Ee.RawTransaction=tc({version:Sy,cellDeps:UF,headerDeps:BF,inputs:LF,outputs:NF,outputsData:jO},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),NA=tc({raw:kF,witnesses:jO},["raw","witnesses"]),zF=$8=Ee.Transaction=(0,Pr.createBytesCodec)({pack:t=>NA.pack(YO(t)),unpack:t=>GO(NA.unpack(t))}),VO=Ee.TransactionVec=rc(zF),FF=Ee.RawHeader=B1({version:Sy,compactTarget:Sy,timestamp:hp,number:hp,epoch:hp,parentHash:Hc,transactionsRoot:Hc,proposalsHash:Hc,extraHash:Hc,dao:Hc},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),$A=Ee.BaseHeader=B1({raw:FF,nonce:TF},["raw","nonce"]),j8=Ee.Header=(0,Pr.createBytesCodec)({pack:t=>$A.pack(WO(t)),unpack:t=>XO($A.unpack(t))}),jF=Ee.ProposalShortId=z8(10),q8=Ee.ProposalShortIdVec=rc(jF),qF=Ee.UncleBlock=tc({header:j8,proposals:q8},["header","proposals"]),QO=Ee.UncleBlockVec=rc(qF);Ee.Block=tc({header:j8,uncles:QO,transactions:VO,proposals:q8},["header","uncles","transactions","proposals"]);Ee.BlockV1=tc({header:j8,uncles:QO,transactions:VO,proposals:q8,extension:D1},["header","uncles","transactions","proposals","extension"]);Ee.CellbaseWitness=tc({lock:F8,message:D1},["lock","message"]);function YO(t){return{raw:{version:t.version,cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData},witnesses:t.witnesses}}function GO(t){return{cellDeps:t.raw.cellDeps.map(e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType})),headerDeps:t.raw.headerDeps,inputs:t.raw.inputs.map(e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since})),outputs:t.raw.outputs.map(e=>({capacity:e.capacity,lock:e.lock,type:e.type})),outputsData:t.raw.outputsData,version:t.raw.version,witnesses:t.witnesses}}function WO(t){return{raw:{timestamp:t.timestamp,number:t.number,epoch:t.epoch,compactTarget:Number(t.compactTarget),dao:t.dao,parentHash:t.parentHash,proposalsHash:t.proposalsHash,transactionsRoot:t.transactionsRoot,extraHash:t.extraHash,version:t.version},nonce:t.nonce}}function XO(t){return{timestamp:t.raw.timestamp,number:t.raw.number,epoch:t.raw.epoch,compactTarget:t.raw.compactTarget,dao:t.raw.dao,parentHash:t.raw.parentHash,proposalsHash:t.raw.proposalsHash,transactionsRoot:t.raw.transactionsRoot,extraHash:t.raw.extraHash,version:t.raw.version,nonce:t.nonce,hash:""}}Object.defineProperty(St,"__esModule",{value:!0});St.CKBHasher=void 0;St.assertHexString=sj;St.assertHexadecimal=iB;St.ckbHash=Q8;St.ckbHash160=JF;var KF=St.computeScriptHash=ej;St.deepCamel=Cy;St.deepCamelizeTransaction=lj;St.generateTypeIdScript=uj;St.hashCode=tj;St.isDeepEqual=oj;St.readBigUInt128LE=aj;St.readBigUInt128LECompatible=nB;St.readBigUInt64LE=nj;St.readBigUInt64LECompatible=tB;St.toBigUInt128LE=ij;St.toBigUInt128LECompatible=rB;St.toBigUInt64LE=rj;St.toBigUInt64LECompatible=eB;var VF=JO(SF),QF=JO(CF),YF=L8,Dd=ot,K8=GF(Ee),R2=g0;function ZO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(ZO=function(n){return n?r:e})(t)}function GF(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=ZO(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function JO(t){return t&&t.__esModule?t:{default:t}}const{bytify:WF,hexify:XF,bytifyRawString:ZF}=Dd.bytes;let V8=class{constructor(e={}){const{outLength:r=32}=e;this.outLength=r,this.hasher=(0,VF.default)(r,void 0,void 0,ZF("ckb-default-hash"))}update(e){return this.hasher.update(WF(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),XF(e.buffer)}};St.CKBHasher=V8;function Q8(t){const e=new V8;return e.update(Dd.bytes.bytify(t)),e.digestHex()}function JF(t){return Q8(t).slice(0,42)}function ej(t){return Q8(K8.Script.pack(t))}function tj(t){return(0,YF.xxHash32)(t,0)}function rj(t){return eB(t)}function eB(t){return Dd.bytes.hexify(R2.Uint64LE.pack(t))}function nj(t){return tB(t).toBigInt()}function tB(t){return R2.Uint64LE.unpack(t)}function ij(t){return rB(t)}function rB(t){return Dd.bytes.hexify(R2.Uint128LE.pack(t))}function aj(t){return nB(t).toBigInt()}function nB(t){return R2.Uint128LE.unpack(t)}function sj(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function iB(t,e){if(!/^0x(0|[0-9a-fA-F]+)$/.test(e))throw new Error(`${t} must be a hexadecimal!`)}function oj(t,e){return(0,QF.default)(t,e)}const cj="0x00000000000000000000000000000000000000000000000000545950455f4944";function fj(t,e){const r=K8.CellInput.pack(t),n=Dd.bytes.hexify(Dd.number.Uint64LE.pack(e)),i=new V8;return i.update(r),i.update(n),i.digestHex()}function uj(t,e="0x0"){K8.CellInput.pack(t),iB("outputIndex",e);const r=fj(t,e);return{codeHash:cj,hashType:"type",args:r}}function UA(t){return t.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace("-","").replace("_",""))}function Cy(t){if(Object.prototype.toString.call(t)==="[object Array]")return t.length===0?t:t.map(r=>Cy(r));const e={};if(Object.prototype.toString.call(t)==="[object Object]"){for(const r in t){const n=t[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?e[UA(r)]=Cy(n):e[UA(r)]=n}return e}return t}function S6(t){if(Object.prototype.toString.call(t)==="[object Array]")return t.length===0?t:t.map(r=>S6(r));const e={};if(Object.prototype.toString.call(t)==="[object Object]"){for(const r in t){const n=t[r];Object.prototype.toString.call(n)==="[object Object]"||Object.prototype.toString.call(n)==="[object Array]"?e[r]=S6(n):e[r]=n==="dep_group"?"depGroup":n}return e}return t}function lj(t){return S6(Cy(t))}Object.defineProperty(ts,"__esModule",{value:!0});ts.TransactionValue=ts.ScriptValue=ts.RawTransactionValue=ts.OutPointValue=void 0;var dj=L8,hj=St,pj=ot,L2=bj(Ee);function aB(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(aB=function(n){return n?r:e})(t)}function bj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=aB(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const{hexify:kA}=pj.bytes;class H2{constructor(e){this.buffer=e}equals(e){return kA(this.buffer)===kA(e.buffer)}hashCode(){return(0,dj.xxHash32)(Buffer.from(this.buffer),0)}hash(){return(0,hj.ckbHash)(this.buffer)}}let gj=class extends H2{constructor(e,r={}){super(L2.Script.pack(e))}};ts.ScriptValue=gj;class yj extends H2{constructor(e,r={}){super(L2.OutPoint.pack(e))}}ts.OutPointValue=yj;class vj extends H2{constructor(e,r={}){super(L2.RawTransaction.pack(e))}}ts.RawTransactionValue=vj;class mj extends H2{constructor(e,r={}){super(L2.Transaction.pack(e))}}ts.TransactionValue=mj;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.generateAbsoluteEpochSince=oB;var _j=Ui.generateHeaderEpoch=cB;Ui.generateSince=sB;Ui.maximumAbsoluteEpochSince=Aj;var Vp=Ui.parseAbsoluteEpochSince=fB,Y8=Ui.parseEpoch=Iy;Ui.parseSince=wj;Ui.parseSinceCompatible=M1;Ui.validateAbsoluteEpochSince=uB;Ui.validateSince=Ej;var Je=wt;function wj(t){const e=M1(t);return e.type==="epochNumber"?e:{...e,value:e.value.toBigInt()}}function M1(t){const e=Je.BI.from(t),r=e.shr(56),n=r.shr(5).and("0b11");let i,a;if(n.eq(0))i="blockNumber",a=e.and("0xFFFFFFFFFFFFFF");else if(n.eq(1))i="epochNumber",a={length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()};else if(n.eq(2))i="blockTimestamp",a=e.and("0xFFFFFFFFFFFFFF");else throw new Error("Invalid metric flag!");return{relative:!r.and("0x80").eq(0),type:i,value:a}}function sB({relative:t,type:e,value:r}){let n=Je.BI.from(0);t&&(n=n.add(128)),e==="epochNumber"?n=n.add(32):e==="blockTimestamp"&&(n=n.add(64));let i;return(0,Je.isBIish)(r)?i=Je.BI.from(r):typeof r=="object"?i=cB(r):i=Je.BI.from(r),lB(n.shl(56).add(i))}function Iy(t){const e=Je.BI.from(t);return{length:e.shr(40).and(65535).toNumber(),index:e.shr(24).and(65535).toNumber(),number:e.and(16777215).toNumber()}}function Aj(...t){const e=t.map(a=>fB(a)),r=Math.max(...e.map(a=>a.number)),n=e.filter(a=>a.number===r);let i=n[0];for(let a=1;a<n.length;++a){const s=n[a];Je.BI.from(s.index).mul(i.length).gte(Je.BI.from(i.index).mul(s.length))&&(i=s)}return oB(i)}function oB({length:t,index:e,number:r}){return sB({relative:!1,type:"epochNumber",value:{length:t,index:e,number:r}})}function cB({length:t,index:e,number:r}){return lB(Je.BI.from(t).shl(40).add(Je.BI.from(e).shl(24)).add(r))}function fB(t){const{relative:e,type:r,value:n}=M1(t);if(!(e===!1&&r==="epochNumber"))throw new Error("Since format error!");return n}function uB(t,e){const r=M1(t).value,n=Iy(e);return Je.BI.from(r.number).lt(n.number)||Je.BI.from(r.number).eq(n.number)&&Je.BI.from(r.index).mul(n.length).lte(Je.BI.from(n.index).mul(r.length))}function Ej(t,e,r){const{relative:n,type:i,value:a}=M1(t);if(n){if(i==="epochNumber"){const s=Iy(e.epoch),o=Iy(r.epoch),c={number:Je.BI.from(a.number).add(o.number),index:Je.BI.from(a.index).mul(o.length).add(Je.BI.from(o.index).mul(a.length)),length:Je.BI.from(a.length).mul(o.length)};return a.length===0&&o.length!==0?(c.index=Je.BI.from(o.index),c.length=Je.BI.from(o.length)):o.length===0&&a.length!==0&&(c.index=Je.BI.from(a.index),c.length=Je.BI.from(a.length)),!Je.BI.from(c.length).eq(0)&&Je.BI.from(c.index).gte(c.length)&&(c.number=c.index.div(c.length).add(c.number),c.index=c.index.mod(c.length)),Je.BI.from(c.number).lt(s.number)||Je.BI.from(c.number).eq(s.number)&&Je.BI.from(c.index).mul(s.length).lte(Je.BI.from(s.index).mul(c.length))}if(i==="blockNumber")return Je.BI.from(a).add(r.blockNumber).lte(e.blockNumber);if(i==="blockTimestamp"){if(!e.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return Je.BI.from(a).mul(1e3).add(r.median_timestamp).lte(e.median_timestamp)}}else{if(i==="epochNumber")return uB(t,e.epoch);if(i==="blockNumber")return Je.BI.from(a).lte(e.blockNumber);if(i==="blockTimestamp"){if(!e.median_timestamp)throw new Error("Must provide tip median_timestamp!");return Je.BI.from(a).mul(1e3).lte(e.median_timestamp)}}return!1}function lB(t){return"0x"+t.toString(16)}var P1={};Object.defineProperty(P1,"__esModule",{value:!0});P1.isCellMatchQueryOptions=xj;P1.isScriptWrapper=Ng;var Jb=ts,eg=wt;function Ng(t){return t!==null&&t.script!==void 0}function xj(t,{lock:e=void 0,type:r=void 0,argsLen:n=-1,data:i="any",fromBlock:a=void 0,toBlock:s=void 0}){let o=null,c=null;if(e&&!Ng(e)?o={script:e,argsLen:n}:e&&(o=e,e.argsLen||(o.argsLen=n)),r&&r==="empty"?c=r:r&&typeof r=="object"&&!Ng(r)?c={script:r,argsLen:n}:r&&typeof r=="object"&&Ng(r)&&(c=r,r.argsLen||(c.argsLen=n)),o&&o.script&&o.argsLen===-1&&!new Jb.ScriptValue(t.cellOutput.lock,{validate:!1}).equals(new Jb.ScriptValue(o.script,{validate:!1})))return!1;if(o&&o.script&&o.argsLen==="any"){const f=t.cellOutput.lock;if(f.codeHash!==o.script.codeHash||f.hashType!==o.script.hashType||!f.args.startsWith(o.script.args))return!1}if(o&&o.script&&typeof o.argsLen=="number"&&o.argsLen>=0){const f=o.argsLen*2+2,u=o.script.args.length,l=Math.min(f,u),h=t.cellOutput.lock;if(h.args.length!==f||!(h.codeHash===o.script.codeHash&&h.hashType===o.script.hashType&&h.args.slice(0,l)===o.script.args.slice(0,l)))return!1}return!(c&&c==="empty"&&t.cellOutput.type||c&&typeof c=="object"&&(!t.cellOutput.type||!new Jb.ScriptValue(t.cellOutput.type,{validate:!1}).equals(new Jb.ScriptValue(c.script,{validate:!1})))||i&&i!=="any"&&t.data!==i||a&&t.blockNumber&&eg.BI.from(t.blockNumber).lt(eg.BI.from(a))||s&&t.blockNumber&&eg.BI.from(t.blockNumber).gt(eg.BI.from(s)))}var sf={},G8={},R1={};Object.defineProperty(R1,"__esModule",{value:!0});R1.Reader=void 0;class L1{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return e==null?!1:e instanceof L1?!0:e.__isByteLikeReader__===!0}}class tg extends L1{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),e=>("00"+e.toString(16)).slice(-2)).join("")}}class zA extends L1{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+e*2,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),r=new DataView(e);for(let n=0;n<this.length();n++)r.setUint8(n,this.indexAt(n));return e}serializeJson(){return this.string}}class W8 extends L1{constructor(e){if(super(),e instanceof zA||e instanceof tg)return e;if(typeof e=="string"){if(!e.startsWith("0x")||e.length%2!==0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new zA(e)}if(e instanceof ArrayBuffer)return new tg(e);if(e instanceof Uint8Array)return new tg(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new W8(e)}static fromRawString(e){const r=new ArrayBuffer(e.length),n=new DataView(r);for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);if(a>255)throw new Error("fromRawString can only accept UTF-8 raw string!");n.setUint8(i,a)}return new tg(r)}}R1.Reader=W8;var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.NormalizeBlock=Ij;Jn.NormalizeCellDep=pB;Jn.NormalizeCellInput=dB;Jn.NormalizeCellOutput=hB;Jn.NormalizeCellbaseWitness=Tj;Jn.NormalizeHeader=Z8;Jn.NormalizeOutPoint=X8;Jn.NormalizeRawHeader=yB;Jn.NormalizeRawTransaction=bB;Jn.NormalizeScript=Ty;Jn.NormalizeTransaction=gB;Jn.NormalizeUncleBlock=vB;Jn.NormalizeWitnessArgs=Oj;var Sj=wt,Cj=R1;function Bs(t){return function(e,r){if(!(r instanceof ArrayBuffer)){let n=Sj.BI.from(r).toString(16);if(n.length%2!==0&&(n="0"+n),n.length/2>t)throw new Error(`${e} is ${n.length/2} bytes long, expected length is ${t}!`);const i=new DataView(new ArrayBuffer(t));for(let a=0;a<n.length/2;a++){const s=n.length-(a+1)*2;i.setUint8(a,parseInt(n.substr(s,2),16))}r=i.buffer}if(r.byteLength<t){const n=new Uint8Array(t);n.set(new Uint8Array(r),0),r=n.buffer}return r}}function Jr(t){return function(e,r){if(r=new Cj.Reader(r).toArrayBuffer(),t>0&&r.byteLength!==t)throw new Error(`${e} has invalid length ${r.byteLength}, required: ${t}`);return r}}function Pa(t,e,r){const n={};for(const[i,a]of Object.entries(r)){const s=e[i];if(s==null)throw new Error(`${t} is missing ${i}!`);n[i]=a(`${t}.${i}`,s)}return n}function Ty(t,{debugPath:e="script"}={}){return Pa(e,t,{codeHash:Jr(32),hashType:function(r,n){switch(n){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:return n;case 1:return n;case 2:return n;case 4:return n;default:throw new Error(`${r}.hashType has invalid value: ${n}`)}},args:Jr(-1)})}function X8(t,{debugPath:e="outPoint"}={}){return Pa(e,t,{txHash:Jr(32),index:Bs(4)})}function os(t){return function(e,r){return t(r,{debugPath:e})}}function dB(t,{debugPath:e="cell_input"}={}){return Pa(e,t,{since:Bs(8),previousOutput:os(X8)})}function hB(t,{debugPath:e="cellOutput"}={}){const r=Pa(e,t,{capacity:Bs(8),lock:os(Ty)});return t.type&&(r.type_=Ty(t.type,{debugPath:`${e}.type`})),r}function pB(t,{debugPath:e="cell_dep"}={}){return Pa(e,t,{outPoint:os(X8),depType:function(r,n){switch(n){case"code":return 0;case"depGroup":return 1;case 0:return n;case 1:return n;default:throw new Error(`${r}.depType has invalid value: ${n}`)}}})}function Ds(t){return function(e,r){return r.map((n,i)=>t(`${e}[${i}]`,n))}}function bB(t,{debugPath:e="raw_transaction"}={}){return Pa(e,t,{version:Bs(4),cellDeps:Ds(os(pB)),headerDeps:Ds(Jr(32)),inputs:Ds(os(dB)),outputs:Ds(os(hB)),outputsData:Ds(Jr(-1))})}function gB(t,{debugPath:e="transaction"}={}){const r=bB(t,{debugPath:`(raw)${e}`}),n=Pa(e,t,{witnesses:Ds(Jr(-1))});return n.raw=r,n}function yB(t,{debugPath:e="raw_header"}={}){return Pa(e,t,{version:Bs(4),compactTarget:Bs(4),timestamp:Bs(8),number:Bs(8),epoch:Bs(8),parentHash:Jr(32),transactionsRoot:Jr(32),proposalsHash:Jr(32),extraHash:Jr(32),dao:Jr(32)})}function Z8(t,{debugPath:e="header"}={}){const r=yB(t,{debugPath:`(raw)${e}`}),n=Pa(e,t,{nonce:Bs(16)});return n.raw=r,n}function vB(t,{debugPath:e="uncle_block"}={}){return Pa(e,t,{header:os(Z8),proposals:Ds(Jr(10))})}function Ij(t,{debugPath:e="block"}={}){return Pa(e,t,{header:os(Z8),uncles:Ds(os(vB)),transactions:Ds(os(gB)),proposals:Ds(Jr(10))})}function Tj(t,{debugPath:e="cellbase_witness"}={}){return Pa(e,t,{lock:os(Ty),message:Jr(-1)})}function Oj(t,{debugPath:e="witness_args"}={}){const r={};return t.lock&&(r.lock=Jr(-1)(`${e}.lock`,t.lock)),t.inputType&&(r.inputType=Jr(-1)(`${e}.inputType`,t.inputType)),t.outputType&&(r.outputType=Jr(-1)(`${e}.outputType`,t.outputType)),r}var bi={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.ValidateBlock=Rj;Mn.ValidateCellDep=wB;Mn.ValidateCellInput=mB;Mn.ValidateCellOutput=_B;Mn.ValidateCellbaseWitness=Lj;Mn.ValidateHeader=e5;Mn.ValidateOutPoint=J8;Mn.ValidateRawHeader=Pj;Mn.ValidateRawTransaction=Dj;Mn.ValidateScript=Oy;Mn.ValidateTransaction=EB;Mn.ValidateUncleBlock=SB;Mn.ValidateWitnessArgs=Hj;function Bj(t,e){if(!(e instanceof Object))throw new Error(`${t} is not an object!`)}function ki(t,e,r,n=[]){Bj(t,e);const i=Object.keys(e).sort(),a=r.length,s=r.length+n.length,o=`${t} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<a||i.length>s)throw new Error(o);let c=i.filter(f=>!r.includes(f));if(i.length-c.length!==a)throw new Error(o);if(c.find(f=>!n.includes(f)))throw new Error(o)}function ks(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function Nc(t,e){if(ks(t,e),e.length!==66)throw new Error(`${t} must be a hex string of 66 bytes long!`)}function wo(t,e){if(e!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function Oy(t,{nestedValidation:e=!0,debugPath:r="script"}={}){if(ki(r,t,["codeHash","hashType","args"],[]),Nc(`${r}.codeHash`,t.codeHash),ks(`${r}.args`,t.args),t.hashType!=="data"&&t.hashType!=="type"&&t.hashType!=="data1"&&t.hashType!=="data2")throw new Error(`${r}.hashType must be either data or type!`)}function J8(t,{nestedValidation:e=!0,debugPath:r="outPoint"}={}){ki(r,t,["txHash","index"],[]),Nc(`${r}.txHash`,t.txHash),wo(`${r}.index`,t.index)}function mB(t,{nestedValidation:e=!0,debugPath:r="cellInput"}={}){ki(r,t,["since","previousOutput"],[]),wo(`${r}.since`,t.since),e&&J8(t.previousOutput,{debugPath:`${r}.previousOutput`})}function _B(t,{nestedValidation:e=!0,debugPath:r="cellOutput"}={}){ki(r,t,["capacity","lock"],["type"]),wo(`${r}.capacity`,t.capacity),e&&(Oy(t.lock,{debugPath:`${r}.lock`}),t.type&&Oy(t.type,{debugPath:`${r}.type`}))}function wB(t,{nestedValidation:e=!0,debugPath:r="cellDep"}={}){if(ki(r,t,["outPoint","depType"],[]),t.depType!=="code"&&t.depType!=="depGroup")throw new Error(`${r}.depType must be either code or depGroup!`);e&&J8(t.outPoint,{debugPath:`${r}.outPoint`})}function Ms(t,e,r,n){if(!Array.isArray(e))throw new Error(`${t} is not an array!`);if(n)for(let i=0;i<e.length;i++)r(`${t}[${i}]`,e[i])}function bp(t,e){return function(r,n){t(n,{nestedValidation:e,debugPath:r})}}function AB(t,e,r){wo(`${t}.version`,e.version),Ms(`${t}.cellDeps`,e.cellDeps,bp(wB,r),r),Ms(`${t}.headerDeps`,e.headerDeps,Nc,r),Ms(`${t}.inputs`,e.inputs,bp(mB,r),r),Ms(`${t}.outputs`,e.outputs,bp(_B,r),r),Ms(`${t}.outputsData`,e.outputsData,ks,r)}function Dj(t,{nestedValidation:e=!0,debugPath:r="rawTransaction"}={}){ki(r,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),AB(r,t,e)}function EB(t,{nestedValidation:e=!0,debugPath:r="transaction"}={}){ki(r,t,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),AB(r,t,e),Ms(`${r}.witnesses`,t.witnesses,ks,e)}function Mj(t,e){wo(`${t}.version`,e.version),wo(`${t}.compactTarget`,e.compactTarget),wo(`${t}.timestamp`,e.timestamp),wo(`${t}.number`,e.number),wo(`${t}.epoch`,e.epoch),Nc(`${t}.parentHash`,e.parentHash),Nc(`${t}.transactionsRoot`,e.transactionsRoot),Nc(`${t}.proposalsHash`,e.proposalsHash),Nc(`${t}.extraHash`,e.extraHash),Nc(`${t}.dao`,e.dao)}function Pj(t,{nestedValidation:e=!0,debugPath:r="rawHeader"}={}){ki(r,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),Mj(r,t)}function e5(t,{nestedValidation:e=!0,debugPath:r="header"}={}){if(ki(r,t,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),ks(`${r}.nonce`,t.nonce),t.nonce.length!==34)throw new Error(`${r}.nonce must be a hex string of 34 bytes long!`)}function xB(t,e){if(ks(t,e),e.length!==22)throw new Error(`${t} must be a hex string of 22 bytes long!`)}function SB(t,{nestedValidation:e=!0,debugPath:r="uncleBlock"}={}){ki(r,t,["header","proposals"],[]),e&&e5(t.header,{debugPath:`${r}.header`}),Ms(`${r}.proposals`,t.proposals,xB,e)}function Rj(t,{nestedValidation:e=!0,debugPath:r="block"}={}){ki(r,t,["header","uncles","transactions","proposals"],[]),e&&e5(t.header,{debugPath:`${r}.header`}),Ms(`${r}.uncles`,t.uncles,bp(SB,e),e),Ms(`${r}.transactions`,t.transactions,bp(EB,e),e),Ms(`${r}.proposals`,t.proposals,xB,e)}function Lj(t,{nestedValidation:e=!0,debugPath:r="cellbaseWitness"}={}){ki(r,t,["lock","message"],[]),ks(`${r}.message`,t.message),e&&Oy(t.lock,{debugPath:`${r}.lock`})}function Hj(t,{nestedValidation:e=!0,debugPath:r="witnessArgs"}={}){ki(r,t,[],["lock","inputType","outputType"]),t.lock&&ks(`${r}.lock`,t.lock),t.inputType&&ks(`${r}.inputType`,t.inputType),t.outputType&&ks(`${r}.outputType`,t.outputType)}Object.defineProperty(bi,"__esModule",{value:!0});bi.TransformBlock=kj;bi.TransformCellInput=r5;bi.TransformCellOutput=n5;bi.TransformCellbaseWitness=zj;bi.TransformHeader=i5;bi.TransformOutPoint=t5;bi.TransformRawHeader=Uj;bi.TransformRawTransaction=$j;bi.TransformScript=By;bi.TransformTransaction=TB;bi.TransformUncleBlock=OB;bi.TransformWitnessArgs=Fj;var zi=Nj(Mn);function CB(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(CB=function(n){return n?r:e})(t)}function Nj(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=CB(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function $e(t,e){return e instanceof Object&&e.serializeJson instanceof Function?e.serializeJson.call(e):e}function Fi(t,e,r){if(e=$e(t,e),!(e instanceof Object))throw new Error(`Transformed ${t} is not an object!`);const n={};for(const[i,a]of Object.entries(r)){let s=e[i];if(!s){const o=i.replace(/(_[a-z])/g,c=>c.toUpperCase().replace("_",""));s=e[o]}s&&(n[i]=a(`${t}.${i}`,s))}return n}function By(t,{validation:e=!0,debugPath:r="script"}={}){return t=Fi(r,t,{codeHash:$e,hashType:$e,args:$e}),e&&zi.ValidateScript(t,{debugPath:`(transformed) ${r}`}),t}function t5(t,{validation:e=!0,debugPath:r="outPoint"}={}){return t=Fi(r,t,{txHash:$e,index:$e}),e&&zi.ValidateOutPoint(t,{debugPath:`(transformed) ${r}`}),t}function Qn(t){return function(e,r){return t(r,{validation:!1,debugPath:e})}}function r5(t,{validation:e=!0,debugPath:r="cell_input"}={}){return t=Fi(r,t,{since:$e,previousOutput:Qn(t5)}),e&&zi.ValidateCellInput(t,{debugPath:`(transformed) ${r}`}),t}function n5(t,{validation:e=!0,debugPath:r="cellOutput"}={}){return t=Fi(r,t,{capacity:$e,lock:Qn(By),type:Qn(By)}),e&&zi.ValidateCellOutput(t,{debugPath:`(transformed) ${r}`}),t}function IB(t,{validation:e=!0,debugPath:r="cell_dep"}={}){return t=Fi(r,t,{outPoint:Qn(t5),depType:$e}),e&&zi.ValidateCellDep(t,{debugPath:`(transformed) ${r}`}),t}function kn(t){return function(e,r){return r.map((n,i)=>t(`${e}[${i}]`,n))}}function $j(t,{validation:e=!0,debugPath:r="raw_transaction"}={}){return t=Fi(r,t,{version:$e,cellDeps:kn(Qn(IB)),headerDeps:kn($e),inputs:kn(Qn(r5)),outputs:kn(Qn(n5)),outputsData:kn($e)}),e&&zi.ValidateRawTransaction(t,{debugPath:`(transformed) ${r}`}),t}function TB(t,{validation:e=!0,debugPath:r="transaction"}={}){return t=Fi(r,t,{version:$e,cellDeps:kn(Qn(IB)),headerDeps:kn($e),inputs:kn(Qn(r5)),outputs:kn(Qn(n5)),outputsData:kn($e),witnesses:kn($e)}),e&&zi.ValidateTransaction(t,{debugPath:`(transformed) ${r}`}),t}function Uj(t,{validation:e=!0,debugPath:r="raw_header"}={}){return t=Fi(r,t,{version:$e,compactTarget:$e,timestamp:$e,number:$e,epoch:$e,parentHash:$e,transactionsRoot:$e,proposalsHash:$e,extraHash:$e,dao:$e}),e&&zi.ValidateRawHeader(t,{debugPath:`(transformed) ${r}`}),t}function i5(t,{validation:e=!0,debugPath:r="header"}={}){return t=Fi(r,t,{version:$e,compactTarget:$e,timestamp:$e,number:$e,epoch:$e,parentHash:$e,transactionsRoot:$e,proposalsHash:$e,extraHash:$e,dao:$e,nonce:$e}),e&&zi.ValidateHeader(t,{debugPath:`(transformed) ${r}`}),t}function OB(t,{validation:e=!0,debugPath:r="uncle_block"}={}){return t=Fi(r,t,{header:Qn(i5),proposals:kn($e)}),e&&zi.ValidateUncleBlock(t,{debugPath:`(transformed) ${r}`}),t}function kj(t,{validation:e=!0,debugPath:r="block"}={}){return t=Fi(r,t,{header:Qn(i5),uncles:kn(Qn(OB)),transactions:kn(Qn(TB)),proposals:kn($e)}),e&&zi.ValidateBlock(t,{debugPath:`(transformed) ${r}`}),t}function zj(t,{validation:e=!0,debugPath:r="cellbase_witness"}={}){return t=Fi(r,t,{lock:Qn(By),message:$e}),e&&zi.ValidateCellbaseWitness(t,{debugPath:`(transformed) ${r}`}),t}function Fj(t,{validation:e=!0,debugPath:r="witness_args"}={}){return t=Fi(r,t,{lock:$e,inputType:$e,outputType:$e}),e&&zi.ValidateWitnessArgs(t,{debugPath:`(transformed) ${r}`}),t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return e.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var e=R1,r=s(Jn);t.normalizers=r;var n=s(bi);t.transformers=n;var i=s(Mn);t.validators=i;function a(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(a=function(u){return u?f:c})(o)}function s(o,c){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var f=a(c);if(f&&f.has(o))return f.get(o);var u={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&{}.hasOwnProperty.call(o,h)){var g=l?Object.getOwnPropertyDescriptor(o,h):null;g&&(g.get||g.set)?Object.defineProperty(u,h,g):u[h]=o[h]}return u.default=o,f&&f.set(o,u),u}t.VERSION="__development_build__"})(G8);Object.defineProperty(sf,"__esModule",{value:!0});sf.default=sf.TransactionCollector=sf.Indexer=void 0;var rg=G8,FA=St,jA=P1;class jj{}sf.Indexer=jj;class BB{constructor(e,{lock:r,type:n,argsLen:i=-1,fromBlock:a,toBlock:s,order:o="asc",skip:c}={},{skipMissing:f=!1,includeStatus:u=!0}={}){if(!r&&(!n||n==="empty"))throw new Error("Either lock or type script must be provided!");if(r&&!(0,jA.isScriptWrapper)(r)?(rg.validators.ValidateScript(r),this.lock={script:r,ioType:"both",argsLen:i}):r&&r.script&&(rg.validators.ValidateScript(r.script),this.lock=r,r.argsLen||(this.lock.argsLen=i),r.ioType||(this.lock.ioType="both")),n==="empty"?this.type=n:n&&!(0,jA.isScriptWrapper)(n)?(rg.validators.ValidateScript(n),this.type={script:n,ioType:"both",argsLen:i}):n&&n.script&&(rg.validators.ValidateScript(n.script),this.type=n,n.argsLen||(this.type.argsLen=i),n.ioType||(this.type.ioType="both")),a&&(0,FA.assertHexadecimal)("fromBlock",a),s&&(0,FA.assertHexadecimal)("toBlock",s),o!=="asc"&&o!=="desc")throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=f,this.includeStatus=u,this.fromBlock=a,this.toBlock=s,this.order=o,this.skip=c,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const r of e){const n=await this.rpc.get_transaction(r);if(!this.skipMissing&&!n)throw new Error(`Transaction ${r} is missing!`);this.includeStatus?yield n:yield n.transaction}}}sf.TransactionCollector=BB;const qj={TransactionCollector:BB};sf.default=qj;var N2={};Object.defineProperty(N2,"__esModule",{value:!0});N2.defaultLogger=DB;N2.deprecated=Kj;function DB(t,e){const r=`[${t}] ${e}`;if(t==="error"||t==="warn")return console.warn(r);console.log(`[${t}] ${e}`)}function Kj(t){DB("deprecated",t)}var MB={};Object.defineProperty(MB,"__esModule",{value:!0});var PB={};Object.defineProperty(PB,"__esModule",{value:!0});(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var r=h(ts);t.values=r;var n=h(St);t.utils=n;var i=h(Ui);t.since=i;var a=h(P1);t.helpers=a;var s=h(sf);t.indexer=s,Object.keys(s).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(e,g)||g in t&&t[g]===s[g]||Object.defineProperty(t,g,{enumerable:!0,get:function(){return s[g]}})});var o=h(N2);t.logger=o;var c=h(Ee);t.blockchain=c;var f=MB;Object.keys(f).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(e,g)||g in t&&t[g]===f[g]||Object.defineProperty(t,g,{enumerable:!0,get:function(){return f[g]}})});var u=PB;Object.keys(u).forEach(function(g){g==="default"||g==="__esModule"||Object.prototype.hasOwnProperty.call(e,g)||g in t&&t[g]===u[g]||Object.defineProperty(t,g,{enumerable:!0,get:function(){return u[g]}})});function l(g){if(typeof WeakMap!="function")return null;var _=new WeakMap,A=new WeakMap;return(l=function(C){return C?A:_})(g)}function h(g,_){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var A=l(_);if(A&&A.has(g))return A.get(g);var C={__proto__:null},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in g)if(I!=="default"&&{}.hasOwnProperty.call(g,I)){var T=w?Object.getOwnPropertyDescriptor(g,I):null;T&&(T.get||T.set)?Object.defineProperty(C,I,T):C[I]=g[I]}return C.default=g,A&&A.set(g,C),C}})(xr);var pf={};Object.defineProperty(pf,"__esModule",{value:!0});var Qp=pf.bech32m=Bu=pf.bech32=void 0;const Dy="qpzry9x8gf2tvdw0s3jn54khce6mua7l",RB={};for(let t=0;t<Dy.length;t++){const e=Dy.charAt(t);RB[e]=t}function ed(t){const e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function qA(t){let e=1;for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=ed(e)^n>>5}e=ed(e);for(let r=0;r<t.length;++r){const n=t.charCodeAt(r);e=ed(e)^n&31}return e}function a5(t,e,r,n){let i=0,a=0;const s=(1<<r)-1,o=[];for(let c=0;c<t.length;++c)for(i=i<<e|t[c],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function Vj(t){return a5(t,8,5,!0)}function Qj(t){const e=a5(t,5,8,!1);if(Array.isArray(e))return e}function Yj(t){const e=a5(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function LB(t){let e;t==="bech32"?e=1:e=734539939;function r(s,o,c){if(c=c||90,s.length+7+o.length>c)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let f=qA(s);if(typeof f=="string")throw new Error(f);let u=s+"1";for(let l=0;l<o.length;++l){const h=o[l];if(h>>5)throw new Error("Non 5-bit word");f=ed(f)^h,u+=Dy.charAt(h)}for(let l=0;l<6;++l)f=ed(f);f^=e;for(let l=0;l<6;++l){const h=f>>(5-l)*5&31;u+=Dy.charAt(h)}return u}function n(s,o){if(o=o||90,s.length<8)return s+" too short";if(s.length>o)return"Exceeds length limit";const c=s.toLowerCase(),f=s.toUpperCase();if(s!==c&&s!==f)return"Mixed-case string "+s;s=c;const u=s.lastIndexOf("1");if(u===-1)return"No separator character for "+s;if(u===0)return"Missing prefix for "+s;const l=s.slice(0,u),h=s.slice(u+1);if(h.length<6)return"Data too short";let g=qA(l);if(typeof g=="string")return g;const _=[];for(let A=0;A<h.length;++A){const C=h.charAt(A),w=RB[C];if(w===void 0)return"Unknown character "+C;g=ed(g)^w,!(A+6>=h.length)&&_.push(w)}return g!==e?"Invalid checksum for "+s:{prefix:l,words:_}}function i(s,o){const c=n(s,o);if(typeof c=="object")return c}function a(s,o){const c=n(s,o);if(typeof c=="object")return c;throw new Error(c)}return{decodeUnsafe:i,decode:a,encode:r,toWords:Vj,fromWordsUnsafe:Qj,fromWords:Yj}}var Bu=pf.bech32=LB("bech32");Qp=pf.bech32m=LB("bech32m");var H1="delete",It=5,ma=1<<It,Kn=ma-1,We={};function C6(){return{value:!1}}function _a(t){t&&(t.value=!0)}function s5(){}function Md(t){return t.size===void 0&&(t.size=t.__iterate(HB)),t.size}function bf(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Md(t)+e:e}function HB(){return!0}function N1(t,e,r){return(t===0&&!$B(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function v0(t,e){return NB(t,e,0)}function $1(t,e){return NB(t,e,e)}function NB(t,e,r){return t===void 0?r:$B(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function $B(t){return t<0||t===0&&1/t===-1/0}var UB="@@__IMMUTABLE_ITERABLE__@@";function Tn(t){return!!(t&&t[UB])}var kB="@@__IMMUTABLE_KEYED__@@";function yt(t){return!!(t&&t[kB])}var zB="@@__IMMUTABLE_INDEXED__@@";function tn(t){return!!(t&&t[zB])}function m0(t){return yt(t)||tn(t)}var Ot=function(e){return Tn(e)?e:On(e)},Ra=function(t){function e(r){return yt(r)?r:If(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),Qu=function(t){function e(r){return tn(r)?r:La(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),_0=function(t){function e(r){return Tn(r)&&!m0(r)?r:E0(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot);Ot.Keyed=Ra;Ot.Indexed=Qu;Ot.Set=_0;var FB="@@__IMMUTABLE_SEQ__@@";function U1(t){return!!(t&&t[FB])}var jB="@@__IMMUTABLE_RECORD__@@";function Cf(t){return!!(t&&t[jB])}function ji(t){return Tn(t)||Cf(t)}var w0="@@__IMMUTABLE_ORDERED__@@";function Li(t){return!!(t&&t[w0])}var k1=0,ls=1,Ca=2,I6=typeof Symbol=="function"&&Symbol.iterator,qB="@@iterator",$2=I6||qB,et=function(e){this.next=e};et.prototype.toString=function(){return"[Iterator]"};et.KEYS=k1;et.VALUES=ls;et.ENTRIES=Ca;et.prototype.inspect=et.prototype.toSource=function(){return this.toString()};et.prototype[$2]=function(){return this};function Bt(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Wn(){return{value:void 0,done:!0}}function o5(t){return Array.isArray(t)?!0:!!U2(t)}function KA(t){return t&&typeof t.next=="function"}function T6(t){var e=U2(t);return e&&e.call(t)}function U2(t){var e=t&&(I6&&t[I6]||t[qB]);if(typeof e=="function")return e}function Gj(t){var e=U2(t);return e&&e===t.entries}function Wj(t){var e=U2(t);return e&&e===t.keys}var A0=Object.prototype.hasOwnProperty;function c5(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var On=function(t){function e(r){return r==null?u5():ji(r)?r.toSeq():Zj(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var s=a.length,o=0;o!==s;){var c=a[i?s-++o:o++];if(n(c[1],c[0],this)===!1)break}return o}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var s=a.length,o=0;return new et(function(){if(o===s)return Wn();var c=a[i?s-++o:o++];return Bt(n,c[0],c[1])})}return this.__iteratorUncached(n,i)},e}(Ot),If=function(t){function e(r){return r==null?u5().toKeyedSeq():Tn(r)?yt(r)?r.toSeq():r.fromEntrySeq():Cf(r)?r.toSeq():l5(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(On),La=function(t){function e(r){return r==null?u5():Tn(r)?yt(r)?r.entrySeq():r.toIndexedSeq():Cf(r)?r.toSeq().entrySeq():KB(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(On),E0=function(t){function e(r){return(Tn(r)&&!m0(r)?r:La(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(On);On.isSeq=U1;On.Keyed=If;On.Set=E0;On.Indexed=La;On.prototype[FB]=!0;var Du=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[bf(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,s=a.length,o=0;o!==s;){var c=i?s-++o:o++;if(n(a[c],c,this)===!1)break}return o},e.prototype.__iterator=function(n,i){var a=this._array,s=a.length,o=0;return new et(function(){if(o===s)return Wn();var c=i?s-++o:o++;return Bt(n,c,a[c])})},e}(La),f5=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return A0.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,s=this._keys,o=s.length,c=0;c!==o;){var f=s[i?o-++c:c++];if(n(a[f],f,this)===!1)break}return c},e.prototype.__iterator=function(n,i){var a=this._object,s=this._keys,o=s.length,c=0;return new et(function(){if(c===o)return Wn();var f=s[i?o-++c:c++];return Bt(n,f,a[f])})},e}(If);f5.prototype[w0]=!0;var Xj=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,s=T6(a),o=0;if(KA(s))for(var c;!(c=s.next()).done&&n(c.value,o++,this)!==!1;);return o},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,s=T6(a);if(!KA(s))return new et(Wn);var o=0;return new et(function(){var c=s.next();return c.done?c:Bt(n,o++,c.value)})},e}(La),VA;function u5(){return VA||(VA=new Du([]))}function l5(t){var e=d5(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new f5(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function KB(t){var e=d5(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Zj(t){var e=d5(t);if(e)return Gj(t)?e.fromEntrySeq():Wj(t)?e.toSetSeq():e;if(typeof t=="object")return new f5(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function d5(t){return c5(t)?new Du(t):o5(t)?new Xj(t):void 0}var VB="@@__IMMUTABLE_MAP__@@";function z1(t){return!!(t&&t[VB])}function k2(t){return z1(t)&&Li(t)}function My(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function Ar(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(My(t)&&My(e)&&t.equals(e))}var gh=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function z2(t){return t>>>1&1073741824|t&3221225471}var Jj=Object.prototype.valueOf;function zn(t){if(t==null)return QA(t);if(typeof t.hashCode=="function")return z2(t.hashCode(t));var e=aq(t);if(e==null)return QA(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return eq(e);case"string":return e.length>sq?tq(e):O6(e);case"object":case"function":return nq(e);case"symbol":return rq(e);default:if(typeof e.toString=="function")return O6(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function QA(t){return t===null?1108378658:1108378659}function eq(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return z2(e)}function tq(t){var e=n_[t];return e===void 0&&(e=O6(t),r_===oq&&(r_=0,n_={}),r_++,n_[t]=e),e}function O6(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return z2(e)}function rq(t){var e=WA[t];return e!==void 0||(e=QB(),WA[t]=e),e}function nq(t){var e;if(B6&&(e=D6.get(t),e!==void 0)||(e=t[Vf],e!==void 0)||!GA&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Vf],e!==void 0||(e=iq(t),e!==void 0)))return e;if(e=QB(),B6)D6.set(t,e);else{if(YA!==void 0&&YA(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(GA)Object.defineProperty(t,Vf,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Vf]=e;else if(t.nodeType!==void 0)t[Vf]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var YA=Object.isExtensible,GA=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function iq(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function aq(t){return t.valueOf!==Jj&&typeof t.valueOf=="function"?t.valueOf(t):t}function QB(){var t=++t_;return t_&1073741824&&(t_=0),t}var B6=typeof WeakMap=="function",D6;B6&&(D6=new WeakMap);var WA=Object.create(null),t_=0,Vf="__immutablehash__";typeof Symbol=="function"&&(Vf=Symbol(Vf));var sq=16,oq=255,r_=0,n_={},F2=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=h5(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,s=ZB(this,n,i);return this._useKeys||(s.valueSeq=function(){return a._iter.toSeq().map(n,i)}),s},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s,o){return n(s,o,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(If);F2.prototype[w0]=!0;var YB=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,s=0;return i&&Md(this),this._iter.__iterate(function(o){return n(o,i?a.size-++s:s++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,s=this._iter.__iterator(ls,i),o=0;return i&&Md(this),new et(function(){var c=s.next();return c.done?c:Bt(n,i?a.size-++o:o++,c.value,c)})},e}(La),GB=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){return n(s,s,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ls,i);return new et(function(){var s=a.next();return s.done?s:Bt(n,s.value,s.value,s)})},e}(E0),WB=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(s){if(s){ZA(s);var o=Tn(s);return n(o?s.get(1):s[1],o?s.get(0):s[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(ls,i);return new et(function(){for(;;){var s=a.next();if(s.done)return s;var o=s.value;if(o){ZA(o);var c=Tn(o);return Bt(n,c?o.get(0):o[0],c?o.get(1):o[1],s)}}})},e}(If);YB.prototype.cacheResult=F2.prototype.cacheResult=GB.prototype.cacheResult=WB.prototype.cacheResult=g5;function XB(t){var e=ro(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=g5,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,s){return r(s,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===Ca){var i=t.__iterator(r,n);return new et(function(){var a=i.next();if(!a.done){var s=a.value[0];a.value[0]=a.value[1],a.value[1]=s}return a})}return t.__iterator(r===ls?k1:ls,n)},e}function ZB(t,e,r){var n=ro(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var s=t.get(i,We);return s===We?a:e.call(r,s,i,t)},n.__iterateUncached=function(i,a){var s=this;return t.__iterate(function(o,c,f){return i(e.call(r,o,c,f),c,s)!==!1},a)},n.__iteratorUncached=function(i,a){var s=t.__iterator(Ca,a);return new et(function(){var o=s.next();if(o.done)return o;var c=o.value,f=c[0];return Bt(i,f,e.call(r,c[1],f,t),o)})},n}function h5(t,e){var r=this,n=ro(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=XB(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=g5,n.__iterate=function(i,a){var s=this,o=0;return a&&Md(t),t.__iterate(function(c,f){return i(c,e?f:a?s.size-++o:o++,s)},!a)},n.__iterator=function(i,a){var s=0;a&&Md(t);var o=t.__iterator(Ca,!a);return new et(function(){var c=o.next();if(c.done)return c;var f=c.value;return Bt(i,e?f[0]:a?r.size-++s:s++,f[1],c)})},n}function JB(t,e,r,n){var i=ro(t);return n&&(i.has=function(a){var s=t.get(a,We);return s!==We&&!!e.call(r,s,a,t)},i.get=function(a,s){var o=t.get(a,We);return o!==We&&e.call(r,o,a,t)?o:s}),i.__iterateUncached=function(a,s){var o=this,c=0;return t.__iterate(function(f,u,l){if(e.call(r,f,u,l))return c++,a(f,n?u:c-1,o)},s),c},i.__iteratorUncached=function(a,s){var o=t.__iterator(Ca,s),c=0;return new et(function(){for(;;){var f=o.next();if(f.done)return f;var u=f.value,l=u[0],h=u[1];if(e.call(r,h,l,t))return Bt(a,n?l:c++,h,f)}})},i}function cq(t,e,r){var n=nc().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(s){return s+1})}),n.asImmutable()}function fq(t,e,r){var n=yt(t),i=(Li(t)?ds():nc()).asMutable();t.__iterate(function(s,o){i.update(e.call(r,s,o,t),function(c){return c=c||[],c.push(n?[o,s]:s),c})});var a=b5(t);return i.map(function(s){return pt(t,a(s))}).asImmutable()}function uq(t,e,r){var n=yt(t),i=[[],[]];t.__iterate(function(s,o){i[e.call(r,s,o,t)?1:0].push(n?[o,s]:s)});var a=b5(t);return i.map(function(s){return pt(t,a(s))})}function p5(t,e,r,n){var i=t.size;if(N1(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return p5(t.toSeq().cacheResult(),e,r,n);var a=v0(e,i),s=$1(r,i),o=s-a,c;o===o&&(c=o<0?0:o);var f=ro(t);return f.size=c===0?c:t.size&&c||void 0,!n&&U1(t)&&c>=0&&(f.get=function(u,l){return u=bf(this,u),u>=0&&u<c?t.get(u+a,l):l}),f.__iterateUncached=function(u,l){var h=this;if(c===0)return 0;if(l)return this.cacheResult().__iterate(u,l);var g=0,_=!0,A=0;return t.__iterate(function(C,w){if(!(_&&(_=g++<a)))return A++,u(C,n?w:A-1,h)!==!1&&A!==c}),A},f.__iteratorUncached=function(u,l){if(c!==0&&l)return this.cacheResult().__iterator(u,l);if(c===0)return new et(Wn);var h=t.__iterator(u,l),g=0,_=0;return new et(function(){for(;g++<a;)h.next();if(++_>c)return Wn();var A=h.next();return n||u===ls||A.done?A:u===k1?Bt(u,_-1,void 0,A):Bt(u,_-1,A.value[1],A)})},f}function lq(t,e,r){var n=ro(t);return n.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var o=0;return t.__iterate(function(c,f,u){return e.call(r,c,f,u)&&++o&&i(c,f,s)}),o},n.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(Ca,a),c=!0;return new et(function(){if(!c)return Wn();var f=o.next();if(f.done)return f;var u=f.value,l=u[0],h=u[1];return e.call(r,h,l,s)?i===Ca?f:Bt(i,l,h,f):(c=!1,Wn())})},n}function eD(t,e,r,n){var i=ro(t);return i.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var c=!0,f=0;return t.__iterate(function(u,l,h){if(!(c&&(c=e.call(r,u,l,h))))return f++,a(u,n?l:f-1,o)}),f},i.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var c=t.__iterator(Ca,s),f=!0,u=0;return new et(function(){var l,h,g;do{if(l=c.next(),l.done)return n||a===ls?l:a===k1?Bt(a,u++,void 0,l):Bt(a,u++,l.value[1],l);var _=l.value;h=_[0],g=_[1],f&&(f=e.call(r,g,h,o))}while(f);return a===Ca?l:Bt(a,h,g,l)})},i}function dq(t,e){var r=yt(t),n=[t].concat(e).map(function(s){return Tn(s)?r&&(s=Ra(s)):s=r?l5(s):KB(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&yt(i)||tn(t)&&tn(i))return i}var a=new Du(n);return r?a=a.toKeyedSeq():tn(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(s,o){if(s!==void 0){var c=o.size;if(c!==void 0)return s+c}},0),a}function tD(t,e,r){var n=ro(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var s=0,o=!1;function c(f,u){f.__iterate(function(l,h){return(!e||u<e)&&Tn(l)?c(l,u+1):(s++,i(l,r?h:s-1,n)===!1&&(o=!0)),!o},a)}return c(t,0),s},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(i,a),o=[],c=0;return new et(function(){for(;s;){var f=s.next();if(f.done!==!1){s=o.pop();continue}var u=f.value;if(i===Ca&&(u=u[1]),(!e||o.length<e)&&Tn(u))o.push(s),s=u.__iterator(i,a);else return r?f:Bt(i,c++,u,f)}return Wn()})},n}function hq(t,e,r){var n=b5(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function pq(t,e){var r=ro(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,s=0;return t.__iterate(function(o){return(!s||n(e,s++,a)!==!1)&&n(o,s++,a)!==!1},i),s},r.__iteratorUncached=function(n,i){var a=t.__iterator(ls,i),s=0,o;return new et(function(){return(!o||s%2)&&(o=a.next(),o.done)?o:s%2?Bt(n,s++,e):Bt(n,s++,o.value,o)})},r}function Pd(t,e,r){e||(e=rD);var n=yt(t),i=0,a=t.toSeq().map(function(s,o){return[o,s,i++,r?r(s,o,t):s]}).valueSeq().toArray();return a.sort(function(s,o){return e(s[3],o[3])||s[2]-o[2]}).forEach(n?function(s,o){a[o].length=2}:function(s,o){a[o]=s[1]}),n?If(a):tn(t)?La(a):E0(a)}function ng(t,e,r){if(e||(e=rD),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return XA(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return XA(e,i,a)?a:i})}function XA(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function ig(t,e,r,n){var i=ro(t),a=new Du(r).map(function(s){return s.size});return i.size=n?a.max():a.min(),i.__iterate=function(s,o){for(var c=this.__iterator(ls,o),f,u=0;!(f=c.next()).done&&s(f.value,u++,this)!==!1;);return u},i.__iteratorUncached=function(s,o){var c=r.map(function(l){return l=Ot(l),T6(o?l.reverse():l)}),f=0,u=!1;return new et(function(){var l;return u||(l=c.map(function(h){return h.next()}),u=n?l.every(function(h){return h.done}):l.some(function(h){return h.done})),u?Wn():Bt(s,f++,e.apply(null,l.map(function(h){return h.value})))})},i}function pt(t,e){return t===e?t:U1(t)?e:t.constructor(e)}function ZA(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function b5(t){return yt(t)?Ra:tn(t)?Qu:_0}function ro(t){return Object.create((yt(t)?If:tn(t)?La:E0).prototype)}function g5(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):On.prototype.cacheResult.call(this)}function rD(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Ps(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function y5(t,e){if(!t)throw new Error(e)}function Ii(t){y5(t!==1/0,"Cannot perform this action with an infinite size.")}function nD(t){if(c5(t)&&typeof t!="string")return t;if(Li(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var bq=Object.prototype.toString;function j2(t){if(!t||typeof t!="object"||bq.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function gf(t){return typeof t=="object"&&(ji(t)||Array.isArray(t)||j2(t))}function Yp(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function v5(t,e){return ji(t)?t.has(e):gf(t)&&A0.call(t,e)}function q2(t,e,r){return ji(t)?t.get(e,r):v5(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Py(t){if(Array.isArray(t))return Ps(t);var e={};for(var r in t)A0.call(t,r)&&(e[r]=t[r]);return e}function m5(t,e){if(!gf(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ji(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!A0.call(t,e))return t;var r=Py(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function _5(t,e,r){if(!gf(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ji(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(A0.call(t,e)&&r===t[e])return t;var n=Py(t);return n[e]=r,n}function Tf(t,e,r,n){n||(n=r,r=void 0);var i=iD(ji(t),t,nD(e),0,r,n);return i===We?r:i}function iD(t,e,r,n,i,a){var s=e===We;if(n===r.length){var o=s?i:e,c=a(o);return c===o?e:c}if(!s&&!gf(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Yp)+"]: "+e);var f=r[n],u=s?We:q2(e,f,We),l=iD(u===We?t:ji(u),u,r,n+1,i,a);return l===u?e:l===We?m5(e,f):_5(s?t?Za():{}:e,f,l)}function w5(t,e,r){return Tf(t,e,We,function(){return r})}function A5(t,e){return w5(this,t,e)}function E5(t,e){return Tf(t,e,function(){return We})}function x5(t){return E5(this,t)}function K2(t,e,r,n){return Tf(t,[e],r,n)}function S5(t,e,r){return arguments.length===1?t(this):K2(this,t,e,r)}function C5(t,e,r){return Tf(this,t,e,r)}function aD(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return oD(this,t)}function sD(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return oD(this,e,t)}function oD(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=Ra(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(s){for(var o=r?function(f,u){K2(s,u,We,function(l){return l===We?f:r(l,f,u)})}:function(f,u){s.set(u,f)},c=0;c<n.length;c++)n[c].forEach(o)})}function cD(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return j1(t,e)}function fD(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return j1(e,r,t)}function uD(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return F1(t,e)}function lD(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return F1(e,r,t)}function F1(t,e,r){return j1(t,e,gq(r))}function j1(t,e,r){if(!gf(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(ji(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?Qu:Ra,s=n?function(c){i===t&&(i=Py(i)),i.push(c)}:function(c,f){var u=A0.call(i,f),l=u&&r?r(i[f],c,f):c;(!u||l!==i[f])&&(i===t&&(i=Py(i)),i[f]=l)},o=0;o<e.length;o++)a(e[o]).forEach(s);return i}function gq(t){function e(r,n,i){return gf(r)&&gf(n)&&yq(r,n)?j1(r,[n],e):t?t(r,n,i):n}return e}function yq(t,e){var r=On(t),n=On(e);return tn(r)===tn(n)&&yt(r)===yt(n)}function dD(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return F1(this,t)}function hD(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return F1(this,e,t)}function I5(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Tf(this,t,Za(),function(n){return j1(n,e)})}function T5(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Tf(this,t,Za(),function(n){return F1(n,e)})}function q1(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function K1(){return this.__ownerID?this:this.__ensureOwner(new s5)}function V1(){return this.__ensureOwner()}function O5(){return this.__altered}var nc=function(t){function e(r){return r==null?Za():z1(r)&&!Li(r)?r:Za().withMutations(function(n){var i=t(r);Ii(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Za().withMutations(function(a){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);a.set(n[s],n[s+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return tE(this,n,i)},e.prototype.remove=function(n){return tE(this,n,We)},e.prototype.deleteAll=function(n){var i=Ot(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(s){return a.remove(s)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Za()},e.prototype.sort=function(n){return ds(Pd(this,n))},e.prototype.sortBy=function(n,i){return ds(Pd(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){s.forEach(function(o,c){s.set(c,n.call(i,o,c,a))})})},e.prototype.__iterator=function(n,i){return new vq(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,s=0;return this._root&&this._root.iterate(function(o){return s++,n(o[1],o[0],a)},i),s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?B5(this.size,this._root,n,this.__hash):this.size===0?Za():(this.__ownerID=n,this.__altered=!1,this)},e}(Ra);nc.isMap=z1;var Mt=nc.prototype;Mt[VB]=!0;Mt[H1]=Mt.remove;Mt.removeAll=Mt.deleteAll;Mt.setIn=A5;Mt.removeIn=Mt.deleteIn=x5;Mt.update=S5;Mt.updateIn=C5;Mt.merge=Mt.concat=aD;Mt.mergeWith=sD;Mt.mergeDeep=dD;Mt.mergeDeepWith=hD;Mt.mergeIn=I5;Mt.mergeDeepIn=T5;Mt.withMutations=q1;Mt.wasAltered=O5;Mt.asImmutable=V1;Mt["@@transducer/init"]=Mt.asMutable=K1;Mt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Mt["@@transducer/result"]=function(t){return t.asImmutable()};var Gp=function(e,r){this.ownerID=e,this.entries=r};Gp.prototype.get=function(e,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(Ar(n,a[s][0]))return a[s][1];return i};Gp.prototype.update=function(e,r,n,i,a,s,o){for(var c=a===We,f=this.entries,u=0,l=f.length;u<l&&!Ar(i,f[u][0]);u++);var h=u<l;if(h?f[u][1]===a:c)return this;if(_a(o),(c||!h)&&_a(s),!(c&&f.length===1)){if(!h&&!c&&f.length>=xq)return mq(e,f,i,a);var g=e&&e===this.ownerID,_=g?f:Ps(f);return h?c?u===l-1?_.pop():_[u]=_.pop():_[u]=[i,a]:_.push([i,a]),g?(this.entries=_,this):new Gp(e,_)}};var Rd=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Rd.prototype.get=function(e,r,n,i){r===void 0&&(r=zn(n));var a=1<<((e===0?r:r>>>e)&Kn),s=this.bitmap;return s&a?this.nodes[pD(s&a-1)].get(e+It,r,n,i):i};Rd.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=zn(i));var c=(r===0?n:n>>>r)&Kn,f=1<<c,u=this.bitmap,l=(u&f)!==0;if(!l&&a===We)return this;var h=pD(u&f-1),g=this.nodes,_=l?g[h]:void 0,A=D5(_,e,r+It,n,i,a,s,o);if(A===_)return this;if(!l&&A&&g.length>=Sq)return wq(e,g,u,c,A);if(l&&!A&&g.length===2&&rE(g[h^1]))return g[h^1];if(l&&A&&g.length===1&&rE(A))return A;var C=e&&e===this.ownerID,w=l?A?u:u^f:u|f,I=l?A?bD(g,h,A,C):Eq(g,h,C):Aq(g,h,A,C);return C?(this.bitmap=w,this.nodes=I,this):new Rd(e,w,I)};var Wp=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};Wp.prototype.get=function(e,r,n,i){r===void 0&&(r=zn(n));var a=(e===0?r:r>>>e)&Kn,s=this.nodes[a];return s?s.get(e+It,r,n,i):i};Wp.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=zn(i));var c=(r===0?n:n>>>r)&Kn,f=a===We,u=this.nodes,l=u[c];if(f&&!l)return this;var h=D5(l,e,r+It,n,i,a,s,o);if(h===l)return this;var g=this.count;if(!l)g++;else if(!h&&(g--,g<Cq))return _q(e,u,g,c);var _=e&&e===this.ownerID,A=bD(u,c,h,_);return _?(this.count=g,this.nodes=A,this):new Wp(e,g,A)};var Ld=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Ld.prototype.get=function(e,r,n,i){for(var a=this.entries,s=0,o=a.length;s<o;s++)if(Ar(n,a[s][0]))return a[s][1];return i};Ld.prototype.update=function(e,r,n,i,a,s,o){n===void 0&&(n=zn(i));var c=a===We;if(n!==this.keyHash)return c?this:(_a(o),_a(s),M5(this,e,r,n,[i,a]));for(var f=this.entries,u=0,l=f.length;u<l&&!Ar(i,f[u][0]);u++);var h=u<l;if(h?f[u][1]===a:c)return this;if(_a(o),(c||!h)&&_a(s),c&&l===2)return new Qo(e,this.keyHash,f[u^1]);var g=e&&e===this.ownerID,_=g?f:Ps(f);return h?c?u===l-1?_.pop():_[u]=_.pop():_[u]=[i,a]:_.push([i,a]),g?(this.entries=_,this):new Ld(e,this.keyHash,_)};var Qo=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Qo.prototype.get=function(e,r,n,i){return Ar(n,this.entry[0])?this.entry[1]:i};Qo.prototype.update=function(e,r,n,i,a,s,o){var c=a===We,f=Ar(i,this.entry[0]);if(f?a===this.entry[1]:c)return this;if(_a(o),c){_a(s);return}return f?e&&e===this.ownerID?(this.entry[1]=a,this):new Qo(e,this.keyHash,[i,a]):(_a(s),M5(this,e,r,zn(i),[i,a]))};Gp.prototype.iterate=Ld.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Rd.prototype.iterate=Wp.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};Qo.prototype.iterate=function(t,e){return t(this.entry)};var vq=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&JA(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,s=i.index++,o=void 0;if(a.entry){if(s===0)return i_(n,a.entry)}else if(a.entries){if(o=a.entries.length-1,s<=o)return i_(n,a.entries[this._reverse?o-s:s])}else if(o=a.nodes.length-1,s<=o){var c=a.nodes[this._reverse?o-s:s];if(c){if(c.entry)return i_(n,c.entry);i=this._stack=JA(c,i)}continue}i=this._stack=this._stack.__prev}return Wn()},e}(et);function i_(t,e){return Bt(t,e[0],e[1])}function JA(t,e){return{node:t,index:0,__prev:e}}function B5(t,e,r,n){var i=Object.create(Mt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var eE;function Za(){return eE||(eE=B5(0))}function tE(t,e,r){var n,i;if(t._root){var a=C6(),s=C6();if(n=D5(t._root,t.__ownerID,0,void 0,e,r,a,s),!s.value)return t;i=t.size+(a.value?r===We?-1:1:0)}else{if(r===We)return t;i=1,n=new Gp(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?B5(i,n):Za()}function D5(t,e,r,n,i,a,s,o){return t?t.update(e,r,n,i,a,s,o):a===We?t:(_a(o),_a(s),new Qo(e,n,[i,a]))}function rE(t){return t.constructor===Qo||t.constructor===Ld}function M5(t,e,r,n,i){if(t.keyHash===n)return new Ld(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&Kn,s=(r===0?n:n>>>r)&Kn,o,c=a===s?[M5(t,e,r+It,n,i)]:(o=new Qo(e,n,i),a<s?[t,o]:[o,t]);return new Rd(e,1<<a|1<<s,c)}function mq(t,e,r,n){t||(t=new s5);for(var i=new Qo(t,zn(r),[r,n]),a=0;a<e.length;a++){var s=e[a];i=i.update(t,0,void 0,s[0],s[1])}return i}function _q(t,e,r,n){for(var i=0,a=0,s=new Array(r),o=0,c=1,f=e.length;o<f;o++,c<<=1){var u=e[o];u!==void 0&&o!==n&&(i|=c,s[a++]=u)}return new Rd(t,i,s)}function wq(t,e,r,n,i){for(var a=0,s=new Array(ma),o=0;r!==0;o++,r>>>=1)s[o]=r&1?e[a++]:void 0;return s[n]=i,new Wp(t,a+1,s)}function pD(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function bD(t,e,r,n){var i=n?t:Ps(t);return i[e]=r,i}function Aq(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),s=0,o=0;o<i;o++)o===e?(a[o]=r,s=-1):a[o]=t[o+s];return a}function Eq(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,s=0;s<n;s++)s===e&&(a=1),i[s]=t[s+a];return i}var xq=ma/4,Sq=ma/2,Cq=ma/4,gD="@@__IMMUTABLE_LIST__@@";function V2(t){return!!(t&&t[gD])}var Ia=function(t){function e(r){var n=$g();if(r==null)return n;if(V2(r))return r;var i=t(r),a=i.size;return a===0?n:(Ii(a),a>0&&a<ma?Xp(0,a,It,null,new of(i.toArray())):n.withMutations(function(s){s.setSize(a),i.forEach(function(o,c){return s.set(c,o)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=bf(this,n),n>=0&&n<this.size){n+=this._origin;var a=yD(this,n);return a&&a.array[n&Kn]}return i},e.prototype.set=function(n,i){return Iq(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=It,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):$g()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){Tc(a,0,i+n.length);for(var s=0;s<n.length;s++)a.set(i+s,n[s])})},e.prototype.pop=function(){return Tc(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Tc(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return Tc(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var s=n[a],o=t(typeof s!="string"&&o5(s)?s:[s]);o.size!==0&&i.push(o)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(c){i.forEach(function(f){return f.forEach(function(u){return c.push(u)})})})},e.prototype.setSize=function(n){return Tc(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(s){for(var o=0;o<a.size;o++)s.set(o,n.call(i,s.get(o),o,a))})},e.prototype.slice=function(n,i){var a=this.size;return N1(n,i,a)?this:Tc(this,v0(n,a),$1(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,s=nE(this,i);return new et(function(){var o=s();return o===gp?Wn():Bt(n,i?--a:a++,o)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,s=nE(this,i),o;(o=s())!==gp&&n(o,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Xp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?$g():(this.__ownerID=n,this.__altered=!1,this)},e}(Qu);Ia.isList=V2;var yr=Ia.prototype;yr[gD]=!0;yr[H1]=yr.remove;yr.merge=yr.concat;yr.setIn=A5;yr.deleteIn=yr.removeIn=x5;yr.update=S5;yr.updateIn=C5;yr.mergeIn=I5;yr.mergeDeepIn=T5;yr.withMutations=q1;yr.wasAltered=O5;yr.asImmutable=V1;yr["@@transducer/init"]=yr.asMutable=K1;yr["@@transducer/step"]=function(t,e){return t.push(e)};yr["@@transducer/result"]=function(t){return t.asImmutable()};var of=function(e,r){this.array=e,this.ownerID=r};of.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Kn;if(i>=this.array.length)return new of([],e);var a=i===0,s;if(r>0){var o=this.array[i];if(s=o&&o.removeBefore(e,r-It,n),s===o&&a)return this}if(a&&!s)return this;var c=Hd(this,e);if(!a)for(var f=0;f<i;f++)c.array[f]=void 0;return s&&(c.array[i]=s),c};of.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Kn;if(i>=this.array.length)return this;var a;if(r>0){var s=this.array[i];if(a=s&&s.removeAfter(e,r-It,n),a===s&&i===this.array.length-1)return this}var o=Hd(this,e);return o.array.splice(i+1),a&&(o.array[i]=a),o};var gp={};function nE(t,e){var r=t._origin,n=t._capacity,i=Zp(n),a=t._tail;return s(t._root,t._level,0);function s(f,u,l){return u===0?o(f,l):c(f,u,l)}function o(f,u){var l=u===i?a&&a.array:f&&f.array,h=u>r?0:r-u,g=n-u;return g>ma&&(g=ma),function(){if(h===g)return gp;var _=e?--g:h++;return l&&l[_]}}function c(f,u,l){var h,g=f&&f.array,_=l>r?0:r-l>>u,A=(n-l>>u)+1;return A>ma&&(A=ma),function(){for(;;){if(h){var C=h();if(C!==gp)return C;h=null}if(_===A)return gp;var w=e?--A:_++;h=s(g&&g[w],u-It,l+(w<<u))}}}}function Xp(t,e,r,n,i,a,s){var o=Object.create(yr);return o.size=e-t,o._origin=t,o._capacity=e,o._level=r,o._root=n,o._tail=i,o.__ownerID=a,o.__hash=s,o.__altered=!1,o}var iE;function $g(){return iE||(iE=Xp(0,0,It))}function Iq(t,e,r){if(e=bf(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(s){e<0?Tc(s,e).set(0,r):Tc(s,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=C6();return e>=Zp(t._capacity)?n=M6(n,t.__ownerID,0,e,r,a):i=M6(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Xp(t._origin,t._capacity,t._level,i,n):t}function M6(t,e,r,n,i,a){var s=n>>>r&Kn,o=t&&s<t.array.length;if(!o&&i===void 0)return t;var c;if(r>0){var f=t&&t.array[s],u=M6(f,e,r-It,n,i,a);return u===f?t:(c=Hd(t,e),c.array[s]=u,c)}return o&&t.array[s]===i?t:(a&&_a(a),c=Hd(t,e),i===void 0&&s===c.array.length-1?c.array.pop():c.array[s]=i,c)}function Hd(t,e){return e&&t&&e===t.ownerID?t:new of(t?t.array.slice():[],e)}function yD(t,e){if(e>=Zp(t._capacity))return t._tail;if(e<1<<t._level+It){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Kn],n-=It;return r}}function Tc(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new s5,i=t._origin,a=t._capacity,s=i+e,o=r===void 0?a:r<0?a+r:i+r;if(s===i&&o===a)return t;if(s>=o)return t.clear();for(var c=t._level,f=t._root,u=0;s+u<0;)f=new of(f&&f.array.length?[void 0,f]:[],n),c+=It,u+=1<<c;u&&(s+=u,i+=u,o+=u,a+=u);for(var l=Zp(a),h=Zp(o);h>=1<<c+It;)f=new of(f&&f.array.length?[f]:[],n),c+=It;var g=t._tail,_=h<l?yD(t,o-1):h>l?new of([],n):g;if(g&&h>l&&s<a&&g.array.length){f=Hd(f,n);for(var A=f,C=c;C>It;C-=It){var w=l>>>C&Kn;A=A.array[w]=Hd(A.array[w],n)}A.array[l>>>It&Kn]=g}if(o<a&&(_=_&&_.removeAfter(n,0,o)),s>=h)s-=h,o-=h,c=It,f=null,_=_&&_.removeBefore(n,0,s);else if(s>i||h<l){for(u=0;f;){var I=s>>>c&Kn;if(I!==h>>>c&Kn)break;I&&(u+=(1<<c)*I),c-=It,f=f.array[I]}f&&s>i&&(f=f.removeBefore(n,c,s-u)),f&&h<l&&(f=f.removeAfter(n,c,h-u)),u&&(s-=u,o-=u)}return t.__ownerID?(t.size=o-s,t._origin=s,t._capacity=o,t._level=c,t._root=f,t._tail=_,t.__hash=void 0,t.__altered=!0,t):Xp(s,o,c,f,_)}function Zp(t){return t<ma?0:t-1>>>It<<It}var ds=function(t){function e(r){return r==null?Fh():k2(r)?r:Fh().withMutations(function(n){var i=Ra(r);Ii(i.size),i.forEach(function(a,s){return n.set(s,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Fh()},e.prototype.set=function(n,i){return sE(this,n,i)},e.prototype.remove=function(n){return sE(this,n,We)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?P5(i,a,n,this.__hash):this.size===0?Fh():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(nc);ds.isOrderedMap=k2;ds.prototype[w0]=!0;ds.prototype[H1]=ds.prototype.remove;function P5(t,e,r,n){var i=Object.create(ds.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var aE;function Fh(){return aE||(aE=P5(Za(),$g()))}function sE(t,e,r){var n=t._map,i=t._list,a=n.get(e),s=a!==void 0,o,c;if(r===We){if(!s)return t;i.size>=ma&&i.size>=n.size*2?(c=i.filter(function(f,u){return f!==void 0&&a!==u}),o=c.toKeyedSeq().map(function(f){return f[0]}).flip().toMap(),t.__ownerID&&(o.__ownerID=c.__ownerID=t.__ownerID)):(o=n.remove(e),c=a===i.size-1?i.pop():i.set(a,void 0))}else if(s){if(r===i.get(a)[1])return t;o=n,c=i.set(a,[e,r])}else o=n.set(e,i.size),c=i.set(i.size,[e,r]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=c,t.__hash=void 0,t.__altered=!0,t):P5(o,c)}var vD="@@__IMMUTABLE_STACK__@@";function Jp(t){return!!(t&&t[vD])}var Q1=function(t){function e(r){return r==null?ag():Jp(r)?r:ag().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=bf(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,s=arguments.length-1;s>=0;s--)a={value:n[s],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):jh(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Jp(n))return n;Ii(n.size);var i=this.size,a=this._head;return n.__iterate(function(s){i++,a={value:s,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):jh(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):ag()},e.prototype.slice=function(n,i){if(N1(n,i,this.size))return this;var a=v0(n,this.size),s=$1(i,this.size);if(s!==this.size)return t.prototype.slice.call(this,n,i);for(var o=this.size-a,c=this._head;a--;)c=c.next;return this.__ownerID?(this.size=o,this._head=c,this.__hash=void 0,this.__altered=!0,this):jh(o,c)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?jh(this.size,this._head,n,this.__hash):this.size===0?ag():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new Du(this.toArray()).__iterate(function(c,f){return n(c,f,a)},i);for(var s=0,o=this._head;o&&n(o.value,s++,this)!==!1;)o=o.next;return s},e.prototype.__iterator=function(n,i){if(i)return new Du(this.toArray()).__iterator(n,i);var a=0,s=this._head;return new et(function(){if(s){var o=s.value;return s=s.next,Bt(n,a++,o)}return Wn()})},e}(Qu);Q1.isStack=Jp;var Xn=Q1.prototype;Xn[vD]=!0;Xn.shift=Xn.pop;Xn.unshift=Xn.push;Xn.unshiftAll=Xn.pushAll;Xn.withMutations=q1;Xn.wasAltered=O5;Xn.asImmutable=V1;Xn["@@transducer/init"]=Xn.asMutable=K1;Xn["@@transducer/step"]=function(t,e){return t.unshift(e)};Xn["@@transducer/result"]=function(t){return t.asImmutable()};function jh(t,e,r,n){var i=Object.create(Xn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var oE;function ag(){return oE||(oE=jh(0))}var mD="@@__IMMUTABLE_SET__@@";function Y1(t){return!!(t&&t[mD])}function Q2(t){return Y1(t)&&Li(t)}function R5(t,e){if(t===e)return!0;if(!Tn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||yt(t)!==yt(e)||tn(t)!==tn(e)||Li(t)!==Li(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!m0(t);if(Li(t)){var n=t.entries();return e.every(function(c,f){var u=n.next().value;return u&&Ar(u[1],c)&&(r||Ar(u[0],f))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var s=!0,o=e.__iterate(function(c,f){if(r?!t.has(c):i?!Ar(c,t.get(f,We)):!Ar(t.get(f,We),c))return s=!1,!1});return s&&t.size===o}function Yu(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Ry(t){if(!t||typeof t!="object")return t;if(!Tn(t)){if(!gf(t))return t;t=On(t)}if(yt(t)){var e={};return t.__iterate(function(n,i){e[i]=Ry(n)}),e}var r=[];return t.__iterate(function(n){r.push(Ry(n))}),r}var x0=function(t){function e(r){return r==null?qh():Y1(r)&&!Li(r)?r:qh().withMutations(function(n){var i=t(r);Ii(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ra(n).keySeq())},e.intersect=function(n){return n=Ot(n).toArray(),n.length?rn.intersect.apply(e(n.pop()),n):qh()},e.union=function(n){return n=Ot(n).toArray(),n.length?rn.union.apply(e(n.pop()),n):qh()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return sg(this,this._map.set(n,n))},e.prototype.remove=function(n){return sg(this,this._map.remove(n))},e.prototype.clear=function(){return sg(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,s=!1,o=sg(this,this._map.mapEntries(function(c){var f=c[1],u=n.call(i,f,f,a);return u!==f&&(s=!0),[u,u]},i));return s?o:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var s=0;s<n.length;s++)typeof n[s]=="string"?a.add(n[s]):t(n[s]).forEach(function(o){return a.add(o)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return t(s)});var a=[];return this.forEach(function(s){n.every(function(o){return o.includes(s)})||a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(s){return t(s)});var a=[];return this.forEach(function(s){n.some(function(o){return o.includes(s)})&&a.push(s)}),this.withMutations(function(s){a.forEach(function(o){s.remove(o)})})},e.prototype.sort=function(n){return Mu(Pd(this,n))},e.prototype.sortBy=function(n,i){return Mu(Pd(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(s){return n(s,s,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(_0);x0.isSet=Y1;var rn=x0.prototype;rn[mD]=!0;rn[H1]=rn.remove;rn.merge=rn.concat=rn.union;rn.withMutations=q1;rn.asImmutable=V1;rn["@@transducer/init"]=rn.asMutable=K1;rn["@@transducer/step"]=function(t,e){return t.add(e)};rn["@@transducer/result"]=function(t){return t.asImmutable()};rn.__empty=qh;rn.__make=_D;function sg(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function _D(t,e){var r=Object.create(rn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var cE;function qh(){return cE||(cE=_D(Za()))}var L5=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(y5(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(a_)return a_;a_=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+bf(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return N1(n,i,this.size)?this:(n=v0(n,this.size),i=$1(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,c=0;c!==a&&n(o,i?a-++c:c++,this)!==!1;)o+=i?-s:s;return c},e.prototype.__iterator=function(n,i){var a=this.size,s=this._step,o=i?this._start+(a-1)*s:this._start,c=0;return new et(function(){if(c===a)return Wn();var f=o;return o+=i?-s:s,Bt(n,i?a-++c:c++,f)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:R5(this,n)},e}(La),a_;function Y2(t,e,r){for(var n=nD(e),i=0;i!==n.length;)if(t=q2(t,n[i++],We),t===We)return r;return t}function wD(t,e){return Y2(this,t,e)}function H5(t,e){return Y2(t,e,We)!==We}function Tq(t){return H5(this,t)}function AD(){Ii(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ot.isIterable=Tn;Ot.isKeyed=yt;Ot.isIndexed=tn;Ot.isAssociative=m0;Ot.isOrdered=Li;Ot.Iterator=et;Yu(Ot,{toArray:function(){Ii(this.size);var e=new Array(this.size||0),r=yt(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new YB(this)},toJS:function(){return Ry(this)},toKeyedSeq:function(){return new F2(this,!0)},toMap:function(){return nc(this.toKeyedSeq())},toObject:AD,toOrderedMap:function(){return ds(this.toKeyedSeq())},toOrderedSet:function(){return Mu(yt(this)?this.valueSeq():this)},toSet:function(){return x0(yt(this)?this.valueSeq():this)},toSetSeq:function(){return new GB(this)},toSeq:function(){return tn(this)?this.toIndexedSeq():yt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Q1(yt(this)?this.valueSeq():this)},toList:function(){return Ia(yt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return pt(this,dq(this,e))},includes:function(e){return this.some(function(r){return Ar(r,e)})},entries:function(){return this.__iterator(Ca)},every:function(e,r){Ii(this.size);var n=!0;return this.__iterate(function(i,a,s){if(!e.call(r,i,a,s))return n=!1,!1}),n},filter:function(e,r){return pt(this,JB(this,e,r,!0))},partition:function(e,r){return uq(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Ii(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Ii(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(k1)},map:function(e,r){return pt(this,ZB(this,e,r))},reduce:function(e,r,n){return fE(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return fE(this,e,r,n,arguments.length<2,!0)},reverse:function(){return pt(this,h5(this,!0))},slice:function(e,r){return pt(this,p5(this,e,r,!0))},some:function(e,r){Ii(this.size);var n=!1;return this.__iterate(function(i,a,s){if(e.call(r,i,a,s))return n=!0,!1}),n},sort:function(e){return pt(this,Pd(this,e))},values:function(){return this.__iterator(ls)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Md(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return cq(this,e,r)},equals:function(e){return R5(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Du(e._cache);var r=e.toSeq().map(Bq).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(s_(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,s,o){if(e.call(r,a,s,o))return i=[s,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(HB,null,e)},flatMap:function(e,r){return pt(this,hq(this,e,r))},flatten:function(e){return pt(this,tD(this,e,!0))},fromEntrySeq:function(){return new WB(this)},get:function(e,r){return this.find(function(n,i){return Ar(i,e)},void 0,r)},getIn:wD,groupBy:function(e,r){return fq(this,e,r)},has:function(e){return this.get(e,We)!==We},hasIn:Tq,isSubset:function(e){return e=typeof e.includes=="function"?e:Ot(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ot(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return Ar(r,e)})},keySeq:function(){return this.toSeq().map(Oq).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return ng(this,e)},maxBy:function(e,r){return ng(this,r,e)},min:function(e){return ng(this,e?uE(e):dE)},minBy:function(e,r){return ng(this,r?uE(r):dE,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return pt(this,eD(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(s_(e),r)},sortBy:function(e,r){return pt(this,Pd(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return pt(this,lq(this,e,r))},takeUntil:function(e,r){return this.takeWhile(s_(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Dq(this))}});var Bn=Ot.prototype;Bn[UB]=!0;Bn[$2]=Bn.values;Bn.toJSON=Bn.toArray;Bn.__toStringMapper=Yp;Bn.inspect=Bn.toSource=function(){return this.toString()};Bn.chain=Bn.flatMap;Bn.contains=Bn.includes;Yu(Ra,{flip:function(){return pt(this,XB(this))},mapEntries:function(e,r){var n=this,i=0;return pt(this,this.toSeq().map(function(a,s){return e.call(r,[s,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return pt(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var G1=Ra.prototype;G1[kB]=!0;G1[$2]=Bn.entries;G1.toJSON=AD;G1.__toStringMapper=function(t,e){return Yp(e)+": "+Yp(t)};Yu(Qu,{toKeyedSeq:function(){return new F2(this,!1)},filter:function(e,r){return pt(this,JB(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return pt(this,h5(this,!1))},slice:function(e,r){return pt(this,p5(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=v0(e,e<0?this.count():this.size);var i=this.slice(0,e);return pt(this,n===1?i:i.concat(Ps(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return pt(this,tD(this,e,!1))},get:function(e,r){return e=bf(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=bf(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return pt(this,pq(this,e))},interleave:function(){var e=[this].concat(Ps(arguments)),r=ig(this.toSeq(),La.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),pt(this,n)},keySeq:function(){return L5(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return pt(this,eD(this,e,r,!1))},zip:function(){var e=[this].concat(Ps(arguments));return pt(this,ig(this,lE,e))},zipAll:function(){var e=[this].concat(Ps(arguments));return pt(this,ig(this,lE,e,!0))},zipWith:function(e){var r=Ps(arguments);return r[0]=this,pt(this,ig(this,e,r))}});var S0=Qu.prototype;S0[zB]=!0;S0[w0]=!0;Yu(_0,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Nd=_0.prototype;Nd.has=Bn.includes;Nd.contains=Nd.includes;Nd.keys=Nd.values;Yu(If,G1);Yu(La,S0);Yu(E0,Nd);function fE(t,e,r,n,i,a){return Ii(t.size),t.__iterate(function(s,o,c){i?(i=!1,r=s):r=e.call(n,r,s,o,c)},a),r}function Oq(t,e){return e}function Bq(t,e){return[e,t]}function s_(t){return function(){return!t.apply(this,arguments)}}function uE(t){return function(){return-t.apply(this,arguments)}}function lE(){return Ps(arguments)}function dE(t,e){return t<e?1:t>e?-1:0}function Dq(t){if(t.size===1/0)return 0;var e=Li(t),r=yt(t),n=e?1:0,i=t.__iterate(r?e?function(a,s){n=31*n+hE(zn(a),zn(s))|0}:function(a,s){n=n+hE(zn(a),zn(s))|0}:e?function(a){n=31*n+zn(a)|0}:function(a){n=n+zn(a)|0});return Mq(i,n)}function Mq(t,e){return e=gh(e,3432918353),e=gh(e<<15|e>>>-15,461845907),e=gh(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=gh(e^e>>>16,2246822507),e=gh(e^e>>>13,3266489909),e=z2(e^e>>>16),e}function hE(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var Mu=function(t){function e(r){return r==null?P6():Q2(r)?r:P6().withMutations(function(n){var i=_0(r);Ii(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ra(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(x0);Mu.isOrderedSet=Q2;var Gu=Mu.prototype;Gu[w0]=!0;Gu.zip=S0.zip;Gu.zipWith=S0.zipWith;Gu.zipAll=S0.zipAll;Gu.__empty=P6;Gu.__make=ED;function ED(t,e){var r=Object.create(Gu);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var pE;function P6(){return pE||(pE=ED(Fh()))}var xD={LeftThenRight:-1,RightThenLeft:1};function Pq(t){if(Cf(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ji(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var hr=function(e,r){var n;Pq(e);var i=function(o){var c=this;if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var f=Object.keys(e),u=a._indices={};a._name=r,a._keys=f,a._defaultValues=e;for(var l=0;l<f.length;l++){var h=f[l];u[h]=l,a[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+$5(this)+' with property "'+h+'" since that property name is part of the Record API.'):Rq(a,h)}}return this.__ownerID=void 0,this._values=Ia().withMutations(function(g){g.setSize(c._keys.length),Ra(o).forEach(function(_,A){g.set(c._indices[A],_===c._defaultValues[A]?void 0:_)})}),this},a=i.prototype=Object.create(At);return a.constructor=i,r&&(i.displayName=r),i};hr.prototype.toString=function(){for(var e=$5(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+Yp(this.get(n));return e+" }"};hr.prototype.equals=function(e){return this===e||Cf(e)&&$d(this).equals($d(e))};hr.prototype.hashCode=function(){return $d(this).hashCode()};hr.prototype.has=function(e){return this._indices.hasOwnProperty(e)};hr.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};hr.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return N5(this,n)}return this};hr.prototype.remove=function(e){return this.set(e)};hr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:N5(this,e)};hr.prototype.wasAltered=function(){return this._values.wasAltered()};hr.prototype.toSeq=function(){return $d(this)};hr.prototype.toJS=function(){return Ry(this)};hr.prototype.entries=function(){return this.__iterator(Ca)};hr.prototype.__iterator=function(e,r){return $d(this).__iterator(e,r)};hr.prototype.__iterate=function(e,r){return $d(this).__iterate(e,r)};hr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?N5(this,r,e):(this.__ownerID=e,this._values=r,this)};hr.isRecord=Cf;hr.getDescriptiveName=$5;var At=hr.prototype;At[jB]=!0;At[H1]=At.remove;At.deleteIn=At.removeIn=x5;At.getIn=wD;At.hasIn=Bn.hasIn;At.merge=aD;At.mergeWith=sD;At.mergeIn=I5;At.mergeDeep=dD;At.mergeDeepWith=hD;At.mergeDeepIn=T5;At.setIn=A5;At.update=S5;At.updateIn=C5;At.withMutations=q1;At.asMutable=K1;At.asImmutable=V1;At[$2]=At.entries;At.toJSON=At.toObject=Bn.toObject;At.inspect=At.toSource=function(){return this.toString()};function N5(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function $5(t){return t.constructor.displayName||t.constructor.name||"Record"}function $d(t){return l5(t._keys.map(function(e){return[e,t.get(e)]}))}function Rq(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){y5(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var SD=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(o_)return o_;o_=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return Ar(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return N1(n,i,a)?this:new e(this._value,$1(i,a)-v0(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return Ar(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return Ar(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,s=0;s!==a&&n(this._value,i?a-++s:s++,this)!==!1;);return s},e.prototype.__iterator=function(n,i){var a=this,s=this.size,o=0;return new et(function(){return o===s?Wn():Bt(n,i?s-++o:o++,a._value)})},e.prototype.equals=function(n){return n instanceof e?Ar(this._value,n._value):R5(this,n)},e}(La),o_;function CD(t,e){return ID([],e||Lq,t,"",e&&e.length>2?[]:void 0,{"":t})}function ID(t,e,r,n,i,a){if(typeof r!="string"&&!ji(r)&&(c5(r)||o5(r)||j2(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var s=e.call(a,n,On(r).map(function(o,c){return ID(t,e,o,c,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),s}return r}function Lq(t,e){return tn(e)?e.toList():yt(e)?e.toMap():e.toSet()}var TD="4.3.7",Hq={version:TD,Collection:Ot,Iterable:Ot,Seq:On,Map:nc,OrderedMap:ds,List:Ia,Stack:Q1,Set:x0,OrderedSet:Mu,PairSorting:xD,Record:hr,Range:L5,Repeat:SD,is:Ar,fromJS:CD,hash:zn,isImmutable:ji,isCollection:Tn,isKeyed:yt,isIndexed:tn,isAssociative:m0,isOrdered:Li,isValueObject:My,isPlainObject:j2,isSeq:U1,isList:V2,isMap:z1,isOrderedMap:k2,isStack:Jp,isSet:Y1,isOrderedSet:Q2,isRecord:Cf,get:q2,getIn:Y2,has:v5,hasIn:H5,merge:cD,mergeDeep:uD,mergeWith:fD,mergeDeepWith:lD,remove:m5,removeIn:E5,set:_5,setIn:w5,update:K2,updateIn:Tf},Nq=Ot;const $q=Object.freeze(Object.defineProperty({__proto__:null,Collection:Ot,Iterable:Nq,List:Ia,Map:nc,OrderedMap:ds,OrderedSet:Mu,PairSorting:xD,Range:L5,Record:hr,Repeat:SD,Seq:On,Set:x0,Stack:Q1,default:Hq,fromJS:CD,get:q2,getIn:Y2,has:v5,hasIn:H5,hash:zn,is:Ar,isAssociative:m0,isCollection:Tn,isImmutable:ji,isIndexed:tn,isKeyed:yt,isList:V2,isMap:z1,isOrdered:Li,isOrderedMap:k2,isOrderedSet:Q2,isPlainObject:j2,isRecord:Cf,isSeq:U1,isSet:Y1,isStack:Jp,isValueObject:My,merge:cD,mergeDeep:uD,mergeDeepWith:lD,mergeWith:fD,remove:m5,removeIn:E5,set:_5,setIn:w5,update:K2,updateIn:Tf,version:TD},Symbol.toStringTag,{value:"Module"})),ic=fC($q);var Lr={},OD={};Object.defineProperty(OD,"__esModule",{value:!0});var Wu={},BD=function t(e){Object.freeze(e);var r=typeof e=="function",n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(e).forEach(function(i){n.call(e,i)&&(!r||i!=="caller"&&i!=="callee"&&i!=="arguments")&&e[i]!==null&&(typeof e[i]=="object"||typeof e[i]=="function")&&!Object.isFrozen(e[i])&&t(e[i])}),e},C0={};Object.defineProperty(C0,"__esModule",{value:!0});C0.createConfig=U5;C0.predefined=void 0;var Uq=kq(BD);function kq(t){return t&&t.__esModule?t:{default:t}}function U5(t){return(0,Uq.default)(t)}const zq=U5({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),Fq=U5({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});C0.predefined={LINA:zq,AGGRON4:Fq};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.assertHashType=DD;Wu.getConfig=Yq;Wu.initializeConfig=Gq;Wu.validateConfig=MD;var jq=Kq(BD),qq=C0;function Kq(t){return t&&t.__esModule?t:{default:t}}function Vq(t,e){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error(`${t} must be a hex string!`)}function bE(t,e){if(Vq(t,e),e.length!==66)throw new Error(`${t} must be a hex string of 66 characters long!`)}function Qq(t,e){if(e!=="0x0"&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(e))throw new Error(`${t} must be a hex integer!`)}function DD(t,e){if(e!=="type"&&e!=="data"&&e!=="data1"&&e!=="data2")throw new Error(`${t} must one of type, data, data1, data2!`)}function gE(t,e="variable"){if(!t)throw new Error(`${e} is not valid`)}function MD(t){gE(typeof t.SCRIPTS=="object"&&t.SCRIPTS!=null,"config.SCRIPT");for(const e of Object.keys(t.SCRIPTS)){const r=t.SCRIPTS[e];gE(r==null?void 0:r.CODE_HASH),bE(`SCRIPTS.${e}.CODE_HASH`,r.CODE_HASH),DD(`SCRIPTS.${e}.HASH_TYPE`,r.HASH_TYPE),bE(`SCRIPTS.${e}.TX_HASH`,r.TX_HASH),Qq(`SCRIPTS.${e}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if(n!=="depGroup"&&n!=="code")throw new Error(`SCRIPTS.${e}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(i!=null&&typeof i!="number")throw new Error("SHORT_ID must be a number!")}}let PD=qq.predefined.LINA;function Yq(){return PD}function Gq(t){MD(t),PD=(0,jq.default)(t)}var G2={};Object.defineProperty(G2,"__esModule",{value:!0});G2.findConfigByScript=Wq;G2.nameOfScript=Xq;var RD=Wu;function Wq(t,e){const r=e||(0,RD.getConfig)().SCRIPTS;return Object.values(r).find(n=>(n==null?void 0:n.CODE_HASH)===t.codeHash&&(n==null?void 0:n.HASH_TYPE)===t.hashType)}function Xq(t,e){const r=e||(0,RD.getConfig)().SCRIPTS,n=Object.entries(r).find(([,i])=>(i==null?void 0:i.CODE_HASH)===t.codeHash&&(i==null?void 0:i.HASH_TYPE)===t.hashType);if(n)return n[0]}var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.SIGHASH_OUTPUT_LOC=Ti.SIGHASH_GROUP_OUTPUT_LOC=Ti.MULTISIG_OUTPUT_LOC=Ti.MULTISIG_GROUP_OUTPUT_LOC=Ti.DAO_OUTPUT_LOC=void 0;Ti.generateGenesisScriptConfigs=Jq;var Zq=xr;const yE=Ti.SIGHASH_OUTPUT_LOC=[0,1],vE=Ti.MULTISIG_OUTPUT_LOC=[0,4],mE=Ti.DAO_OUTPUT_LOC=[0,2],_E=Ti.SIGHASH_GROUP_OUTPUT_LOC=[1,0],wE=Ti.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function Jq(t){if(!t||Number(t.header.number)!==0)throw new Error("The block must be a genesis block");const e=t.transactions;return{SECP256K1_BLAKE160:{...c_({transaction:e[yE[0]],outputIndex:yE[1],depGroupTransaction:e[_E[0]],depGroupOutputIndex:_E[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...c_({transaction:e[vE[0]],outputIndex:vE[1],depGroupTransaction:e[wE[0]],depGroupOutputIndex:wE[1]}),SHORT_ID:1},DAO:c_({transaction:e[mE[0]],outputIndex:mE[1]})}}function c_(t){var e;const{transaction:r,outputIndex:n}=t,i=Zq.utils.computeScriptHash(f_((e=r.outputs[n])===null||e===void 0?void 0:e.type));if("depGroupTransaction"in t){const{depGroupOutputIndex:a,depGroupTransaction:s}=t;return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"depGroup",TX_HASH:f_(s.hash),INDEX:AE(a)}}return{HASH_TYPE:"type",CODE_HASH:i,DEP_TYPE:"code",INDEX:AE(n),TX_HASH:f_(r.hash)}}function f_(t){if(t==null)throw new Error("The block must be a genesis block");return t}function AE(t){return`0x${t.toString(16)}`}var W1={};Object.defineProperty(W1,"__esModule",{value:!0});W1.createLatestTypeIdResolver=LD;W1.createRpcResolver=eK;W1.refreshScriptConfigs=tK;function eK(t){return LD(async n=>{const i=await t.createBatchRequest(n.map(a=>["getTransaction",a])).exec();return Ly(n,i,(a,s)=>{if(!(s!=null&&s.transaction))throw new Error(`Cannot find transaction ${a}`);return s.transaction})},async n=>(await t.createBatchRequest(n.map(a=>["getCells",{script:a,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"])).exec()).map(a=>a.objects[0]))}function LD(t,e){return async r=>{const n=await t(r.map(s=>s.txHash)),i=Ly(r,n,(s,o)=>(yp(s),yp(o,`Cannot find the OutPoint ${s.txHash}#${s.index}`),o.outputs[Number(s.index)].type)),a=await e(i.filter(Boolean));return Ly(r,i,(s,o)=>{if(yp(s),!o)return s;const[c]=a.splice(0,1);return c.outPoint})}}async function tK(t,{resolve:e,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const n=Object.entries(t).filter(([o,c])=>!r.includes(o)&&(c==null?void 0:c.HASH_TYPE)==="type"),i=n.map(([o,c])=>({txHash:c.TX_HASH,index:c.INDEX})),a=await e(i),s=Object.fromEntries(Ly(n,a,(o,c)=>{yp(o);const[f,u]=o;return yp(c,`Refreshing failed, cannot load config of ${f}, please check whether the scriptConfig is correct`),[f,{...u,TX_HASH:c.txHash,INDEX:c.index}]}));return Object.assign({},t,s)}function Ly(t,e,r){return t.map((n,i)=>r(t[i],e[i]))}function yp(t,e="Not nullable"){if(t==null)throw new Error(e)}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return a.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return o.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return o.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return s.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return n.getConfig}}),t.helpers=void 0,Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return n.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return a.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return o.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return n.validateConfig}});var r=OD;Object.keys(r).forEach(function(u){u==="default"||u==="__esModule"||Object.prototype.hasOwnProperty.call(e,u)||u in t&&t[u]===r[u]||Object.defineProperty(t,u,{enumerable:!0,get:function(){return r[u]}})});var n=Wu,i=f(G2);t.helpers=i;var a=C0,s=Ti,o=W1;function c(u){if(typeof WeakMap!="function")return null;var l=new WeakMap,h=new WeakMap;return(c=function(g){return g?h:l})(u)}function f(u,l){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var h=c(l);if(h&&h.has(u))return h.get(u);var g={__proto__:null},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in u)if(A!=="default"&&{}.hasOwnProperty.call(u,A)){var C=_?Object.getOwnPropertyDescriptor(u,A):null;C&&(C.get||C.set)?Object.defineProperty(g,A,C):g[A]=u[A]}return g.default=u,h&&h.set(u,g),g}})(Lr);var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.ADDRESS_FORMAT_SHORT=wa.ADDRESS_FORMAT_FULLTYPE=wa.ADDRESS_FORMAT_FULLDATA=wa.ADDRESS_FORMAT_FULL=void 0;wa.parseDeprecatedCkb2019Address=cK;wa.parseFullFormatAddress=oK;var rK=xr,Qf=ot,HD=Lr,Hy=pf;const ND=1023,nK=wa.ADDRESS_FORMAT_FULL=0,iK=wa.ADDRESS_FORMAT_SHORT=1,aK=wa.ADDRESS_FORMAT_FULLDATA=2,sK=wa.ADDRESS_FORMAT_FULLTYPE=4;function oK(t,{config:e}){e=e||(0,HD.getConfig)();const{words:r,prefix:n}=Hy.bech32m.decode(t,ND);if(n!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${n}`);const[i,...a]=Hy.bech32m.fromWords(r);if(i!==nK)throw new Error("Invalid address format type");if(a.length<33)throw new Error("Invalid payload length, too short!");const s=Qf.bytes.hexify(a.slice(0,32)),o=rK.blockchain.HashType.unpack(a.slice(32,33)),c=Qf.bytes.hexify(a.slice(33));return{codeHash:s,hashType:o,args:c}}function cK(t,{config:e}){e=e||(0,HD.getConfig)();const{prefix:r,words:n}=Hy.bech32.decode(t,ND);if(r!==e.PREFIX)throw Error(`Invalid prefix! Expected: ${e.PREFIX}, actual: ${r}`);const[i,...a]=Hy.bech32.fromWords(n);switch(i){case iK:{const[s,...o]=a;if(o.length!==20)throw Error("Invalid payload length!");const c=Object.values(e.SCRIPTS).find(f=>f&&f.SHORT_ID===s);if(!c)throw Error(`Invalid code hash index: ${s}!`);return{codeHash:c.CODE_HASH,hashType:c.HASH_TYPE,args:Qf.bytes.hexify(o)}}case aK:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:Qf.bytes.hexify(a.slice(0,32)),hashType:"data",args:Qf.bytes.hexify(a.slice(32))}}case sK:{if(a.length<32)throw Error("Invalid payload length!");return{codeHash:Qf.bytes.hexify(a.slice(0,32)),hashType:"type",args:Qf.bytes.hexify(a.slice(32))}}}throw Error(`Invalid payload format type: ${i}`)}var k5={};Object.defineProperty(k5,"__esModule",{value:!0});k5.hexToByteArray=fK;function fK(t){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error("Invalid hex string!");t.startsWith("0x")&&(t=t.slice(2));const e=[];for(;t.length>=2;)e.push(parseInt(t.slice(0,2),16)),t=t.slice(2);return e}var z5={};Object.defineProperty(z5,"__esModule",{value:!0});z5.refreshTypeIdCellDeps=uK;async function uK(t,{resolve:e}){const r=t.cellDeps.map(({outPoint:i})=>i).toArray(),n=await e(r);return t.update("cellDeps",i=>i.map((a,s)=>({...a,outPoint:n[s]})))}var u_={},Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.createModelHelper=dK;Xu.defaultDeepClone=Ny;var EE=ot,lK=St;function dK(t){return{create:e=>t.unpack(t.pack(e)),hash:e=>EE.bytes.bytify((0,lK.ckbHash)(t.pack(e))),equals:(e,r)=>EE.bytes.equal(t.pack(e),t.pack(r)),clone:Ny}}function Ny(t){const e=typeof t;if(e==="number"||e==="string"||e==="boolean"||e==="bigint"||t==null)return t;if(Array.isArray(t))return t.map(Ny);if(e==="object")return Object.entries(t).reduce((r,[n,i])=>Object.assign(r,{[n]:Ny(i)}),{});throw new Error("Cannot clone the value: "+String(t))}var yh={},vh={},xE;function $D(){if(xE)return vh;xE=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.scriptHelper=void 0;var t=xr,e=Lr,r=gi(),n=Xu;function i(a){if(a.startsWith("ckb"))return(0,r.parseAddress)(a,{config:e.predefined.LINA});if(a.startsWith("ckt"))return(0,r.parseAddress)(a,{config:e.predefined.AGGRON4});throw new Error(`The address prefix ${a} is unknown`)}return vh.scriptHelper=(0,n.createModelHelper)({pack:a=>t.blockchain.Script.pack(typeof a=="string"?i(a):a),unpack:a=>t.blockchain.Script.unpack(a)}),vh}var X1={};Object.defineProperty(X1,"__esModule",{value:!0});X1.outPointHelper=void 0;var hK=xr,pK=Xu;X1.outPointHelper=(0,pK.createModelHelper)(hK.blockchain.OutPoint);var SE;function bK(){if(SE)return yh;SE=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.cellHelper=void 0;var t=Xu,e=xr,r=$D(),n=wt,i=ot,a=T1,s=X1,o=gi();function c(u){return!u||typeof u!="object"?!1:"lock"in u}const f=(0,a.table)({cellOutput:e.blockchain.CellOutput,data:e.blockchain.Bytes,outPoint:(0,a.option)(e.blockchain.OutPoint)},["cellOutput","data","outPoint"]);return yh.cellHelper=(0,t.createModelHelper)({pack:u=>{const l=c(u)?{cellOutput:{capacity:n.BI.from(u.capacity||"0x0").toHexString(),lock:r.scriptHelper.create(u.lock),type:u.type&&r.scriptHelper.create(u.type)},outPoint:u.outPoint&&s.outPointHelper.create(u.outPoint),data:i.bytes.hexify(u.data||"0x")}:u;return n.BI.from(l.cellOutput.capacity).eq(0)&&(l.cellOutput.capacity=(0,o.minimalCellCapacityCompatible)(l).toHexString()),f.pack(l)},unpack:u=>f.unpack(u)}),yh}var CE;function gK(){return CE||(CE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return r.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return e.createModelHelper}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return i.outPointHelper}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return n.scriptHelper}});var e=Xu,r=bK(),n=$D(),i=X1}(u_)),u_}var IE;function gi(){return IE||(IE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};t.addressToScript=t.TransactionSkeleton=void 0,t.createTransactionFromSkeleton=S,t.createTransactionSkeleton=E,t.encodeToAddress=v,t.encodeToConfigAddress=d,t.generateAddress=Y,t.generateSecp256k1Blake160Address=m,t.generateSecp256k1Blake160MultisigAddress=x,t.locateCellDep=K,t.minimalCellCapacity=R,t.minimalCellCapacityCompatible=N,t.minimalScriptCapacity=w,t.minimalScriptCapacityCompatible=T,t.objectToTransactionSkeleton=k,t.parseAddress=b,Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return h.refreshTypeIdCellDeps}}),t.scriptToAddress=void 0,t.sealTransaction=p,t.transactionSkeletonToObject=O;var r=ot,n=xr,i=pf,a=ic,s=Lr,o=wt,c=wa,f=k5,u=G8,l=Ee,h=z5,g=gK();Object.keys(g).forEach(function(L){L==="default"||L==="__esModule"||Object.prototype.hasOwnProperty.call(e,L)||L in t&&t[L]===g[L]||Object.defineProperty(t,L,{enumerable:!0,get:function(){return g[L]}})});const{bytify:_,hexify:A}=r.bytes,C=1023;function w(L,{validate:j=!0}={}){const q=T(L,{validate:j});return BigInt(q.toString())}const I=1e8;function T(L,{validate:j=!0}={}){j&&u.validators.ValidateScript(L);let q=0;return q+=_(L.codeHash).length,q+=_(L.args).length,q+=1,o.BI.from(q).mul(I)}function R(L,{validate:j=!0}={}){const q=N(L,{validate:j});return BigInt(q.toString())}function N(L,{validate:j=!0}={}){j&&n.blockchain.CellOutput.pack(L.cellOutput);let q=8;return q+=_(L.cellOutput.lock.codeHash).length,q+=_(L.cellOutput.lock.args).length,q+=1,L.cellOutput.type&&(q+=_(L.cellOutput.type.codeHash).length,q+=_(L.cellOutput.type.args).length,q+=1),L.data&&(q+=_(L.data).length),o.BI.from(q).mul(I)}function K(L,{config:j=void 0}={}){j=j||(0,s.getConfig)();const q=Object.values(j.SCRIPTS).find(H=>H&&H.CODE_HASH===L.codeHash&&H.HASH_TYPE===L.hashType);return q?{depType:q.DEP_TYPE,outPoint:{txHash:q.TX_HASH,index:q.INDEX}}:null}let V=!1;const D=2,Q=4;function Y(L,{config:j=void 0}={}){j=j||(0,s.getConfig)(),V||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),V=!0),u.validators.ValidateScript(L);const q=Object.values(j.SCRIPTS).find(X=>X&&X.CODE_HASH===L.codeHash&&X.HASH_TYPE===L.hashType),H=[];if(q&&q.SHORT_ID!==void 0)H.push(1,q.SHORT_ID),H.push(...(0,f.hexToByteArray)(L.args));else{if(L.hashType==="type")H.push(Q);else if(L.hashType==="data")H.push(D);else throw new Error(`Invalid hashType ${L.hashType}`);H.push(...(0,f.hexToByteArray)(L.codeHash)),H.push(...(0,f.hexToByteArray)(L.args))}const z=i.bech32.toWords(H);return i.bech32.encode(j.PREFIX,z,C)}t.scriptToAddress=Y;function M(L,j,{config:q=void 0}={}){q=q||(0,s.getConfig)();const H=q.SCRIPTS[j];if(!H){const X=Object.keys(q.SCRIPTS);throw new Error(`Invalid script type: ${j}, only support: ${X}`)}const z={codeHash:H.CODE_HASH,hashType:H.HASH_TYPE,args:L};return Y(z,{config:q})}function m(L,{config:j=void 0}={}){return M(L,"SECP256K1_BLAKE160",{config:j})}function x(L,{config:j=void 0}={}){return M(L,"SECP256K1_BLAKE160_MULTISIG",{config:j})}function b(L,{config:j=void 0}={}){j=j||(0,s.getConfig)();try{return(0,c.parseFullFormatAddress)(L,{config:j})}catch{return(0,c.parseDeprecatedCkb2019Address)(L,{config:j})}}t.addressToScript=b;function v(L,{config:j=void 0}={}){u.validators.ValidateScript(L),j=j||(0,s.getConfig)();const q=r.bytes.concat([0],L.codeHash,l.HashType.pack(L.hashType),L.args);return i.bech32m.encode(j.PREFIX,i.bech32m.toWords(q),C)}function d(L,j,q){const H=(q==null?void 0:q.config)||(0,s.getConfig)(),z=H.SCRIPTS[j];if(!z){const ee=Object.keys(H.SCRIPTS);throw new Error(`Invalid script type: ${String(j)}, only support: ${ee}`)}const X={codeHash:z.CODE_HASH,hashType:z.HASH_TYPE,args:L};return v(X,{config:H})}const y=t.TransactionSkeleton=(0,a.Record)({cellProvider:null,cellDeps:(0,a.List)(),headerDeps:(0,a.List)(),inputs:(0,a.List)(),outputs:(0,a.List)(),witnesses:(0,a.List)(),fixedEntries:(0,a.List)(),signingEntries:(0,a.List)(),inputSinces:(0,a.Map)()});function S(L,{validate:j=!0}={}){const q={version:"0x0",cellDeps:L.get("cellDeps").toArray(),headerDeps:L.get("headerDeps").toArray(),inputs:L.get("inputs").map((H,z)=>{if(!H.outPoint)throw new Error(`cannot find OutPoint in Inputs[${z}] when createTransactionFromSkeleton`);return{since:L.get("inputSinces").get(z,"0x0"),previousOutput:H.outPoint}}).toArray(),outputs:L.get("outputs").map(H=>H.cellOutput).toArray(),outputsData:L.get("outputs").map(H=>H.data||"0x0").toArray(),witnesses:L.get("witnesses").toArray()};return j&&u.validators.ValidateTransaction(q),q}async function E(L,j){let q=y();q=q.update("cellDeps",X=>X.push(...L.cellDeps)),q=q.update("headerDeps",X=>X.push(...L.headerDeps));const H=await Promise.all(L.inputs.map(X=>j(X.previousOutput)));q=q.update("inputs",X=>X.push(...H)),q=q.update("inputSinces",X=>L.inputs.reduce((ee,ie,F)=>ee.set(F,ie.since),X));const z=L.outputs.map((X,ee)=>{var ie;return{cellOutput:X,data:(ie=L.outputsData[ee])!==null&&ie!==void 0?ie:"0x"}});return q=q.update("outputs",X=>X.push(...z)),q=q.update("witnesses",X=>X.push(...L.witnesses)),q}function p(L,j){const q=S(L);if(j.length!==L.get("signingEntries").size)throw new Error(`Requiring ${L.get("signingEntries").size} sealing contents but provided ${j.length}!`);return L.get("signingEntries").forEach((H,z)=>{switch(H.type){case"witness_args_lock":{const X=q.witnesses[H.index],ee=n.blockchain.WitnessArgs.unpack(_(X)),ie={lock:j[z]},F=ee.inputType;F&&(ie.inputType=F);const $=ee.outputType;$&&(ie.outputType=$),q.witnesses[H.index]=A(n.blockchain.WitnessArgs.pack(ie));break}default:throw new Error(`Invalid signing entry type: ${H.type}`)}}),q}function O(L){return L.toJS()}function k(L){let j=(0,a.Map)();for(const[H,z]of Object.entries(L.inputSinces))j=j.set(+H,z);return y({cellProvider:L.cellProvider,cellDeps:(0,a.List)(L.cellDeps),headerDeps:(0,a.List)(L.headerDeps),inputs:(0,a.List)(L.inputs),outputs:(0,a.List)(L.outputs),witnesses:(0,a.List)(L.witnesses),fixedEntries:(0,a.List)(L.fixedEntries),signingEntries:(0,a.List)(L.signingEntries),inputSinces:j})}}(Zm)),Zm}var Pu=gi(),UD,kD,zD,FD,jD,qD;const I0=Symbol("immutable"),Di=Symbol("cellDeps"),ui=Symbol("headerDeps"),vu=Symbol("witness"),zs=Symbol("since");class xn{constructor(e){this[UD]=!0,this.codeHash=e.codeHash,this.hashType=e.hashType,this.args=e.args,this[Di]=Object.freeze(e[Di]),this[ui]=Object.freeze(e[ui]),this[vu]=e[vu],this[zs]=e[zs]}static from(e){return Object.freeze(e instanceof xn?e:new xn(e))}}UD=I0;const xa=xn.from({codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x",[Di]:[],[ui]:[],[vu]:void 0,[zs]:"0x0"});class Yo{constructor(e){this[kD]=!0,this.txHash=e.txHash,this.index=e.index}static from(e){return Object.freeze(e instanceof Yo?e:new Yo(e))}}kD=I0;class e1{constructor(e){this[zD]=!0,this.capacity=e.capacity,this.lock=xn.from(e.lock),this.type=e.type?xn.from(e.type):void 0}static from(e){return Object.freeze(e instanceof e1?e:new e1(e))}}zD=I0;class Qt{constructor(e){this[FD]=!0;const{capacity:r,lock:n,type:i}={lock:xa,capacity:"0x0",...e.cellOutput,...e};this.cellOutput=e1.from({capacity:r,lock:n,type:i}),this.data=e.data??"0x",this.outPoint=e.outPoint?Yo.from(e.outPoint):void 0,this.blockHash=e.blockHash,this.blockNumber=e.blockNumber,this.txIndex=e.txIndex,BigInt(r)<=0n&&(this.cellOutput=e1.from({capacity:Pu.minimalCellCapacityCompatible(this,{validate:!1}).toHexString(),lock:n,type:i}))}static from(e){return Object.freeze(e instanceof Qt?e:new Qt(e))}}FD=I0;class mu{constructor(e){this[jD]=!0,this.outPoint=Yo.from(e.outPoint),this.depType=e.depType}static from(e){return Object.freeze(e instanceof mu?e:new mu(e))}}jD=I0;class Ud{constructor(e){this[qD]=!0,this.timestamp=e.timestamp,this.number=e.number,this.epoch=e.epoch,this.compactTarget=e.compactTarget,this.dao=e.dao,this.hash=e.hash,this.nonce=e.nonce,this.parentHash=e.parentHash,this.proposalsHash=e.proposalsHash,this.transactionsRoot=e.transactionsRoot,this.extraHash=e.extraHash,this.version=e.version}static from(e){return Object.freeze(e instanceof Ud?e:new Ud(e))}}qD=I0;const yK=Object.freeze(Ko.Uint8);Object.freeze(Ko.Uint16);const vK=Object.freeze(Ko.Uint32),kd=Object.freeze({...Ko.Uint64,unpack:t=>Ko.Uint64.unpack(t).toBigInt()}),R6=Object.freeze({...Ko.Uint128,unpack:t=>Ko.Uint128.unpack(t).toBigInt()}),KD=Object.freeze(ot.createFixedBytesCodec({byteLength:4,pack:t=>{const e=new Uint8Array([0,0,0,0]);return new DataView(e.buffer).setInt32(0,t,!0),e},unpack:t=>new DataView(t.buffer).getInt32(0,!0)})),mK=Object.freeze(N8);var mi={},zd={},W2={},ac={},X2={},yn={},yf={};Object.defineProperty(yf,"__esModule",{value:!0});yf.default=yf.ErrorCode=void 0;let _K=yf.ErrorCode=function(t){return t[t.ParameterInvalid=101]="ParameterInvalid",t[t.IdNotMatch=201]="IdNotMatch",t[t.MethodNotFound=202]="MethodNotFound",t[t.PayloadMessage=203]="PayloadMessage",t[t.ResponseMessage=204]="ResponseMessage",t}({});yf.default=_K;Object.defineProperty(yn,"__esModule",{value:!0});yn.default=yn.StringHashTypeException=yn.PageSizeTooSmallException=yn.PageSizeTooLargeException=yn.OutputsValidatorTypeException=yn.HexStringWithout0xException=yn.BigintOrHexStringTypeException=void 0;var T0=wK(yf);function wK(t){return t&&t.__esModule?t:{default:t}}class VD extends RangeError{constructor(r,n){super(`Expect page size to be at most ${n}, but ${r} received`);Qr(this,"code",T0.default.ParameterInvalid)}}yn.PageSizeTooLargeException=VD;class QD extends RangeError{constructor(r,n){super(`Expect page size to be at least ${n}, but ${r} received`);Qr(this,"code",T0.default.ParameterInvalid)}}yn.PageSizeTooSmallException=QD;class YD extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'");Qr(this,"code",T0.default.ParameterInvalid)}}yn.OutputsValidatorTypeException=YD;class GD extends TypeError{constructor(r){super(`Expect number to be bigint or hex string, but ${r} received`);Qr(this,"code",T0.default.ParameterInvalid)}}yn.BigintOrHexStringTypeException=GD;class WD extends TypeError{constructor(r){super(`Expect hash to be string, but ${r} received`);Qr(this,"code",T0.default.ParameterInvalid)}}yn.StringHashTypeException=WD;class XD extends Error{constructor(r){super(`Hex string ${r} should start with 0x`);Qr(this,"code",T0.default.ParameterInvalid)}}yn.HexStringWithout0xException=XD;yn.default={PageSizeTooLargeException:VD,PageSizeTooSmallException:QD,OutputsValidatorTypeException:YD,BigintOrHexStringTypeException:GD,StringHashTypeException:WD,HexStringWithout0xException:XD};var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.default=Ho.ResponseException=Ho.IdNotMatchException=void 0;var ZD=AK(yf);function AK(t){return t&&t.__esModule?t:{default:t}}class JD extends Error{constructor(r,n){super(`Expect json rpc id to be ${r}, but ${n} received`);Qr(this,"code",ZD.default.IdNotMatch)}}Ho.IdNotMatchException=JD;class eM extends Error{constructor(){super(...arguments);Qr(this,"code",ZD.default.ResponseMessage)}}Ho.ResponseException=eM;Ho.default={IdNotMatchException:JD,ResponseException:eM};var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.default=Ls.PayloadInBatchException=Ls.MethodInBatchNotFoundException=Ls.IdNotMatchedInBatchException=void 0;var tM=xK(yf),EK=Ho;function xK(t){return t&&t.__esModule?t:{default:t}}const F5="Batch Request";class rM extends Error{constructor(r){super(`[${F5}]: Method ${r} is not found`);Qr(this,"code",tM.default.MethodNotFound)}}Ls.MethodInBatchNotFoundException=rM;class nM extends Error{constructor(r,n){super(`[${F5} ${r}]: ${n}`);Qr(this,"code",tM.default.PayloadMessage);this.index=r}}Ls.PayloadInBatchException=nM;class iM extends EK.IdNotMatchException{constructor(e,r,n){super(r,n),this.message=`[${F5} ${e}]: ${this.message}`,this.index=e}}Ls.IdNotMatchedInBatchException=iM;Ls.default={MethodInBatchNotFoundException:rM,PayloadInBatchException:nM,IdNotMatchedInBatchException:iM};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=yn;Object.keys(e).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===e[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})});var r=Ho;Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===r[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return r[i]}})});var n=Ls;Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in t&&t[i]===n[i]||Object.defineProperty(t,i,{enumerable:!0,get:function(){return n[i]}})})})(X2);Object.defineProperty(ac,"__esModule",{value:!0});ac.formatter=void 0;var hl=X2,l_=wt;const fr=ac.formatter={toOptional:t=>e=>!t||e===void 0||e===null?e:t(e),toArray:t=>e=>typeof t!="function"||!Array.isArray(e)?e:e.map(t),toHash:t=>{if(typeof t!="string")throw new hl.StringHashTypeException(t);return t.startsWith("0x")?t:`0x${t}`},toNumber:t=>{if(typeof t=="bigint")return`0x${t.toString(16)}`;if(typeof t!="string")throw new hl.BigintOrHexStringTypeException(t);if(!t.startsWith("0x"))throw new hl.HexStringWithout0xException(t);return t},toScript:t=>{const{codeHash:e,hashType:r,...n}=t;return{code_hash:fr.toHash(e),hash_type:r,...n}},toOutPoint:t=>{const{txHash:e,index:r,...n}=t;return{tx_hash:fr.toHash(e),index:fr.toNumber(r),...n}},toInput:t=>{if(!t)return t;const{previousOutput:e,since:r,...n}=t;return{previous_output:fr.toOutPoint(e),since:fr.toNumber(r),...n}},toOutput:t=>{if(!t)return t;const{capacity:e,lock:r,type:n=void 0,...i}=t;return{capacity:fr.toNumber(e),lock:fr.toScript(r),type:n&&fr.toScript(n),...i}},toDepType:t=>t==="depGroup"?"dep_group":t,toOrder:t=>t,toCellDep:t=>{if(!t)return t;const{outPoint:e,depType:r="code",...n}=t;return{out_point:fr.toOutPoint(e),dep_type:fr.toDepType(r),...n}},toRawTransaction:t=>{if(!t)return t;const{version:e,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:a=[],headerDeps:s=[],...o}=t,c=n.map(h=>fr.toInput(h)),f=i.map(h=>fr.toOutput(h)),u=r.map(h=>fr.toCellDep(h));return{version:fr.toNumber(e),cell_deps:u,inputs:c,outputs:f,outputs_data:a,header_deps:s,...o}},toPageNumber:(t="0x1")=>fr.toNumber(t),toPageSize:(t="0x32")=>{const e=l_.BI.from(t),r=50,n=0;if(l_.BI.from(e).gt(r))throw new hl.PageSizeTooLargeException(t,r);if(l_.BI.from(e).lt(n))throw new hl.PageSizeTooSmallException(t,n);return fr.toNumber(`0x${e.toString(16)}`)},toReverseOrder:(t=!1)=>!!t,toOutputsValidator:t=>{if(!t)return;if(["default","passthrough"].indexOf(t)>-1)return t;throw new hl.OutputsValidatorTypeException},toBoolean:t=>!!t,toTransactionProof:t=>{if(!t)return t;const{blockHash:e,witnessesRoot:r,...n}=t;return{block_hash:e,witnesses_root:r,...n}},toTransactionAndWitnessProof:t=>({block_hash:t.blockHash,witnesses_proof:t.witnessesProof,transactions_proof:t.transactionsProof}),toSearchFilter:t=>t&&{script:t.script?fr.toScript(t.script):t.script,output_data_len_range:t.outputDataLenRange,output_capacity_range:t.outputCapacityRange,block_range:t.blockRange,script_len_range:t.scriptLenRange},toSearchKey:t=>t&&{script:fr.toScript(t.script),script_type:t.scriptType,filter:t.filter?fr.toSearchFilter(t.filter):t.filter,script_search_mode:t.scriptSearchMode?t.scriptSearchMode:"prefix"},toGetCellsSearchKey:t=>t&&{...fr.toSearchKey(t),with_data:t.withData},toGetTransactionsSearchKey:t=>t&&{...fr.toSearchKey(t),group_by_transaction:t.groupByTransaction}};var he={};Object.defineProperty(he,"__esModule",{value:!0});he.toBannedAddresses=he.toBannedAddress=he.toArray=he.toAlertMessage=void 0;he.toBlock=cM;he.toHash=he.toGetTransactionsResult=he.toGetCellsResult=he.toForkBlockResult=he.toFeeRateStatistics=he.toFeeRate=he.toEstimateCycles=he.toEpoch=he.toDeploymentsInfo=he.toDeploymentInfo=he.toDeployment=he.toDeployState=he.toDepType=he.toConsensus=he.toCellsIncludingOutPoint=he.toCellsCapacity=he.toCells=he.toCellbaseOutputCapacityDetails=he.toCellIncludingOutPoint=he.toCellDep=he.toCell=he.toCapacityByLockHash=he.toBlockchainInfo=he.toBlockFilter=he.toBlockEconomicState=void 0;he.toHeader=Z2;he.toTip=he.toSyncState=he.toScript=he.toRemoteNodeInfo=he.toRawTxPool=he.toPeers=he.toOutput=he.toOutPoint=he.toNumber=he.toNullable=he.toLockHashIndexStates=he.toLockHashIndexState=he.toLocalNodeInfo=he.toLiveCellsByLockHash=he.toLiveCellWithStatus=he.toLiveCell=he.toInput=void 0;he.toTransaction=ev;he.toUncleBlock=he.toTxPoolInfo=he.toTransactionsByLockHash=he.toTransactionWithStatus=he.toTransactionProof=he.toTransactionPoint=he.toTransactionAndWitnessProof=void 0;const SK=t=>Array.isArray(t.pending),CK=t=>e=>typeof t!="function"||!Array.isArray(e)?e:e.map(t);he.toArray=CK;const IK=t=>e=>!t||e===null?e:t(e);he.toNullable=IK;const TK=t=>t.toString();he.toNumber=TK;const OK=t=>t;he.toHash=OK;function Z2(t){if(typeof t=="string"||!t)return t;const{compact_target:e,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:a,...s}=t;return{compactTarget:e,parentHash:a,transactionsRoot:r,proposalsHash:n,extraHash:i,...s}}const Fd=t=>{if(!t)return t;const{code_hash:e,hash_type:r,...n}=t;return{codeHash:e,hashType:r,...n}};he.toScript=Fd;const aM=t=>{if(!t)return t;const{previous_output:e,...r}=t;return{previousOutput:e&&Z1(e),...r}};he.toInput=aM;const J2=t=>{if(!t)return t;const{lock:e,type:r,...n}=t;return{lock:Fd(e),type:r&&Fd(r),...n}};he.toOutput=J2;const Z1=t=>{const{tx_hash:e,...r}=t;return{txHash:e,...r}};he.toOutPoint=Z1;const sM=t=>t==="dep_group"?"depGroup":t;he.toDepType=sM;const oM=t=>{if(!t)return t;const{out_point:e,dep_type:r="code",...n}=t;return{outPoint:Z1(e),depType:sM(r),...n}};he.toCellDep=oM;function ev(t){if(!t||typeof t!="object")return t;const{cell_deps:e=[],inputs:r=[],outputs:n=[],outputs_data:i=[],header_deps:a=[],...s}=t;return{cellDeps:e.map(oM),inputs:r.map(aM),outputs:n.map(J2),outputsData:i,headerDeps:a,...s}}const j5=t=>{if(!t)return t;const{header:e,...r}=t;return{header:Z2(e),...r}};he.toUncleBlock=j5;const BK=t=>({blockHash:t.block_hash,blockNumber:t.block_number});he.toTip=BK;function cM(t){if(!t||typeof t=="string")return t;if("block"in t&&"cycles"in t)return{cycles:t.cycles,block:cM(t.block)};const{header:e,uncles:r=[],transactions:n=[],...i}=t;return{header:Z2(e),uncles:r.map(j5),transactions:n.map(ev),...i}}const fM=t=>{if(!t)return t;const{notice_until:e,...r}=t;return{noticeUntil:e,...r}};he.toAlertMessage=fM;const DK=t=>{if(!t)return t;const{is_initial_block_download:e,median_time:r,alerts:n,...i}=t;return{isInitialBlockDownload:e,medianTime:r,alerts:n.map(fM),...i}};he.toBlockchainInfo=DK;const MK=t=>{if(!t)return t;const{node_id:e,protocols:r,...n}=t;return{nodeId:e,protocols:r.map(({id:i,name:a,support_versions:s})=>({id:i,name:a,supportVersions:s})),...n}};he.toLocalNodeInfo=MK;const uM=t=>{if(!t)return t;const{node_id:e,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:a,...s}=t;return{nodeId:e,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:a.best_known_header_hash,bestKnownHeaderNumber:a.best_known_header_number,canFetchCount:a.can_fetch_count,inflightCount:a.inflight_count,lastCommonHeaderHash:a.last_common_header_hash,lastCommonHeaderNumber:a.last_common_header_number,unknownHeaderListSize:a.unknown_header_list_size},...s}};he.toRemoteNodeInfo=uM;const PK=t=>{if(!t)return t;const{last_txs_updated_at:e,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:a,min_fee_rate:s,min_rbf_rate:o,tx_size_limit:c,max_tx_pool_size:f,...u}=t;return{lastTxsUpdatedAt:e,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:a,minFeeRate:s,minRbfRate:o,txSizeLimit:c,maxTxPoolSize:f,...u}};he.toTxPoolInfo=PK;const RK=t=>Array.isArray(t)?t.map(uM):[];he.toPeers=RK;const q5=t=>{if(!t)return t;const{lock:e,type:r,...n}=t;return{lock:Fd(e),type:r?Fd(r):void 0,...n}};he.toCell=q5;const lM=t=>{if(!t)return t;const{data:e,output:r,...n}=t;return{data:e,output:J2(r),...n}};he.toLiveCell=lM;const LK=t=>{if(!t)return t;const{cell:e,...r}=t;return{cell:lM(e),...r}};he.toLiveCellWithStatus=LK;const HK=t=>Array.isArray(t)?t.map(q5):[];he.toCells=HK;const dM=t=>{if(!t)return t;const{lock:e,block_hash:r,out_point:n,output_data_len:i,...a}=t;return{blockHash:r,lock:Fd(e),outPoint:Z1(n),outputDataLen:i,...a}};he.toCellIncludingOutPoint=dM;const NK=t=>Array.isArray(t)?t.map(dM):[];he.toCellsIncludingOutPoint=NK;const $K=t=>{if(!t)return t;const{transaction:e,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:a,fee:s,...o}=t;return{transaction:ev(e),txStatus:{blockHash:r,status:n,..."reason"in t.tx_status?{reason:t.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:a,fee:s,...o}};he.toTransactionWithStatus=$K;const UK=t=>{if(!t)return t;const{start_number:e,compact_target:r,...n}=t;return{compactTarget:r,startNumber:e,...n}};he.toEpoch=UK;const $y=t=>{if(!t)return t;const{block_number:e,tx_hash:r,...n}=t;return{blockNumber:e,txHash:r,...n}};he.toTransactionPoint=$y;const kK=t=>t&&t.map(e=>({consumedBy:e.consumed_by?$y(e.consumed_by):e.consumed_by,createdBy:$y(e.created_by)}));he.toTransactionsByLockHash=kK;const zK=t=>t&&t.map(e=>({cellOutput:q5(e.cell_output),createdBy:$y(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}));he.toLiveCellsByLockHash=zK;const hM=t=>{if(!t)return t;const{block_hash:e,block_number:r,lock_hash:n,...i}=t;return{blockHash:e,blockNumber:r,lockHash:n,...i}};he.toLockHashIndexState=hM;const FK=t=>t&&t.map(hM);he.toLockHashIndexStates=FK;const pM=t=>{if(!t)return t;const{ban_reason:e,ban_until:r,created_at:n,...i}=t;return{banReason:e,banUntil:r,createdAt:n,...i}};he.toBannedAddress=pM;const jK=t=>t&&t.map(e=>pM(e));he.toBannedAddresses=jK;const qK=t=>{if(!t)return t;const{proposal_reward:e,tx_fee:r,...n}=t;return{proposalReward:e,txFee:r,...n}};he.toCellbaseOutputCapacityDetails=qK;const KK=t=>{if(!t)return t;const{fee_rate:e,...r}=t;return{feeRate:e,...r}};he.toFeeRate=KK;const VK=t=>{if(!t)return t;const{cells_count:e,block_number:r,capacity:n,...i}=t;return{blockNumber:r,capacity:n,cellsCount:e,...i}};he.toCapacityByLockHash=VK;const QK=t=>{if(!t)return t;const{finalized_at:e,miner_reward:r,txs_fee:n,...i}=t;return{finalizedAt:e,minerReward:r,txsFee:n,...i}};he.toBlockEconomicState=QK;const YK=t=>t&&{bestKnownBlockNumber:t.best_known_block_number,bestKnownBlockTimestamp:t.best_known_block_timestamp,fastTime:t.fast_time,ibd:t.ibd,inflightBlocksCount:t.inflight_blocks_count,lowTime:t.low_time,normalTime:t.normal_time,orphanBlocksCount:t.orphan_blocks_count};he.toSyncState=YK;const GK=t=>{if(!t)return t;const{block_hash:e,witnesses_root:r,...n}=t;return{blockHash:e,witnessesRoot:r,...n}};he.toTransactionProof=GK;const WK=t=>({rfc:t.rfc,epochNumber:t.epoch_number}),bM=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold});he.toDeployment=bM;const TE=t=>"rfc0043"in t?{status:t.status,rfc0043:bM(t.rfc0043)}:t,XK=t=>{if(!t)return t;const e=t.hardfork_features,r=t.softforks,n=r.light_client&&TE(r.light_client),i=r.testdummy&&TE(r.testdummy);return{blockVersion:t.block_version,cellbaseMaturity:t.cellbase_maturity,daoTypeHash:t.dao_type_hash,epochDurationTarget:t.epoch_duration_target,genesisHash:t.genesis_hash,id:t.id,initialPrimaryEpochReward:t.initial_primary_epoch_reward,maxBlockBytes:t.max_block_bytes,maxBlockCycles:t.max_block_cycles,maxBlockProposalsLimit:t.max_block_proposals_limit,maxUnclesNum:t.max_uncles_num,medianTimeBlockCount:t.median_time_block_count,orphanRateTarget:t.orphan_rate_target,permanentDifficultyInDummy:t.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:t.primary_epoch_reward_halving_interval,proposerRewardRatio:t.proposer_reward_ratio,secondaryEpochReward:t.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:t.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:t.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:t.tx_proposal_window,txVersion:t.tx_version,typeIdCodeHash:t.type_id_code_hash,hardforkFeatures:e.map(WK),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};he.toConsensus=XK;const ZK=t=>{if(!t||SK(t))return t;const e=({ancestors_count:i,ancestors_cycles:a,ancestors_size:s,...o})=>({ancestorsCount:i,ancestorsCycles:a,ancestorsSize:s,...o}),r={},n={};return Object.keys(t.proposed).forEach(i=>{r[i]=e(t.proposed[i])}),Object.keys(t.pending).forEach(i=>{n[i]=e(t.pending[i])}),{proposed:r,pending:n}};he.toRawTxPool=ZK;const JK=t=>t&&{blockNumber:t.block_number,outPoint:Z1(t.out_point),output:J2(t.output),outputData:t.output_data,txIndex:t.tx_index},eV=t=>({lastCursor:t.last_cursor,objects:t.objects.map(e=>JK(e))});he.toGetCellsResult=eV;const tV=t=>!t.cells,rV=t=>t&&(tV(t)?{txHash:t.tx_hash,blockNumber:t.block_number,ioIndex:t.io_index,ioType:t.io_type,txIndex:t.tx_index}:{txHash:t.tx_hash,txIndex:t.tx_index,blockNumber:t.block_number,cells:t.cells}),nV=t=>t&&{lastCursor:t.last_cursor,objects:t.objects.map(e=>rV(e))};he.toGetTransactionsResult=nV;const iV=t=>t&&{capacity:t.capacity,blockHash:t.block_hash,blockNumber:t.block_number};he.toCellsCapacity=iV;const aV=t=>({hash:t.hash,data:t.data});he.toBlockFilter=aV;const sV=t=>({blockHash:t.block_hash,transactionsProof:t.transactions_proof,witnessesProof:t.witnesses_proof});he.toTransactionAndWitnessProof=sV;const oV=t=>({mean:t.mean,median:t.median});he.toFeeRateStatistics=oV;const cV=t=>typeof t=="string"?t:{header:Z2(t.header),uncles:t.uncles.map(j5),transactions:t.transactions.map(ev),proposals:t.proposals,extension:t.extension};he.toForkBlockResult=cV;const fV=t=>({cycles:t.cycles});he.toEstimateCycles=fV;const gM=t=>t==="locked_in"?"lockedIn":t;he.toDeployState=gM;const L6=t=>({bit:t.bit,start:t.start,timeout:t.timeout,minActivationEpoch:t.min_activation_epoch,period:t.period,threshold:t.threshold,since:t.since,state:gM(t.state)});he.toDeploymentInfo=L6;const uV=t=>{const{light_client:e,testdummy:r}=t.deployments;return{hash:t.hash,epoch:t.epoch,deployments:{...e?{lightClient:L6(e)}:{},...r?{testdummy:L6(r)}:{}}}};he.toDeploymentsInfo=uV;Object.defineProperty(W2,"__esModule",{value:!0});W2.default=void 0;var Rn=ac,ti=lV(he);function yM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(yM=function(n){return n?r:e})(t)}function lV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=yM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}W2.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:ti.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:ti.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:ti.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[Rn.formatter.toNumber],resultFormatters:ti.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[Rn.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[Rn.formatter.toHash],resultFormatters:ti.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[Rn.formatter.toNumber],resultFormatters:ti.toBlock},getHeader:{method:"get_header",paramsFormatters:[Rn.formatter.toHash],resultFormatters:ti.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[Rn.formatter.toNumber],resultFormatters:ti.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[Rn.formatter.toOutPoint],resultFormatters:ti.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[Rn.formatter.toHash],resultFormatters:ti.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[Rn.formatter.toHash],resultFormatters:ti.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[Rn.formatter.toHash],resultFormatters:ti.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[Rn.formatter.toArray(Rn.formatter.toHash),Rn.formatter.toOptional(Rn.formatter.toHash)],resultFormatters:ti.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[Rn.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:ti.toConsensus}};var tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.default=void 0;var d_=ac;tv.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[d_.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[d_.formatter.toOutPoint,d_.formatter.toHash]}};var rv={};Object.defineProperty(rv,"__esModule",{value:!0});rv.default=void 0;var dV=ac,og=hV(he);function vM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(vM=function(n){return n?r:e})(t)}function hV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=vM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}rv.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:og.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:og.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:og.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:og.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[dV.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}};var nv={};Object.defineProperty(nv,"__esModule",{value:!0});nv.default=void 0;var OE=ac,h_=pV(he);function mM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(mM=function(n){return n?r:e})(t)}function pV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=mM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}nv.default={sendTransaction:{method:"send_transaction",paramsFormatters:[OE.formatter.toRawTransaction,OE.formatter.toOutputsValidator],resultFormatters:h_.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:h_.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:h_.toRawTxPool}};var iv={};Object.defineProperty(iv,"__esModule",{value:!0});iv.default=void 0;var BE=bV(he);function _M(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(_M=function(n){return n?r:e})(t)}function bV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=_M(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}iv.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:BE.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:BE.toDeploymentsInfo}};var av={};Object.defineProperty(av,"__esModule",{value:!0});av.default=void 0;var mt=ac,Tr=gV(he);function wM(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(wM=function(n){return n?r:e})(t)}function gV(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=wM(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const yV={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:Tr.toTip},getCells:{method:"get_cells",paramsFormatters:[mt.formatter.toGetCellsSearchKey,mt.formatter.toOrder,mt.formatter.toNumber,mt.formatter.toOptional(mt.formatter.toHash)],resultFormatters:Tr.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[mt.formatter.toGetTransactionsSearchKey,mt.formatter.toOrder,mt.formatter.toNumber,mt.formatter.toOptional(mt.formatter.toHash)],resultFormatters:Tr.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[mt.formatter.toSearchKey],resultFormatters:Tr.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[mt.formatter.toHash],resultFormatters:Tr.toNullable(Tr.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[mt.formatter.toArray(mt.formatter.toHash),mt.formatter.toOptional(mt.formatter.toHash)],resultFormatters:Tr.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[mt.formatter.toTransactionAndWitnessProof],resultFormatters:Tr.toArray(Tr.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[mt.formatter.toHash,mt.formatter.toOptional(mt.formatter.toNumber)],resultFormatters:Tr.toNullable(Tr.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[mt.formatter.toHash],resultFormatters:Tr.toNullable(Tr.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[mt.formatter.toRawTransaction],resultFormatters:Tr.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[mt.formatter.toOptional(mt.formatter.toNumber)],resultFormatters:Tr.toNullable(Tr.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[mt.formatter.toOptional(mt.formatter.toNumber)],resultFormatters:Tr.toNullable(Tr.toFeeRateStatistics)}};av.default=yV;Object.defineProperty(zd,"__esModule",{value:!0});zd.rpcProperties=zd.Base=void 0;var vV=O0(W2),mV=O0(tv),_V=O0(rv),wV=O0(nv),AV=O0(iv),EV=O0(av);function O0(t){return t&&t.__esModule?t:{default:t}}const xV=zd.rpcProperties={...vV.default,...mV.default,...EV.default,..._V.default,...wV.default,...AV.default};var h2,cC;let SV=(cC=class{constructor(){De(this,h2,xV)}get rpcProperties(){return se(this,h2)}},h2=new WeakMap,cC);zd.Base=SV;var mh={},sv={exports:{}};const{AbortController:AM,AbortSignal:CV}=typeof self<"u"?self:typeof window<"u"?window:void 0;sv.exports=AM;sv.exports.AbortSignal=CV;sv.exports.default=AM;var EM=sv.exports,H6={exports:{}};(function(t,e){var r=typeof self<"u"?self:jn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(b){return b&&DataView.prototype.isPrototypeOf(b)}if(o.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(b){return b&&f.indexOf(Object.prototype.toString.call(b))>-1};function l(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function h(b){return typeof b!="string"&&(b=String(b)),b}function g(b){var v={next:function(){var d=b.shift();return{done:d===void 0,value:d}}};return o.iterable&&(v[Symbol.iterator]=function(){return v}),v}function _(b){this.map={},b instanceof _?b.forEach(function(v,d){this.append(d,v)},this):Array.isArray(b)?b.forEach(function(v){this.append(v[0],v[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(v){this.append(v,b[v])},this)}_.prototype.append=function(b,v){b=l(b),v=h(v);var d=this.map[b];this.map[b]=d?d+", "+v:v},_.prototype.delete=function(b){delete this.map[l(b)]},_.prototype.get=function(b){return b=l(b),this.has(b)?this.map[b]:null},_.prototype.has=function(b){return this.map.hasOwnProperty(l(b))},_.prototype.set=function(b,v){this.map[l(b)]=h(v)},_.prototype.forEach=function(b,v){for(var d in this.map)this.map.hasOwnProperty(d)&&b.call(v,this.map[d],d,this)},_.prototype.keys=function(){var b=[];return this.forEach(function(v,d){b.push(d)}),g(b)},_.prototype.values=function(){var b=[];return this.forEach(function(v){b.push(v)}),g(b)},_.prototype.entries=function(){var b=[];return this.forEach(function(v,d){b.push([d,v])}),g(b)},o.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function A(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function C(b){return new Promise(function(v,d){b.onload=function(){v(b.result)},b.onerror=function(){d(b.error)}})}function w(b){var v=new FileReader,d=C(v);return v.readAsArrayBuffer(b),d}function I(b){var v=new FileReader,d=C(v);return v.readAsText(b),d}function T(b){for(var v=new Uint8Array(b),d=new Array(v.length),y=0;y<v.length;y++)d[y]=String.fromCharCode(v[y]);return d.join("")}function R(b){if(b.slice)return b.slice(0);var v=new Uint8Array(b.byteLength);return v.set(new Uint8Array(b)),v.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:o.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:o.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():o.arrayBuffer&&o.blob&&c(b)?(this._bodyArrayBuffer=R(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||u(b))?this._bodyArrayBuffer=R(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var b=A(this);if(b)return b;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(Q)}),this.json=function(){return this.text().then(JSON.parse)},this}var K=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(b){var v=b.toUpperCase();return K.indexOf(v)>-1?v:b}function D(b,v){v=v||{};var d=v.body;if(b instanceof D){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,v.headers||(this.headers=new _(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!d&&b._bodyInit!=null&&(d=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new _(v.headers)),this.method=V(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&d)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(d)}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function Q(b){var v=new FormData;return b.trim().split("&").forEach(function(d){if(d){var y=d.split("="),S=y.shift().replace(/\+/g," "),E=y.join("=").replace(/\+/g," ");v.append(decodeURIComponent(S),decodeURIComponent(E))}}),v}function Y(b){var v=new _,d=b.replace(/\r?\n[\t ]+/g," ");return d.split(/\r?\n/).forEach(function(y){var S=y.split(":"),E=S.shift().trim();if(E){var p=S.join(":").trim();v.append(E,p)}}),v}N.call(D.prototype);function M(b,v){v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"OK",this.headers=new _(v.headers),this.url=v.url||"",this._initBody(b)}N.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},M.error=function(){var b=new M(null,{status:0,statusText:""});return b.type="error",b};var m=[301,302,303,307,308];M.redirect=function(b,v){if(m.indexOf(v)===-1)throw new RangeError("Invalid status code");return new M(null,{status:v,headers:{location:b}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(v,d){this.message=v,this.name=d;var y=Error(v);this.stack=y.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function x(b,v){return new Promise(function(d,y){var S=new D(b,v);if(S.signal&&S.signal.aborted)return y(new s.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function p(){E.abort()}E.onload=function(){var O={status:E.status,statusText:E.statusText,headers:Y(E.getAllResponseHeaders()||"")};O.url="responseURL"in E?E.responseURL:O.headers.get("X-Request-URL");var k="response"in E?E.response:E.responseText;d(new M(k,O))},E.onerror=function(){y(new TypeError("Network request failed"))},E.ontimeout=function(){y(new TypeError("Network request failed"))},E.onabort=function(){y(new s.DOMException("Aborted","AbortError"))},E.open(S.method,S.url,!0),S.credentials==="include"?E.withCredentials=!0:S.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&o.blob&&(E.responseType="blob"),S.headers.forEach(function(O,k){E.setRequestHeader(k,O)}),S.signal&&(S.signal.addEventListener("abort",p),E.onreadystatechange=function(){E.readyState===4&&S.signal.removeEventListener("abort",p)}),E.send(typeof S._bodyInit>"u"?null:S._bodyInit)})}return x.polyfill=!0,a.fetch||(a.fetch=x,a.Headers=_,a.Request=D,a.Response=M),s.Headers=_,s.Request=D,s.Response=M,s.fetch=x,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(H6,H6.exports);var xM=H6.exports,DE;function IV(){var s,o,c,f;if(DE)return mh;DE=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.Method=void 0;var t=X2,e=ov(),r=i(EM),n=i(xM);function i(u){return u&&u.__esModule?u:{default:u}}class a{constructor(l,h,g={}){De(this,s);De(this,o);De(this,c,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0});De(this,f);Qr(this,"call",async(...l)=>{const h=this.getPayload(...l),g=new r.default,_=g.signal,A=setTimeout(()=>g.abort(),se(this,o).timeout),C=await se(this,o).fetch(se(this,f).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(h),signal:_}).then(w=>w.json()).then(w=>{var I,T,R;if(w.id!==h.id)throw new t.IdNotMatchException(h.id,w.id);if(w.error)throw new t.ResponseException(JSON.stringify(w.error));return(I=(T=(R=se(this,c)).resultFormatters)===null||T===void 0?void 0:T.call(R,w.result))!==null&&I!==void 0?I:w.result});return clearTimeout(A),C});Qr(this,"getPayload",(...l)=>{const h=l.map((A,C)=>se(this,c).paramsFormatters[C]&&se(this,c).paramsFormatters[C](A)||A);return{id:Math.round(Math.random()*1e4),method:se(this,c).method,params:h,jsonrpc:"2.0"}});me(this,f,l),me(this,c,h),me(this,s,h.name);const{timeout:_=e.DEFAULT_RPC_TIMEOUT,fetch:A=n.default}=g;me(this,o,{timeout:_,fetch:A}),Object.defineProperty(this.call,"name",{value:h.name,configurable:!1,writable:!1})}get name(){return se(this,s)}}return s=new WeakMap,o=new WeakMap,c=new WeakMap,f=new WeakMap,mh.Method=a,mh}var ME;function ov(){var h,g,_,A;if(ME)return mi;ME=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.ResultFormatter=mi.RPC=mi.ParamsFormatter=mi.DEFAULT_RPC_TIMEOUT=mi.CKBRPC=void 0;var t=zd,e=IV(),r=ac,n=f(he),i=X2,a=o(xM),s=o(EM);function o(C){return C&&C.__esModule?C:{default:C}}function c(C){if(typeof WeakMap!="function")return null;var w=new WeakMap,I=new WeakMap;return(c=function(T){return T?I:w})(C)}function f(C,w){if(C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var I=c(w);if(I&&I.has(C))return I.get(C);var T={__proto__:null},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in C)if(N!=="default"&&{}.hasOwnProperty.call(C,N)){var K=R?Object.getOwnPropertyDescriptor(C,N):null;K&&(K.get||K.set)?Object.defineProperty(T,N,K):T[N]=C[N]}return T.default=C,I&&I.set(C,T),T}mi.ParamsFormatter=r.formatter,mi.ResultFormatter=n;const u=mi.DEFAULT_RPC_TIMEOUT=3e4;class l extends t.Base{constructor(I,T={}){super();De(this,h);De(this,g,{url:""});De(this,_,r.formatter);De(this,A,n);Qr(this,"addMethod",(I,T)=>{const R=new e.Method(this.node,I,T);Object.defineProperty(this,I.name,{value:R.call,enumerable:!0})});Qr(this,"createBatchRequest",(I=[])=>{const T=this,R=new Proxy([],{set(...N){const K=Object.keys(T);if(N[1]!=="length"){var V;const D=N==null||(V=N[2])===null||V===void 0?void 0:V[0];if(K.indexOf(D)===-1)throw new i.MethodInBatchNotFoundException(D)}return Reflect.set(...N)}});return Object.defineProperties(R,{add:{value(...N){return this.push(N),this}},remove:{value(N){return this.splice(N,1),this}},exec:{async value(){const N=R.map(([Y,...M],m)=>{try{return new e.Method(T.node,{...T.rpcProperties[Y],name:Y}).getPayload(...M)}catch(x){throw new i.PayloadInBatchException(m,x.message)}}),K=new s.default,V=K.signal,D=setTimeout(()=>K.abort(),se(T,h).timeout),Q=await se(T,h).fetch(se(T,g).url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(N),signal:V}).then(Y=>Y.json());return clearTimeout(D),Q.map((Y,M)=>{var m,x,b;return Y.id!==N[M].id?new i.IdNotMatchedInBatchException(M,N[M].id,Y.id):(m=(x=(b=T.rpcProperties[R[M][0]]).resultFormatters)===null||x===void 0?void 0:x.call(b,Y.result))!==null&&m!==void 0?m:Y.result})}}}),I.forEach(N=>R.push(N)),R});this.setNode({url:I});const{timeout:R=u,fetch:N=a.default}=T;me(this,h,{timeout:R,fetch:N}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach(K=>{this.addMethod({name:K,...this.rpcProperties[K]},se(this,h))})}get node(){return se(this,g)}get paramsFormatter(){return se(this,_)}get resultFormatter(){return se(this,A)}setNode(I){return Object.assign(this.node,I),this.node}}return h=new WeakMap,g=new WeakMap,_=new WeakMap,A=new WeakMap,mi.RPC=mi.CKBRPC=l,mi}var p_=ov();async function SM(t,e=OV(t),r=!1,...n){const i=BV(e);let a=PV(t==="mainnet"?Lr.predefined.LINA:t==="testnet"?Lr.predefined.AGGRON4:{PREFIX:"ckt",SCRIPTS:Lr.generateGenesisScriptConfigs(await i.getBlockByNumber("0x0"))}),s=a.SCRIPTS;for(const o of n)s=Object.freeze({...s,...o(t,s)});return a=new CM(a.prefix,s),Lr.initializeConfig(r?{PREFIX:"",SCRIPTS:{}}:a),{chain:t,rpcUrl:e,rpc:i,config:a}}const TV=Object.freeze({mainnet:"https://rpc.ankr.com/nervos_ckb",testnet:"https://testnet.ckb.dev",devnet:"http://127.0.0.1:8114/"});function OV(t){return TV[t]}function BV(t){const e=new p_.RPC(t);return e.addMethod({name:"getCellsByLock",method:"get_cells",paramsFormatters:[r=>({script:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},script_type:"lock",script_search_mode:"exact"}),r=>r,r=>r==="max"?"0xffffffff":p_.ParamsFormatter.toNumber(r)],resultFormatters:r=>r.objects.map(({output:{capacity:n,lock:i,type:a},block_number:s,out_point:o,output_data:c,tx_index:f})=>({cellOutput:{capacity:n,lock:{codeHash:i.code_hash,hashType:i.hash_type,args:i.args},type:a?{codeHash:a.code_hash,hashType:a.hash_type,args:a.args}:void 0},data:c??"0x",outPoint:{index:o.index,txHash:o.tx_hash},blockNumber:s,txIndex:f}))}),e.addMethod({name:"getFeeRate",method:"get_fee_rate_statistics",paramsFormatters:[r=>p_.ParamsFormatter.toNumber(r)],resultFormatters:r=>!r||!r.median?1000n:BigInt(r.median)}),e}class K5 extends Error{constructor(e){super(DV),this.missingScriptName=e,Object.setPrototypeOf(this,K5.prototype)}}const DV="Script name not found";class CM{constructor(e,r){return this.prefix=e,this.scripts=Object.freeze(r),Object.freeze(this)}defaultScript(e){const r=this.scripts[e];if(!r)throw new K5(e);return r.defaultScript}get PREFIX(){return this.prefix}get SCRIPTS(){return this.scripts}}class vp{constructor(e,r=0){return e[Di][r].depType,this.defaultScript=e,this.index=r,Object.freeze(this)}get CODE_HASH(){return this.defaultScript.codeHash}get HASH_TYPE(){return this.defaultScript.hashType}get TX_HASH(){return this.defaultScript[Di][this.index].outPoint.txHash}get INDEX(){return this.defaultScript[Di][this.index].outPoint.index}get DEP_TYPE(){return this.defaultScript[Di][this.index].depType}}function MV(t){if(t instanceof vp)return t;const e=mu.from({outPoint:Yo.from({txHash:t.TX_HASH,index:t.INDEX}),depType:t.DEP_TYPE});return new vp(xn.from({...xa,codeHash:t.CODE_HASH,hashType:t.HASH_TYPE,[Di]:[e]}))}function PV(t){const e={};for(const r in t.SCRIPTS)e[r]=MV(t.SCRIPTS[r]);return new CM(t.PREFIX,e)}var Ln={},Dn={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.SECP_SIGNATURE_PLACEHOLDER=void 0;dt.addCellDep=IM;dt.default=void 0;dt.ensureScript=HM;dt.generateDaoScript=TM;dt.hashWitness=Ug;dt.isAcpAddress=RM;dt.isAcpScript=Y5;dt.isDaoScript=MM;dt.isOmnilockAddress=$V;dt.isOmnilockScript=BM;dt.isSecp256k1Blake160Address=OM;dt.isSecp256k1Blake160MultisigAddress=DM;dt.isSecp256k1Blake160MultisigScript=Q5;dt.isSecp256k1Blake160Script=V5;dt.isSudtScript=PM;dt.prepareSigningEntries=LM;var RV=ic,J1=gi(),PE=ot,td=xr,LV=g0;const{CKBHasher:HV,ckbHash:NV}=td.utils;function IM(t,e){return t.get("cellDeps").find(n=>n.depType===e.depType&&new td.values.OutPointValue(n.outPoint,{validate:!1}).equals(new td.values.OutPointValue(e.outPoint,{validate:!1})))||(t=t.update("cellDeps",n=>n.push({outPoint:e.outPoint,depType:e.depType}))),t}function TM(t){const e=t.SCRIPTS.DAO;return{codeHash:e.CODE_HASH,hashType:e.HASH_TYPE,args:"0x"}}function V5(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function OM(t,e){const r=(0,J1.parseAddress)(t,{config:e});return V5(r,e)}function BM(t,e){const r=e.SCRIPTS.OMNILOCK;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function $V(t,e){const r=(0,J1.parseAddress)(t,{config:e});return BM(r,e)}function Q5(t,e){const r=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function DM(t,e){const r=(0,J1.parseAddress)(t,{config:e});return Q5(r,e)}function MM(t,e){const r=e.SCRIPTS.DAO;return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function PM(t,e){const r=e.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function Y5(t,e){const r=e.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!t&&t.codeHash===r.CODE_HASH&&t.hashType===r.HASH_TYPE}function RM(t,e){const r=(0,J1.parseAddress)(t,{config:e});return Y5(r,e)}function Ug(t,e){const r=PE.bytes.hexify(LV.Uint64.pack(PE.bytes.bytify(e).length));t.update(r),t.update(e)}function LM(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);let i=(0,RV.Set)();const a=(0,J1.createTransactionFromSkeleton)(t),s=NV(td.blockchain.RawTransaction.pack(a)),o=t.get("inputs"),c=t.get("witnesses");let f=t.get("signingEntries");for(let u=0;u<o.size;u++){const l=o.get(u);if(n.CODE_HASH===l.cellOutput.lock.codeHash&&n.HASH_TYPE===l.cellOutput.lock.hashType&&!i.has(l.cellOutput.lock.args)){i=i.add(l.cellOutput.lock.args);const h=new td.values.ScriptValue(l.cellOutput.lock,{validate:!1}),g=new HV;if(g.update(s),u>=c.size)throw new Error(`The first witness in the script group starting at input index ${u} does not exist, maybe some other part has invalidly tampered the transaction?`);Ug(g,c.get(u));for(let A=u+1;A<o.size&&A<c.size;A++){const C=o.get(A);h.equals(new td.values.ScriptValue(C.cellOutput.lock,{validate:!1}))&&Ug(g,c.get(A))}for(let A=o.size;A<c.size;A++)Ug(g,c.get(A));const _={type:"witness_args_lock",index:u,message:g.digestHex()};f=f.push(_)}}return t=t.set("signingEntries",f),t}function HM(t,e,r){const n=e.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==t.codeHash||n.HASH_TYPE!==t.hashType)throw new Error(`Provided script is not ${r} script!`)}dt.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";dt.default={addCellDep:IM,generateDaoScript:TM,isSecp256k1Blake160Script:V5,isSecp256k1Blake160MultisigScript:Q5,isDaoScript:MM,isSudtScript:PM,prepareSigningEntries:LM,isSecp256k1Blake160Address:OM,isSecp256k1Blake160MultisigAddress:DM,ensureScript:HM,isAcpScript:Y5,isAcpAddress:RM};var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.isMultisigFromInfo=FV;ei.multisigArgs=$M;ei.parseFromInfo=jV;ei.serializeMultisigScript=NM;var UV=xr,RE=gi(),kV=Lr,LE=ot;const{CKBHasher:zV}=UV.utils;function FV(t){if(!t||typeof t!="object")return!1;const e=t;return typeof(e==null?void 0:e.R)=="number"&&typeof(e==null?void 0:e.M)=="number"&&Array.isArray(e==null?void 0:e.publicKeyHashes)}function NM({R:t,M:e,publicKeyHashes:r}){if(t<0||t>255)throw new Error("`R` should be less than 256!");if(e<0||e>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+t.toString(16)).slice(-2)+("00"+e.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map(n=>n.slice(2)).join("")}function $M(t,e){let r="0x";return e!=null&&(r=LE.bytes.hexify(LE.number.Uint64LE.pack(e))),new zV().update(t).digestHex().slice(0,42)+r.slice(2)}function jV(t,{config:e=void 0}={}){e=e||(0,kV.getConfig)();let r,n,i,a;if(typeof t=="string")r=(0,RE.parseAddress)(t,{config:e});else if("R"in t){const s=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!s)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=NM(t);const o=$M(n,t.since);r={codeHash:s.CODE_HASH,hashType:s.HASH_TYPE,args:o}}else if("address"in t){const s=e.SCRIPTS.ANYONE_CAN_PAY;if(!s)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=t.address;if(r=(0,RE.parseAddress)(o,{config:e}),i=t.destroyable,r.codeHash!==s.CODE_HASH||r.hashType!==s.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else if("script"in t)r=t.script,a=t.customData;else throw new Error("Invalid fromInfo format!");return{fromScript:r,multisigScript:n,destroyable:i,customData:a}}Object.defineProperty(Dn,"__esModule",{value:!0});Dn.default=Dn.CellCollector=void 0;Dn.injectCapacity=FM;Dn.payFee=zM;Dn.prepareSigningEntries=jM;Dn.setupInputCell=UM;Dn.transfer=kM;Dn.transferCompatible=eb;var qV=ic,cg=gi(),rd=ot,t1=xr,B0=Lr,cf=dt,KV=ei,Oc=wt;const{ScriptValue:$l}=t1.values,VV=Dn.CellCollector=class{constructor(e,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,B0.getConfig)(),this.fromScript=(0,KV.parseFromInfo)(e,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,cf.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function UM(t,e,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,B0.getConfig)();const s=e.cellOutput.lock;if(!(0,cf.isSecp256k1Blake160Script)(s,n))throw new Error("Not SECP256K1_BLAKE160 input!");t=t.update("inputs",l=>l.push(e));const o={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",l=>l.push(o)),a&&(t=t.update("inputSinces",l=>l.set(t.get("inputs").size-1,a))),t=t.update("witnesses",l=>l.push(i));const c=n.SCRIPTS.SECP256K1_BLAKE160;if(!c)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const f={txHash:c.TX_HASH,index:c.INDEX};t=(0,cf.addCellDep)(t,{outPoint:f,depType:c.DEP_TYPE});const u=t.get("inputs").findIndex(l=>new $l(l.cellOutput.lock,{validate:!1}).equals(new $l(s,{validate:!1})));if(u!==-1){for(;u>=t.get("witnesses").size;)t=t.update("witnesses",g=>g.push("0x"));let l=t.get("witnesses").get(u);const h={lock:cf.SECP_SIGNATURE_PLACEHOLDER};if(l!=="0x"){const g=t1.blockchain.WitnessArgs.unpack(rd.bytes.bytify(l)),_=g.lock;if(_&&h.lock&&!rd.bytes.equal(_,h.lock))throw new Error("Lock field in first witness is set aside for signature!");const A=g.inputType;A&&(h.inputType=A);const C=g.outputType;C&&(h.outputType=C)}l=rd.bytes.hexify(t1.blockchain.WitnessArgs.pack(h)),t=t.update("witnesses",g=>g.set(u,l))}return t}async function kM(t,e,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){const o=await eb(t,e,r,n,{config:i,requireToAddress:a,assertAmountEnough:s});let c,f;return o instanceof Array?(c=o[0],f=BigInt(o[1].toString()),[c,f]):(c=o,c)}async function eb(t,e,r,n,{config:i=void 0,requireToAddress:a=!0,assertAmountEnough:s=!0}={}){i=i||(0,B0.getConfig)();const o=i.SCRIPTS.SECP256K1_BLAKE160;if(!o)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const c={txHash:o.TX_HASH,index:o.INDEX};t=(0,cf.addCellDep)(t,{outPoint:c,depType:o.DEP_TYPE});const f=(0,cg.parseAddress)(e,{config:i});if((0,cf.ensureScript)(f,i,"SECP256K1_BLAKE160"),a&&!r)throw new Error("You must provide a to address!");let u=Oc.BI.from(n);if(r){const _=(0,cg.parseAddress)(r,{config:i});t=t.update("outputs",A=>A.push({cellOutput:{capacity:"0x"+u.toString(16),lock:_,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const l=t.get("fixedEntries").filter(({field:_})=>_==="outputs").maxBy(({index:_})=>_);let h=l?l.index+1:0;for(;h<t.get("outputs").size&&u.gt(0);h++){const _=t.get("outputs").get(h);if(new $l(_.cellOutput.lock,{validate:!1}).equals(new $l(f,{validate:!1}))){const A=Oc.BI.from(_.cellOutput.capacity);let C;u.gte(A)?C=A:(C=A.sub((0,cg.minimalCellCapacityCompatible)(_)),C.gt(u)&&(C=u)),u=u.sub(C),_.cellOutput.capacity="0x"+A.sub(C).toString(16)}}if(t=t.update("outputs",_=>_.filter(A=>!Oc.BI.from(A.cellOutput.capacity).eq(0))),u.gt(0)){const _=t.get("cellProvider");if(!_)throw new Error("Cell provider is missing!");const A=_.collector({lock:f}),C={cellOutput:{capacity:"0x0",lock:f,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let w=Oc.BI.from(0),I=(0,qV.Set)();for(const T of t.get("inputs"))I=I.add(`${T.outPoint.txHash}_${T.outPoint.index}`);for await(const T of A.collect()){if(I.has(`${T.outPoint.txHash}_${T.outPoint.index}`))continue;t=t.update("inputs",K=>K.push(T)),t=t.update("witnesses",K=>K.push("0x"));const R=Oc.BI.from(T.cellOutput.capacity);let N=R;if(N.gt(u)&&(N=u),u=u.sub(N),w=w.add(R).sub(N),u.eq(0)&&(w.eq(0)||w.gt((0,cg.minimalCellCapacityCompatible)(C))))break}w.gt(0)&&(C.cellOutput.capacity="0x"+w.toString(16),t=t.update("outputs",T=>T.push(C)))}if(u.gt(0)&&s)throw new Error("Not enough capacity in from address!");const g=t.get("inputs").findIndex(_=>new $l(_.cellOutput.lock,{validate:!1}).equals(new $l(f,{validate:!1})));if(g!==-1){for(;g>=t.get("witnesses").size;)t=t.update("witnesses",C=>C.push("0x"));let _=t.get("witnesses").get(g);const A={lock:cf.SECP_SIGNATURE_PLACEHOLDER};if(_!=="0x"){const C=t1.blockchain.WitnessArgs.unpack(rd.bytes.bytify(_)),w=C.lock;if(w&&A.lock&&!rd.bytes.equal(w,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const I=C.inputType;I&&(A.inputType=I);const T=C.outputType;T&&(A.outputType=T)}_=rd.bytes.hexify(t1.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",C=>C.set(g,_))}return s?t:[t,Oc.BI.from(u)]}async function zM(t,e,r,{config:n=void 0}={}){return n=n||(0,B0.getConfig)(),await eb(t,e,null,r,{config:n,requireToAddress:!1})}async function FM(t,e,r,{config:n=void 0}={}){if(n=n||(0,B0.getConfig)(),e>=t.get("outputs").size)throw new Error("Invalid output index!");const i=Oc.BI.from(t.get("outputs").get(e).cellOutput.capacity);return await eb(t,r,null,Oc.BI.from(i),{config:n,requireToAddress:!1})}function jM(t,{config:e=void 0}={}){return e=e||(0,B0.getConfig)(),(0,cf.prepareSigningEntries)(t,e,"SECP256K1_BLAKE160")}Dn.default={transfer:kM,transferCompatible:eb,payFee:zM,prepareSigningEntries:jM,injectCapacity:FM,setupInputCell:UM,CellCollector:VV};var tb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=A,Object.defineProperty(t,"multisigArgs",{enumerable:!0,get:function(){return o.multisigArgs}}),t.payFee=_,t.prepareSigningEntries=C,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return o.serializeMultisigScript}}),t.setupInputCell=l,t.transfer=h,t.transferCompatible=g;var e=gi(),r=ot,n=xr,i=Lr,a=ic,s=dt,o=ei,c=wt;const{ScriptValue:f}=n.values,u=t.CellCollector=class{constructor(I,T,{config:R=void 0,queryOptions:N={}}={}){if(!T)throw new Error("Cell provider is missing!");R=R||(0,i.getConfig)();const K=(0,o.parseFromInfo)(I,{config:R});this.fromScript=K.fromScript,this.multisigScript=K.multisigScript,this.config=R,N={...N,lock:this.fromScript,type:N.type||"empty"},this.cellCollector=T.collector(N)}async*collect(){if((0,s.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const I of this.cellCollector.collect())yield I}};async function l(w,I,T,{config:R=void 0,defaultWitness:N="0x",since:K=void 0,requireMultisigScript:V=!0}={}){if(R=R||(0,i.getConfig)(),V&&typeof T!="object")throw new Error("`fromInfo` must be MultisigScript format!");const D=I.cellOutput.lock;if(T){const x=(0,o.parseFromInfo)(T,{config:R}).fromScript;if(!new f(x,{validate:!1}).equals(new f(D,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,s.isSecp256k1Blake160MultisigScript)(D,R))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");w=w.update("inputs",x=>x.push(I)),K&&(w=w.update("inputSinces",x=>x.set(w.get("inputs").size-1,K))),w=w.update("witnesses",x=>x.push(N));const Q={cellOutput:{capacity:I.cellOutput.capacity,lock:I.cellOutput.lock,type:I.cellOutput.type},data:I.data};w=w.update("outputs",x=>x.push(Q));const Y=R.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!Y)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const M={txHash:Y.TX_HASH,index:Y.INDEX};w=(0,s.addCellDep)(w,{outPoint:M,depType:Y.DEP_TYPE});const m=w.get("inputs").findIndex(x=>new f(x.cellOutput.lock,{validate:!1}).equals(new f(D,{validate:!1})));if(m!==-1){for(;m>=w.get("witnesses").size;)w=w.update("witnesses",b=>b.push("0x"));if(w.get("witnesses").get(m)==="0x"&&typeof T!="object")throw new Error("`fromInfo` must be MultisigScript format!");if(typeof T=="object"){const b=(0,o.parseFromInfo)(T,{config:R}).multisigScript;let v=w.get("witnesses").get(m);const d={lock:"0x"+b.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(T.M)};if(v!=="0x"){const y=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(v)),S=y.lock;if(S&&d.lock&&!r.bytes.equal(S,d.lock))throw new Error("Lock field in first witness is set aside for signature!");const E=y.inputType;E&&(d.inputType=E);const p=y.outputType;p&&(d.outputType=p)}v=r.bytes.hexify(n.blockchain.WitnessArgs.pack(d)),w=w.update("witnesses",y=>y.set(m,v))}}return w}async function h(w,I,T,R,{config:N=void 0,requireToAddress:K=!0,assertAmountEnough:V=!0}={}){const D=await g(w,I,T,R,{config:N,requireToAddress:K,assertAmountEnough:V});let Q,Y;return D instanceof Array?(Q=D[0],Y=BigInt(D[1].toString()),[Q,Y]):(Q=D,Q)}async function g(w,I,T,R,{config:N=void 0,requireToAddress:K=!0,assertAmountEnough:V=!0}={}){N=N||(0,i.getConfig)();const D=N.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!D)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const Q={txHash:D.TX_HASH,index:D.INDEX};w=(0,s.addCellDep)(w,{outPoint:Q,depType:D.DEP_TYPE});const{fromScript:Y,multisigScript:M}=(0,o.parseFromInfo)(I,{config:N});(0,s.ensureScript)(Y,N,"SECP256K1_BLAKE160_MULTISIG");const m=!w.get("inputs").find(y=>new f(y.cellOutput.lock,{validate:!1}).equals(new f(Y,{validate:!1})));if(m&&I==="string")throw new Error("MultisigScript is required for witness!");if(K&&!T)throw new Error("You must provide a to address!");let x=R?c.BI.from(R):c.BI.from(0);if(T){const y=(0,e.parseAddress)(T,{config:N});w=w.update("outputs",S=>S.push({cellOutput:{capacity:"0x"+x.toString(16),lock:y,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const b=w.get("fixedEntries").filter(({field:y})=>y==="outputs").maxBy(({index:y})=>y);let v=b?b.index+1:0;for(;v<w.get("outputs").size&&x.gt(0);++v){const y=w.get("outputs").get(v);if(new f(y.cellOutput.lock,{validate:!1}).equals(new f(Y,{validate:!1}))){const S=c.BI.from(y.cellOutput.capacity);let E;x.gte(S)?E=S:(E=S.sub((0,e.minimalCellCapacityCompatible)(y)),E.gt(x)&&(E=x)),x=x.sub(E),y.cellOutput.capacity="0x"+S.sub(E).toString(16)}}if(w=w.update("outputs",y=>y.filter(S=>!c.BI.from(S.cellOutput.capacity).eq(0))),x.gt(0)){const y=w.get("cellProvider");if(!y)throw new Error("cell provider is missing!");const S=y.collector({lock:Y}),E={cellOutput:{capacity:"0x0",lock:Y,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let p=c.BI.from(0),O=(0,a.Set)();for(const k of w.get("inputs"))O=O.add(`${k.outPoint.txHash}_${k.outPoint.index}`);for await(const k of S.collect()){if(O.has(`${k.outPoint.txHash}_${k.outPoint.index}`))continue;w=w.update("inputs",q=>q.push(k)),w=w.update("witnesses",q=>q.push("0x"));const L=c.BI.from(k.cellOutput.capacity);let j=L;if(j.gt(x)&&(j=x),x=x.sub(j),p=p.add(L.sub(j)),x.eq(0)&&(p.eq(0)||p.gt((0,e.minimalCellCapacityCompatible)(E))))break}p.gt(0)&&(E.cellOutput.capacity="0x"+p.toString(16),w=w.update("outputs",k=>k.push(E)))}if(x.gt(0)&&V)throw new Error("Not enough capacity in from address!");const d=w.get("inputs").findIndex(y=>new f(y.cellOutput.lock,{validate:!1}).equals(new f(Y,{validate:!1})));if(d!==-1){for(;c.BI.from(d).gte(w.get("witnesses").size);)w=w.update("witnesses",y=>y.push("0x"));if(m||typeof I!="string"){let y=w.get("witnesses").get(d);const S={lock:"0x"+M.slice(2)+s.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(I.M)};if(y!=="0x"){const E=n.blockchain.WitnessArgs.unpack(r.bytes.bytify(y)),p=E.lock;if(p&&S.lock&&!r.bytes.equal(p,S.lock))throw new Error("Lock field in first witness is set aside for signature!");const O=E.inputType;O&&(S.inputType=O);const k=E.outputType;k&&(S.outputType=k)}y=r.bytes.hexify(n.blockchain.WitnessArgs.pack(S)),w=w.update("witnesses",E=>E.set(d,y))}}return V?w:[w,c.BI.from(x)]}async function _(w,I,T,{config:R=void 0}={}){return R=R||(0,i.getConfig)(),g(w,I,void 0,T,{config:R,requireToAddress:!1})}async function A(w,I,T,{config:R=void 0}={}){if(R=R||(0,i.getConfig)(),I>=w.get("outputs").size)throw new Error("Invalid output index!");const N=c.BI.from(w.get("outputs").get(I).cellOutput.capacity);return g(w,T,void 0,N,{config:R,requireToAddress:!1})}function C(w,{config:I=void 0}={}){return I=I||(0,i.getConfig)(),(0,s.prepareSigningEntries)(w,I,"SECP256K1_BLAKE160_MULTISIG")}t.default={transfer:h,transferCompatible:g,payFee:_,prepareSigningEntries:C,serializeMultisigScript:o.serializeMultisigScript,multisigArgs:o.multisigArgs,injectCapacity:A,setupInputCell:l,CellCollector:u}})(tb);var Xi={},_i={},b_={},_s={},wi={},HE;function G5(){if(HE)return wi;HE=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.CellCollector=void 0,wi.checkLimit=_,wi.default=void 0,wi.injectCapacity=C,wi.prepareSigningEntries=w,wi.setupInputCell=g,wi.setupOutputCell=A,wi.withdraw=I;var t=xr,e=ot,r=Lr,n=gi(),i=ic,a=wt,s=ei,o=dt,c=qM();const{ScriptValue:f}=t.values,{CKBHasher:u,ckbHash:l}=t.utils,h=wi.CellCollector=class{constructor(R,N,{config:K=void 0,queryOptions:V={}}={}){if(!N)throw new Error("Cell provider is missing!");K=K||(0,r.getConfig)(),this.fromScript=(0,s.parseFromInfo)(R,{config:K}).fromScript,this.config=K,V={...V,lock:this.fromScript,type:V.type||"empty"},this.cellCollector=N.collector(V)}async*collect(){if((0,o.isAcpScript)(this.fromScript,this.config))for await(const R of this.cellCollector.collect())yield R}};async function g(T,R,N,{config:K=void 0,defaultWitness:V="0x",since:D=void 0}={}){K=K||(0,r.getConfig)();const Q=R.cellOutput.lock;if(!(0,o.isAcpScript)(Q,K))throw new Error("Not anyone-can-pay input!");T=T.update("inputs",b=>b.push(R)),D&&(T=T.update("inputSinces",b=>b.set(T.get("inputs").size-1,D))),T=T.update("witnesses",b=>b.push(V));const Y={cellOutput:{capacity:R.cellOutput.capacity,lock:R.cellOutput.lock,type:R.cellOutput.type},data:R.data};T=T.update("outputs",b=>b.push(Y)),T=T.update("fixedEntries",b=>b.push({field:"outputs",index:T.get("outputs").size-1}));const M=K.SCRIPTS.ANYONE_CAN_PAY;if(!M)throw new Error("ANYONE_CAN_PAY script not defined in config!");const m={txHash:M.TX_HASH,index:M.INDEX};T=(0,o.addCellDep)(T,{outPoint:m,depType:M.DEP_TYPE});const x=T.get("inputs").findIndex(b=>new f(b.cellOutput.lock,{validate:!1}).equals(new f(Q,{validate:!1})));if(x!==-1){for(;x>=T.get("witnesses").size;)T=T.update("witnesses",d=>d.push("0x"));let b=T.get("witnesses").get(x);const v={lock:o.SECP_SIGNATURE_PLACEHOLDER};if(b!=="0x"){const d=t.blockchain.WitnessArgs.unpack(e.bytes.bytify(b)),y=d.lock;if(y&&v.lock&&!e.bytes.equal(y,v.lock))throw new Error("Lock field in first witness is set aside for signature!");const S=d.inputType;S&&(v.inputType=S);const E=d.outputType;E&&(v.outputType=E)}b=e.bytes.hexify(t.blockchain.WitnessArgs.pack(v)),T=T.update("witnesses",d=>d.set(x,b))}return T}function _(T,R){const N=a.BI.from(R);let K,V;if(T.length>=46&&(K=a.BI.from(10).pow("0x"+T.slice(44,46))),T.length>=44){const D=a.BI.from(10).pow("0x"+T.slice(42,44)),Q=a.BI.from(10).pow(8);V=D.mul(Q)}if(V&&K){if(N.lt(V))throw new Error(`capacity(${R}) less than toAddress minimal capacity limit(${V}), and amount less then toAddress minimal amount limit(${K})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(V&&N.lt(V))throw new Error(`capacity(${R}) less than toAddress minimal capacity limit(${V})!`)}async function A(T,R,{config:N=void 0}={}){N=N||(0,r.getConfig)();const K=R.cellOutput.lock,V=a.BI.from(R.cellOutput.capacity);_(K.args,V.toString());const D=T.get("cellProvider");if(!D)throw new Error("Cell Provider is missing!");const Q=(0,n.generateAddress)(K,{config:N}),M=(await new h(Q,D,{config:N}).collect().next()).value;let m=V;if(M&&(m=V.add(M.cellOutput.capacity),T=T.update("inputs",x=>x.push(M)),T=T.update("witnesses",x=>x.push("0x"))),R.cellOutput.capacity="0x"+m.toString(16),T=T.update("outputs",x=>x.push(R)),M){const x=N.SCRIPTS.ANYONE_CAN_PAY;if(!x)throw new Error("ANYONE_CAN_PAY script not defined in config!");const b={txHash:x.TX_HASH,index:x.INDEX};T=(0,o.addCellDep)(T,{outPoint:b,depType:x.DEP_TYPE})}return T}async function C(T,R,N,K,{config:V=void 0}={}){if(V=V||(0,r.getConfig)(),N>=R.get("outputs").size)throw new Error("Invalid output index!");let D=a.BI.from(K);if(!V.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const Y=T.fromScript,M=R.get("fixedEntries").filter(({field:b})=>b==="outputs").maxBy(({index:b})=>b);let m=M?M.index+1:0;for(;m<R.get("outputs").size&&D.gt(0);m++){const b=R.get("outputs").get(m);if(new f(b.cellOutput.lock,{validate:!1}).equals(new f(Y,{validate:!1}))){const v=a.BI.from(b.cellOutput.capacity),d=v.sub((0,n.minimalCellCapacityCompatible)(b)),y=D.gte(d)?d:D;D=D.sub(y),b.cellOutput.capacity="0x"+v.sub(y).toString(16)}}R=R.update("outputs",b=>b.filter(v=>!a.BI.from(v.cellOutput.capacity).eq(0)));const x=b=>`${b.outPoint.txHash}_${b.outPoint.index}`;if(D.gt(0)){const b={cellOutput:{capacity:"0x0",lock:Y,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let v=a.BI.from(0);const d=a.BI.from((0,n.minimalCellCapacityCompatible)(b));let y=(0,i.Set)();for(const S of R.get("inputs"))y=y.add(x(S));for await(const S of T.collect()){if(y.has(x(S)))continue;R=await g(R,S,void 0,{config:V});const E=R.get("outputs").size-1;R=R.update("outputs",L=>L.remove(E));const p=R.get("fixedEntries").findIndex(L=>L.field==="outputs"&&L.index===E);p>=0&&(R=R.update("fixedEntries",L=>L.remove(p)));const O=a.BI.from(S.cellOutput.capacity);let k=O;if(k.gt(D)&&(k=D),D=D.sub(k),v=v.add(O.sub(k)),D.eq(0)&&v.gte(d))break;b.cellOutput.capacity="0x"+v.toString(16),R=R.update("outputs",L=>L.push(b))}if(D.gt(0)||v<d)throw new Error("Not enough capacity in from address!");b.cellOutput.capacity="0x"+v.toString(16),R=R.update("outputs",S=>S.push(b))}return R}function w(T,{config:R=void 0}={}){R=R||(0,r.getConfig)();const N="ANYONE_CAN_PAY",K=R.SCRIPTS[N];if(!K)throw new Error(`Provided config does not have ${N} script setup!`);let V=(0,i.Set)();const D=(0,n.createTransactionFromSkeleton)(T),Q=l(t.blockchain.RawTransaction.pack(D)),Y=T.get("inputs"),M=T.get("witnesses");let m=T.get("signingEntries");for(let x=0;x<Y.size;x++){const b=Y.get(x);if(K.CODE_HASH===b.cellOutput.lock.codeHash&&K.HASH_TYPE===b.cellOutput.lock.hashType&&!V.has(b.cellOutput.lock.args)){V=V.add(b.cellOutput.lock.args);const v=T.get("outputs").filter(j=>new f(j.cellOutput.lock,{validate:!1}).equals(new f(b.cellOutput.lock,{validate:!1}))),d=v.map(j=>a.BI.from(j.cellOutput.capacity)).reduce((j,q)=>j.add(q),a.BI.from(0)),y=v.filter(j=>j.data!=="0x").map(j=>(0,c.unpackAmount)(j.data)).reduce((j,q)=>j.add(q),a.BI.from(0)),S=Y.filter(j=>new f(j.cellOutput.lock,{validate:!1}).equals(new f(b.cellOutput.lock,{validate:!1}))),E=S.map(j=>a.BI.from(j.cellOutput.capacity)).reduce((j,q)=>j.add(q),a.BI.from(0)),p=S.filter(j=>j.data!=="0x").map(j=>a.BI.from((0,c.unpackAmount)(j.data))).reduce((j,q)=>j.add(q),a.BI.from(0));if(E.lte(d)&&p.lte(y))continue;const O=new t.values.ScriptValue(b.cellOutput.lock,{validate:!1}),k=new u;if(k.update(Q),x>=M.size)throw new Error(`The first witness in the script group starting at input index ${x} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,o.hashWitness)(k,M.get(x));for(let j=x+1;j<Y.size&&j<M.size;j++){const q=Y.get(j);O.equals(new t.values.ScriptValue(q.cellOutput.lock,{validate:!1}))&&(0,o.hashWitness)(k,M.get(j))}for(let j=Y.size;j<M.size;j++)(0,o.hashWitness)(k,M.get(j));const L={type:"witness_args_lock",index:x,message:k.digestHex()};m=m.push(L)}}return T=T.set("signingEntries",m),T}async function I(T,R,N,K,{config:V=void 0}={}){if(V=V||(0,r.getConfig)(),!(0,o.isAcpScript)(R.cellOutput.lock,V))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const D=a.BI.from(K),Q=a.BI.from(R.cellOutput.capacity),Y=a.BI.from((0,n.minimalCellCapacityCompatible)(R));if(!(D.gte(0)&&D.lte(Q.sub(Y))||D.eq(Q)))throw new Error(`capacity must be in [0, ${Q.sub(Y)}] or ${Q} !`);const M=(0,n.parseAddress)(N,{config:V}),m={cellOutput:{capacity:"0x"+K.toString(16),lock:M,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,o.isAcpScript)(M,V)){_(M.args,K);const v=T.get("cellProvider");if(!v)throw new Error("Cell Provider is missing!");const y=(await new h(N,v,{config:V}).collect().next()).value;if(!y)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const S=D.add(y.cellOutput.capacity);m.cellOutput.capacity="0x"+S.toString(16),T=T.update("inputs",E=>E.push(y)),T=T.update("witnesses",E=>E.push("0x"))}T=T.update("outputs",v=>v.push(m)),T=await g(T,R,(0,n.generateAddress)(R.cellOutput.lock,{config:V}),{config:V});const x=T.get("outputs").size-1;T=T.update("outputs",v=>v.remove(x));const b=T.get("fixedEntries").findIndex(v=>v.field==="outputs"&&v.index===x);return b>=0&&(T=T.update("fixedEntries",v=>v.remove(b))),D.eq(Q)||(T=T.update("outputs",v=>v.push({cellOutput:{capacity:"0x"+Q.sub(K).toString(16),lock:R.cellOutput.lock,type:R.cellOutput.type},data:R.data}))),T}return wi.default={CellCollector:h,setupInputCell:g,setupOutputCell:A,injectCapacity:C,prepareSigningEntries:w,withdraw:I},wi}var NE;function qM(){if(NE)return _s;NE=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.default=void 0,_s.issueToken=I,_s.ownerForSudt=N,_s.packAmount=V,_s.transfer=T,_s.unpackAmount=K;var t=dt,e=xr,r=A(tb),n=ei,i=A(aw()),a=gi(),s=ic,o=Lr,c=iw(),f=_(G5()),u=A(Dn),l=wt,h=ot;function g(D){if(typeof WeakMap!="function")return null;var Q=new WeakMap,Y=new WeakMap;return(g=function(M){return M?Y:Q})(D)}function _(D,Q){if(D&&D.__esModule)return D;if(D===null||typeof D!="object"&&typeof D!="function")return{default:D};var Y=g(Q);if(Y&&Y.has(D))return Y.get(D);var M={__proto__:null},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in D)if(x!=="default"&&{}.hasOwnProperty.call(D,x)){var b=m?Object.getOwnPropertyDescriptor(D,x):null;b&&(b.get||b.set)?Object.defineProperty(M,x,b):M[x]=D[x]}return M.default=D,Y&&Y.set(D,M),M}function A(D){return D&&D.__esModule?D:{default:D}}const{computeScriptHash:C}=e.utils,{ScriptValue:w}=e.values;async function I(D,Q,Y,M,m,{config:x=void 0}={}){x=x||(0,o.getConfig)();const b=x.SCRIPTS.SUDT;if(!b)throw new Error("Provided config does not have SUDT script setup!");D=(0,t.addCellDep)(D,{outPoint:{txHash:b.TX_HASH,index:b.INDEX},depType:b.DEP_TYPE});const v=(0,n.parseFromInfo)(Q,{config:x}).fromScript,d=v,y={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:C(v)},S={cellOutput:{capacity:"0x0",lock:d,type:y},data:h.bytes.hexify(h.number.Uint128LE.pack(Y)),outPoint:void 0,blockHash:void 0};M||(M=(0,a.minimalCellCapacityCompatible)(S));const E=l.BI.from(M);S.cellOutput.capacity="0x"+E.toString(16),D=D.update("outputs",O=>O.push(S));const p=D.get("outputs").size-1;return D=D.update("fixedEntries",O=>O.push({field:"outputs",index:p})),D=await i.default.injectCapacity(D,[Q],l.BI.from(l.BI.from(S.cellOutput.capacity)),void 0,m,{config:x}),D}async function T(D,Q,Y,M,m,x,b,v,{config:d=void 0,LocktimePoolCellCollector:y=c.CellCollector,splitChangeCell:S=!1}={}){d=d||(0,o.getConfig)();let E=l.BI.from(m),p=b?l.BI.from(b):void 0;const O=d.SCRIPTS.SUDT;if(!O)throw new Error("Provided config does not have SUDT script setup!");if(Q.length===0)throw new Error("`fromInfos` can't be empty!");if(!M)throw new Error("You must provide a to address!");const k=(0,a.parseAddress)(M,{config:d}),L=Q.map(J=>(0,n.parseFromInfo)(J,{config:d}).fromScript),j=x?(0,a.parseAddress)(x,{config:d}):L[0];if(E.lte(0))throw new Error("amount must be greater than 0");const q=R(Y,d),H=D.get("cellProvider");if(!H)throw new Error("Cell provider is missing!");let z=l.BI.from(0),X=l.BI.from(0);if((0,t.isAcpScript)(k,d)){const ne=(await new f.CellCollector(M,H,{config:d,queryOptions:{type:q,data:"any"}}).collect().next()).value;if(!ne)throw new Error("toAddress ANYONE_CAN_PAY input not found!");D=D.update("inputs",fe=>fe.push(ne)),D=D.update("witnesses",fe=>fe.push("0x")),z=l.BI.from(ne.cellOutput.capacity),X=K(ne.data)}const ee={cellOutput:{capacity:"0x0",lock:k,type:q},data:h.bytes.hexify(h.number.Uint128LE.pack(E)),outPoint:void 0,blockHash:void 0};(0,t.isAcpScript)(k,d)?(p||(p=l.BI.from(0)),ee.cellOutput.capacity="0x"+z.add(p).toString(16),ee.data=h.bytes.hexify(h.number.Uint128LE.pack(X.add(E)))):(p||(p=l.BI.from((0,a.minimalCellCapacityCompatible)(ee))),ee.cellOutput.capacity="0x"+p.toString(16)),D=D.update("outputs",J=>J.push(ee)),D=D.update("fixedEntries",J=>J.push({field:"outputs",index:D.get("outputs").size-1})),D=(0,t.addCellDep)(D,{outPoint:{txHash:O.TX_HASH,index:O.INDEX},depType:O.DEP_TYPE});const ie={cellOutput:{capacity:"0x0",lock:j,type:q},data:h.bytes.hexify(h.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},F={cellOutput:{capacity:"0x0",lock:j,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let $=l.BI.from(0),re=l.BI.from(0),ue=(0,s.Set)();for(const J of D.get("inputs"))ue=ue.add(`${J.outPoint.txHash}_${J.outPoint.index}`);let de=(0,s.List)();v&&Q.forEach((J,ne)=>{const fe=new y(J,H,{config:d,tipHeader:v,queryOptions:{type:q,data:"any"}});de=de.push({cellCollector:fe,index:ne})}),Q.forEach((J,ne)=>{const fe=new u.default.CellCollector(J,H,{config:d,queryOptions:{type:q,data:"any"}}),ve=new r.default.CellCollector(J,H,{config:d,queryOptions:{type:q,data:"any"}}),ye=new f.default.CellCollector(J,H,{config:d,queryOptions:{type:q,data:"any"}});de=de.push({cellCollector:fe,index:ne},{cellCollector:ve,index:ne},{cellCollector:ye,index:ne,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})}),v&&Q.forEach((J,ne)=>{const fe=new y(J,H,{config:d,tipHeader:v});de=de.push({cellCollector:fe,index:ne})}),Q.forEach((J,ne)=>{const fe=new u.default.CellCollector(J,H,{config:d}),ve=new r.default.CellCollector(J,H,{config:d}),ye=new f.default.CellCollector(J,H,{config:d});de=de.push({cellCollector:fe,index:ne},{cellCollector:ve,index:ne},{cellCollector:ye,index:ne,isAnyoneCanPay:!0,destroyable:(0,n.parseFromInfo)(J,{config:d}).destroyable})});for(const{index:J,cellCollector:ne,isAnyoneCanPay:fe,destroyable:ve}of de)for await(const ye of ne.collect()){const Ce=`${ye.outPoint.txHash}_${ye.outPoint.index}`;if(ue.has(Ce))continue;ue=ue.add(Ce);const kt=Q[J];D=await i.default.setupInputCell(D,ye,kt,{config:d});const He=D.get("outputs").size-1;D=D.update("outputs",ce=>ce.remove(He));const qe=D.get("fixedEntries").findIndex(ce=>ce.field==="outputs"&&ce.index===He);qe>=0&&(D=D.update("fixedEntries",ce=>ce.remove(qe)));const cn=l.BI.from(ye.cellOutput.capacity),U=ye.cellOutput.type?K(ye.data):l.BI.from(0);let B=fe&&!ve?cn.sub((0,a.minimalCellCapacityCompatible)(ye)):cn,P=U;B.gt(p)&&(B=l.BI.from(p)),p=p.sub(B);const G=cn.sub(B);(!fe||fe&&ve)&&($=$.add(G)),P.gt(E)&&(P=E),E=E.sub(P);const ae=U.sub(P);if((!fe||fe&&ve)&&(re=re.add(ae)),fe&&!ve){const ce={cellOutput:{capacity:"0x"+G.toString(16),lock:ye.cellOutput.lock,type:ye.cellOutput.type},data:ye.cellOutput.type?h.bytes.hexify(h.number.Uint128LE.pack(ae)):"0x"};D=D.update("outputs",le=>le.push(ce)),ye.cellOutput.type&&(D=D.update("fixedEntries",le=>le.push({field:"outputs",index:D.get("outputs").size-1})))}if(p.eq(0)&&E.eq(0)&&($.eq(0)&&re.eq(0)||$.gt((0,a.minimalCellCapacityCompatible)(F))&&re.eq(0))){ie.cellOutput.type=void 0,ie.data="0x";break}if(p.eq(0)&&E.eq(0)&&$.gt((0,a.minimalCellCapacityCompatible)(F))&&re.gt(0))break}let W=-1;if((0,t.isAcpScript)(ie.cellOutput.lock,d)&&(W=D.get("outputs").findIndex(J=>new w(ie.cellOutput.lock,{validate:!1}).equals(new w(J.cellOutput.lock,{validate:!1}))&&(re.eq(0)&&!ie.cellOutput.type&&!J.cellOutput.type||re.gte(0)&&!!ie.cellOutput.type&&!!J.cellOutput.type&&new w(ie.cellOutput.type,{validate:!1}).equals(new w(J.cellOutput.type,{validate:!1})))))!==-1&&D.get("fixedEntries").findIndex(J=>J.field==="output"&&J.index===W)===-1){const J=D.get("outputs").get(W),ne=JSON.parse(JSON.stringify(J));ne.cellOutput.capacity="0x"+l.BI.from(J.cellOutput.capacity).add($).toString(16),re.gt(0)&&(ne.data=h.bytes.hexify(h.number.Uint128LE.pack(K(J.data).add(re))));const fe=l.BI.from((0,a.minimalCellCapacityCompatible)(ie)),ve=l.BI.from((0,a.minimalCellCapacityCompatible)(F));let ye=!1;re.gt(0)&&S&&$.gte(fe.add(ve))&&(ne.cellOutput.capacity=J.cellOutput.capacity,F.cellOutput.capacity="0x"+$.toString(16),ye=!0),D=D.update("outputs",Ce=>Ce.set(W,ne)),ye&&(D=D.update("outputs",Ce=>Ce.push(F)))}else if($.gte((0,a.minimalCellCapacityCompatible)(ie))){ie.cellOutput.capacity="0x"+$.toString(16),re.gt(0)&&(ie.data=h.bytes.hexify(h.number.Uint128LE.pack(re)));const J=l.BI.from((0,a.minimalCellCapacityCompatible)(ie)),ne=l.BI.from((0,a.minimalCellCapacityCompatible)(F));let fe=!1;re.gt(0)&&S&&$.gte(J.add(ne))&&(ie.cellOutput.capacity="0x"+J.toString(16),F.cellOutput.capacity="0x"+$.sub(J).toString(16),fe=!0),D=D.update("outputs",ve=>ve.push(ie)),re.gt(0)&&(D=D.update("fixedEntries",ve=>ve.push({field:"outputs",index:D.get("outputs").size-1}))),fe&&(D=D.update("outputs",ve=>ve.push(F)))}else if(re.gt(0)&&$.lt((0,a.minimalCellCapacityCompatible)(ie)))throw new Error("Not enough capacity for change in from infos!");if(p.gt(0))throw new Error("Not enough capacity in from infos!");if(E.gt(0))throw new Error("Not enough amount in from infos!");return D}function R(D,Q){const Y=Q.SCRIPTS.SUDT;return{codeHash:Y.CODE_HASH,hashType:Y.HASH_TYPE,args:D}}function N(D,{config:Q=void 0}={}){Q=Q||(0,o.getConfig)();const{fromScript:Y}=(0,n.parseFromInfo)(D,{config:Q});return C(Y)}function K(D){return h.number.Uint128LE.unpack(h.bytes.bytify(D).slice(0,16))}function V(D){return h.bytes.hexify(h.number.Uint128LE.pack(D))}return _s.default={issueToken:I,transfer:T,ownerForSudt:N,packAmount:V,unpackAmount:K},_s}var W5={};Object.defineProperty(W5,"__esModule",{value:!0});W5.createP2PKHMessageGroup=JV;var tu=xr,QV=gi(),El=ot,YV=wt;function GV(t,e){const r=new Set;for(const i of e){const a=tu.utils.ckbHash(tu.blockchain.Script.pack(i));r.add(a)}const n=new Map;for(let i=0;i<t.length;i++){const a=tu.utils.ckbHash(tu.blockchain.Script.pack(t[i].cellOutput.lock));r.has(a)&&(n.get(a)===void 0&&n.set(a,[]),n.get(a).push(i))}return n}function WV(t){const e=(0,QV.createTransactionFromSkeleton)(t),r={cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData,version:e.version};return tu.utils.ckbHash(tu.blockchain.RawTransaction.pack(r))}const XV=()=>{const t=new tu.utils.CKBHasher;return{update:e=>t.update(e.buffer),digest:()=>El.bytes.bytify(t.digestHex())}};function ZV(t){return t instanceof Function?t():t}function JV(t,e,{hasher:r=XV}={}){const n=GV(t.inputs.toArray(),e),i=WV(t);if(e.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const a=[];for(const s of n.keys()){const o=ZV(r),c=n.get(s),f=c[0],u=t.witnesses.get(f);if(u===void 0)throw new Error("Please fill witnesses with 0 first!");o.update(El.bytes.bytify(i));const l=new ArrayBuffer(8),h=new DataView(l),g=YV.BI.from(El.bytes.bytify(u).length).toString(16);g.length<=8&&(h.setUint32(0,+("0x"+g),!0),h.setUint32(4,+"0x00000000",!0)),g.length>8&&g.length<=16&&(h.setUint32(0,+("0x"+g.slice(-8)),!0),h.setUint32(4,+("0x"+g.slice(0,-8)),!0)),o.update(new Uint8Array(l)),o.update(El.bytes.bytify(u));for(let C=1;C<c.length;C++){const w=t.witnesses.get(c[C]);o.update(new Uint8Array(l)),o.update(El.bytes.bytify(w))}for(let C=t.inputs.toArray().length;C<t.witnesses.toArray().length;C++){const w=t.witnesses.get(C);o.update(new Uint8Array(l)),o.update(El.bytes.bytify(w))}const _=o.digest(),A={index:f,lock:t.inputs.get(f).cellOutput.lock,message:"0x"+Array.prototype.map.call(_,C=>("00"+C.toString(16)).slice(-2)).join("")};a.push(A)}return a}var Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.compareScriptBinaryWithOnChainData=WM;Of.default=void 0;Of.generateDeployWithDataTx=QM;Of.generateDeployWithTypeIdTx=YM;Of.generateUpgradeTypeIdDataTx=GM;var hs=xr,mp=ot,Uy=Lr,Bf=gi(),eQ=ic,cv=ei,vn=wt;const{ScriptValue:$E}=hs.values;function X5(t){let e="0x";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}async function tQ(t,e){const r=e.collector({lock:t,type:"empty",data:"0x"}),n=[];for await(const i of r.collect())n.push(i);return n}function Z5(t,e){const r=(0,Bf.minimalCellCapacityCompatible)(e);return e.cellOutput.capacity=`0x${r.toString(16)}`,t=t.update("outputs",n=>n.push(e)),t}function J5(t,e){t=t.update("cellDeps",i=>i.clear()),e=e||(0,Uy.getConfig)();const r=e.SCRIPTS.SECP256K1_BLAKE160,n=e.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return t=t.update("cellDeps",i=>i.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})),t}async function ew(t,e,r,n){const i=t.get("inputs").map(o=>vn.BI.from(o.cellOutput.capacity)).reduce((o,c)=>o.add(c),vn.BI.from(0)),s=t.get("outputs").map(o=>vn.BI.from(o.cellOutput.capacity)).reduce((o,c)=>o.add(c),vn.BI.from(0)).sub(i);return t=await rQ(t,e,vn.BI.from(s),{config:r,feeRate:n}),t}async function rQ(t,e,r,{config:n=void 0,feeRate:i=void 0}){n=n||(0,Uy.getConfig)();const a=i||1e3;let s=vn.BI.from(r);const{fromScript:o,multisigScript:c}=(0,cv.parseFromInfo)(e,{config:n});s=s.add(vn.BI.from(10).pow(8));let f=vn.BI.from(10).pow(8);const u={cellOutput:{capacity:"0x0",lock:o,type:void 0},data:"0x"},l=vn.BI.from((0,Bf.minimalCellCapacityCompatible)(u)).add(vn.BI.from(10).pow(8));if(s.lt(0)&&(f=f.sub(s),s=vn.BI.from(0)),s.gt(0)||f.lt(l)){const _=t.get("cellProvider");if(!_)throw new Error("Cell provider is missing!");const A=_.collector({lock:o,type:"empty",data:"0x"});let C=(0,eQ.Set)();for(const w of t.get("inputs"))C=C.add(`${w.outPoint.txHash}_${w.outPoint.index}`);for await(const w of A.collect()){if(C.has(`${w.outPoint.txHash}_${w.outPoint.index}`))continue;t=t.update("inputs",R=>R.push(w)),t=t.update("witnesses",R=>R.push("0x"));const I=vn.BI.from(w.cellOutput.capacity);let T=I;if(T.gt(s)&&(T=s),s=s.sub(T),f=f.add(I).sub(T),s.eq(0)&&(f.eq(0)||f.gte(l)))break}}if(f.gt(0)&&(u.cellOutput.capacity="0x"+f.toString(16),t=t.update("outputs",_=>_.push(u))),s.gt(0)||f.lt(l))throw new Error("Not enough capacity in from address!");const h=t.get("inputs").findIndex(_=>new $E(_.cellOutput.lock,{validate:!1}).equals(new $E(o,{validate:!1})));if(h!==-1){for(;h>=t.get("witnesses").size;)t=t.update("witnesses",w=>w.push("0x"));let _=t.get("witnesses").get(h),A;const C="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(typeof e!="string"?A={lock:"0x"+c.slice(2)+C.slice(2).repeat(e.M)}:A={lock:C},_!=="0x"){const w=hs.blockchain.WitnessArgs.unpack(mp.bytes.bytify(_)),I=w.lock;if(I&&A.lock&&!mp.bytes.equal(I,A.lock))throw new Error("Lock field in first witness is set aside for signature!");const T=w.inputType;T&&(A.inputType=T);const R=w.outputType;R&&(A.outputType=R)}_=mp.bytes.hexify(hs.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",w=>w.set(h,_))}const g=KM(t,a);return f=f.sub(g),t=t.update("outputs",_=>_.pop()),f.gt(0)&&(u.cellOutput.capacity="0x"+f.toString(16),t=t.update("outputs",_=>_.push(u))),t}function nQ(t){const e=(0,Bf.createTransactionFromSkeleton)(t);return iQ(e)}function iQ(t){return hs.blockchain.Transaction.pack(t).byteLength+4}function aQ(t,e){const r=vn.BI.from(1e3),n=vn.BI.from(t).mul(e),i=n.div(r);return i.mul(r).lt(n)?i.add(1):vn.BI.from(i)}function KM(t,e){const r=nQ(t);return vn.BI.from(aQ(r,e))}function sQ(t){const e=t.valueOf();return new hs.utils.CKBHasher().update(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)).digestHex()}async function oQ(t,e){const r=t.txHash,n=parseInt(t.index,10),i=await e.getTransaction(r);if(!i)throw new Error(`TxHash(${r}) is not found`);const a=i.transaction.outputsData[n];if(!a)throw new Error("cannot find output data");return new hs.utils.CKBHasher().update(mp.bytes.bytify(a)).digestHex()}function VM(t){const e=(0,Bf.createTransactionFromSkeleton)(t);return hs.utils.ckbHash(hs.blockchain.RawTransaction.pack(e))}function cQ(t,e){const r=t.outputs.get(e).data,n=hs.utils.ckbHash(mp.bytes.bytify(r)),i=VM(t);return{CODE_HASH:n,HASH_TYPE:"data2",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function fQ(t,e){const r=t.outputs.get(e).cellOutput.type,n=hs.utils.computeScriptHash(r),i=VM(t);return{CODE_HASH:n,HASH_TYPE:"type",TX_HASH:i,INDEX:"0x0",DEP_TYPE:"code"}}function tw(t,e){const r=t.outputs.get(e);if(r==null)throw new Error("Invalid txSkeleton or outputIndex");return r.cellOutput.type!==void 0?fQ(t,e):cQ(t,e)}function uQ(t){return typeof t!="object"?!1:"M"in t&&"R"in t&&Array.isArray(t.publicKeyHashes)}function rw(t,{config:e=void 0}={}){if(e=e||(0,Uy.getConfig)(),typeof t=="string"){if(Uy.helpers.nameOfScript((0,Bf.parseAddress)(t,{config:e}),e.SCRIPTS)!=="SECP256K1_BLAKE160")throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!uQ(t))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function QM(t){rw(t.fromInfo,{config:t.config});let e=(0,Bf.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,cv.parseFromInfo)(t.fromInfo,{config:t.config}),n={cellOutput:{capacity:"0x0",lock:r},data:X5(t.scriptBinary)};e=Z5(e,n),e=J5(e,t.config),e=await ew(e,t.fromInfo,t.config,t.feeRate);const i=tw(e,0);return{txSkeleton:e,scriptConfig:i}}async function YM(t){rw(t.fromInfo,{config:t.config});let e=(0,Bf.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,cv.parseFromInfo)(t.fromInfo,{config:t.config}),[n]=await tQ(r,t.cellProvider);if(!n)throw new Error("fromAddress has no live ckb");const i=hs.utils.generateTypeIdScript({previousOutput:n.outPoint,since:"0x0"},"0x0"),a={cellOutput:{capacity:"0x0",lock:r,type:i},data:X5(t.scriptBinary)};e=Z5(e,a),e=J5(e,t.config),e=await ew(e,t.fromInfo,t.config,t.feeRate);const s=tw(e,0);return{txSkeleton:e,scriptConfig:s,typeId:i}}async function GM(t){rw(t.fromInfo,{config:t.config});let e=(0,Bf.TransactionSkeleton)({cellProvider:t.cellProvider});const{fromScript:r}=(0,cv.parseFromInfo)(t.fromInfo,{config:t.config}),n=t.cellProvider.collector({type:t.typeId}),i=[];for await(const c of n.collect())i.push(c);if(i.length!==1)throw new Error("the typeid maybe wrong");const a=i[0];e=e.update("inputs",c=>c.push(a));const s={cellOutput:{capacity:"0x0",lock:r,type:t.typeId},data:X5(t.scriptBinary)};e=Z5(e,s),e=J5(e,t.config),e=await ew(e,t.fromInfo,t.config,t.feeRate);const o=tw(e,0);return{txSkeleton:e,scriptConfig:o}}async function WM(t,e,r){const n=sQ(t),i=await oQ(e,r);return n===i}Of.default={generateDeployWithDataTx:QM,generateDeployWithTypeIdTx:YM,generateUpgradeTypeIdDataTx:GM,compareScriptBinaryWithOnChainData:WM,__tests__:{calculateTxFee:KM}};var Sn={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.WitnessArgs=mn.BytesVec=mn.BytesOpt=mn.Bytes=mn.Byte32Vec=mn.Byte32=void 0;mn.WitnessArgsOf=eP;mn.createFixedHexBytesCodec=ZM;var XM=ec,jd=Ma,Ya=T1;function ZM(t){return(0,XM.createFixedBytesCodec)({byteLength:t,pack:e=>(0,jd.bytify)(e),unpack:e=>(0,jd.hexify)(e)})}const JM=mn.Bytes=(0,Ya.byteVecOf)({pack:jd.bytify,unpack:jd.hexify});mn.BytesOpt=(0,Ya.option)(JM);mn.BytesVec=(0,Ya.vector)(JM);const lQ=mn.Byte32=ZM(32);mn.Byte32Vec=(0,Ya.vector)(lQ);function eP(t){return(0,Ya.table)({lock:(0,Ya.option)((0,Ya.byteVecOf)(t.lock)),input_type:(0,Ya.option)((0,Ya.byteVecOf)(t.input_type)),output_type:(0,Ya.option)((0,Ya.byteVecOf)(t.output_type))},["lock","input_type","output_type"])}const g_=(0,XM.createBytesCodec)({pack:jd.bytify,unpack:jd.hexify});mn.WitnessArgs=eP({lock:g_,input_type:g_,output_type:g_});var fv={};function dQ(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),c=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var _=0,A=0,C=0,w=g.length;C!==w&&g[C]===0;)C++,_++;for(var I=(w-C)*f+1>>>0,T=new Uint8Array(I);C!==w;){for(var R=g[C],N=0,K=I-1;(R!==0||N<A)&&K!==-1;K--,N++)R+=256*T[K]>>>0,T[K]=R%s>>>0,R=R/s>>>0;if(R!==0)throw new Error("Non-zero carry");A=N,C++}for(var V=I-A;V!==I&&T[V]===0;)V++;for(var D=o.repeat(_);V<I;++V)D+=t.charAt(T[V]);return D}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var _=0,A=0,C=0;g[_]===o;)A++,_++;for(var w=(g.length-_)*c+1>>>0,I=new Uint8Array(w);g[_];){var T=e[g.charCodeAt(_)];if(T===255)return;for(var R=0,N=w-1;(T!==0||R<C)&&N!==-1;N--,R++)T+=s*I[N]>>>0,I[N]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,_++}for(var K=w-C;K!==w&&I[K]===0;)K++;for(var V=new Uint8Array(A+(w-K)),D=A;K!==w;)V[D++]=I[K++];return V}function h(g){var _=l(g);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:h}}var hQ=dQ;const pQ=hQ,bQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var tP=pQ(bQ);Object.defineProperty(fv,"__esModule",{value:!0});fv.decodeAddress=vQ;fv.signMessage=mQ;var y_=ot,UE=pf,kE=gQ(tP);function gQ(t){return t&&t.__esModule?t:{default:t}}const yQ="CKB (Bitcoin Layer) transaction: 0x";function vQ(t){try{if(t.startsWith("bc1q"))return UE.bech32.fromWords(UE.bech32.decode(t).words.slice(1));if(t.startsWith("1")||t.startsWith("3"))return kE.default.decode(t).slice(1,21)}catch{if(t.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.")}throw new Error(`Unsupported bitcoin address ${t}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`)}async function mQ(t,e,r){const n=(()=>{if(r)return r;if(typeof window<"u"){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),i=await n.requestAccounts(),a=y_.bytes.hexify(t).slice(2),s=await n.signMessage(`${yQ}${a}`,e),o=y_.bytes.bytify(_Q(s)),c=i[0];if(c.startsWith("bc1q"))o[0]=39+(o[0]-27)%4;else if(c.startsWith("3"))o[0]=35+(o[0]-27)%4;else if(c.startsWith("1"))o[0]=31+(o[0]-27)%4;else throw new Error(`Unsupported bitcoin address ${c}, only 1...(P2PKH) 3...(P2SH), and bc1...(Bech32) are supported.`);return y_.bytes.hexify(o)}function _Q(t){const e=atob(t);let r="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n).toString(16);r+=i.length===2?i:"0"+i}return"0x"+r}var nw={};Object.defineProperty(nw,"__esModule",{value:!0});nw.signMessage=AQ;var v_=ot;const wQ="CKB transaction: 0x";async function AQ(t,e){const r=(()=>{if(e)return e;if(typeof window<"u"&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),i=v_.bytes.hexify(t).slice(2),a=await r.signMessage(new TextEncoder().encode(`${wQ}${i}`));return v_.bytes.hexify(v_.bytes.concat(a.signature,a.publicKey.toBytes()))}Object.defineProperty(Sn,"__esModule",{value:!0});Sn.bitcoin=Sn.OmnilockWitnessLock=Sn.CellCollector=void 0;Sn.createOmnilockScript=sP;Sn.default=void 0;Sn.prepareSigningEntries=uP;Sn.setupInputCell=fP;Sn.solana=void 0;var ta=ot,rP=xr,uv=Lr,_p=dt,EQ=ei,Ru=T1,N6=mn,zE=Ma,nP=aP(fv);Sn.bitcoin=nP;var xQ=aP(nw);Sn.solana=xQ;var SQ=tP,CQ=St;function iP(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(iP=function(n){return n?r:e})(t)}function aP(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=iP(e);if(r&&r.has(t))return r.get(t);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&{}.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}const{ScriptValue:FE}=rP.values;var Oo=function(t){return t[t.IdentityFlagsCkb=0]="IdentityFlagsCkb",t[t.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",t[t.IdentityFlagsEos=2]="IdentityFlagsEos",t[t.IdentityFlagsTron=3]="IdentityFlagsTron",t[t.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",t[t.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",t[t.IdentityCkbMultisig=6]="IdentityCkbMultisig",t[t.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",t[t.IdentityFlagsSolana=19]="IdentityFlagsSolana",t[t.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",t[t.IdentityFlagsExec=253]="IdentityFlagsExec",t[t.IdentityFlagsDl=254]="IdentityFlagsDl",t}(Oo||{});const IQ=20,TQ=65,OQ=96;function sP(t,e){const n=((e==null?void 0:e.config)||(0,uv.getConfig)()).SCRIPTS.OMNILOCK;if(!n)throw new Error("OMNILOCK script config not found.");const a=[0],s=(()=>{const o=t.auth.flag;switch(o){case"ETHEREUM":return ta.bytes.hexify(ta.bytes.concat([Oo.IdentityFlagsEthereum],t.auth.content,a));case"SECP256K1_BLAKE160":return ta.bytes.hexify(ta.bytes.concat([Oo.IdentityFlagsCkb],t.auth.content,a));case"BITCOIN":return ta.bytes.hexify(ta.bytes.concat([Oo.IdentityFlagsBitcoin],nP.decodeAddress(t.auth.content),a));case"SOLANA":{const c=ta.bytes.bytify((0,CQ.ckbHash)((0,SQ.decode)(t.auth.content))).slice(0,IQ);return ta.bytes.hexify(ta.bytes.concat([Oo.IdentityFlagsSolana],c,a))}default:throw new Error(`Not supported flag: ${o}.`)}})();return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:s}}const oP={pack:zE.bytify,unpack:zE.hexify},BQ=21,DQ=(0,N6.createFixedHexBytesCodec)(BQ),MQ=(0,Ru.byteVecOf)(oP),PQ=(0,Ru.table)({mask:(0,Ru.byteOf)(oP),proof:MQ},["mask","proof"]),RQ=(0,Ru.vector)(PQ),LQ=(0,Ru.table)({identity:DQ,proofs:RQ},["identity","proofs"]),HQ=(0,Ru.option)(LQ),cP=Sn.OmnilockWitnessLock=(0,Ru.table)({signature:N6.BytesOpt,omni_identity:HQ,preimage:N6.BytesOpt},["signature","omni_identity","preimage"]),NQ=Sn.CellCollector=class{constructor(e,r,{config:n=void 0,queryOptions:i={}}={}){if(!r)throw new Error("Cell provider is missing!");n=n||(0,uv.getConfig)(),this.fromScript=(0,EQ.parseFromInfo)(e,{config:n}).fromScript,this.config=n,i={...i,lock:this.fromScript,type:i.type||"empty"},this.cellCollector=r.collector(i)}async*collect(){if((0,_p.isOmnilockScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function fP(t,e,r,{config:n=void 0,defaultWitness:i="0x",since:a=void 0}={}){n=n||(0,uv.getConfig)();const s=e.cellOutput.lock;if(!(0,_p.isOmnilockScript)(s,n))throw new Error("Not OMNILOCK input!");t=t.update("inputs",g=>g.push(e));const o={cellOutput:{capacity:e.cellOutput.capacity,lock:e.cellOutput.lock,type:e.cellOutput.type},data:e.data};t=t.update("outputs",g=>g.push(o)),a&&(t=t.update("inputSinces",g=>g.set(t.get("inputs").size-1,a))),t=t.update("witnesses",g=>g.push(i));const c=n.SCRIPTS.OMNILOCK,f=n.SCRIPTS.SECP256K1_BLAKE160;if(!c)throw new Error("OMNILOCK script not defined in config!");if(!f)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const u={txHash:c.TX_HASH,index:c.INDEX},l={txHash:f.TX_HASH,index:f.INDEX};t=(0,_p.addCellDep)(t,{outPoint:u,depType:c.DEP_TYPE}),t=(0,_p.addCellDep)(t,{outPoint:l,depType:f.DEP_TYPE});const h=t.get("inputs").findIndex(g=>new FE(g.cellOutput.lock,{validate:!1}).equals(new FE(s,{validate:!1})));if(h!==-1){for(;h>=t.get("witnesses").size;)t=t.update("witnesses",C=>C.push("0x"));let g=t.get("witnesses").get(h);const _=(()=>{const C=ta.bytes.bytify(e.cellOutput.lock.args)[0];switch(C){case Oo.IdentityFlagsSolana:return OQ;case Oo.IdentityFlagsCkb:case Oo.IdentityFlagsEthereum:case Oo.IdentityFlagsBitcoin:return TQ;default:throw new Error(`Unsupported flag: ${C}, please check if the script.args is expected`)}})(),A={lock:$Q(_)};g=ta.bytes.hexify(rP.blockchain.WitnessArgs.pack(A)),t=t.update("witnesses",C=>C.set(h,g))}return t}function $Q(t){const e=cP.pack({signature:new Uint8Array(t)}).byteLength;return ta.bytes.hexify(new Uint8Array(e))}function uP(t,{config:e=void 0}={}){return e=e||(0,uv.getConfig)(),(0,_p.prepareSigningEntries)(t,e,"OMNILOCK")}Sn.default={prepareSigningEntries:uP,setupInputCell:fP,CellCollector:NQ,OmnilockWitnessLock:cP,createOmnilockScript:sP};var jE;function UQ(){return jE||(jE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anyoneCanPay",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return f.createP2PKHMessageGroup}}),Object.defineProperty(t,"dao",{enumerable:!0,get:function(){return i.default}}),t.default=void 0,Object.defineProperty(t,"deploy",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"locktimePool",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"omnilock",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return n.parseFromInfo}}),Object.defineProperty(t,"secp256k1Blake160",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"sudt",{enumerable:!0,get:function(){return o.default}});var e=h(Dn),r=h(tb),n=ei,i=h(sw()),a=h(iw()),s=h(aw()),o=h(qM()),c=h(G5()),f=W5,u=h(Of),l=h(Sn);function h(g){return g&&g.__esModule?g:{default:g}}t.default={secp256k1Blake160:e.default,secp256k1Blake160Multisig:r.default,dao:i.default,locktimePool:a.default,common:s.default,sudt:o.default,anyoneCanPay:c.default}}(b_)),b_}var qE;function iw(){if(qE)return _i;qE=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=_i.CellCollector=void 0,_i.injectCapacity=M,_i.payFee=Q,_i.prepareSigningEntries=Y,_i.setupInputCell=x,_i.transfer=R,_i.transferCompatible=N;var t=gi(),e=ot,r=ei,n=g(Dn),i=sw(),a=xr,s=dt,o=ic,c=Lr,f=UQ(),u=Ui,l=wt,h=ov();function g(v){return v&&v.__esModule?v:{default:v}}const{ScriptValue:_}=a.values,{parseEpoch:A,maximumAbsoluteEpochSince:C,generateAbsoluteEpochSince:w,validateSince:I}=a.since,T=_i.CellCollector=class{constructor(d,y,{config:S=void 0,queryOptions:E={},tipHeader:p=void 0,NodeRPC:O=h.RPC}={}){if(!y)throw new Error("Cell provider is missing!");S=S||(0,c.getConfig)();const k=(0,r.parseFromInfo)(d,{config:S}),L=k.fromScript;this.multisigScript=k.multisigScript,this.fromScript=L,this.config=S,this.tipHeader=p,p&&(this.tipSinceValidationInfo={blockNumber:p.number,epoch:p.epoch,median_timestamp:""}),this.rpc=new O(y.uri),E={...E,lock:this.fromScript};let j=(0,o.List)([]);if((0,s.isSecp256k1Blake160MultisigScript)(L,S)){const q={codeHash:L.codeHash,hashType:L.hashType,args:L.args.slice(0,42)};j=j.push(y.collector({lock:q,argsLen:E.argsLen||28,type:E.type||"empty",data:E.data||"0x"})),!E.type&&(!E.data||E.data==="any")&&(j=j.push(y.collector({lock:q,type:(0,s.generateDaoScript)(S),data:"any"})),j=j.push(y.collector({lock:q,argsLen:28,type:(0,s.generateDaoScript)(S),data:"any"})))}else(0,s.isSecp256k1Blake160Script)(L,S)&&!E.type&&(!E.data||E.data==="any")&&(j=j.push(y.collector({lock:L,type:(0,s.generateDaoScript)(S),data:"any"})));this.cellCollectors=j}async*collect(){for(const d of this.cellCollectors)for await(const y of d.collect()){const S=y.cellOutput.lock;let E,p,O,k,L;if(S.args.length===58){const q=await this.rpc.getHeader(y.blockHash);E="0x"+b(S.args).toString(16),L={epoch:q.epoch,blockNumber:q.number,median_timestamp:""}}if((0,s.isDaoScript)(y.cellOutput.type,this.config)){if(y.data==="0x0000000000000000")continue;const q=await this.rpc.getTransaction(y.outPoint.txHash);k=q.txStatus.blockHash;const z=q.transaction.inputs[+y.outPoint.index].previousOutput;O=(await this.rpc.getTransaction(z.txHash)).txStatus.blockHash;const X=await this.rpc.getHeader(O),ee=await this.rpc.getHeader(k);let ie="0x"+(0,i.calculateDaoEarliestSinceCompatible)(X.epoch,ee.epoch).toString(16);p=(0,i.calculateMaximumWithdrawCompatible)(y,X.dao,ee.dao);const F=A(ee.epoch),$={number:F.number+4,length:F.length,index:F.index};if(ie=C(ie,w($)),E){const re=(0,u.parseSinceCompatible)(E);if(!(re.relative===!1&&re.type==="epochNumber"))continue;try{E=C(ie,E)}catch{E=ie}}else E=ie}if((0,u.parseSinceCompatible)(E).type==="blockTimestamp"||this.tipHeader&&!I(E,this.tipSinceValidationInfo,L))continue;const j={...y,since:E,depositBlockHash:O,withdrawBlockHash:k,sinceValidationInfo:L};j.cellOutput.capacity="0x"+(p||l.BI.from(y.cellOutput.capacity)).toString(16),yield j}}};async function R(v,d,y,S,E,{config:p=void 0,requireToAddress:O=!0,assertAmountEnough:k=!0,LocktimeCellCollector:L=T}={}){const j=await N(v,d,y,S,E,{config:p,requireToAddress:O,assertAmountEnough:k,LocktimeCellCollector:L});let q,H;return j instanceof Array?(q=j[0],H=BigInt(j[1].toString()),[q,H]):(q=j,q)}async function N(v,d,y,S,E,{config:p=void 0,requireToAddress:O=!0,assertAmountEnough:k=!0,LocktimeCellCollector:L=T}={}){let j=l.BI.from(S);for(const[q,H]of d.entries()){const z=await K(v,H,q===0?y:void 0,j,E,{config:p,requireToAddress:q===0?O:!1,assertAmountEnough:!1,LocktimeCellCollector:L});if(v=z[0],j=z[1],j.eq(0))return k?v:[v,l.BI.from(j)]}if(k)throw new Error("Not enough capacity in from addresses!");return[v,l.BI.from(j)]}async function K(v,d,y,S,E,{config:p=void 0,requireToAddress:O=!0,assertAmountEnough:k=!0,LocktimeCellCollector:L=T,changeAddress:j=void 0}){p=p||(0,c.getConfig)();const{fromScript:q}=(0,r.parseFromInfo)(d,{config:p});if(!(0,s.isSecp256k1Blake160MultisigScript)(q,p)&&!(0,s.isSecp256k1Blake160Script)(q,p))throw new Error("fromInfo not supported!");if(O&&!y)throw new Error("You must provide a to address!");let H=l.BI.from(S||0);if(y){const ee=(0,t.parseAddress)(y,{config:p});v=v.update("outputs",ie=>ie.push({cellOutput:{capacity:"0x"+H.toString(16),lock:ee,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}))}const z=v.get("fixedEntries").filter(({field:ee})=>ee==="outputs").maxBy(({index:ee})=>ee);let X=z?z.index+1:0;for(;X<v.get("outputs").size&&H.gt(0);++X){const ee=v.get("outputs").get(X);if(new _(ee.cellOutput.lock,{validate:!1}).equals(new _(q,{validate:!1}))){const ie=l.BI.from(ee.cellOutput.capacity);let F;H.gte(ie)?F=ie:(F=ie.sub((0,t.minimalCellCapacityCompatible)(ee)),F.gt(H)&&(F=H)),H=H.sub(F);const $=JSON.parse(JSON.stringify(ee));$.cellOutput.capacity="0x"+ie.sub(F).toString(16),v=v.update("outputs",re=>re.update(X,()=>$))}}if(v=v.update("outputs",ee=>ee.filter(ie=>!l.BI.from(ie.cellOutput.capacity).eq(0))),H.gt(0)){const ee=v.get("cellProvider");if(!ee)throw new Error("cell provider is missing!");const F={cellOutput:{capacity:"0x0",lock:j?(0,t.parseAddress)(j,{config:p}):q,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let $=l.BI.from(0),re=(0,o.Set)();for(const de of v.get("inputs"))re=re.add(`${de.outPoint.txHash}_${de.outPoint.index}`);const ue=new L(d,ee,{config:p,tipHeader:E});for await(const de of ue.collect()){const W=de;if(re.has(`${W.outPoint.txHash}_${W.outPoint.index}`))continue;let J;if((0,s.isSecp256k1Blake160MultisigScript)(q,p)){const ye=W.cellOutput.lock.args;J=ye.length===58?l.BI.from(b(ye)):void 0}let ne="0x";if((0,s.isDaoScript)(W.cellOutput.type,p)){const ye=p.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:ye.DEP_TYPE,outPoint:{txHash:ye.TX_HASH,index:ye.INDEX}}),v=v.update("headerDeps",He=>He.push(W.depositBlockHash,W.withdrawBlockHash));const Ce=v.get("headerDeps").size-2,kt={inputType:e.bytes.hexify(e.number.Uint64.pack(Ce))};ne=e.bytes.hexify(a.blockchain.WitnessArgs.pack(kt))}v=await m(v,W,(0,s.isSecp256k1Blake160MultisigScript)(q,p)?Object.assign({},d,{since:J}):d,{config:p,defaultWitness:ne,since:W.since});const fe=l.BI.from(W.cellOutput.capacity);let ve=fe;if(ve.gt(H)&&(ve=H),H=H.sub(ve),$=$.add(fe).sub(ve),(0,s.isDaoScript)(W.cellOutput.type,p)&&(v=v.update("fixedEntries",ye=>ye.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),H.eq(0)&&($.eq(0)||$.gt((0,t.minimalCellCapacityCompatible)(F))))break}$.gt(0)&&(F.cellOutput.capacity="0x"+$.toString(16),v=v.update("outputs",de=>de.push(F)))}if(!k)return[v,H];if(H.gt(0))throw new Error("Not enough capacity in from address!");return v}async function V(v,d,y,S,E,{config:p=void 0,LocktimeCellCollector:O=T,enableDeductCapacity:k=!0}){p=p||(0,c.getConfig)();let L=l.BI.from(y);const j=l.BI.from(E);if(k)for(const H of d){const z=(0,r.parseFromInfo)(H,{config:p}).fromScript;if(!(0,s.isSecp256k1Blake160MultisigScript)(z,p)&&!(0,s.isSecp256k1Blake160Script)(z,p))continue;const X=v.get("fixedEntries").filter(({field:ie})=>ie==="outputs").maxBy(({index:ie})=>ie);let ee=X?X.index+1:0;for(;ee<v.get("outputs").size&&L.gt(0);++ee){const ie=v.get("outputs").get(ee);if(new _(ie.cellOutput.lock,{validate:!1}).equals(new _(z,{validate:!1}))){const F=JSON.parse(JSON.stringify(ie)),$=l.BI.from(F.cellOutput.capacity);let re;L.gte($)?re=$:(re=$.sub((0,t.minimalCellCapacityCompatible)(F)),re.gt(L)&&(re=L)),L=L.sub(re),F.cellOutput.capacity="0x"+$.sub(re).toString(16),v=v.update("outputs",ue=>ue.update(ee,()=>F))}}v=v.update("outputs",ie=>ie.filter(F=>!l.BI.from(F.cellOutput.capacity).eq(0)))}let q=l.BI.from(0);if(L.gt(0)){const H=v.get("cellProvider");if(!H)throw new Error("cell provider is missing!");const z=ee=>`${ee.outPoint.txHash}_${ee.outPoint.index}`;let X=(0,o.Set)();for(const ee of v.get("inputs"))X=X.add(z(ee));for(const ee of d){const ie=(0,r.parseFromInfo)(ee,{config:p}).fromScript,F=new O(ee,H,{config:p,tipHeader:S});for await(const $ of F.collect()){const re=$;if(X.has(z(re)))continue;let ue="0x";if((0,s.isDaoScript)(re.cellOutput.type,p)){const ne=p.SCRIPTS.DAO;v=(0,s.addCellDep)(v,{depType:ne.DEP_TYPE,outPoint:{txHash:ne.TX_HASH,index:ne.INDEX}}),v=v.update("headerDeps",ye=>ye.push(re.depositBlockHash,re.withdrawBlockHash));const fe=v.get("headerDeps").size-2,ve={inputType:e.bytes.hexify(e.number.Uint64.pack(fe))};ue=e.bytes.hexify(a.blockchain.WitnessArgs.pack(ve))}let de;if((0,s.isSecp256k1Blake160MultisigScript)(ie,p)){const ne=re.cellOutput.lock.args;de=ne.length===58?l.BI.from(b(ne)):void 0}v=await m(v,re,Object.assign({},ee,{since:de}),{config:p,defaultWitness:ue,since:re.since});const W=l.BI.from(re.cellOutput.capacity);let J=W;if(J.gt(L)&&(J=L),L=L.sub(J),q=q.add(W).sub(J),(0,s.isDaoScript)(re.cellOutput.type,p)&&(v=v.update("fixedEntries",ne=>ne.push({field:"inputs",index:v.get("inputs").size-1},{field:"witnesses",index:v.get("witnesses").size-1},{field:"headerDeps",index:v.get("headerDeps").size-2}))),L.eq(0)&&(q.eq(0)||q.gt(j)))break}}}return{txSkeleton:v,capacity:l.BI.from(L.toString()),changeCapacity:l.BI.from(q.toString())}}async function D(v,d,y,S,E,{config:p=void 0,LocktimeCellCollector:O=T,enableDeductCapacity:k=!0}){const L=await V(v,d,y,S,E,{config:p,LocktimeCellCollector:O,enableDeductCapacity:k});return{txSkeleton:L.txSkeleton,capacity:L.capacity.toBigInt(),changeCapacity:L.changeCapacity.toBigInt()}}async function Q(v,d,y,S,{config:E=void 0,LocktimeCellCollector:p=T}={}){return N(v,d,void 0,y,S,{config:E,requireToAddress:!1,LocktimeCellCollector:p})}function Y(v,{config:d=void 0}={}){return d=d||(0,c.getConfig)(),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160"),v=(0,s.prepareSigningEntries)(v,d,"SECP256K1_BLAKE160_MULTISIG"),v}async function M(v,d,y,S,{config:E=void 0,LocktimeCellCollector:p=T}={}){if(E=E||(0,c.getConfig)(),d>=v.get("outputs").size)throw new Error("Invalid output index!");const O=l.BI.from(v.get("outputs").get(d).cellOutput.capacity);return N(v,y,void 0,l.BI.from(O),S,{config:E,requireToAddress:!1,LocktimeCellCollector:p})}async function m(v,d,y,{config:S=void 0,since:E=void 0,defaultWitness:p="0x"}={}){return S=S||(0,c.getConfig)(),v=await x(v,d,y,{config:S,since:E,defaultWitness:p}),v=v.update("outputs",O=>O.remove(O.size-1)),v}async function x(v,d,y,{config:S=void 0,since:E=void 0,defaultWitness:p="0x"}={}){S=S||(0,c.getConfig)();const O=d.cellOutput.lock;if((0,s.isSecp256k1Blake160Script)(O,S))return n.default.setupInputCell(v,d,y,{config:S,defaultWitness:p,since:E});if((0,s.isSecp256k1Blake160MultisigScript)(O,S))return f.secp256k1Blake160Multisig.setupInputCell(v,d,y,{config:S,defaultWitness:p,since:E});throw new Error("Not supported input lock!")}function b(v){if(v.length!==58)throw new Error("Invalid multisig with since args!");return e.number.Uint64LE.unpack("0x"+v.slice(42))}return _i.default={CellCollector:T,transfer:R,transferCompatible:N,payFee:Q,prepareSigningEntries:Y,injectCapacity:M,setupInputCell:x,injectCapacityWithoutChange:D,injectCapacityWithoutChangeCompatible:V},_i}var KE;function aw(){if(KE)return Xi;KE=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.default=void 0,Xi.injectCapacity=V,Xi.payFee=D,Xi.payFeeByFeeRate=v,Xi.prepareSigningEntries=Q,Xi.registerCustomLockScriptInfos=R,Xi.setupInputCell=b,Xi.transfer=K;var t=gi(),e=_(tb),r=ei,n=_(Dn),i=Lr,a=g(iw()),s=xr,o=_(G5()),c=ic,f=dt,u=wt,l=_(Sn);function h(p){if(typeof WeakMap!="function")return null;var O=new WeakMap,k=new WeakMap;return(h=function(L){return L?k:O})(p)}function g(p,O){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var k=h(O);if(k&&k.has(p))return k.get(p);var L={__proto__:null},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in p)if(q!=="default"&&{}.hasOwnProperty.call(p,q)){var H=j?Object.getOwnPropertyDescriptor(p,q):null;H&&(H.get||H.set)?Object.defineProperty(L,q,H):L[q]=p[q]}return L.default=p,k&&k.set(p,L),L}function _(p){return p&&p.__esModule?p:{default:p}}const{ScriptValue:A}=s.values;function C(p,O){console.log(`[${p}] ${O}`)}const w={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function I(){w.configHashCode=0,w._predefinedInfos=[],w._customInfos=[]}function T(){return w}function R(p){w._customInfos=p}function N({config:p=void 0}={}){p=p||(0,i.getConfig)();const O=()=>{var L,j,q,H;const z=(L=p)===null||L===void 0?void 0:L.SCRIPTS.SECP256K1_BLAKE160,X=(j=p)===null||j===void 0?void 0:j.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,ee=(q=p)===null||q===void 0?void 0:q.SCRIPTS.ANYONE_CAN_PAY,ie=(H=p)===null||H===void 0?void 0:H.SCRIPTS.OMNILOCK,F=[];return z?F.push({codeHash:z.CODE_HASH,hashType:z.HASH_TYPE,lockScriptInfo:n.default}):C("warn","SECP256K1_BLAKE160 script info not found in config!"),X?F.push({codeHash:X.CODE_HASH,hashType:X.HASH_TYPE,lockScriptInfo:e.default}):C("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),ee?F.push({codeHash:ee.CODE_HASH,hashType:ee.HASH_TYPE,lockScriptInfo:o.default}):C("warn","ANYONE_CAN_PAY script info not found in config!"),ie?F.push({codeHash:ie.CODE_HASH,hashType:ie.HASH_TYPE,lockScriptInfo:l.default}):C("warn","OMNILOCK script info not found in config!"),F},k=s.utils.hashCode(Buffer.from(JSON.stringify(p)));w.infos.length===0?(w._predefinedInfos=O(),w.configHashCode=k):k!==w.configHashCode&&(C("warn","`config` changed, regenerate lockScriptInfos!"),w._predefinedInfos=O(),w.configHashCode=k)}async function K(p,O,k,L,j,q,{config:H=void 0,useLocktimeCellsFirst:z=!0,LocktimePoolCellCollector:X=a.CellCollector}={}){var ee;H=H||(0,i.getConfig)();const ie=u.BI.from(L);if(!k)throw new Error("You must provide a to address!");const F=(0,t.parseAddress)(k,{config:H}),$={cellOutput:{capacity:"0x"+ie.toString(16),lock:F,type:void 0},data:"0x"};N({config:H});const re=w.infos.find(ue=>ue.codeHash===F.codeHash&&ue.hashType===F.hashType);return re&&(ee=re.lockScriptInfo)!==null&&ee!==void 0&&ee.setupOutputCell?p=await re.lockScriptInfo.setupOutputCell(p,$,{config:H}):p=p.update("outputs",ue=>ue.push($)),p=await V(p,O,ie.toString(),j,q,{config:H,useLocktimeCellsFirst:z,LocktimePoolCellCollector:X}),p}async function V(p,O,k,L,j,{config:q=void 0,useLocktimeCellsFirst:H=!0,LocktimePoolCellCollector:z=a.CellCollector,enableDeductCapacity:X=!0}={}){q=q||(0,i.getConfig)();let ie=u.BI.from(k);if(O.length===0)throw new Error("No from info provided!");const $={cellOutput:{capacity:"0x0",lock:(0,r.parseFromInfo)(L||O[0],{config:q}).fromScript,type:void 0},data:"0x"},re=u.BI.from((0,t.minimalCellCapacityCompatible)($));let ue=u.BI.from(0);if(H){if(j){const de=await a.default.injectCapacityWithoutChangeCompatible(p,O,ie.toString(),j,re.toString(),{config:q,LocktimeCellCollector:z,enableDeductCapacity:X});p=de.txSkeleton,ie=u.BI.from(de.capacity),ue=u.BI.from(de.changeCapacity)}if(ie.gt(0)){const de=await M(p,O,ie,re,{config:q,enableDeductCapacity:X});p=de.txSkeleton,ie=de.capacity,ue=de.changeCapacity}else if(ie.eq(0)&&ue.gt(0)&&ue.lt(re)){const de=await M(p,O,re.sub(ue),u.BI.from(0),{config:q,enableDeductCapacity:X});p=de.txSkeleton,ie=de.capacity,ue=de.changeCapacity}}else{const de=await M(p,O,ie,re,{config:q,enableDeductCapacity:X});if(p=de.txSkeleton,ie=de.capacity,ue=de.changeCapacity,j){if(ie.gt(0)){const W=await a.default.injectCapacityWithoutChangeCompatible(p,O,ie.toString(),j,re.toString(),{config:q,LocktimeCellCollector:z,enableDeductCapacity:X});p=W.txSkeleton,ie=u.BI.from(W.capacity),ue=u.BI.from(W.changeCapacity)}else if(ie.eq(0)&&ue.gt(0)&&ue.lt(re)){const W=await a.default.injectCapacityWithoutChangeCompatible(p,O,re.sub(ue).toString(),j,0,{config:q,LocktimeCellCollector:z,enableDeductCapacity:X});p=W.txSkeleton,ie=u.BI.from(W.capacity),ue=u.BI.from(W.changeCapacity)}}}if(ie.gt(0))throw new Error("Not enough capacity in from infos!");if(ue.gt(0)&&ue.lt(re))throw new Error("Not enough capacity in from infos for change!");return ue.gt(0)&&($.cellOutput.capacity="0x"+ue.toString(16),p=p.update("outputs",de=>de.push($))),p}async function D(p,O,k,L,{config:j=void 0,useLocktimeCellsFirst:q=!0,enableDeductCapacity:H=!0}={}){return V(p,O,k,void 0,L,{config:j,useLocktimeCellsFirst:q,enableDeductCapacity:H})}function Q(p,{config:O=void 0}={}){O=O||(0,i.getConfig)(),N({config:O});for(const k of w.infos)p=k.lockScriptInfo.prepareSigningEntries(p,{config:O});return p}async function Y(p,O,k,L,{config:j=void 0,enableDeductCapacity:q=!0}={}){const H=await M(p,O,k,L,{config:j,enableDeductCapacity:q});return{txSkeleton:H.txSkeleton,capacity:BigInt(H.capacity.toString()),changeCapacity:BigInt(H.changeCapacity.toString())}}async function M(p,O,k,L,{config:j=void 0,enableDeductCapacity:q=!0}={}){j=j||(0,i.getConfig)();let H=u.BI.from(k);const z=p.get("cellProvider");if(!z)throw new Error("Cell Provider is missing!");const X=$=>{var re,ue;return`${(re=$.outPoint)===null||re===void 0?void 0:re.txHash}_${(ue=$.outPoint)===null||ue===void 0?void 0:ue.index}`};let ee=(0,c.Set)();for(const $ of p.get("inputs"))ee=ee.add(X($));const ie=O.map($=>(0,r.parseFromInfo)($,{config:j}).fromScript);for(const $ of ie)q&&H.gt(0)&&([p,H]=m(p,$,H));N({config:j});let F=u.BI.from(0);if(H.gt(0))e:for(const $ of O){const re=w.infos.map(ue=>new ue.lockScriptInfo.CellCollector($,z,{config:j}));for(const ue of re)for await(const de of ue.collect()){const W=X(de);if(ee.has(W))continue;ee=ee.add(W);const J=await x(p,de,$,{config:j,needCapacity:H});p=J.txSkeleton;const ne=u.BI.from(J.availableCapacity);let fe=ne;if(fe.gt(H)&&(fe=H),H=H.sub(fe),F=F.add(ne.sub(fe)),H.eq(0)&&(F.eq(0)||F.gt(L)))break e}}return{txSkeleton:p,capacity:H,changeCapacity:F}}function m(p,O,k){let L=u.BI.from(k);const j=p.get("fixedEntries").filter(({field:H})=>H==="outputs").maxBy(({index:H})=>H);let q=j?j.index+1:0;for(;q<p.get("outputs").size&&L.gt(0);q++){const H=p.get("outputs").get(q);if(H&&new A(H.cellOutput.lock,{validate:!1}).equals(new A(O,{validate:!1}))){const z=JSON.parse(JSON.stringify(H)),X=u.BI.from(z.cellOutput.capacity),ee=X;let ie;L.gte(ee)?ie=ee:(ie=X.sub((0,t.minimalCellCapacityCompatible)(z)),ie.gt(k)&&(ie=k)),L=L.sub(ie),z.cellOutput.capacity="0x"+X.sub(ie).toString(16),p=p.update("outputs",F=>F.update(q,()=>z))}}return p=p.update("outputs",H=>H.filter(z=>u.BI.from(z.cellOutput.capacity).toString()!==u.BI.from(0).toString())),[p,L]}async function x(p,O,k,{config:L=void 0,since:j=void 0,defaultWitness:q="0x",needCapacity:H=void 0}={}){L=L||(0,i.getConfig)(),p=await b(p,O,k,{config:L,since:j,defaultWitness:q});const z=p.get("outputs").size-1,X=p.get("outputs").get(z);if(!X)throw new Error("Impossible: can not find last output");const ee=u.BI.from(X.cellOutput.capacity),ie=p.get("fixedEntries").findIndex(ue=>ue.field==="outputs"&&ue.index===z),F=O.cellOutput.lock;let $=u.BI.from(0);if(L.SCRIPTS.ANYONE_CAN_PAY&&(0,f.isAcpScript)(F,L)){const ue=!!(k&&typeof k=="object"&&"destroyable"in k&&k.destroyable),de=H?u.BI.from(H):ee;if(ue)$=ee,p=p.update("outputs",W=>W.remove(z)),ie>=0&&(p=p.update("fixedEntries",W=>W.remove(ie)));else{const W=u.BI.from((0,t.minimalCellCapacityCompatible)(X)),J=ee.sub(W),ne=JSON.parse(JSON.stringify(X));let fe=W;$=J,de.lt(J)&&(fe=ee.sub(de),$=de),ne.cellOutput.capacity="0x"+fe.toString(16),p=p.update("outputs",ve=>ve.update(z,()=>ne))}}else if(ie<0){var re;$=u.BI.from((re=p.get("outputs").get(z))===null||re===void 0?void 0:re.cellOutput.capacity),p=p.update("outputs",ue=>ue.remove(z))}return{txSkeleton:p,availableCapacity:$}}async function b(p,O,k,{config:L=void 0,since:j=void 0,defaultWitness:q=void 0}={}){L=L||(0,i.getConfig)(),N({config:L});const H=O.cellOutput.lock,z=w.infos.find(X=>X.codeHash===H.codeHash&&X.hashType===H.hashType);if(!z)throw new Error("No LockScriptInfo found for setupInputCell!");return z.lockScriptInfo.setupInputCell(p,O,k,{config:L,since:j,defaultWitness:q})}async function v(p,O,k,L,{config:j=void 0,useLocktimeCellsFirst:q=!0,enableDeductCapacity:H=!0}={}){let z=0,X=p,ee=S(X);for(;ee>z;){z=ee;const ie=y(z,k);X=await D(p,O,ie,L,{config:j,useLocktimeCellsFirst:q,enableDeductCapacity:H}),ee=S(X)}return X}function d(p,O){const k=y(p,O);return BigInt(k.toString())}function y(p,O){const k=u.BI.from(1e3),L=u.BI.from(p).mul(O),j=L.div(k);return j.mul(k).lt(L)?j.add(1):u.BI.from(j)}function S(p){const O=(0,t.createTransactionFromSkeleton)(p);return E(O)}function E(p){return s.blockchain.Transaction.pack(p).byteLength+4}return Xi.default={transfer:K,payFee:D,prepareSigningEntries:Q,injectCapacity:V,setupInputCell:b,registerCustomLockScriptInfos:R,payFeeByFeeRate:v,__tests__:{_commonTransfer:Y,resetLockScriptInfos:I,getLockScriptInfos:T,generateLockScriptInfos:N,getTransactionSizeByTx:E,getTransactionSize:S,calculateFee:d,calculateFeeCompatible:y}},Xi}var VE;function sw(){if(VE)return Ln;VE=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.CellCollector=void 0,Ln.calculateDaoEarliestSince=V,Ln.calculateDaoEarliestSinceCompatible=D,Ln.calculateMaximumWithdraw=m,Ln.calculateMaximumWithdrawCompatible=x,Ln.default=void 0,Ln.deposit=w,Ln.extractDaoDataCompatible=M,Ln.listDaoCells=C,Ln.unlock=K;var t=gi(),e=xr,r=ot,n=Lr,i=l(Dn),a=l(tb),s=ei,o=dt,c=wt,f=ov(),u=l(aw());function l(b){return b&&b.__esModule?b:{default:b}}const{parseSince:h}=e.since,g="0x0000000000000000",_=c.BI.from(180);class A{constructor(v,d,y,{config:S=void 0}={}){if(!d)throw new Error("Cell Provider is missing!");S=S||(0,n.getConfig)();const E=(0,s.parseFromInfo)(v,{config:S}).fromScript,p=(0,o.generateDaoScript)(S),O=y==="deposit"?g:"any";this.cellType=y,this.cellCollector=d.collector({lock:E,type:p,data:O})}async*collect(){for await(const v of this.cellCollector.collect())this.cellType==="withdraw"&&v.data===g||(yield v)}}Ln.CellCollector=A;async function*C(b,v,d,{config:y=void 0}={}){const S=new A(v,b,d,{config:y});for await(const E of S.collect())yield E}async function w(b,v,d,y,{config:S=void 0,enableNonSystemScript:E=!1}={}){S=S||(0,n.getConfig)();const p=S.SCRIPTS.DAO;if(!p)throw new Error("Provided config does not have DAO script setup!");if(I(v,S),b=Y(b,S),!d)throw new Error("You must provide a to address!");const O=(0,t.parseAddress)(d,{config:S}),k={codeHash:p.CODE_HASH,hashType:p.HASH_TYPE,args:"0x"};b=b.update("outputs",j=>j.push({cellOutput:{capacity:"0x"+c.BI.from(y).toString(16),lock:O,type:k},data:g,outPoint:void 0,blockHash:void 0}));const L=b.get("outputs").size-1;if(b=b.update("fixedEntries",j=>j.push({field:"outputs",index:L})),typeof v=="string"){const j=(0,t.parseAddress)(v,{config:S});(0,o.isSecp256k1Blake160Script)(j,S)?b=await i.default.injectCapacity(b,L,v,{config:S}):(0,o.isSecp256k1Blake160MultisigScript)(j,S)?b=await a.default.injectCapacity(b,L,v,{config:S}):E&&(b=await u.default.injectCapacity(b,[v],y,(0,t.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:S}),void 0,{config:S}))}else v&&((0,s.isMultisigFromInfo)(v)?b=await a.default.injectCapacity(b,L,v,{config:S}):E&&(b=await u.default.injectCapacity(b,[v],y,(0,t.encodeToAddress)((0,s.parseFromInfo)(v).fromScript,{config:S}),void 0,{config:S})));return b}function I(b,v){let d;if(typeof b=="string"){const S=(0,t.parseAddress)(b,{config:v}).args;S.length===58&&(d=r.number.Uint64LE.unpack("0x"+S.slice(42)).toHexString())}else"R"in b&&(d=b.since);if(d!=null){const{relative:y,type:S}=h(d);if(!(!y&&S==="epochNumber"))throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}async function T(b,v,d,{config:y=void 0,enableNonSystemScript:S=!1}={}){if(y=y||(0,n.getConfig)(),Q(y),b=Y(b,y),b.get("inputs").size!==b.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!y.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!b.get("cellProvider"))throw new Error("Cell provider is missing!");const p=v.cellOutput.type,O=y.SCRIPTS.DAO;if(!p||p.codeHash!==O.CODE_HASH||p.hashType!==O.HASH_TYPE||v.data!==g)throw new Error("fromInput is not a DAO deposit cell.");const k=v.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(k,y)?b=await i.default.setupInputCell(b,v,void 0,{config:y}):(0,o.isSecp256k1Blake160MultisigScript)(k,y)?b=await a.default.setupInputCell(b,v,d||(0,t.generateAddress)(k,{config:y}),{config:y}):S&&(b=await u.default.setupInputCell(b,v,d||(0,t.encodeToAddress)(k,{config:y}),{config:y}));const L=b.get("outputs").size-1,j=b.get("outputs").get(L),q=JSON.parse(JSON.stringify(j));if(v.blockNumber)q.data=r.bytes.hexify(r.number.Uint64.pack(v.blockNumber));else throw new Error("fromInput has no blockNumber!");return b=b.update("outputs",H=>H.update(L,()=>q)),b=b.update("headerDeps",H=>H.push(v.blockHash)),b=b.update("fixedEntries",H=>H.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1})),b}function R(b){const v=c.BI.from(b);return{length:v.shr(40).and(4095),index:v.shr(24).and(4095),number:v.and(16777215)}}function N({length:b,index:v,number:d}){const y=c.BI.from(b),S=c.BI.from(v),E=c.BI.from(d);return c.BI.from(32).shl(56).add(y.shl(40)).add(S.shl(24)).add(E)}async function K(b,v,d,y,S,{config:E=void 0,RpcClient:p=f.RPC}={}){if(E=E||(0,n.getConfig)(),Q(E),b=Y(b,E),!E.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const O=b.get("cellProvider");if(!O)throw new Error("Cell provider is missing!");const k=new p(O.uri),L=v.cellOutput.type,j=E.SCRIPTS.DAO;if(!L||L.codeHash!==j.CODE_HASH||L.hashType!==j.HASH_TYPE||v.data!==g)throw new Error("depositInput is not a DAO deposit cell.");const q=d.cellOutput.type;if(!q||q.codeHash!==j.CODE_HASH||q.hashType!==j.HASH_TYPE||d.data===g)throw new Error("withdrawInput is not a DAO withdraw cell.");const H=await k.getHeader(v.blockHash),z=R(H.epoch),X=await k.getHeader(d.blockHash),ee=R(X.epoch),ie=ee.index.mul(z.length),F=z.index.mul(ee.length);let $=ee.number.sub(z.number);ie.gt(F)&&($=$.add(1));const re=$.add(_).sub(1).div(_).mul(_),ue={number:c.BI.from(z.number.add(re)),index:c.BI.from(z.index),length:c.BI.from(z.length)},de=N(ue),W="0x"+x(d,H.dao,X.dao).toString(16),J=(0,t.parseAddress)(y,{config:E});b=b.update("outputs",He=>He.push({cellOutput:{capacity:W,lock:J,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0}));const ne="0x"+de.toString(16);for(;b.get("witnesses").size<b.get("inputs").size-1;)b=b.update("witnesses",He=>He.push("0x"));b=b.update("headerDeps",He=>He.push(v.blockHash,d.blockHash));const fe=b.get("headerDeps").size-2,ve={inputType:r.bytes.hexify(r.number.Uint64LE.pack(fe))},ye=r.bytes.hexify(e.blockchain.WitnessArgs.pack(ve)),Ce=d.cellOutput.lock;(0,o.isSecp256k1Blake160Script)(Ce,E)?b=await i.default.setupInputCell(b,d,void 0,{config:E,since:ne,defaultWitness:ye}):(0,o.isSecp256k1Blake160MultisigScript)(Ce,E)&&(b=await a.default.setupInputCell(b,d,S||(0,t.generateAddress)(Ce,{config:E}),{config:E,since:ne,defaultWitness:ye}));const kt=b.get("outputs").size-1;return b=b.update("outputs",He=>He.remove(kt)),b=b.update("fixedEntries",He=>He.push({field:"inputs",index:b.get("inputs").size-1},{field:"outputs",index:b.get("outputs").size-1},{field:"witnesses",index:b.get("witnesses").size-1},{field:"headerDeps",index:b.get("headerDeps").size-2})),b}function V(b,v){const d=D(b,v);return BigInt(d.toString())}function D(b,v){const d=R(b),y=R(v),S=y.index.mul(d.length),E=d.index.mul(y.length);let p=y.number.sub(d.number);S.gt(E)&&(p=p.add(1));const O=p.add(_).sub(1).div(_).mul(_),k={number:c.BI.from(d.number.add(O)),index:c.BI.from(d.index),length:c.BI.from(d.length)};return N(k)}function Q(b){if(!b.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function Y(b,v){const d=v.SCRIPTS.DAO;return(0,o.addCellDep)(b,{outPoint:{txHash:d.TX_HASH,index:d.INDEX},depType:d.DEP_TYPE})}function M(b){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(b))throw new Error("Invalid dao format!");const v=8*2,d=b.startsWith("0x")?b.slice(2):b;return["c","ar","s","u"].map((y,S)=>({[y]:r.number.Uint64LE.unpack("0x"+d.slice(v*S,v*(S+1)))})).reduce((y,S)=>({...y,...S}),{})}function m(b,v,d){return x(b,v,d).toBigInt()}function x(b,v,d){const y=c.BI.from(M(v).ar),S=c.BI.from(M(d).ar),E=c.BI.from((0,t.minimalCellCapacityCompatible)(b));return c.BI.from(b.cellOutput.capacity).sub(E).mul(S).div(y).add(E)}return Ln.default={deposit:w,withdraw:T,unlock:K,calculateMaximumWithdraw:m,calculateMaximumWithdrawCompatible:x,calculateDaoEarliestSince:V,calculateDaoEarliestSinceCompatible:D,CellCollector:A,listDaoCells:C},Ln}var lv=sw();const oi=100000000n;function Df(t){return"0x"+t.toString(16)}function ky(...t){return t.reduce((e,r)=>e>r?e:r)}function $6(t){return e=>En(e.cellOutput.lock,t)?t:void 0}function kQ(t,e){const r=[],n=[];for(const i of t){if(i.cellOutput.type!==void 0||i.data!=="0x"){n.push(i);continue}const a=e(i);if(!a){n.push(i);continue}r.push(Qt.from({...i,cellOutput:{lock:a,capacity:i.cellOutput.capacity}}))}return{capacities:r,notCapacities:n}}function zQ(t,e,r){const n=[],i=[];for(const a of t){if(!En(a.cellOutput.type,e)){i.push(a);continue}const s=r(a);if(!s){i.push(a);continue}n.push(Qt.from({...a,cellOutput:{lock:s,type:e,capacity:a.cellOutput.capacity}}))}return{types:n,notTypes:i}}function FQ(t,e,r){const n=Y8(r.epoch),i=[],a=[];for(const s of t)dv(n,Vp(e(s)))>=0?i.push(s):a.push(s);return{mature:i,notMature:a}}const jQ="Comparing two Scripts that both are undefined";function En(t,e){if(!t&&!e)throw Error(jQ);return!t||!e?!1:t.codeHash===e.codeHash&&t.hashType===e.hashType&&t.args===e.args}function dv(t,e){if(t.number<e.number)return-1;if(t.number>e.number)return 1;const r=t.index*e.length,n=e.index*t.length;return r<n?-1:r>n?1:0}const qQ="Zero EpochSinceValue length";function KQ(t,e){if(t.length===0||e.length===0)throw Error(qQ);t.length!==e.length&&(e={length:t.length,index:Math.ceil(e.index*t.length/e.length),number:e.number});const r=t.index+e.index,n=t.length,i=r%n,a=t.number+(r-i)/n;return{length:n,index:i,number:a}}function VQ(t){const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e}function QQ(t,e){let[r,n]=[0,t];for(;r<n;){const i=Math.trunc((r+n)/2);e(i)?n=i:r=i+1}return r}const YQ="Unable to modify entries without messing up fixed entries",GQ="Input and output have different length",WQ="Signing Entries are not empty";function Ta(t,e,r,n){const i=ow(t),a=Ia(r),s=Ia(n);if(e==="matched"){if(a.size!==s.size)throw Error(GQ);if(i.inputs!==i.outputs)throw Error(YQ);if(t.signingEntries.size>0)throw Error(WQ)}const o=e=="matched",c=o?i.inputs+1:t.inputs.size,f=o?i.outputs+1:t.outputs.size;return t=eY(t,a,s),t=JQ(t,a,s),t=ZQ(t,c,a),t=XQ(t,c,a,f,s),t=t.update("inputs",u=>u.splice(c,0,...a)),t=t.update("outputs",u=>u.splice(f,0,...s)),o&&(t=cw(t,i.set("inputs",i.inputs+a.size).set("outputs",i.outputs+s.size))),t}const QE=xf(xy.pack({lock:void 0,inputType:void 0,outputType:void 0}));function XQ(t,e,r,n,i){const a=ky(t.inputs.size,t.outputs.size,t.witnesses.size,e,n),s=[],o=[],c=[];for(let l=0;l<a;l++){const{lock:h,inputType:g,outputType:_}=xy.unpack(t.witnesses.get(l,QE));s.push(h),o.push(g),c.push(_)}s.splice(e,0,...r.map(l=>l.cellOutput.lock[vu])),o.splice(e,0,...r.map(l=>{var h;return(h=l.cellOutput.type)==null?void 0:h[vu]})),c.splice(n,0,...i.map(l=>{var h;return(h=l.cellOutput.type)==null?void 0:h[vu]}));const f=ky(o.length,c.length),u=[];for(let l=0;l<f;l++)u.push(ot.bytes.hexify(xy.pack({lock:s[l],inputType:o[l],outputType:c[l]})));for(;u[u.length-1]===QE;)u.pop();return t.set("witnesses",Ia(u))}function ZQ(t,e,r){const n=xa[zs],i=Array.from({length:t.inputs.size},(s,o)=>t.inputSinces.get(o,n)),a=[];for(const s of r){const o=s.cellOutput.lock[zs],c=s.cellOutput.type?s.cellOutput.type[zs]:o;o===n||o===c?a.push(c):c===n?a.push(o):dv(Vp(o),Vp(c))==-1?a.push(c):a.push(o)}return i.splice(e,0,...a),t.set("inputSinces",nc(i.map((s,o)=>[o,s]).filter(({1:s})=>s!==n)))}function JQ(t,e,r){const n=[];for(const i of e){const a=i.cellOutput.lock;n.push(...a[ui])}for(const i of[...e,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[ui])}return lP(t,...n.map(i=>i.hash))}function lP(t,...e){const r=ow(t);let n=t.headerDeps.push(...e);return n=Ia(new Set(n)),t=cw(t,r.set("headerDeps",n.size-1)),t.set("headerDeps",n)}function eY(t,e,r){const n=[];for(const i of e){const a=i.cellOutput.lock;n.push(...a[Di])}for(const i of[...e,...r]){const a=i.cellOutput.type;a!==void 0&&n.push(...a[Di])}return rY(t,...n)}const tY=t=>`${t.outPoint.txHash}-${t.outPoint.index}-${t.depType}`;function rY(t,...e){const r=ow(t);let n=t.cellDeps.push(...e);return n=Ia(new Map(n.map(i=>[tY(i),i])).values()),t=cw(t,r.set("cellDeps",n.size-1)),t.set("cellDeps",n)}function ow(t){return sY(t.fixedEntries.sort((e,r)=>e.index-r.index).map(e=>[e.field,e.index]))}const nY=Ia(["cellDeps","headerDeps","inputs","outputs"]);function cw(t,e){return t.set("fixedEntries",nY.map(r=>Object.freeze({field:r,index:e[r]})).filter(({index:r})=>r>=0))}function dP(t){return t.inputs.size>0&&t.outputs.size>0}function iY(t){return $8.pack(Pu.createTransactionFromSkeleton(t)).byteLength+4}function aY(t,e){const r=1000n,n=BigInt(t)*e,i=n/r;return i*r<n?i+1n:i}const sY=hr({cellDeps:-1,headerDeps:-1,inputs:-1,outputs:-1}),hP="Encountered an input cell with blockNumber undefined";function YE(t,e,r,n){const i=[],a=[],s=[],o=n.defaultScript("DAO"),c=(f,u,l,h,g)=>Qt.from({...f,cellOutput:{lock:u,type:xn.from({...o,[ui]:h?[l,h]:[l],[zs]:g??o[zs]}),capacity:f.cellOutput.capacity},blockHash:l.hash});for(const f of t){const u=e(f);if(!u||!fw(f,n)){s.push(f);continue}if(!f.blockNumber)throw Error(hP);const l=r(f.blockNumber,f);if(f.data===hv)i.push(c(f,u,l));else{const h=r(Df(kd.unpack(f.data)),f),g=lv.calculateDaoEarliestSinceCompatible(h.epoch,l.epoch).toHexString();a.push(c(f,u,l,h,g))}}return{deposits:i,withdrawalRequests:a,notDaos:s}}const hv="0x0000000000000000";function fw(t,e){return En(t.cellOutput.type,e.defaultScript("DAO"))}function pP(t,e){return fw(t,e)&&t.data===hv}function bP(t,e){return fw(t,e)&&t.data!==hv}function oY(t,e,r,n){const i=Qt.from({lock:r,type:n.defaultScript("DAO"),data:hv}),a=e.map(s=>Qt.from({...i,capacity:Df(s)}));return Ta(t,"append",[],a)}const cY="Withdrawal request lock has different size";function fY(t,e,r){const n=[];for(const i of e){if(i.cellOutput.lock.args.length!=r.args.length)throw Error(cY);n.push(Qt.from({...i.cellOutput,lock:r,data:xf(kd.pack(BigInt(i.blockNumber)))}))}return Ta(t,"matched",e,n)}function uY(t,e){const r=[];for(const a of e)r.push(...a.cellOutput.type[ui].map(s=>s.hash));t=lP(t,...r);const n=[],i=new Map(t.headerDeps.map((a,s)=>[a,s]));for(const a of e){const s=a.cellOutput.type[ui][1];n.push(Qt.from({...a,type:xn.from({...a.cellOutput.type,[vu]:xf(kd.pack(i.get(s.hash)))})}))}return Ta(t,"append",n,[])}function lY(t,e){const r=_j(e),n=t.cellOutput.type[ui][0].epoch;return Vp(lv.calculateDaoEarliestSinceCompatible(n,r).toHexString())}function U6(t,e){let r=0n;for(const n of t.inputs)if(bP(n,e)){const i=n,[a,s]=i.cellOutput.type[ui],o=lv.calculateMaximumWithdraw(n,s.dao,a.dao);r+=o}else r+=BigInt(n.cellOutput.capacity);return t.outputs.forEach(n=>r-=BigInt(n.cellOutput.capacity)),r}function dY(t,e,r,n){let i=Qt.from({lock:e});const a=BigInt(i.cellOutput.capacity),s=Ta(t,"append",[],[i]),o=r(s),c=U6(s,n)-o;return c>0n?(i=Qt.from({...i,capacity:Df(a+c)}),t=Ta(t,"append",[],[i])):t=s,{tx:t,txFee:o,freeCkb:c}}const zy={prefix:String(Math.round(Math.random()*1e10)),current:0},gP=zr.createContext(zy),hY=zr.createContext(!1);let pY=!!(typeof window<"u"&&window.document&&window.document.createElement),m_=new WeakMap;function bY(t=!1){let e=pe.useContext(gP),r=pe.useRef(null);if(r.current===null&&!t){var n,i;let a=(i=zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(n=i.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(a){let s=m_.get(a);s==null?m_.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==s.state&&(e.current=s.id,m_.delete(a))}r.current=++e.current}return r.current}function gY(t){let e=pe.useContext(gP);e===zy&&!pY&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=bY(!!t),n=`react-aria${e.prefix}`;return t||`${n}-${r}`}function yY(t){let e=zr.useId(),[r]=pe.useState(AY()),n=r?"react-aria":`react-aria${zy.prefix}`;return t||`${n}-${e}`}const vY=typeof zr.useId=="function"?yY:gY;function mY(){return!1}function _Y(){return!0}function wY(t){return()=>{}}function AY(){return typeof zr.useSyncExternalStore=="function"?zr.useSyncExternalStore(wY,mY,_Y):pe.useContext(hY)}if(typeof HTMLTemplateElement<"u"){const t=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:t.call(this)}})}const EY=pe.createContext(!1);typeof DocumentFragment<"u"&&new DocumentFragment;function uw(t){let e=(r,n)=>pe.useContext(EY)?null:t(r,n);return e.displayName=t.displayName||t.name,pe.forwardRef(e)}const Mf=typeof document<"u"?zr.useLayoutEffect:()=>{};function pa(t){const e=pe.useRef(null);return Mf(()=>{e.current=t},[t]),pe.useCallback((...r)=>{const n=e.current;return n==null?void 0:n(...r)},[])}function xY(t){let[e,r]=pe.useState(t),n=pe.useRef(null),i=pa(()=>{if(!n.current)return;let s=n.current.next();if(s.done){n.current=null;return}e===s.value?i():r(s.value)});Mf(()=>{n.current&&i()});let a=pa(s=>{n.current=s(e),i()});return[e,a]}let SY=!!(typeof window<"u"&&window.document&&window.document.createElement),Bc=new Map;function qd(t){let[e,r]=pe.useState(t),n=pe.useRef(null),i=vY(e),a=pe.useCallback(s=>{n.current=s},[]);return SY&&(Bc.has(i)&&!Bc.get(i).includes(a)?Bc.set(i,[...Bc.get(i),a]):Bc.set(i,[a])),Mf(()=>{let s=i;return()=>{Bc.delete(s)}},[i]),pe.useEffect(()=>{let s=n.current;s&&(n.current=null,r(s))}),i}function CY(t,e){if(t===e)return t;let r=Bc.get(t);if(r)return r.forEach(i=>i(e)),e;let n=Bc.get(e);return n?(n.forEach(i=>i(t)),t):e}function GE(t=[]){let e=qd(),[r,n]=xY(e),i=pe.useCallback(()=>{n(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,n]);return Mf(i,[e,i,...t]),r}function lw(...t){return(...e)=>{for(let r of t)typeof r=="function"&&r(...e)}}const Oi=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},rs=t=>t&&"window"in t&&t.window===t?t:Oi(t).defaultView||window;function yP(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=yP(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function IY(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=yP(t))&&(n&&(n+=" "),n+=e);return n}function Ni(...t){let e={...t[0]};for(let r=1;r<t.length;r++){let n=t[r];for(let i in n){let a=e[i],s=n[i];typeof a=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?e[i]=lw(a,s):(i==="className"||i==="UNSAFE_className")&&typeof a=="string"&&typeof s=="string"?e[i]=IY(a,s):i==="id"&&a&&s?e.id=CY(a,s):e[i]=s!==void 0?s:a}}return e}function TY(...t){return t.length===1&&t[0]?t[0]:e=>{for(let r of t)typeof r=="function"?r(e):r!=null&&(r.current=e)}}const OY=new Set(["id"]),BY=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),DY=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),MY=/^(data-.*)$/;function pv(t,e={}){let{labelable:r,isLink:n,propNames:i}=e,a={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(OY.has(s)||r&&BY.has(s)||n&&DY.has(s)||i!=null&&i.has(s)||MY.test(s))&&(a[s]=t[s]);return a}function ru(t){if(PY())t.focus({preventScroll:!0});else{let e=RY(t);t.focus(),LY(e)}}let fg=null;function PY(){if(fg==null){fg=!1;try{document.createElement("div").focus({get preventScroll(){return fg=!0,!0}})}catch{}}return fg}function RY(t){let e=t.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==n;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function LY(t){for(let{element:e,scrollTop:r,scrollLeft:n}of t)e.scrollTop=r,e.scrollLeft=n}function bv(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(r=>t.test(r.brand)))||t.test(window.navigator.userAgent)}function dw(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Pf(t){let e=null;return()=>(e==null&&(e=t()),e)}const r1=Pf(function(){return dw(/^Mac/i)}),HY=Pf(function(){return dw(/^iPhone/i)}),vP=Pf(function(){return dw(/^iPad/i)||r1()&&navigator.maxTouchPoints>1}),mP=Pf(function(){return HY()||vP()}),NY=Pf(function(){return bv(/AppleWebKit/i)&&!$Y()}),$Y=Pf(function(){return bv(/Chrome/i)}),_P=Pf(function(){return bv(/Android/i)}),UY=Pf(function(){return bv(/Firefox/i)});function n1(t,e,r=!0){var n,i;let{metaKey:a,ctrlKey:s,altKey:o,shiftKey:c}=e;UY()&&(!((i=window.event)===null||i===void 0||(n=i.type)===null||n===void 0)&&n.startsWith("key"))&&t.target==="_blank"&&(r1()?a=!0:s=!0);let f=NY()&&r1()&&!vP()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:s,altKey:o,shiftKey:c}):new MouseEvent("click",{metaKey:a,ctrlKey:s,altKey:o,shiftKey:c,bubbles:!0,cancelable:!0});n1.isOpening=r,ru(t),t.dispatchEvent(f),n1.isOpening=!1}n1.isOpening=!1;let xl=new Map,k6=new Set;function WE(){if(typeof window>"u")return;function t(n){return"propertyName"in n}let e=n=>{if(!t(n)||!n.target)return;let i=xl.get(n.target);i||(i=new Set,xl.set(n.target,i),n.target.addEventListener("transitioncancel",r,{once:!0})),i.add(n.propertyName)},r=n=>{if(!t(n)||!n.target)return;let i=xl.get(n.target);if(i&&(i.delete(n.propertyName),i.size===0&&(n.target.removeEventListener("transitioncancel",r),xl.delete(n.target)),xl.size===0)){for(let a of k6)a();k6.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?WE():document.addEventListener("DOMContentLoaded",WE));function wP(t){requestAnimationFrame(()=>{xl.size===0?t():k6.add(t)})}function kY(){let t=pe.useRef(new Map),e=pe.useCallback((i,a,s,o)=>{let c=o!=null&&o.once?(...f)=>{t.current.delete(s),s(...f)}:s;t.current.set(s,{type:a,eventTarget:i,fn:c,options:o}),i.addEventListener(a,s,o)},[]),r=pe.useCallback((i,a,s,o)=>{var c;let f=((c=t.current.get(s))===null||c===void 0?void 0:c.fn)||s;i.removeEventListener(a,f,o),t.current.delete(s)},[]),n=pe.useCallback(()=>{t.current.forEach((i,a)=>{r(i.eventTarget,i.type,a,i.options)})},[r]);return pe.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function zY(t,e){let{id:r,"aria-label":n,"aria-labelledby":i}=t;return r=qd(r),i&&n?i=[...new Set([r,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!n&&!i&&e&&(n=e),{id:r,"aria-label":n,"aria-labelledby":i}}function FY(t){const e=pe.useRef(null);return pe.useMemo(()=>({get current(){return e.current},set current(r){e.current=r,typeof t=="function"?t(r):t&&(t.current=r)}}),[t])}function AP(t,e){Mf(()=>{if(t&&t.ref&&e)return t.ref.current=e.current,()=>{t.ref&&(t.ref.current=null)}})}function z6(t){return t.mozInputSource===0&&t.isTrusted?!0:_P()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function jY(t){return!_P()&&t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}function qY(t,e,r){let n=pe.useRef(e),i=pa(()=>{r&&r(n.current)});pe.useEffect(()=>{var a;let s=t==null||(a=t.current)===null||a===void 0?void 0:a.form;return s==null||s.addEventListener("reset",i),()=>{s==null||s.removeEventListener("reset",i)}},[t,i])}function EP(t,e,r){let[n,i]=pe.useState(t||e),a=pe.useRef(t!==void 0),s=t!==void 0;pe.useEffect(()=>{let f=a.current;f!==s&&console.warn(`WARN: A component changed from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),a.current=s},[s]);let o=s?t:n,c=pe.useCallback((f,...u)=>{let l=(h,...g)=>{r&&(Object.is(o,h)||r(h,...g)),s||(o=h)};typeof f=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((g,..._)=>{let A=f(s?o:g,..._);return l(A,...u),s?g:A})):(s||i(f),l(f,...u))},[s,o,r]);return[o,c]}const XE=Symbol("default");function KY({values:t,children:e}){for(let[r,n]of t)e=zr.createElement(r.Provider,{value:n},e);return e}function gv(t){let{className:e,style:r,children:n,defaultClassName:i,defaultChildren:a,defaultStyle:s,values:o}=t;return pe.useMemo(()=>{let c,f,u;return typeof e=="function"?c=e({...o,defaultClassName:i}):c=e,typeof r=="function"?f=r({...o,defaultStyle:s||{}}):f=r,typeof n=="function"?u=n({...o,defaultChildren:a}):n==null?u=a:u=n,{className:c??i,style:f||s?{...s,...f}:void 0,children:u??a,"data-rac":""}},[e,r,n,i,a,s,o])}function xP(t,e){let r=pe.useContext(t);if(e===null)return null;if(r&&typeof r=="object"&&"slots"in r&&r.slots){let n=new Intl.ListFormat().format(Object.keys(r.slots).map(a=>`"${a}"`));if(!e&&!r.slots[XE])throw new Error(`A slot prop is required. Valid slot names are ${n}.`);let i=e||XE;if(!r.slots[i])throw new Error(`Invalid slot "${e}". Valid slot names are ${n}.`);return r.slots[i]}return r}function rb(t,e,r){let n=xP(r,t.slot)||{},{ref:i,...a}=n,s=FY(pe.useMemo(()=>TY(e,i),[e,i])),o=Ni(a,t);return"style"in a&&a.style&&"style"in t&&t.style&&(typeof a.style=="function"||typeof t.style=="function"?o.style=c=>{let f=typeof a.style=="function"?a.style(c):a.style,u={...c.defaultStyle,...f},l=typeof t.style=="function"?t.style({...c,defaultStyle:u}):t.style;return{...u,...l}}:o.style={...a.style,...t.style}),[o,s]}function VY(){let[t,e]=pe.useState(!0),r=pe.useRef(!1),n=pe.useCallback(i=>{r.current=!0,e(!!i)},[]);return Mf(()=>{r.current||e(!1)},[]),[n,t]}function QY(t){const e=/^(data-.*)$/;let r={};for(const n in t)e.test(n)||(r[n]=t[n]);return r}let Ul="default",F6="",kg=new WeakMap;function ZE(t){if(mP()){if(Ul==="default"){const e=Oi(t);F6=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}Ul="disabled"}else(t instanceof HTMLElement||t instanceof SVGElement)&&(kg.set(t,t.style.userSelect),t.style.userSelect="none")}function ug(t){if(mP()){if(Ul!=="disabled")return;Ul="restoring",setTimeout(()=>{wP(()=>{if(Ul==="restoring"){const e=Oi(t);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=F6||""),F6="",Ul="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&kg.has(t)){let e=kg.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),kg.delete(t)}}const SP=zr.createContext({register:()=>{}});SP.displayName="PressResponderContext";function YY(t,e){return e.get?e.get.call(t):e.value}function CP(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function GY(t,e){var r=CP(t,e,"get");return YY(t,r)}function WY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XY(t,e,r){WY(t,e),e.set(t,r)}function ZY(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function JE(t,e,r){var n=CP(t,e,"set");return ZY(t,n,r),r}function JY(t){let e=pe.useContext(SP);if(e){let{register:r,...n}=e;t=Ni(n,t),r()}return AP(e,t.ref),t}var lg=new WeakMap;class dg{continuePropagation(){JE(this,lg,!1)}get shouldStopPropagation(){return GY(this,lg)}constructor(e,r,n,i){XY(this,lg,{writable:!0,value:void 0}),JE(this,lg,!0);var a;let s=(a=i==null?void 0:i.target)!==null&&a!==void 0?a:n.currentTarget;const o=s==null?void 0:s.getBoundingClientRect();let c,f=0,u,l=null;n.clientX!=null&&n.clientY!=null&&(u=n.clientX,l=n.clientY),o&&(u!=null&&l!=null?(c=u-o.left,f=l-o.top):(c=o.width/2,f=o.height/2)),this.type=e,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=c,this.y=f}}const ex=Symbol("linkClicked");function eG(t){let{onPress:e,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:s,isPressed:o,preventFocusOnPress:c,shouldCancelOnPointerExit:f,allowTextSelectionOnPress:u,ref:l,...h}=JY(t),[g,_]=pe.useState(!1),A=pe.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:C,removeAllGlobalListeners:w}=kY(),I=pa((D,Q)=>{let Y=A.current;if(s||Y.didFirePressStart)return!1;let M=!0;if(Y.isTriggeringEvent=!0,n){let m=new dg("pressstart",Q,D);n(m),M=m.shouldStopPropagation}return r&&r(!0),Y.isTriggeringEvent=!1,Y.didFirePressStart=!0,_(!0),M}),T=pa((D,Q,Y=!0)=>{let M=A.current;if(!M.didFirePressStart)return!1;M.ignoreClickAfterPress=!0,M.didFirePressStart=!1,M.isTriggeringEvent=!0;let m=!0;if(i){let x=new dg("pressend",Q,D);i(x),m=x.shouldStopPropagation}if(r&&r(!1),_(!1),e&&Y&&!s){let x=new dg("press",Q,D);e(x),m&&(m=x.shouldStopPropagation)}return M.isTriggeringEvent=!1,m}),R=pa((D,Q)=>{let Y=A.current;if(s)return!1;if(a){Y.isTriggeringEvent=!0;let M=new dg("pressup",Q,D);return a(M),Y.isTriggeringEvent=!1,M.shouldStopPropagation}return!0}),N=pa(D=>{let Q=A.current;Q.isPressed&&Q.target&&(Q.isOverTarget&&Q.pointerType!=null&&T(lo(Q.target,D),Q.pointerType,!1),Q.isPressed=!1,Q.isOverTarget=!1,Q.activePointerId=null,Q.pointerType=null,w(),u||ug(Q.target))}),K=pa(D=>{f&&N(D)}),V=pe.useMemo(()=>{let D=A.current,Q={onKeyDown(M){if(__(M.nativeEvent,M.currentTarget)&&M.currentTarget.contains(M.target)){var m;rx(M.target,M.key)&&M.preventDefault();let x=!0;if(!D.isPressed&&!M.repeat){D.target=M.currentTarget,D.isPressed=!0,x=I(M,"keyboard");let b=M.currentTarget,v=d=>{__(d,b)&&!d.repeat&&b.contains(d.target)&&D.target&&R(lo(D.target,d),"keyboard")};C(Oi(M.currentTarget),"keyup",lw(v,Y),!0)}x&&M.stopPropagation(),M.metaKey&&r1()&&((m=D.metaKeyEvents)===null||m===void 0||m.set(M.key,M.nativeEvent))}else M.key==="Meta"&&(D.metaKeyEvents=new Map)},onClick(M){if(!(M&&!M.currentTarget.contains(M.target))&&M&&M.button===0&&!D.isTriggeringEvent&&!n1.isOpening){let m=!0;if(s&&M.preventDefault(),!D.ignoreClickAfterPress&&!D.ignoreEmulatedMouseEvents&&!D.isPressed&&(D.pointerType==="virtual"||z6(M.nativeEvent))){!s&&!c&&ru(M.currentTarget);let x=I(M,"virtual"),b=R(M,"virtual"),v=T(M,"virtual");m=x&&b&&v}D.ignoreEmulatedMouseEvents=!1,D.ignoreClickAfterPress=!1,m&&M.stopPropagation()}}},Y=M=>{var m;if(D.isPressed&&D.target&&__(M,D.target)){var x;rx(M.target,M.key)&&M.preventDefault();let v=M.target;T(lo(D.target,M),"keyboard",D.target.contains(v)),w(),M.key!=="Enter"&&hw(D.target)&&D.target.contains(v)&&!M[ex]&&(M[ex]=!0,n1(D.target,M,!1)),D.isPressed=!1,(x=D.metaKeyEvents)===null||x===void 0||x.delete(M.key)}else if(M.key==="Meta"&&(!((m=D.metaKeyEvents)===null||m===void 0)&&m.size)){var b;let v=D.metaKeyEvents;D.metaKeyEvents=void 0;for(let d of v.values())(b=D.target)===null||b===void 0||b.dispatchEvent(new KeyboardEvent("keyup",d))}};if(typeof PointerEvent<"u"){Q.onPointerDown=v=>{if(v.button!==0||!v.currentTarget.contains(v.target))return;if(jY(v.nativeEvent)){D.pointerType="virtual";return}w_(v.currentTarget)&&v.preventDefault(),D.pointerType=v.pointerType;let d=!0;D.isPressed||(D.isPressed=!0,D.isOverTarget=!0,D.activePointerId=v.pointerId,D.target=v.currentTarget,!s&&!c&&ru(v.currentTarget),u||ZE(D.target),d=I(v,D.pointerType),C(Oi(v.currentTarget),"pointermove",M,!1),C(Oi(v.currentTarget),"pointerup",m,!1),C(Oi(v.currentTarget),"pointercancel",b,!1)),d&&v.stopPropagation()},Q.onMouseDown=v=>{v.currentTarget.contains(v.target)&&v.button===0&&(w_(v.currentTarget)&&v.preventDefault(),v.stopPropagation())},Q.onPointerUp=v=>{!v.currentTarget.contains(v.target)||D.pointerType==="virtual"||v.button===0&&pl(v,v.currentTarget)&&R(v,D.pointerType||v.pointerType)};let M=v=>{v.pointerId===D.activePointerId&&(D.target&&pl(v,D.target)?!D.isOverTarget&&D.pointerType!=null&&(D.isOverTarget=!0,I(lo(D.target,v),D.pointerType)):D.target&&D.isOverTarget&&D.pointerType!=null&&(D.isOverTarget=!1,T(lo(D.target,v),D.pointerType,!1),K(v)))},m=v=>{v.pointerId===D.activePointerId&&D.isPressed&&v.button===0&&D.target&&(pl(v,D.target)&&D.pointerType!=null?T(lo(D.target,v),D.pointerType):D.isOverTarget&&D.pointerType!=null&&T(lo(D.target,v),D.pointerType,!1),D.isPressed=!1,D.isOverTarget=!1,D.activePointerId=null,D.pointerType=null,w(),u||ug(D.target),"ontouchend"in D.target&&v.pointerType!=="mouse"&&C(D.target,"touchend",x,{once:!0}))},x=v=>{IP(v.currentTarget)&&v.preventDefault()},b=v=>{N(v)};Q.onDragStart=v=>{v.currentTarget.contains(v.target)&&N(v)}}else{Q.onMouseDown=x=>{if(x.button!==0||!x.currentTarget.contains(x.target))return;if(w_(x.currentTarget)&&x.preventDefault(),D.ignoreEmulatedMouseEvents){x.stopPropagation();return}D.isPressed=!0,D.isOverTarget=!0,D.target=x.currentTarget,D.pointerType=z6(x.nativeEvent)?"virtual":"mouse",!s&&!c&&ru(x.currentTarget),I(x,D.pointerType)&&x.stopPropagation(),C(Oi(x.currentTarget),"mouseup",M,!1)},Q.onMouseEnter=x=>{if(!x.currentTarget.contains(x.target))return;let b=!0;D.isPressed&&!D.ignoreEmulatedMouseEvents&&D.pointerType!=null&&(D.isOverTarget=!0,b=I(x,D.pointerType)),b&&x.stopPropagation()},Q.onMouseLeave=x=>{if(!x.currentTarget.contains(x.target))return;let b=!0;D.isPressed&&!D.ignoreEmulatedMouseEvents&&D.pointerType!=null&&(D.isOverTarget=!1,b=T(x,D.pointerType,!1),K(x)),b&&x.stopPropagation()},Q.onMouseUp=x=>{x.currentTarget.contains(x.target)&&!D.ignoreEmulatedMouseEvents&&x.button===0&&R(x,D.pointerType||"mouse")};let M=x=>{if(x.button===0){if(D.isPressed=!1,w(),D.ignoreEmulatedMouseEvents){D.ignoreEmulatedMouseEvents=!1;return}D.target&&pl(x,D.target)&&D.pointerType!=null?T(lo(D.target,x),D.pointerType):D.target&&D.isOverTarget&&D.pointerType!=null&&T(lo(D.target,x),D.pointerType,!1),D.isOverTarget=!1}};Q.onTouchStart=x=>{if(!x.currentTarget.contains(x.target))return;let b=tG(x.nativeEvent);if(!b)return;D.activePointerId=b.identifier,D.ignoreEmulatedMouseEvents=!0,D.isOverTarget=!0,D.isPressed=!0,D.target=x.currentTarget,D.pointerType="touch",!s&&!c&&ru(x.currentTarget),u||ZE(D.target),I(pc(D.target,x),D.pointerType)&&x.stopPropagation(),C(rs(x.currentTarget),"scroll",m,!0)},Q.onTouchMove=x=>{if(!x.currentTarget.contains(x.target))return;if(!D.isPressed){x.stopPropagation();return}let b=tx(x.nativeEvent,D.activePointerId),v=!0;b&&pl(b,x.currentTarget)?!D.isOverTarget&&D.pointerType!=null&&(D.isOverTarget=!0,v=I(pc(D.target,x),D.pointerType)):D.isOverTarget&&D.pointerType!=null&&(D.isOverTarget=!1,v=T(pc(D.target,x),D.pointerType,!1),K(pc(D.target,x))),v&&x.stopPropagation()},Q.onTouchEnd=x=>{if(!x.currentTarget.contains(x.target))return;if(!D.isPressed){x.stopPropagation();return}let b=tx(x.nativeEvent,D.activePointerId),v=!0;b&&pl(b,x.currentTarget)&&D.pointerType!=null?(R(pc(D.target,x),D.pointerType),v=T(pc(D.target,x),D.pointerType)):D.isOverTarget&&D.pointerType!=null&&(v=T(pc(D.target,x),D.pointerType,!1)),v&&x.stopPropagation(),D.isPressed=!1,D.activePointerId=null,D.isOverTarget=!1,D.ignoreEmulatedMouseEvents=!0,D.target&&!u&&ug(D.target),w()},Q.onTouchCancel=x=>{x.currentTarget.contains(x.target)&&(x.stopPropagation(),D.isPressed&&N(pc(D.target,x)))};let m=x=>{D.isPressed&&x.target.contains(D.target)&&N({currentTarget:D.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};Q.onDragStart=x=>{x.currentTarget.contains(x.target)&&N(x)}}return Q},[C,s,c,w,u,N,K,T,I,R]);return pe.useEffect(()=>()=>{var D;u||ug((D=A.current.target)!==null&&D!==void 0?D:void 0)},[u]),{isPressed:o||g,pressProps:Ni(h,V)}}function hw(t){return t.tagName==="A"&&t.hasAttribute("href")}function __(t,e){const{key:r,code:n}=t,i=e,a=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(i instanceof rs(i).HTMLInputElement&&!TP(i,r)||i instanceof rs(i).HTMLTextAreaElement||i.isContentEditable)&&!((a==="link"||!a&&hw(i))&&r!=="Enter")}function tG(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function tx(t,e){const r=t.changedTouches;for(let n=0;n<r.length;n++){const i=r[n];if(i.identifier===e)return i}return null}function pc(t,e){let r=0,n=0;return e.targetTouches&&e.targetTouches.length===1&&(r=e.targetTouches[0].clientX,n=e.targetTouches[0].clientY),{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,clientX:r,clientY:n}}function lo(t,e){let r=e.clientX,n=e.clientY;return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,clientX:r,clientY:n}}function rG(t){let e=0,r=0;return t.width!==void 0?e=t.width/2:t.radiusX!==void 0&&(e=t.radiusX),t.height!==void 0?r=t.height/2:t.radiusY!==void 0&&(r=t.radiusY),{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function nG(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function pl(t,e){let r=e.getBoundingClientRect(),n=rG(t);return nG(r,n)}function w_(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function IP(t){return t instanceof HTMLInputElement?!1:t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!hw(t)}function rx(t,e){return t instanceof HTMLInputElement?!TP(t,e):IP(t)}const iG=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function TP(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":iG.has(t.type)}class aG{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}}function OP(t){let e=pe.useRef({isFocused:!1,observer:null});Mf(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=pa(n=>{t==null||t(n)});return pe.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,a=s=>{e.current.isFocused=!1,i.disabled&&r(new aG("blur",s)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function BP(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const a=pe.useCallback(c=>{if(c.target===c.currentTarget)return n&&n(c),i&&i(!1),!0},[n,i]),s=OP(a),o=pe.useCallback(c=>{const f=Oi(c.target);c.target===c.currentTarget&&f.activeElement===c.target&&(r&&r(c),i&&i(!0),s(c))},[i,r,s]);return{focusProps:{onFocus:!e&&(r||i||n)?o:void 0,onBlur:!e&&(n||i)?a:void 0}}}let Zu=null,j6=new Set,wp=new Map,Lu=!1,q6=!1;const sG={Tab:!0,Escape:!0};function yv(t,e){for(let r of j6)r(t,e)}function oG(t){return!(t.metaKey||!r1()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Fy(t){Lu=!0,oG(t)&&(Zu="keyboard",yv("keyboard",t))}function la(t){Zu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Lu=!0,yv("pointer",t))}function DP(t){z6(t)&&(Lu=!0,Zu="virtual")}function MP(t){t.target===window||t.target===document||(!Lu&&!q6&&(Zu="virtual",yv("virtual",t)),Lu=!1,q6=!1)}function PP(){Lu=!1,q6=!0}function K6(t){if(typeof window>"u"||wp.get(rs(t)))return;const e=rs(t),r=Oi(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Lu=!0,n.apply(this,arguments)},r.addEventListener("keydown",Fy,!0),r.addEventListener("keyup",Fy,!0),r.addEventListener("click",DP,!0),e.addEventListener("focus",MP,!0),e.addEventListener("blur",PP,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",la,!0),r.addEventListener("pointermove",la,!0),r.addEventListener("pointerup",la,!0)):(r.addEventListener("mousedown",la,!0),r.addEventListener("mousemove",la,!0),r.addEventListener("mouseup",la,!0)),e.addEventListener("beforeunload",()=>{RP(t)},{once:!0}),wp.set(e,{focus:n})}const RP=(t,e)=>{const r=rs(t),n=Oi(t);e&&n.removeEventListener("DOMContentLoaded",e),wp.has(r)&&(r.HTMLElement.prototype.focus=wp.get(r).focus,n.removeEventListener("keydown",Fy,!0),n.removeEventListener("keyup",Fy,!0),n.removeEventListener("click",DP,!0),r.removeEventListener("focus",MP,!0),r.removeEventListener("blur",PP,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",la,!0),n.removeEventListener("pointermove",la,!0),n.removeEventListener("pointerup",la,!0)):(n.removeEventListener("mousedown",la,!0),n.removeEventListener("mousemove",la,!0),n.removeEventListener("mouseup",la,!0)),wp.delete(r))};function cG(t){const e=Oi(t);let r;return e.readyState!=="loading"?K6(t):(r=()=>{K6(t)},e.addEventListener("DOMContentLoaded",r)),()=>RP(t,r)}typeof document<"u"&&cG();function LP(){return Zu!=="pointer"}function fG(){return Zu}function uG(t){Zu=t,yv(t,null)}const lG=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function dG(t,e,r){var n;const i=typeof window<"u"?rs(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?rs(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?rs(r==null?void 0:r.target).HTMLElement:HTMLElement,o=typeof window<"u"?rs(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return t=t||(r==null?void 0:r.target)instanceof i&&!lG.has(r==null||(n=r.target)===null||n===void 0?void 0:n.type)||(r==null?void 0:r.target)instanceof a||(r==null?void 0:r.target)instanceof s&&(r==null?void 0:r.target.isContentEditable),!(t&&e==="keyboard"&&r instanceof o&&!sG[r.key])}function hG(t,e,r){K6(),pe.useEffect(()=>{let n=(i,a)=>{dG(!!(r!=null&&r.isTextInput),i,a)&&t(LP())};return j6.add(n),()=>{j6.delete(n)}},e)}function pG(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,a=pe.useRef({isFocusWithin:!1}),s=pe.useCallback(f=>{a.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(a.current.isFocusWithin=!1,r&&r(f),i&&i(!1))},[r,i,a]),o=OP(s),c=pe.useCallback(f=>{!a.current.isFocusWithin&&document.activeElement===f.target&&(n&&n(f),i&&i(!0),a.current.isFocusWithin=!0,o(f))},[n,i,o]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:s}}}let jy=!1,A_=0;function V6(){jy=!0,setTimeout(()=>{jy=!1},50)}function nx(t){t.pointerType==="touch"&&V6()}function bG(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",nx):document.addEventListener("touchend",V6),A_++,()=>{A_--,!(A_>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",nx):document.removeEventListener("touchend",V6))}}function pw(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[a,s]=pe.useState(!1),o=pe.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;pe.useEffect(bG,[]);let{hoverProps:c,triggerHoverEnd:f}=pe.useMemo(()=>{let u=(g,_)=>{if(o.pointerType=_,i||_==="touch"||o.isHovered||!g.currentTarget.contains(g.target))return;o.isHovered=!0;let A=g.currentTarget;o.target=A,e&&e({type:"hoverstart",target:A,pointerType:_}),r&&r(!0),s(!0)},l=(g,_)=>{if(o.pointerType="",o.target=null,_==="touch"||!o.isHovered)return;o.isHovered=!1;let A=g.currentTarget;n&&n({type:"hoverend",target:A,pointerType:_}),r&&r(!1),s(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=g=>{jy&&g.pointerType==="mouse"||u(g,g.pointerType)},h.onPointerLeave=g=>{!i&&g.currentTarget.contains(g.target)&&l(g,g.pointerType)}):(h.onTouchStart=()=>{o.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=g=>{!o.ignoreEmulatedMouseEvents&&!jy&&u(g,"mouse"),o.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=g=>{!i&&g.currentTarget.contains(g.target)&&l(g,"mouse")}),{hoverProps:h,triggerHoverEnd:l}},[e,r,n,i,o]);return pe.useEffect(()=>{i&&f({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:c,isHovered:a}}function ix(t){if(!t)return;let e=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){e=!1}};t(n),e&&r.stopPropagation()}}function gG(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:ix(t.onKeyDown),onKeyUp:ix(t.onKeyUp)}}}function yG(t){const e=Oi(t);if(fG()==="virtual"){let r=e.activeElement;wP(()=>{e.activeElement===r&&t.isConnected&&ru(t)})}else ru(t)}function bw(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=pe.useRef({isFocused:!1,isFocusVisible:e||LP()}),[a,s]=pe.useState(!1),[o,c]=pe.useState(()=>i.current.isFocused&&i.current.isFocusVisible),f=pe.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),u=pe.useCallback(g=>{i.current.isFocused=g,s(g),f()},[f]);hG(g=>{i.current.isFocusVisible=g,f()},[],{isTextInput:r});let{focusProps:l}=BP({isDisabled:n,onFocusChange:u}),{focusWithinProps:h}=pG({isDisabled:!n,onFocusWithinChange:u});return{isFocused:a,isFocusVisible:o,focusProps:n?h:l}}let vG=zr.createContext(null);function mG(t){let e=pe.useContext(vG)||{};AP(e,t);let{ref:r,...n}=e;return n}function HP(t,e){let{focusProps:r}=BP(t),{keyboardProps:n}=gG(t),i=Ni(r,n),a=mG(e),s=t.isDisabled?{}:a,o=pe.useRef(t.autoFocus);return pe.useEffect(()=>{o.current&&e.current&&yG(e.current),o.current=!1},[e]),{focusableProps:Ni({...i,tabIndex:t.excludeFromTabOrder&&!t.isDisabled?-1:void 0},s)}}function NP(t,e){let{elementType:r="button",isDisabled:n,onPress:i,onPressStart:a,onPressEnd:s,onPressUp:o,onPressChange:c,preventFocusOnPress:f,allowFocusWhenDisabled:u,onClick:l,href:h,target:g,rel:_,type:A="button"}=t,C;r==="button"?C={type:A,disabled:n}:C={role:"button",tabIndex:n?void 0:0,href:r==="a"&&n?void 0:h,target:r==="a"?g:void 0,type:r==="input"?A:void 0,disabled:r==="input"?n:void 0,"aria-disabled":!n||r==="input"?void 0:n,rel:r==="a"?_:void 0};let{pressProps:w,isPressed:I}=eG({onPressStart:a,onPressEnd:s,onPressChange:c,onPress:i,onPressUp:o,isDisabled:n,preventFocusOnPress:f,ref:e}),{focusableProps:T}=HP(t,e);u&&(T.tabIndex=n?-1:T.tabIndex);let R=Ni(T,w,pv(t,{labelable:!0}));return{isPressed:I,buttonProps:Ni(C,R,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],onClick:N=>{l&&(l(N),console.warn("onClick is deprecated, please use onPress"))}})}}function _G(t,e,r){const{isSelected:n}=e,{isPressed:i,buttonProps:a}=NP({...t,onPress:lw(e.toggle,t.onPress)},r);return{isPressed:i,buttonProps:Ni(a,{"aria-pressed":n})}}const $P=7e3;let ws=null;function ax(t,e="assertive",r=$P){ws?ws.announce(t,e,r):(ws=new wG,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?ws.announce(t,e,r):setTimeout(()=>{ws!=null&&ws.isAttached()&&(ws==null||ws.announce(t,e,r))},100))}class wG{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let r=document.createElement("div");return r.setAttribute("role","log"),r.setAttribute("aria-live",e),r.setAttribute("aria-relevant","additions"),r}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,r="assertive",n=$P){var i,a;if(!this.node)return;let s=document.createElement("div");typeof e=="object"?(s.setAttribute("role","img"),s.setAttribute("aria-labelledby",e["aria-labelledby"])):s.textContent=e,r==="assertive"?(i=this.assertiveLog)===null||i===void 0||i.appendChild(s):(a=this.politeLog)===null||a===void 0||a.appendChild(s),e!==""&&setTimeout(()=>{s.remove()},n)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}function AG(t,e,r){let{validationBehavior:n,focus:i}=t;Mf(()=>{if(n==="native"&&(r!=null&&r.current)){let c=e.realtimeValidation.isInvalid?e.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";r.current.setCustomValidity(c),r.current.hasAttribute("title")||(r.current.title=""),e.realtimeValidation.isInvalid||e.updateValidation(xG(r.current))}});let a=pa(()=>{e.resetValidation()}),s=pa(c=>{var f;e.displayValidation.isInvalid||e.commitValidation();let u=r==null||(f=r.current)===null||f===void 0?void 0:f.form;if(!c.defaultPrevented&&r&&u&&SG(u)===r.current){var l;i?i():(l=r.current)===null||l===void 0||l.focus(),uG("keyboard")}c.preventDefault()}),o=pa(()=>{e.commitValidation()});pe.useEffect(()=>{let c=r==null?void 0:r.current;if(!c)return;let f=c.form;return c.addEventListener("invalid",s),c.addEventListener("change",o),f==null||f.addEventListener("reset",a),()=>{c.removeEventListener("invalid",s),c.removeEventListener("change",o),f==null||f.removeEventListener("reset",a)}},[r,s,o,a,n])}function EG(t){let e=t.validity;return{badInput:e.badInput,customError:e.customError,patternMismatch:e.patternMismatch,rangeOverflow:e.rangeOverflow,rangeUnderflow:e.rangeUnderflow,stepMismatch:e.stepMismatch,tooLong:e.tooLong,tooShort:e.tooShort,typeMismatch:e.typeMismatch,valueMissing:e.valueMissing,valid:e.valid}}function xG(t){return{isInvalid:!t.validity.valid,validationDetails:EG(t),validationErrors:t.validationMessage?[t.validationMessage]:[]}}function SG(t){for(let e=0;e<t.elements.length;e++){let r=t.elements[e];if(!r.validity.valid)return r}return null}const UP={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},kP={...UP,customError:!0,valid:!1},_h={isInvalid:!1,validationDetails:UP,validationErrors:[]},CG=pe.createContext({}),sx="__formValidationState"+Date.now();function IG(t){if(t[sx]){let{realtimeValidation:e,displayValidation:r,updateValidation:n,resetValidation:i,commitValidation:a}=t[sx];return{realtimeValidation:e,displayValidation:r,updateValidation:n,resetValidation:i,commitValidation:a}}return TG(t)}function TG(t){let{isInvalid:e,validationState:r,name:n,value:i,builtinValidation:a,validate:s,validationBehavior:o="aria"}=t;r&&(e||(e=r==="invalid"));let c=e!==void 0?{isInvalid:e,validationErrors:[],validationDetails:kP}:null,f=pe.useMemo(()=>ox(OG(s,i)),[s,i]);a!=null&&a.validationDetails.valid&&(a=null);let u=pe.useContext(CG),l=pe.useMemo(()=>n?Array.isArray(n)?n.flatMap(Y=>Q6(u[Y])):Q6(u[n]):[],[u,n]),[h,g]=pe.useState(u),[_,A]=pe.useState(!1);u!==h&&(g(u),A(!1));let C=pe.useMemo(()=>ox(_?[]:l),[_,l]),w=pe.useRef(_h),[I,T]=pe.useState(_h),R=pe.useRef(_h),N=()=>{if(!K)return;V(!1);let Y=f||a||w.current;E_(Y,R.current)||(R.current=Y,T(Y))},[K,V]=pe.useState(!1);return pe.useEffect(N),{realtimeValidation:c||C||f||a||_h,displayValidation:o==="native"?c||C||I:c||C||f||a||I,updateValidation(Y){o==="aria"&&!E_(I,Y)?T(Y):w.current=Y},resetValidation(){let Y=_h;E_(Y,R.current)||(R.current=Y,T(Y)),o==="native"&&V(!1),A(!0)},commitValidation(){o==="native"&&V(!0),A(!0)}}}function Q6(t){return t?Array.isArray(t)?t:[t]:[]}function OG(t,e){if(typeof t=="function"){let r=t(e);if(r&&typeof r!="boolean")return Q6(r)}return[]}function ox(t){return t.length?{isInvalid:!0,validationErrors:t,validationDetails:kP}:null}function E_(t,e){return t===e?!0:t&&e&&t.isInvalid===e.isInvalid&&t.validationErrors.length===e.validationErrors.length&&t.validationErrors.every((r,n)=>r===e.validationErrors[n])&&Object.entries(t.validationDetails).every(([r,n])=>e.validationDetails[r]===n)}function BG(t){let{id:e,label:r,"aria-labelledby":n,"aria-label":i,labelElementType:a="label"}=t;e=qd(e);let s=qd(),o={};r?(n=n?`${s} ${n}`:s,o={id:s,htmlFor:a==="label"?e:void 0}):!n&&!i&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");let c=zY({id:e,"aria-label":i,"aria-labelledby":n});return{labelProps:o,fieldProps:c}}function DG(t){let{description:e,errorMessage:r,isInvalid:n,validationState:i}=t,{labelProps:a,fieldProps:s}=BG(t),o=GE([!!e,!!r,n,i]),c=GE([!!e,!!r,n,i]);return s=Ni(s,{"aria-describedby":[o,c,t["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:a,fieldProps:s,descriptionProps:{id:o},errorMessageProps:{id:c}}}function MG(t={}){let{isReadOnly:e}=t,[r,n]=EP(t.isSelected,t.defaultSelected||!1,t.onChange);function i(s){e||n(s)}function a(){e||n(!r)}return{isSelected:r,setSelected:i,toggle:a}}function PG(t,e){let{inputElementType:r="input",isDisabled:n=!1,isRequired:i=!1,isReadOnly:a=!1,type:s="text",validationBehavior:o="aria"}=t,[c,f]=EP(t.value,t.defaultValue||"",t.onChange),{focusableProps:u}=HP(t,e),l=IG({...t,value:c}),{isInvalid:h,validationErrors:g,validationDetails:_}=l.displayValidation,{labelProps:A,fieldProps:C,descriptionProps:w,errorMessageProps:I}=DG({...t,isInvalid:h,errorMessage:t.errorMessage||g}),T=pv(t,{labelable:!0});const R={type:s,pattern:t.pattern};return qY(e,c,f),AG(t,l,e),pe.useEffect(()=>{if(e.current instanceof rs(e.current).HTMLTextAreaElement){let N=e.current;Object.defineProperty(N,"defaultValue",{get:()=>N.value,set:()=>{},configurable:!0})}},[e]),{labelProps:A,inputProps:Ni(T,r==="input"?R:void 0,{disabled:n,readOnly:a,required:i&&o==="native","aria-required":i&&o==="aria"||void 0,"aria-invalid":h||void 0,"aria-errormessage":t["aria-errormessage"],"aria-activedescendant":t["aria-activedescendant"],"aria-autocomplete":t["aria-autocomplete"],"aria-haspopup":t["aria-haspopup"],value:c,onChange:N=>f(N.target.value),autoComplete:t.autoComplete,autoCapitalize:t.autoCapitalize,maxLength:t.maxLength,minLength:t.minLength,name:t.name,placeholder:t.placeholder,inputMode:t.inputMode,onCopy:t.onCopy,onCut:t.onCut,onPaste:t.onPaste,onCompositionEnd:t.onCompositionEnd,onCompositionStart:t.onCompositionStart,onCompositionUpdate:t.onCompositionUpdate,onSelect:t.onSelect,onBeforeInput:t.onBeforeInput,onInput:t.onInput,...u,...C}),descriptionProps:w,errorMessageProps:I,isInvalid:h,validationErrors:g,validationDetails:_}}const zP=pe.createContext({});function RG(t,e){[t,e]=rb(t,e,zP);let{elementType:r="label",...n}=t;return zr.createElement(r,{className:"react-aria-Label",...n,ref:e})}const LG=uw(RG),HG=pe.createContext(null),NG=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),$G=pe.createContext({});function UG(t,e){[t,e]=rb(t,e,$G),t=kG(t);let r=t,{isPending:n}=r,{buttonProps:i,isPressed:a}=NP(t,e),{focusProps:s,isFocused:o,isFocusVisible:c}=bw(t),{hoverProps:f,isHovered:u}=pw({...t,isDisabled:t.isDisabled||n}),l={isHovered:u,isPressed:(r.isPressed||a)&&!n,isFocused:o,isFocusVisible:c,isDisabled:t.isDisabled||!1,isPending:n??!1},h=gv({...t,values:l,defaultClassName:"react-aria-Button"}),g=qd(i.id),_=qd(),A=i["aria-labelledby"];n&&(A?A=`${A} ${_}`:i["aria-label"]&&(A=`${g} ${_}`));let C=pe.useRef(n);return pe.useEffect(()=>{let w={"aria-labelledby":A||g};(!C.current&&o&&n||C.current&&o&&!n)&&ax(w,"assertive"),C.current=n},[n,o,A,g]),zr.createElement("button",{...pv(t,{propNames:NG}),...Ni(i,s,f),...h,id:g,ref:e,"aria-labelledby":A,slot:t.slot||void 0,"aria-disabled":n?"true":i["aria-disabled"],"data-disabled":t.isDisabled||void 0,"data-pressed":l.isPressed||void 0,"data-hovered":u||void 0,"data-focused":o||void 0,"data-pending":n||void 0,"data-focus-visible":c||void 0},zr.createElement(HG.Provider,{value:{id:_}},h.children))}function kG(t){return t.isPending&&(t.onPress=void 0,t.onPressStart=void 0,t.onPressEnd=void 0,t.onPressChange=void 0,t.onPressUp=void 0,t.onKeyDown=void 0,t.onKeyUp=void 0,t.onClick=void 0,t.href=void 0),t}const zg=uw(UG),zG=pe.createContext({}),FG=pe.createContext(null),jG=pe.createContext(null),FP=pe.createContext({});let qG=t=>{let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,...i}=t;return i};function KG(t,e){[t,e]=rb(t,e,FP);let{hoverProps:r,isHovered:n}=pw(t),{isFocused:i,isFocusVisible:a,focusProps:s}=bw({isTextInput:!0,autoFocus:t.autoFocus}),o=!!t["aria-invalid"]&&t["aria-invalid"]!=="false",c=gv({...t,values:{isHovered:n,isFocused:i,isFocusVisible:a,isDisabled:t.disabled||!1,isInvalid:o},defaultClassName:"react-aria-Input"});return zr.createElement("input",{...Ni(qG(t),s,r),...c,ref:e,"data-focused":i||void 0,"data-disabled":t.disabled||void 0,"data-hovered":n||void 0,"data-focus-visible":a||void 0,"data-invalid":o||void 0})}const VG=uw(KG),QG=pe.createContext({}),YG=pe.createContext(null);function GG(t,e){[t,e]=rb(t,e,YG);let{validationBehavior:r}=xP(jG)||{};var n,i;let a=(i=(n=t.validationBehavior)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:"native",s=pe.useRef(null),[o,c]=VY(),[f,u]=pe.useState("input"),{labelProps:l,inputProps:h,descriptionProps:g,errorMessageProps:_,...A}=PG({...QY(t),inputElementType:f,label:c,validationBehavior:a},s),C=pe.useCallback(T=>{s.current=T,T&&u(T instanceof HTMLTextAreaElement?"textarea":"input")},[]),w=gv({...t,values:{isDisabled:t.isDisabled||!1,isInvalid:A.isInvalid,isReadOnly:t.isReadOnly||!1,isRequired:t.isRequired||!1},defaultClassName:"react-aria-TextField"}),I=pv(t);return delete I.id,zr.createElement("div",{...I,...w,ref:e,slot:t.slot||void 0,"data-disabled":t.isDisabled||void 0,"data-invalid":A.isInvalid||void 0,"data-readonly":t.isReadOnly||void 0,"data-required":t.isRequired||void 0},zr.createElement(KY,{values:[[zP,{...l,ref:o}],[FP,{...h,ref:C}],[QG,{...h,ref:C}],[zG,{slots:{description:g,errorMessage:_}}],[FG,A]]},w.children))}const WG=pe.forwardRef(GG),XG=pe.createContext({});function ZG(t,e){[t,e]=rb(t,e,XG);let r=MG(t),{buttonProps:n,isPressed:i}=_G(t,r,e),{focusProps:a,isFocused:s,isFocusVisible:o}=bw(t),{hoverProps:c,isHovered:f}=pw(t),u=gv({...t,values:{isHovered:f,isPressed:i,isFocused:s,isSelected:r.isSelected,isFocusVisible:o,isDisabled:t.isDisabled||!1,state:r},defaultClassName:"react-aria-ToggleButton"});return zr.createElement("button",{...Ni(n,a,c),...u,ref:e,slot:t.slot||void 0,"data-focused":s||void 0,"data-disabled":t.isDisabled||void 0,"data-pressed":i||void 0,"data-selected":r.isSelected||void 0,"data-hovered":f||void 0,"data-focus-visible":o||void 0})}const cx=pe.forwardRef(ZG);function JG(){const t=p0.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=xe.jsx(xe.Fragment,{children:xe.jsxs("h1",{className:"flex flex-row items-center justify-center pb-4 text-5xl font-medium text-slate-200",children:[xe.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),xe.jsx("span",{children:"iCKB DApp"}),xe.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"})]})}),t[0]=e):e=t[0],e}function eW({isFrozen:t,ckbBalance:e,ickbUdtBalance:r,formSetMax:n,walletConfig:i}){const{chain:a,address:s}=i,o=Math.floor(s.length/2),c=`https://${a!=="mainnet"?"pudge.":""}explorer.nervos.org/address/${s}`;return xe.jsxs("h1",{children:[xe.jsxs(zg,{isDisabled:t,className:"mb-2 flex w-full flex-row items-center justify-center rounded-2xl text-3xl font-medium text-slate-200",onPress:()=>window.open(c,"_blank"),children:[xe.jsx("span",{className:"mr-2 text-5xl text-amber-400",children:"{"}),xe.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",children:s.slice(0,o)}),xe.jsx("span",{children:"..."}),xe.jsx("span",{style:{direction:"rtl"},className:"w-full overflow-hidden whitespace-nowrap",children:s.slice(s.length-o)}),xe.jsx("span",{className:"ml-2 text-5xl text-amber-400",children:"}"})]}),e>=0n&&r>=0n?xe.jsxs("div",{className:"-mt-4 flex w-full flex-auto items-center justify-center space-x-4 px-8 text-center align-middle font-medium text-slate-300",children:[xe.jsxs(zg,{isDisabled:t,className:"text-s h-min-12 w-full rounded px-8 font-bold uppercase leading-relaxed tracking-wider",onPress:()=>n(!0),children:[fx(e)," CKB"]}),xe.jsx("span",{className:"px-4",children:"&"}),xe.jsxs(zg,{isDisabled:t,className:"text-s h-min-12 w-full rounded px-8 font-bold uppercase leading-relaxed tracking-wider",onPress:()=>n(!1),children:[fx(r)," iCKB"]})]}):void 0]})}function fx(t){return String(t/oi)}function jP(t){return t==="C"}function Fg(t){return t?"C":"I"}function tW(t){let e=0;for(;e<t.length;e++){const a=t[e];if("1"<=a&&a<="9")break}let r="";const n=[];for(;e<t.length;e++){const a=t[e];if("0"<=a&&a<="9")n.push(a);else if(a=="."){r=".";break}}const i=[];for(;e<t.length&&i.length<8;e++){const a=t[e];"0"<=a&&a<="9"&&i.push(a)}return[n,[r],i].flat().join("")}function Kd(t){return String(t/oi)+String(Number(t%oi)/Number(oi)).slice(1)}function rW(t){const[e,...r]=t.split(".");return BigInt((e??"0")+((r??[]).join("")+"00000000").slice(0,8))}function qP(t,e){const r=Y8(e.epoch),n=t.reduce((a,s)=>dv(a,s)===-1?s:a),i=n.index/n.length-r.index/r.length+n.number-r.number;return i<=.375?`${String(1+Math.ceil(i*4*60))} minutes`:i<=6?`${String(1+Math.ceil(i*4))} hours`:`${String(1+Math.ceil(i/6))} days`}function ci({tx:t=Pu.TransactionSkeleton(),calculateFee:e=i=>{throw Error("calculateFee not populated")},info:r=[],error:n=""}){n.length>0&&(t=Pu.TransactionSkeleton());const i=!dP(t)&&r.length===0&&n.length===0;return Object.freeze({tx:t,calculateFee:e,info:Object.freeze(r),error:n,isEmpty:i})}const{union:nW,struct:Ju}=ot.molecule;function iW(t){return ot.createFixedBytesCodec({pack:ot.bytes.bytify,unpack:ot.bytes.hexify,byteLength:t})}const aW=iW(32),KP=Ju({depositQuantity:vK,depositAmount:kd},["depositQuantity","depositAmount"]),VP=Ju({ownedDistance:KD},["ownedDistance"]),ux=Ju({ckbMultiplier:kd,udtMultiplier:kd},["ckbMultiplier","udtMultiplier"]),QP=Ju({ckbToUdt:ux,udtToCkb:ux,ckbMinMatchLog:yK},["ckbToUdt","udtToCkb","ckbMinMatchLog"]),sW=Ju({padding:aW,masterDistance:KD,orderInfo:QP},["padding","masterDistance","orderInfo"]),oW=Ju({masterOutpoint:mK,orderInfo:QP},["masterOutpoint","orderInfo"]),lx=nW({MintOrderData:sW,MatchOrderData:oW},["MintOrderData","MatchOrderData"]),Kh=Ju({udtAmount:R6},["udtAmount"]),gw=ot.createBytesCodec({pack:t=>ot.bytes.concat(Kh.pack(t),lx.pack(t)),unpack:t=>{const e=t.slice(0,Kh.byteLength),r=t.slice(Kh.byteLength),n=Kh.unpack(e),i=lx.unpack(r);return{...n,...i}}}),cW=[{name:"ICKB_LOGIC",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null},{name:"XUDT",tx_hash:"0x80930f4b12169ce124840aeb42a9d3105d592584382e95d1ada111da8347e337",index:3,occupied_capacity:33757e8,data_hash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",type_id:null}],fW=[{name:"ickb_dep_group",tx_hash:"0x0152f73978779b99eb5aeed9ae9879a7004bd7c69fd858da443b535cb2c9df1d",index:0,data_hash:"0xb208b98b17ff0f740464299171f2285cbd4dcf6792a4058a9ff365eed15e19e3",occupied_capacity:353e8}],uW={cell_recipes:cW,dep_group_recipes:fW},lW=[{name:"ICKB_LOGIC",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0x9ac989b3355764f76cdce02c69dedb819fdfbcbda49a7db1a2c9facdfdb9a7fe",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],dW=[{name:"ickb_dep_group",tx_hash:"0xf7ece4fb33d8378344cab11fcd6a4c6f382fd4207ac921cf5821f30712dcd311",index:0,data_hash:"0x8d3a9737808fc4a3c7f9e554be9045333c5082bf3b82f8a33873c367a2b2307f",occupied_capacity:353e8}],hW={cell_recipes:lW,dep_group_recipes:dW},pW=[{name:"ICKB_LOGIC",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:0,occupied_capacity:54717e8,data_hash:"0x2a8100ab5990fa055ab1b50891702e1e895c7bd1df6322cd725c1a6115873bd3",type_id:null},{name:"LIMIT_ORDER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:1,occupied_capacity:34261e8,data_hash:"0x49dfb6afee5cc8ac4225aeea8cb8928b150caf3cd92fea33750683c74b13254a",type_id:null},{name:"OWNED_OWNER",tx_hash:"0xd7309191381f5a8a2904b8a79958a9be2752dbba6871fa193dab6aeb29dc8f44",index:2,occupied_capacity:27981e8,data_hash:"0xacc79e07d107831feef4c70c9e683dac5644d5993b9cb106dca6e74baa381bd0",type_id:null}],bW=[{name:"ickb_dep_group",tx_hash:"0x621a6f38de3b9f453016780edac3b26bfcbfa3e2ecb47c2da275471a5d3ed165",index:0,data_hash:"0x94d59795c742dfb381c8e8d8beee0362d0bf8f8921212ed15f87acd89a3ce78b",occupied_capacity:353e8}],gW={cell_recipes:pW,dep_group_recipes:bW},yW="The requested script is missing in the old config";function YP(t,e){const{cell_recipes:r,dep_group_recipes:n}=t==="mainnet"?gW:t==="testnet"?hW:uW,{tx_hash:i,index:a}=n[0],s=Yo.from({txHash:i,index:Df(a)}),o={};for(const f of r)o[f.name]=new vp(xn.from({...xa,codeHash:f.type_id??f.data_hash,hashType:f.type_id?"type":"data1",[Di]:[mu.from({outPoint:s,depType:"depGroup"})]}));const c=["SECP256K1_BLAKE160","DAO","SECP256K1_BLAKE160_MULTISIG"];if(t!=="devnet")if(t==="testnet")c.push("XUDT"),e={...e,XUDT:new vp(xn.from({...xa,codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",[Di]:[mu.from({outPoint:Yo.from({txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"}),depType:"code"})]}))};else{if(e.XUDT.HASH_TYPE!=="data1")throw Error("Expected data1 hashType for XUDT");c.push("XUDT")}for(const f of c){const u=e[f];if(!u)throw Error(yW);o[f]=new vp(xn.from({...u.defaultScript,[Di]:[mu.from({outPoint:s,depType:"depGroup"})]}))}return o}function dx(t,e,r,n){const i=nb(n),a=D0(n),s=[],o=[];let c=[],f=[],u=[];for(const w of t){const I=e(w);if(!I){u.push(w);continue}if(En(w.cellOutput.type,i)){s.push(Qt.from({...w,cellOutput:{lock:I,type:i,capacity:w.cellOutput.capacity}}));continue}if(!En(w.cellOutput.type,a)){u.push(w);continue}if(!w.blockNumber)throw Error(hP);o.push(Qt.from({...w,cellOutput:{lock:I,type:xn.from({...a,[ui]:[r(w.blockNumber,w)]}),capacity:w.cellOutput.capacity}}))}let l;({deposits:f,withdrawalRequests:l,notDaos:u}=YE(u,$6(a),r,n)),u=u.concat(l);const h=mv(n);({deposits:l,withdrawalRequests:c,notDaos:u}=YE(u,$6(h),r,n)),u=u.concat(l);let g;({types:g,notTypes:u}=zQ(u,h,e));const _=w=>w.txHash+w.index,A=new Map(c.map(w=>[_(w.outPoint),w])),C=[];for(const w of g){const{ownedDistance:I}=VP.unpack(w.data),T=Df(Number(w.outPoint.index)+I),R=_({...w.outPoint,index:T}),N=A.get(R);N?(C.push(Object.freeze({owner:w,ownedWithdrawalRequest:N})),A.delete(R)):u.push(w)}return u=u.concat(Array.from(A.values())),{udts:s,receipts:o,withdrawalRequestGroups:C,ickbPool:f,notIckbs:u}}function vW(t,e,r,n){let i=t.map(a=>Object.freeze({deposit:a,ickbValue:Y6(BigInt(a.cellOutput.capacity)-vv,a.cellOutput.type[ui][0]),estimatedMaturity:{length:1,index:0,number:0}}));if(r){const a=KQ(Y8(e.epoch),r);i=i.map(s=>Object.freeze({...s,estimatedMaturity:lY(s.deposit,a)})).sort((s,o)=>dv(s.estimatedMaturity,o.estimatedMaturity))}return i}function mW(t,e,r,n){return oY(t,Array(e).fill(r),D0(n),n)}function _W(t,e,r){return fY(t,e,mv(r))}function GP(t,e){const r=[],n=[];for(const{ownedWithdrawalRequest:i,owner:a}of e)r.push(i),n.push(a);return r.length>0&&(t=uY(t,r),t=Ta(t,"append",n,[])),t}function WP(t,e){const r=nb(e),n=D0(e);let i=0n;for(const a of t.inputs){if(En(a.cellOutput.type,r)){i+=R6.unpack(a.data.slice(0,2+16*2));continue}if(En(a.cellOutput.lock,n)&&pP(a,e)){const s=a.cellOutput.type[ui][0],o=BigInt(a.cellOutput.capacity)-vv;i-=Y6(o,s);continue}if(En(a.cellOutput.type,n)){const s=a.cellOutput.type[ui][0],{depositQuantity:o,depositAmount:c}=KP.unpack(a.data);i+=Y6(c,s)*BigInt(o)}}for(const a of t.outputs)En(a.cellOutput.type,r)&&(i-=R6.unpack(a.data.slice(0,2+16*2)));return i}function Y6(t,e){let r=XP(t,e,!1);return qy<r&&(r-=(r-qy)/10n),r}function wW(t,e,r){const n=WP(t,r);if(n>0n){const i=Qt.from({lock:e,type:nb(r),data:xf(Kh.pack({udtAmount:n}))});t=Ta(t,"append",[],[i])}return{tx:t,freeIckbUdt:n}}function AW(t,e,r){const n=[],i=mv(r);for(const[a,s]of t.outputs.entries()){if(!bP(s,r)||!En(s.cellOutput.lock,i))continue;const o=t.outputs.size+n.length,c=a-o;n.push(Qt.from({lock:e,type:i,data:xf(VP.pack({ownedDistance:c}))}))}return n.length>0?Ta(t,"append",[],n):t}function EW(t,e,r){const n=D0(r),i=new Map;for(const s of t.outputs){if(!pP(s,r)||!En(s.cellOutput.lock,n))continue;const o=BigInt(s.cellOutput.capacity)-vv;let c=i.get(o);c?c.depositQuantity+=1:i.set(o,{depositQuantity:1,depositAmount:o})}const a=[];for(const s of i.values())a.push(Qt.from({lock:e,type:n,data:xf(KP.pack(s))}));return a.length>0?Ta(t,"append",[],a):t}const qy=100000n*oi;function xW(t){return Ky(qy,t)}function XP(t,e,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=yw(e,r);return t*n/i}function Ky(t,e,r=!0){const{ckbMultiplier:n,udtMultiplier:i}=yw(e,r);return t*i/n}const ZP=10000000000000000n,vv=82n*oi,SW=vv*ZP/qy;function yw(t,e=!0){const n=lv.extractDaoDataCompatible(t.dao).ar.toBigInt();return{ckbMultiplier:ZP,udtMultiplier:e?n+SW:n}}function nb(t){return xn.from({...t.defaultScript("XUDT"),args:KF(D0(t))+"00000080"})}function D0(t){return t.defaultScript("ICKB_LOGIC")}function mv(t){return t.defaultScript("OWNED_OWNER")}function hx(t,e){return t.ckbMultiplier===e.ckbMultiplier&&t.udtMultiplier===e.udtMultiplier}function JP(t,e){return hx(t.ckbToUdt,e.ckbToUdt)&&hx(t.udtToCkb,e.udtToCkb)&&t.ckbMinMatchLog===e.ckbMinMatchLog}function px(t,e,r,n,i=nb(n)){const a=vw(n),{groups:s,unknowns:o}=eR(t,e,a,i),c=CW([...s.values()].map(l=>{var h;return((h=l.master)==null?void 0:h.outPoint)??l.orders[0].info.masterOutpoint}),r,a,i),f=[],u=[];for(const[l,h]of s){const g=c.get(l);if(g===void 0){const C=h.master===void 0?[]:[h.master];o.push(...C,...h.orders.map(w=>w.cell));continue}let _=-1,A=g;for(let C=0;C<h.orders.length;C++){const w=h.orders[C];if(!JP(g.info,w.info)||!En(g.cell.cellOutput.type,w.cell.cellOutput.type)||w.info.absTotal<g.info.absTotal){o.push(w.cell);continue}if(w.info.absProgress<A.info.absProgress){o.push(w.cell);continue}if(w.info.absProgress===A.info.absProgress&&!w.info.isMint){o.push(w.cell);continue}_>=0&&o.push(A.cell),_=C,A=w}if(_===-1){h.master!==void 0&&o.push(h.master);continue}h.master!==void 0?u.push(Object.freeze({...A,master:h.master})):f.push(Object.freeze(A))}return{myOrders:u,orders:f,notOrders:o}}function CW(t,e,r,n){const i=new Map,a=s=>xn.from({...xa,...s.cellOutput.lock});for(const s of new Set(t.map(o=>o.txHash)))for(const[o,c]of eR(e(s),a,r,n).groups)c.master===void 0||c.orders.length!==1||!c.orders[0].info.isMint||i.set(o,{...c.orders[0],master:c.master});return i}function eR(t,e,r,n){const i=new Map,a=o=>{const c=o.txHash+o.index;let f=i.get(c);return f===void 0&&(f={master:void 0,orders:[]},i.set(c,f)),f},s=[];for(const o of t){const{lock:c,type:f}=o.cellOutput;if(En(f,r)){const u=e(o);if(u){a(o.outPoint).master=Qt.from({...o,cellOutput:{lock:u,type:r,capacity:o.cellOutput.capacity}});continue}}else if(En(c,r)&&En(f,n)){const u=IW(o);if(u!==void 0){a(u.masterOutpoint).orders.push({cell:Qt.from({...o,cellOutput:{lock:r,type:n,capacity:o.cellOutput.capacity}}),info:u});continue}}s.push(o)}return{groups:i,unknowns:s}}function IW(t){let e;try{e=gw.unpack(t.data)}catch{return}const r=e.value.orderInfo,n=Vy(r.ckbToUdt),i=Vy(r.udtToCkb),a=tR(r.ckbMinMatchLog);if(!JP({ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a},r)||e.type==="MintOrderData"&&e.value.padding!==mw||t.cellOutput.type===void 0||t.cellOutput.type.args.length<2)return;const s=e.type==="MintOrderData",o=Yo.from(e.type==="MintOrderData"?{txHash:t.outPoint.txHash,index:Df(Number(t.outPoint.index)+e.value.masterDistance)}:e.value.masterOutpoint),c=1n<<BigInt(a),f=e.udtAmount,u=BigInt(t.cellOutput.capacity),l=MW+BigInt((t.cellOutput.type.args.length-2)/2)*oi,h=u-l,g=n!==Bo,_=i!==Bo,A=g&&_,C=g?h*n.ckbMultiplier+f*n.udtMultiplier:0n,w=_?h*i.ckbMultiplier+f*i.udtMultiplier:0n,I=C===0n?w:w===0n?C:C*i.ckbMultiplier*i.udtMultiplier+w*n.ckbMultiplier*n.udtMultiplier>>1n,T=A?I:g?f*n.udtMultiplier:h*i.ckbMultiplier,R=g&&h>0n,N=_&&f>0n;return Object.freeze({isMint:s,masterOutpoint:o,ckbToUdt:n,udtToCkb:i,ckbMinMatchLog:a,ckbMinMatch:c,udtAmount:f,ckbAmount:u,ckbOccupied:l,ckbUnoccupied:h,absTotal:I,absProgress:T,isCkb2Udt:g,isUdt2Ckb:_,isDualRatio:A,isCkb2UdtMatchable:R,isUdt2CkbMatchable:N,isMatchable:R||N})}const TW=33;function OW(t,...e){const{master:r,order:n}=BW(...e);return Ta(t,"append",[],[r,n])}const bx="Order ratio are invalid";function BW(t,e,r=0n,n=0n,i=Bo,a=Bo,s=TW,o=nb(e)){if(i=Vy(i),a=Vy(a),s=tR(s),i===Bo&&a===Bo||i.ckbMultiplier*a.udtMultiplier<i.udtMultiplier*a.ckbMultiplier)throw Error(bx);const c=vw(e),f=Qt.from({lock:t,type:c});let u=Qt.from({lock:c,type:o,data:xf(gw.pack({udtAmount:n,type:"MintOrderData",value:{padding:mw,masterDistance:-1,orderInfo:{ckbToUdt:i,udtToCkb:a,ckbMinMatchLog:s}}}))});return r>0n&&(u=Qt.from({...u,capacity:Df(BigInt(u.cellOutput.capacity)+r)})),{master:f,order:u}}function DW(t,e){return Ta(t,"append",e.flatMap(r=>[r.cell,r.master]),[])}function vw(t){return t.defaultScript("LIMIT_ORDER")}function tR(t){return t>64?64:t}function Vy(t){return t.ckbMultiplier===0n||t.udtMultiplier===0n?Bo:Object.freeze({...t})}const Bo=Object.freeze({ckbMultiplier:0n,udtMultiplier:0n}),mw="0x0000000000000000000000000000000000000000000000000000000000000000",MW=BigInt(Qt.from({lock:xa,type:xa,data:xf(gw.pack({udtAmount:0n,type:"MintOrderData",value:{masterDistance:0,padding:mw,orderInfo:{ckbToUdt:Bo,udtToCkb:Bo,ckbMinMatchLog:0}}}))}).cellOutput.capacity);function PW({capacities:t,udts:e,receipts:r,wrGroups:n,myOrders:i}){let a=Pu.TransactionSkeleton();const s=[];a=DW(a,i);let o=i.reduce((f,{info:u})=>u.isMatchable?f+1:f,0);o>0&&s.push(`Cancelling ${o} Open Order${o>1?"s":""}`);let c=i.length-o;return c>0&&s.push(`Melting ${c} Completed Order${c>1?"s":""}`),a=Ta(a,"append",[t,e,r].flat(),[]),r.length>0&&s.push(`Converting ${r.length} Receipt${r.length>1?"s":""} to iCKB`),a=GP(a,n),n.length>0&&s.push(`Withdrawing from ${n.length} Withdrawal Request${n.length>1?"s":""}`),ci({tx:a,info:s})}function RW(t,e,r,n,i,a){if(t.error!=="")return t;const s=[];if(!e){let _=0n;for(const A of n){const C=_+A.ickbValue;if(!(C>r)&&(_=C,s.push(Object.freeze({...A,ickbCumulative:_})),s.length>=30))break}}Object.freeze(s);const{ckbMultiplier:o,udtMultiplier:c}=yw(i),f={ckbMultiplier:o,udtMultiplier:c+(e?1n:-1n)*(c/1000n)},u=xW(i),l=e?Number(r/u):s.length,h=Array(l),g=_=>(_=l-_,h[_]=h[_]??LW(_,e,r,t,f,u,s,i,a));return g(QQ(l,_=>g(_).error===""))}function LW(t,e,r,n,i,a,s,o,c){let{tx:f,calculateFee:u,info:l,error:h}=n;if(h!=="")return n;const{accountLocks:g,config:_}=c;if(t>0)if(e){if(r-=a*BigInt(t),r<0n)return ci({error:"Too many Deposits respectfully to the amount"});f=mW(f,t,a,_),f=EW(f,g[0],_),l=l.concat([]),l=l.concat([`Creating ${t} standard deposit${t>1?"s":""} and ${t>1?"their":"its"} Receipt`])}else{if(s.length<t)return ci({error:"Not enough Deposits to withdraw from"});if(r-=s[t-1].ickbCumulative,r<0n)return ci({error:"Too many Withdrawal Requests respectfully to the amount"});s=s.slice(0,t);const A=s.map(w=>w.deposit);f=_W(f,A,_),f=AW(f,g[0],_);const C=qP(s.map(w=>w.estimatedMaturity),o);l=l.concat([`Requesting the Withdrawal from ${t} Deposit${t>1?"s":""} with maturity in ${C}`])}if(r>0n){f=OW(f,g[0],_,e?r:void 0,e?void 0:r,e?i:void 0,e?void 0:i);const A=e?r-Ky(r*i.ckbMultiplier/i.udtMultiplier,o):Ky(r,o)-r*i.udtMultiplier/i.ckbMultiplier;l=l.concat([`Creating a Limit Order for ${t>0?"the remaining":""} ${Kd(r)} ${e?"CKB":"iCKB"}, offering a Fee of ${Kd(A)} CKB`])}return rR(ci({tx:f,calculateFee:u,info:l}),c)}function rR(t,e){let{tx:r,calculateFee:n,info:i,error:a}=t;if(a!=="")return t;const{accountLocks:s,config:o}=e;let c,f,u;return{tx:r,freeIckbUdt:u}=wW(r,s[0],o),{tx:r,txFee:c,freeCkb:f}=dY(r,s[0],n,o),f<0n?ci({info:i,error:"Not enough CKB"}):u<0n?ci({info:i,error:"Not enough iCKB"}):r.outputs.size>64?ci({info:i,error:"More than 64 output cells"}):(i=i.concat([`Paying a Network Fee of ${Kd(c)} CKB`]),ci({tx:r,info:i}))}function _w(t,e){return{retry:!0,refetchInterval:({state:r})=>{var n;return 6e4*((n=r.data)!=null&&n.hasMatchable?1:10)},staleTime:1e4,queryKey:[t.chain,t.address,"l1State"],queryFn:async()=>{try{return await HW(t)}catch(r){throw console.log(r),r}},placeholderData:{ckbBalance:-1n,ickbUdtBalance:-1n,ckbAvailable:6n*oi*oi,ickbUdtAvailable:3n*oi*oi,tipHeader:ww,txBuilder:()=>ci({}),hasMatchable:!1},enabled:!e}}async function HW(t){const{rpc:e,config:r,expander:n,getTxSizeOverhead:i}=t,a=await NW(t),s=e.getFeeRate(61n),o=e.getTipHeader(),c=new Set;dx(a,n,z=>(c.add(z),ww),r);const u=UW(c,t),l=new Set;px(a,n,z=>(l.add(z),[]),r);const g=$W(l,t),{capacities:_,notCapacities:A}=kQ(a,n),C=await u,{udts:w,receipts:I,withdrawalRequestGroups:T,ickbPool:R,notIckbs:N}=dx(A,n,z=>C.get(z),r),K=Ud.from(await o),{mature:V,notMature:D}=FQ(T,z=>z.ownedWithdrawalRequest.cellOutput.type[zs],K);let Y=vW(R,K,{length:4,index:1,number:0});if(Y.length>40){const z=ky(Math.round(Y.length/180),40);Y=VQ(Y.slice(0,z).map((X,ee)=>({d:X,i:ee}))).slice(0,40).sort((X,ee)=>X.i-ee.i).map(X=>X.d)}const M=await g,{myOrders:m}=px(N,n,z=>M.get(z)??[],r),x=m.some(z=>z.info.isMatchable),b=V.length>0||I.length>0||m.length>0,{tx:v,info:d}=PW({capacities:_,udts:w,myOrders:m,receipts:I,wrGroups:V}),y=i(v),S=WP(v,r),E=S;let p=U6(v,r);const O=ky((p/oi-1000n)*oi,0n);let k=d;if(D.length>0){p+=U6(GP(Pu.TransactionSkeleton(),D),r);const z=qP(D.map(X=>Vp(X.ownedWithdrawalRequest.cellOutput.type[zs])),K);k=Object.freeze([`Excluding ${D.length} Withdrawal Request${D.length>1?"s":""} with maturity in ${z}`].concat(k))}const[L,j]=await Promise.all([y,s]),q=z=>{const X=aY(iY(z)+L,j),ee=1249n;return(X+(ee-1n))/ee*ee};return{ckbBalance:p,ickbUdtBalance:S,ckbAvailable:O,ickbUdtAvailable:E,tipHeader:K,txBuilder:(z,X)=>{const ee=ci({tx:v,calculateFee:q,info:k});return X>0n?RW(ee,z,X,Y,K,t):b?rR(ee,t):ci({info:k,error:"Nothing to convert"})},hasMatchable:x}}async function nR(t){const{queryClient:e}=t,r={...t,accountLocks:[xa],address:Pu.encodeToAddress(xa,t),expander:$6(xa),getTxSizeOverhead:()=>Promise.resolve(0),sendSigned:()=>Promise.resolve("0x0")};return e.prefetchQuery(_w(r,!1))}async function NW(t){const{accountLocks:e,config:r,rpc:n}=t;return Object.freeze((await Promise.all([...e,D0(r),mv(r),vw(r)].map(i=>n.getCellsByLock(i,"desc","max")))).flat())}async function $W(t,e){const{chain:r,rpc:n,queryClient:i}=e,a=i.getQueryData([r,"txsOutputs"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const f of t){const u=a.get(f);if(u!==void 0){s.set(f,u);continue}o.add("getTransaction",f)}if(o.length===0)return a;for(const f of(await o.exec()).map(({transaction:u})=>u))s.set(f.hash,Object.freeze(f.outputs.map(({lock:u,type:l,capacity:h},g)=>Object.freeze({cellOutput:Object.freeze({lock:Object.freeze(u),type:Object.freeze(l),capacity:Object.freeze(h)}),data:Object.freeze(f.outputsData[g]??"0x"),outPoint:Object.freeze({txHash:f.hash,index:Df(g)})}))));const c=Object.freeze(s);return i.setQueryData([r,"txsOutputs"],c),c}async function UW(t,e){const{chain:r,rpc:n,queryClient:i}=e,a=i.getQueryData([r,"headers"])??Object.freeze(new Map),s=new Map,o=n.createBatchRequest();for(const f of t){const u=a.get(f);if(u!==void 0){s.set(f,u);continue}o.add("getHeaderByNumber",f)}if(o.length===0)return a;for(const f of await o.exec())s.set(f.number,Ud.from(f));const c=Object.freeze(s);return i.setQueryData([r,"headers"],c),c}const ww=Ud.from({compactTarget:"0x1a08a97e",parentHash:"0x0000000000000000000000000000000000000000000000000000000000000000",transactionsRoot:"0x31bf3fdf4bc16d6ea195dbae808e2b9a8eca6941d589f6959b1d070d51ac28f7",proposalsHash:"0x0000000000000000000000000000000000000000000000000000000000000000",extraHash:"0x0000000000000000000000000000000000000000000000000000000000000000",dao:"0x8874337e541ea12e0000c16ff286230029bfa3320800000000710b00c0fefe06",epoch:"0x0",hash:"0x92b197aa1fba0f63633922c61c92375c9c074a93e85963554f5499fe1450d0e5",nonce:"0x0",number:"0x0",timestamp:"0x16e70e6985c",version:"0x0"});function kW(t){const e=p0.c(32),{rawText:r,setRawText:n,amount:i,tipHeader:a,isFrozen:s}=t,o=r[0],c=r.slice(1);let f;e[0]!==o?(f=jP(o),e[0]=o,e[1]=f):f=e[1];const u=f;let l;e[2]!==n||e[3]!==c?(l=N=>n(Fg(N)+c),e[2]=n,e[3]=c,e[4]=l):l=e[4];const h=l;let g;e[5]!==n||e[6]!==o?(g=N=>n(o+N),e[5]=n,e[6]=o,e[7]=g):g=e[7];let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=xe.jsx(VG,{placeholder:"0",className:"absolute inset-0 rounded border-2 border-amber-400 bg-transparent px-8 text-left text-amber-400"}),e[8]=_):_=e[8];const A=u?"CKB":"ICKB";let C;e[9]!==s||e[10]!==u||e[11]!==h||e[12]!==A?(C=xe.jsx(LG,{className:"absolute inset-0 inline-flex items-center justify-end px-8",children:xe.jsx(cx,{isDisabled:s,className:"rounded-full bg-amber-400 px-2 text-zinc-900 disabled:opacity-50",isSelected:u,onChange:h,"aria-label":"Conversion direction",children:A})}),e[9]=s,e[10]=u,e[11]=h,e[12]=A,e[13]=C):C=e[13];let w;e[14]!==s||e[15]!==c||e[16]!==g||e[17]!==C?(w=xe.jsxs(WG,{isDisabled:s,autoFocus:!0,value:c,onChange:g,autoComplete:"off",inputMode:"decimal",type:"text",className:"text-s relative h-12 w-full rounded font-bold uppercase leading-relaxed tracking-wider text-amber-400 disabled:opacity-50","aria-label":"Amount to be converted",children:[_,C]}),e[14]=s,e[15]=c,e[16]=g,e[17]=C,e[18]=w):w=e[18];let I;e[19]!==a||e[20]!==u||e[21]!==s||e[22]!==h?(I=a===ww?void 0:xe.jsxs(cx,{isDisabled:s,className:"text-s h-min-12 text-s h-min-12 flex w-full flex-auto items-center justify-center space-x-4 rounded px-8 text-center align-middle font-bold uppercase leading-relaxed tracking-wider",isSelected:u,onChange:h,"aria-label":"Conversion direction",children:[xe.jsx("span",{className:"w-full",children:u?"1 CKB":"1 ICKB"}),xe.jsx("span",{className:"px-4",children:""}),xe.jsx("span",{className:"w-full",children:gx(u,oi,a)})]}),e[19]=a,e[20]=u,e[21]=s,e[22]=h,e[23]=I):I=e[23];let T;e[24]!==i||e[25]!==u||e[26]!==a?(T=i>0?xe.jsx("div",{className:"text-center font-bold uppercase leading-relaxed tracking-wider",children:`~ ${gx(u,i,a)}`}):void 0,e[24]=i,e[25]=u,e[26]=a,e[27]=T):T=e[27];let R;return e[28]!==w||e[29]!==I||e[30]!==T?(R=xe.jsxs(xe.Fragment,{children:[w,I,T]}),e[28]=w,e[29]=I,e[30]=T,e[31]=R):R=e[31],R}function gx(t,e,r){let[n,i]=t?[XP(e,r),"ICKB"]:[Ky(e,r),"CKB"];return n-=n/1000n,`${Kd(n)} ${i}`}function iR(){const t=p0.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=xe.jsxs("div",{className:"flex h-2 w-full overflow-hidden rounded",children:[xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-3.00s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.85s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.70s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.55s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.40s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.25s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-2.10s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.95s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.80s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.65s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.50s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.35s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.20s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-1.05s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.90s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.75s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.60s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.45s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.30s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-delay:-0.15s] [animation-duration:6s]"}),xe.jsx("div",{className:"size-full animate-pulse bg-amber-400 [animation-duration:6s]"})]}),t[0]=e):e=t[0],e}function zW(t){const e=p0.c(34),{isCkb2Udt:r,amount:n,freeze:i,formReset:a,walletConfig:s}=t;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=ci({}),e[0]=o):o=e[0];const[c,f]=pe.useState(o);let u;e[1]!==i?(u=m=>{f(m),i(!m.isEmpty)},e[1]=i,e[2]=u):u=e[2];const l=u,h=!c.isEmpty;let g;e[3]!==s||e[4]!==h?(g=_w(s,h),e[3]=s,e[4]=h,e[5]=g):g=e[5];const{data:_,isStale:A,isFetching:C}=B8(g);let w;e[6]!==h||e[7]!==c||e[8]!==_||e[9]!==r||e[10]!==n?(w=h?c:_.txBuilder(r,n),e[6]=h,e[7]=c,e[8]=_,e[9]=r,e[10]=n,e[11]=w):w=e[11];const I=w,T=dP(I.tx);let R;e[12]!==I||e[13]!==h?(R=I.isEmpty?xe.jsx("p",{children:"Downloading the latest L1 Cell data, just for you. Hang tight!"}):xe.jsx("div",{className:h?"text-slate-100":"",children:I.info.concat(I.error!==""?[I.error,""]:[""]).join(". ")}),e[12]=I,e[13]=h,e[14]=R):R=e[14];let N;e[15]!==A||e[16]!==s||e[17]!==I||e[18]!==l||e[19]!==a?(N=A?()=>s.queryClient.invalidateQueries({queryKey:[s.chain,s.address,"l1State"]}):()=>FW(I,l,a,s),e[15]=A,e[16]=s,e[17]=I,e[18]=l,e[19]=a,e[20]=N):N=e[20];const K=C||h||!T;let V;e[21]!==N||e[22]!==K?(V={onPress:N,isDisabled:K},e[21]=N,e[22]=K,e[23]=V):V=e[23];const D=C?"refreshing...":T?A?"refresh before signing":h?"transacting...":"sign with wallet":"nothing to sign";let Q;e[24]!==V||e[25]!==D?(Q=xe.jsx(zg,{className:"text-s h-12 w-full rounded border-2 border-amber-400 px-8 font-bold uppercase leading-relaxed tracking-wider text-amber-400 disabled:opacity-50",...V,children:D}),e[24]=V,e[25]=D,e[26]=Q):Q=e[26];let Y;e[27]!==C||e[28]!==h?(Y=C||h?xe.jsx(iR,{}):void 0,e[27]=C,e[28]=h,e[29]=Y):Y=e[29];let M;return e[30]!==R||e[31]!==Q||e[32]!==Y?(M=xe.jsxs(xe.Fragment,{children:[R,Q,Y]}),e[30]=R,e[31]=Q,e[32]=Y,e[33]=M):M=e[33],M}async function FW(t,e,r,n){const{rpc:i,sendSigned:a}=n;try{e(t);const s=await a(t.tx);let o="pending";for(;o==="pending"||o==="proposed";)await new Promise(c=>setTimeout(c,1e4)),o=(await i.getTransaction(s)).txStatus.status;r(),console.log(s,o)}finally{e(ci({}))}}function jW(t){const e=p0.c(36),{walletConfig:r}=t,[n,i]=pe.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=Fg(!0),e[0]=a):a=e[0];const[s,o]=pe.useState(a),c=s[0];let f;e[1]!==c?(f=jP(c),e[1]=c,e[2]=f):f=e[2];const u=f;let l,h;e[3]!==s?(h=tW(s),l=rW(h),e[3]=s,e[4]=l,e[5]=h):(l=e[4],h=e[5]);let g=l,_;e[6]!==r||e[7]!==n?(_=_w(r,n),e[6]=r,e[7]=n,e[8]=_):_=e[8];const{ckbBalance:A,ickbUdtBalance:C,ckbAvailable:w,ickbUdtAvailable:I,tipHeader:T}=B8(_).data,R=u?w:I;if(g>R){g=R;let d;e[9]!==R?(d=Kd(R),e[9]=R,e[10]=d):d=e[10],h=d}let N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=()=>o(Fg(!0)),e[11]=N):N=e[11];const K=N;let V;e[12]!==w||e[13]!==I?(V=d=>o(Fg(d)+Kd(d?w:I)),e[12]=w,e[13]=I,e[14]=V):V=e[14];const D=V;let Q;e[15]!==n||e[16]!==r||e[17]!==A||e[18]!==C||e[19]!==D?(Q=xe.jsx(eW,{isFrozen:n,walletConfig:r,ckbBalance:A,ickbUdtBalance:C,formSetMax:D}),e[15]=n,e[16]=r,e[17]=A,e[18]=C,e[19]=D,e[20]=Q):Q=e[20];const Y=c+h;let M;e[21]!==Y||e[22]!==g||e[23]!==T||e[24]!==n?(M=xe.jsx(kW,{rawText:Y,setRawText:o,amount:g,tipHeader:T,isFrozen:n}),e[21]=Y,e[22]=g,e[23]=T,e[24]=n,e[25]=M):M=e[25];let m;e[26]!==u||e[27]!==g||e[28]!==r?(m={isCkb2Udt:u,amount:g,freeze:i,formReset:K,walletConfig:r},e[26]=u,e[27]=g,e[28]=r,e[29]=m):m=e[29];const x=pe.useDeferredValue(m);let b;e[30]!==x?(b=xe.jsx(zW,{...x}),e[30]=x,e[31]=b):b=e[31];let v;return e[32]!==Q||e[33]!==M||e[34]!==b?(v=xe.jsxs(xe.Fragment,{children:[Q,M,b]}),e[32]=Q,e[33]=M,e[34]=b,e[35]=v):v=e[35],v}var Go={},_v={};_v.byteLength=VW;_v.toByteArray=YW;_v.fromByteArray=XW;var Rs=[],ra=[],qW=typeof Uint8Array<"u"?Uint8Array:Array,x_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bl=0,KW=x_.length;bl<KW;++bl)Rs[bl]=x_[bl],ra[x_.charCodeAt(bl)]=bl;ra[45]=62;ra[95]=63;function aR(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function VW(t){var e=aR(t),r=e[0],n=e[1];return(r+n)*3/4-n}function QW(t,e,r){return(e+r)*3/4-r}function YW(t){var e,r=aR(t),n=r[0],i=r[1],a=new qW(QW(t,n,i)),s=0,o=i>0?n-4:n,c;for(c=0;c<o;c+=4)e=ra[t.charCodeAt(c)]<<18|ra[t.charCodeAt(c+1)]<<12|ra[t.charCodeAt(c+2)]<<6|ra[t.charCodeAt(c+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=ra[t.charCodeAt(c)]<<2|ra[t.charCodeAt(c+1)]>>4,a[s++]=e&255),i===1&&(e=ra[t.charCodeAt(c)]<<10|ra[t.charCodeAt(c+1)]<<4|ra[t.charCodeAt(c+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function GW(t){return Rs[t>>18&63]+Rs[t>>12&63]+Rs[t>>6&63]+Rs[t&63]}function WW(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(GW(n));return i.join("")}function XW(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(WW(t,s,s+a>o?o:s+a));return n===1?(e=t[r-1],i.push(Rs[e>>2]+Rs[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Rs[e>>10]+Rs[e>>4&63]+Rs[e<<2&63]+"=")),i.join("")}var Aw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Aw.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,c=(1<<o)-1,f=c>>1,u=-7,l=r?i-1:0,h=r?-1:1,g=t[e+l];for(l+=h,a=g&(1<<-u)-1,g>>=-u,u+=o;u>0;a=a*256+t[e+l],l+=h,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=n;u>0;s=s*256+t[e+l],l+=h,u-=8);if(a===0)a=1-f;else{if(a===c)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-f}return(g?-1:1)*s*Math.pow(2,a-n)};Aw.write=function(t,e,r,n,i,a){var s,o,c,f=a*8-i-1,u=(1<<f)-1,l=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,_=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+l>=1?e+=h/c:e+=h*Math.pow(2,1-l),e*c>=2&&(s++,c/=2),s+l>=u?(o=0,s=u):s+l>=1?(o=(e*c-1)*Math.pow(2,i),s=s+l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+g]=o&255,g+=_,o/=256,i-=8);for(s=s<<i|o,f+=i;f>0;t[r+g]=s&255,g+=_,s/=256,f-=8);t[r+g-_]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=_v,r=Aw,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const U=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(U,B),U.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(U){if(U>i)throw new RangeError('The value "'+U+'" is invalid for option "size"');const B=new Uint8Array(U);return Object.setPrototypeOf(B,o.prototype),B}function o(U,B,P){if(typeof U=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(U)}return c(U,B,P)}o.poolSize=8192;function c(U,B,P){if(typeof U=="string")return h(U,B);if(ArrayBuffer.isView(U))return _(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Ce(U,ArrayBuffer)||U&&Ce(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(U,SharedArrayBuffer)||U&&Ce(U.buffer,SharedArrayBuffer)))return A(U,B,P);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=U.valueOf&&U.valueOf();if(G!=null&&G!==U)return o.from(G,B,P);const ae=C(U);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return o.from(U[Symbol.toPrimitive]("string"),B,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}o.from=function(U,B,P){return c(U,B,P)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function u(U,B,P){return f(U),U<=0?s(U):B!==void 0?typeof P=="string"?s(U).fill(B,P):s(U).fill(B):s(U)}o.alloc=function(U,B,P){return u(U,B,P)};function l(U){return f(U),s(U<0?0:w(U)|0)}o.allocUnsafe=function(U){return l(U)},o.allocUnsafeSlow=function(U){return l(U)};function h(U,B){if((typeof B!="string"||B==="")&&(B="utf8"),!o.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const P=T(U,B)|0;let G=s(P);const ae=G.write(U,B);return ae!==P&&(G=G.slice(0,ae)),G}function g(U){const B=U.length<0?0:w(U.length)|0,P=s(B);for(let G=0;G<B;G+=1)P[G]=U[G]&255;return P}function _(U){if(Ce(U,Uint8Array)){const B=new Uint8Array(U);return A(B.buffer,B.byteOffset,B.byteLength)}return g(U)}function A(U,B,P){if(B<0||U.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<B+(P||0))throw new RangeError('"length" is outside of buffer bounds');let G;return B===void 0&&P===void 0?G=new Uint8Array(U):P===void 0?G=new Uint8Array(U,B):G=new Uint8Array(U,B,P),Object.setPrototypeOf(G,o.prototype),G}function C(U){if(o.isBuffer(U)){const B=w(U.length)|0,P=s(B);return P.length===0||U.copy(P,0,0,B),P}if(U.length!==void 0)return typeof U.length!="number"||kt(U.length)?s(0):g(U);if(U.type==="Buffer"&&Array.isArray(U.data))return g(U.data)}function w(U){if(U>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return U|0}function I(U){return+U!=U&&(U=0),o.alloc(+U)}o.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==o.prototype},o.compare=function(B,P){if(Ce(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),Ce(P,Uint8Array)&&(P=o.from(P,P.offset,P.byteLength)),!o.isBuffer(B)||!o.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===P)return 0;let G=B.length,ae=P.length;for(let ce=0,le=Math.min(G,ae);ce<le;++ce)if(B[ce]!==P[ce]){G=B[ce],ae=P[ce];break}return G<ae?-1:ae<G?1:0},o.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(B,P){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return o.alloc(0);let G;if(P===void 0)for(P=0,G=0;G<B.length;++G)P+=B[G].length;const ae=o.allocUnsafe(P);let ce=0;for(G=0;G<B.length;++G){let le=B[G];if(Ce(le,Uint8Array))ce+le.length>ae.length?(o.isBuffer(le)||(le=o.from(le)),le.copy(ae,ce)):Uint8Array.prototype.set.call(ae,le,ce);else if(o.isBuffer(le))le.copy(ae,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=le.length}return ae};function T(U,B){if(o.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Ce(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const P=U.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&P===0)return 0;let ae=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return J(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return ve(U).length;default:if(ae)return G?-1:J(U).length;B=(""+B).toLowerCase(),ae=!0}}o.byteLength=T;function R(U,B,P){let G=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,B>>>=0,P<=B))return"";for(U||(U="utf8");;)switch(U){case"hex":return E(this,B,P);case"utf8":case"utf-8":return b(this,B,P);case"ascii":return y(this,B,P);case"latin1":case"binary":return S(this,B,P);case"base64":return x(this,B,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,B,P);default:if(G)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),G=!0}}o.prototype._isBuffer=!0;function N(U,B,P){const G=U[B];U[B]=U[P],U[P]=G}o.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<B;P+=2)N(this,P,P+1);return this},o.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<B;P+=4)N(this,P,P+3),N(this,P+1,P+2);return this},o.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<B;P+=8)N(this,P,P+7),N(this,P+1,P+6),N(this,P+2,P+5),N(this,P+3,P+4);return this},o.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?b(this,0,B):R.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(B){if(!o.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:o.compare(this,B)===0},o.prototype.inspect=function(){let B="";const P=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(B+=" ... "),"<Buffer "+B+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(B,P,G,ae,ce){if(Ce(B,Uint8Array)&&(B=o.from(B,B.offset,B.byteLength)),!o.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(P===void 0&&(P=0),G===void 0&&(G=B?B.length:0),ae===void 0&&(ae=0),ce===void 0&&(ce=this.length),P<0||G>B.length||ae<0||ce>this.length)throw new RangeError("out of range index");if(ae>=ce&&P>=G)return 0;if(ae>=ce)return-1;if(P>=G)return 1;if(P>>>=0,G>>>=0,ae>>>=0,ce>>>=0,this===B)return 0;let le=ce-ae,Be=G-P;const it=Math.min(le,Be),Re=this.slice(ae,ce),Le=B.slice(P,G);for(let Ze=0;Ze<it;++Ze)if(Re[Ze]!==Le[Ze]){le=Re[Ze],Be=Le[Ze];break}return le<Be?-1:Be<le?1:0};function K(U,B,P,G,ae){if(U.length===0)return-1;if(typeof P=="string"?(G=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,kt(P)&&(P=ae?0:U.length-1),P<0&&(P=U.length+P),P>=U.length){if(ae)return-1;P=U.length-1}else if(P<0)if(ae)P=0;else return-1;if(typeof B=="string"&&(B=o.from(B,G)),o.isBuffer(B))return B.length===0?-1:V(U,B,P,G,ae);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(U,B,P):Uint8Array.prototype.lastIndexOf.call(U,B,P):V(U,[B],P,G,ae);throw new TypeError("val must be string, number or Buffer")}function V(U,B,P,G,ae){let ce=1,le=U.length,Be=B.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(U.length<2||B.length<2)return-1;ce=2,le/=2,Be/=2,P/=2}function it(Le,Ze){return ce===1?Le[Ze]:Le.readUInt16BE(Ze*ce)}let Re;if(ae){let Le=-1;for(Re=P;Re<le;Re++)if(it(U,Re)===it(B,Le===-1?0:Re-Le)){if(Le===-1&&(Le=Re),Re-Le+1===Be)return Le*ce}else Le!==-1&&(Re-=Re-Le),Le=-1}else for(P+Be>le&&(P=le-Be),Re=P;Re>=0;Re--){let Le=!0;for(let Ze=0;Ze<Be;Ze++)if(it(U,Re+Ze)!==it(B,Ze)){Le=!1;break}if(Le)return Re}return-1}o.prototype.includes=function(B,P,G){return this.indexOf(B,P,G)!==-1},o.prototype.indexOf=function(B,P,G){return K(this,B,P,G,!0)},o.prototype.lastIndexOf=function(B,P,G){return K(this,B,P,G,!1)};function D(U,B,P,G){P=Number(P)||0;const ae=U.length-P;G?(G=Number(G),G>ae&&(G=ae)):G=ae;const ce=B.length;G>ce/2&&(G=ce/2);let le;for(le=0;le<G;++le){const Be=parseInt(B.substr(le*2,2),16);if(kt(Be))return le;U[P+le]=Be}return le}function Q(U,B,P,G){return ye(J(B,U.length-P),U,P,G)}function Y(U,B,P,G){return ye(ne(B),U,P,G)}function M(U,B,P,G){return ye(ve(B),U,P,G)}function m(U,B,P,G){return ye(fe(B,U.length-P),U,P,G)}o.prototype.write=function(B,P,G,ae){if(P===void 0)ae="utf8",G=this.length,P=0;else if(G===void 0&&typeof P=="string")ae=P,G=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(G)?(G=G>>>0,ae===void 0&&(ae="utf8")):(ae=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-P;if((G===void 0||G>ce)&&(G=ce),B.length>0&&(G<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let le=!1;for(;;)switch(ae){case"hex":return D(this,B,P,G);case"utf8":case"utf-8":return Q(this,B,P,G);case"ascii":case"latin1":case"binary":return Y(this,B,P,G);case"base64":return M(this,B,P,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,B,P,G);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),le=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(U,B,P){return B===0&&P===U.length?e.fromByteArray(U):e.fromByteArray(U.slice(B,P))}function b(U,B,P){P=Math.min(U.length,P);const G=[];let ae=B;for(;ae<P;){const ce=U[ae];let le=null,Be=ce>239?4:ce>223?3:ce>191?2:1;if(ae+Be<=P){let it,Re,Le,Ze;switch(Be){case 1:ce<128&&(le=ce);break;case 2:it=U[ae+1],(it&192)===128&&(Ze=(ce&31)<<6|it&63,Ze>127&&(le=Ze));break;case 3:it=U[ae+1],Re=U[ae+2],(it&192)===128&&(Re&192)===128&&(Ze=(ce&15)<<12|(it&63)<<6|Re&63,Ze>2047&&(Ze<55296||Ze>57343)&&(le=Ze));break;case 4:it=U[ae+1],Re=U[ae+2],Le=U[ae+3],(it&192)===128&&(Re&192)===128&&(Le&192)===128&&(Ze=(ce&15)<<18|(it&63)<<12|(Re&63)<<6|Le&63,Ze>65535&&Ze<1114112&&(le=Ze))}}le===null?(le=65533,Be=1):le>65535&&(le-=65536,G.push(le>>>10&1023|55296),le=56320|le&1023),G.push(le),ae+=Be}return d(G)}const v=4096;function d(U){const B=U.length;if(B<=v)return String.fromCharCode.apply(String,U);let P="",G=0;for(;G<B;)P+=String.fromCharCode.apply(String,U.slice(G,G+=v));return P}function y(U,B,P){let G="";P=Math.min(U.length,P);for(let ae=B;ae<P;++ae)G+=String.fromCharCode(U[ae]&127);return G}function S(U,B,P){let G="";P=Math.min(U.length,P);for(let ae=B;ae<P;++ae)G+=String.fromCharCode(U[ae]);return G}function E(U,B,P){const G=U.length;(!B||B<0)&&(B=0),(!P||P<0||P>G)&&(P=G);let ae="";for(let ce=B;ce<P;++ce)ae+=He[U[ce]];return ae}function p(U,B,P){const G=U.slice(B,P);let ae="";for(let ce=0;ce<G.length-1;ce+=2)ae+=String.fromCharCode(G[ce]+G[ce+1]*256);return ae}o.prototype.slice=function(B,P){const G=this.length;B=~~B,P=P===void 0?G:~~P,B<0?(B+=G,B<0&&(B=0)):B>G&&(B=G),P<0?(P+=G,P<0&&(P=0)):P>G&&(P=G),P<B&&(P=B);const ae=this.subarray(B,P);return Object.setPrototypeOf(ae,o.prototype),ae};function O(U,B,P){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+B>P)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(B,P,G){B=B>>>0,P=P>>>0,G||O(B,P,this.length);let ae=this[B],ce=1,le=0;for(;++le<P&&(ce*=256);)ae+=this[B+le]*ce;return ae},o.prototype.readUintBE=o.prototype.readUIntBE=function(B,P,G){B=B>>>0,P=P>>>0,G||O(B,P,this.length);let ae=this[B+--P],ce=1;for(;P>0&&(ce*=256);)ae+=this[B+--P]*ce;return ae},o.prototype.readUint8=o.prototype.readUInt8=function(B,P){return B=B>>>0,P||O(B,1,this.length),this[B]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(B,P){return B=B>>>0,P||O(B,2,this.length),this[B]|this[B+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(B,P){return B=B>>>0,P||O(B,2,this.length),this[B]<<8|this[B+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(B,P){return B=B>>>0,P||O(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(B,P){return B=B>>>0,P||O(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},o.prototype.readBigUInt64LE=qe(function(B){B=B>>>0,re(B,"offset");const P=this[B],G=this[B+7];(P===void 0||G===void 0)&&ue(B,this.length-8);const ae=P+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,ce=this[++B]+this[++B]*2**8+this[++B]*2**16+G*2**24;return BigInt(ae)+(BigInt(ce)<<BigInt(32))}),o.prototype.readBigUInt64BE=qe(function(B){B=B>>>0,re(B,"offset");const P=this[B],G=this[B+7];(P===void 0||G===void 0)&&ue(B,this.length-8);const ae=P*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],ce=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+G;return(BigInt(ae)<<BigInt(32))+BigInt(ce)}),o.prototype.readIntLE=function(B,P,G){B=B>>>0,P=P>>>0,G||O(B,P,this.length);let ae=this[B],ce=1,le=0;for(;++le<P&&(ce*=256);)ae+=this[B+le]*ce;return ce*=128,ae>=ce&&(ae-=Math.pow(2,8*P)),ae},o.prototype.readIntBE=function(B,P,G){B=B>>>0,P=P>>>0,G||O(B,P,this.length);let ae=P,ce=1,le=this[B+--ae];for(;ae>0&&(ce*=256);)le+=this[B+--ae]*ce;return ce*=128,le>=ce&&(le-=Math.pow(2,8*P)),le},o.prototype.readInt8=function(B,P){return B=B>>>0,P||O(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},o.prototype.readInt16LE=function(B,P){B=B>>>0,P||O(B,2,this.length);const G=this[B]|this[B+1]<<8;return G&32768?G|4294901760:G},o.prototype.readInt16BE=function(B,P){B=B>>>0,P||O(B,2,this.length);const G=this[B+1]|this[B]<<8;return G&32768?G|4294901760:G},o.prototype.readInt32LE=function(B,P){return B=B>>>0,P||O(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},o.prototype.readInt32BE=function(B,P){return B=B>>>0,P||O(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},o.prototype.readBigInt64LE=qe(function(B){B=B>>>0,re(B,"offset");const P=this[B],G=this[B+7];(P===void 0||G===void 0)&&ue(B,this.length-8);const ae=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(G<<24);return(BigInt(ae)<<BigInt(32))+BigInt(P+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),o.prototype.readBigInt64BE=qe(function(B){B=B>>>0,re(B,"offset");const P=this[B],G=this[B+7];(P===void 0||G===void 0)&&ue(B,this.length-8);const ae=(P<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(ae)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+G)}),o.prototype.readFloatLE=function(B,P){return B=B>>>0,P||O(B,4,this.length),r.read(this,B,!0,23,4)},o.prototype.readFloatBE=function(B,P){return B=B>>>0,P||O(B,4,this.length),r.read(this,B,!1,23,4)},o.prototype.readDoubleLE=function(B,P){return B=B>>>0,P||O(B,8,this.length),r.read(this,B,!0,52,8)},o.prototype.readDoubleBE=function(B,P){return B=B>>>0,P||O(B,8,this.length),r.read(this,B,!1,52,8)};function k(U,B,P,G,ae,ce){if(!o.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ae||B<ce)throw new RangeError('"value" argument is out of bounds');if(P+G>U.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(B,P,G,ae){if(B=+B,P=P>>>0,G=G>>>0,!ae){const Be=Math.pow(2,8*G)-1;k(this,B,P,G,Be,0)}let ce=1,le=0;for(this[P]=B&255;++le<G&&(ce*=256);)this[P+le]=B/ce&255;return P+G},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(B,P,G,ae){if(B=+B,P=P>>>0,G=G>>>0,!ae){const Be=Math.pow(2,8*G)-1;k(this,B,P,G,Be,0)}let ce=G-1,le=1;for(this[P+ce]=B&255;--ce>=0&&(le*=256);)this[P+ce]=B/le&255;return P+G},o.prototype.writeUint8=o.prototype.writeUInt8=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,1,255,0),this[P]=B&255,P+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,2,65535,0),this[P]=B&255,this[P+1]=B>>>8,P+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,2,65535,0),this[P]=B>>>8,this[P+1]=B&255,P+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,4,4294967295,0),this[P+3]=B>>>24,this[P+2]=B>>>16,this[P+1]=B>>>8,this[P]=B&255,P+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,4,4294967295,0),this[P]=B>>>24,this[P+1]=B>>>16,this[P+2]=B>>>8,this[P+3]=B&255,P+4};function L(U,B,P,G,ae){$(B,G,ae,U,P,7);let ce=Number(B&BigInt(4294967295));U[P++]=ce,ce=ce>>8,U[P++]=ce,ce=ce>>8,U[P++]=ce,ce=ce>>8,U[P++]=ce;let le=Number(B>>BigInt(32)&BigInt(4294967295));return U[P++]=le,le=le>>8,U[P++]=le,le=le>>8,U[P++]=le,le=le>>8,U[P++]=le,P}function j(U,B,P,G,ae){$(B,G,ae,U,P,7);let ce=Number(B&BigInt(4294967295));U[P+7]=ce,ce=ce>>8,U[P+6]=ce,ce=ce>>8,U[P+5]=ce,ce=ce>>8,U[P+4]=ce;let le=Number(B>>BigInt(32)&BigInt(4294967295));return U[P+3]=le,le=le>>8,U[P+2]=le,le=le>>8,U[P+1]=le,le=le>>8,U[P]=le,P+8}o.prototype.writeBigUInt64LE=qe(function(B,P=0){return L(this,B,P,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=qe(function(B,P=0){return j(this,B,P,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(B,P,G,ae){if(B=+B,P=P>>>0,!ae){const it=Math.pow(2,8*G-1);k(this,B,P,G,it-1,-it)}let ce=0,le=1,Be=0;for(this[P]=B&255;++ce<G&&(le*=256);)B<0&&Be===0&&this[P+ce-1]!==0&&(Be=1),this[P+ce]=(B/le>>0)-Be&255;return P+G},o.prototype.writeIntBE=function(B,P,G,ae){if(B=+B,P=P>>>0,!ae){const it=Math.pow(2,8*G-1);k(this,B,P,G,it-1,-it)}let ce=G-1,le=1,Be=0;for(this[P+ce]=B&255;--ce>=0&&(le*=256);)B<0&&Be===0&&this[P+ce+1]!==0&&(Be=1),this[P+ce]=(B/le>>0)-Be&255;return P+G},o.prototype.writeInt8=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,1,127,-128),B<0&&(B=255+B+1),this[P]=B&255,P+1},o.prototype.writeInt16LE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,2,32767,-32768),this[P]=B&255,this[P+1]=B>>>8,P+2},o.prototype.writeInt16BE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,2,32767,-32768),this[P]=B>>>8,this[P+1]=B&255,P+2},o.prototype.writeInt32LE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,4,2147483647,-2147483648),this[P]=B&255,this[P+1]=B>>>8,this[P+2]=B>>>16,this[P+3]=B>>>24,P+4},o.prototype.writeInt32BE=function(B,P,G){return B=+B,P=P>>>0,G||k(this,B,P,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[P]=B>>>24,this[P+1]=B>>>16,this[P+2]=B>>>8,this[P+3]=B&255,P+4},o.prototype.writeBigInt64LE=qe(function(B,P=0){return L(this,B,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=qe(function(B,P=0){return j(this,B,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(U,B,P,G,ae,ce){if(P+G>U.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function H(U,B,P,G,ae){return B=+B,P=P>>>0,ae||q(U,B,P,4),r.write(U,B,P,G,23,4),P+4}o.prototype.writeFloatLE=function(B,P,G){return H(this,B,P,!0,G)},o.prototype.writeFloatBE=function(B,P,G){return H(this,B,P,!1,G)};function z(U,B,P,G,ae){return B=+B,P=P>>>0,ae||q(U,B,P,8),r.write(U,B,P,G,52,8),P+8}o.prototype.writeDoubleLE=function(B,P,G){return z(this,B,P,!0,G)},o.prototype.writeDoubleBE=function(B,P,G){return z(this,B,P,!1,G)},o.prototype.copy=function(B,P,G,ae){if(!o.isBuffer(B))throw new TypeError("argument should be a Buffer");if(G||(G=0),!ae&&ae!==0&&(ae=this.length),P>=B.length&&(P=B.length),P||(P=0),ae>0&&ae<G&&(ae=G),ae===G||B.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),B.length-P<ae-G&&(ae=B.length-P+G);const ce=ae-G;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,G,ae):Uint8Array.prototype.set.call(B,this.subarray(G,ae),P),ce},o.prototype.fill=function(B,P,G,ae){if(typeof B=="string"){if(typeof P=="string"?(ae=P,P=0,G=this.length):typeof G=="string"&&(ae=G,G=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!o.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(B.length===1){const le=B.charCodeAt(0);(ae==="utf8"&&le<128||ae==="latin1")&&(B=le)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(P<0||this.length<P||this.length<G)throw new RangeError("Out of range index");if(G<=P)return this;P=P>>>0,G=G===void 0?this.length:G>>>0,B||(B=0);let ce;if(typeof B=="number")for(ce=P;ce<G;++ce)this[ce]=B;else{const le=o.isBuffer(B)?B:o.from(B,ae),Be=le.length;if(Be===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(ce=0;ce<G-P;++ce)this[ce+P]=le[ce%Be]}return this};const X={};function ee(U,B,P){X[U]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(U,B){return`The "${U}" argument must be of type number. Received type ${typeof B}`},TypeError),ee("ERR_OUT_OF_RANGE",function(U,B,P){let G=`The value of "${U}" is out of range.`,ae=P;return Number.isInteger(P)&&Math.abs(P)>2**32?ae=ie(String(P)):typeof P=="bigint"&&(ae=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(ae=ie(ae)),ae+="n"),G+=` It must be ${B}. Received ${ae}`,G},RangeError);function ie(U){let B="",P=U.length;const G=U[0]==="-"?1:0;for(;P>=G+4;P-=3)B=`_${U.slice(P-3,P)}${B}`;return`${U.slice(0,P)}${B}`}function F(U,B,P){re(B,"offset"),(U[B]===void 0||U[B+P]===void 0)&&ue(B,U.length-(P+1))}function $(U,B,P,G,ae,ce){if(U>P||U<B){const le=typeof B=="bigint"?"n":"";let Be;throw B===0||B===BigInt(0)?Be=`>= 0${le} and < 2${le} ** ${(ce+1)*8}${le}`:Be=`>= -(2${le} ** ${(ce+1)*8-1}${le}) and < 2 ** ${(ce+1)*8-1}${le}`,new X.ERR_OUT_OF_RANGE("value",Be,U)}F(G,ae,ce)}function re(U,B){if(typeof U!="number")throw new X.ERR_INVALID_ARG_TYPE(B,"number",U)}function ue(U,B,P){throw Math.floor(U)!==U?(re(U,P),new X.ERR_OUT_OF_RANGE("offset","an integer",U)):B<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,U)}const de=/[^+/0-9A-Za-z-_]/g;function W(U){if(U=U.split("=")[0],U=U.trim().replace(de,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function J(U,B){B=B||1/0;let P;const G=U.length;let ae=null;const ce=[];for(let le=0;le<G;++le){if(P=U.charCodeAt(le),P>55295&&P<57344){if(!ae){if(P>56319){(B-=3)>-1&&ce.push(239,191,189);continue}else if(le+1===G){(B-=3)>-1&&ce.push(239,191,189);continue}ae=P;continue}if(P<56320){(B-=3)>-1&&ce.push(239,191,189),ae=P;continue}P=(ae-55296<<10|P-56320)+65536}else ae&&(B-=3)>-1&&ce.push(239,191,189);if(ae=null,P<128){if((B-=1)<0)break;ce.push(P)}else if(P<2048){if((B-=2)<0)break;ce.push(P>>6|192,P&63|128)}else if(P<65536){if((B-=3)<0)break;ce.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((B-=4)<0)break;ce.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ce}function ne(U){const B=[];for(let P=0;P<U.length;++P)B.push(U.charCodeAt(P)&255);return B}function fe(U,B){let P,G,ae;const ce=[];for(let le=0;le<U.length&&!((B-=2)<0);++le)P=U.charCodeAt(le),G=P>>8,ae=P%256,ce.push(ae),ce.push(G);return ce}function ve(U){return e.toByteArray(W(U))}function ye(U,B,P,G){let ae;for(ae=0;ae<G&&!(ae+P>=B.length||ae>=U.length);++ae)B[ae+P]=U[ae];return ae}function Ce(U,B){return U instanceof B||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===B.name}function kt(U){return U!==U}const He=function(){const U="0123456789abcdef",B=new Array(256);for(let P=0;P<16;++P){const G=P*16;for(let ae=0;ae<16;++ae)B[G+ae]=U[P]+U[ae]}return B}();function qe(U){return typeof BigInt>"u"?cn:U}function cn(){throw new Error("BigInt not supported")}})(Go);function ib(...t){return new Uint8Array(t.reduce((e,r)=>(e.push(...Oe(r)),e),[]))}function ZW(t,e){return Go.Buffer.from(Oe(t)).toString(e)}function Oe(t,e){if(t instanceof Uint8Array)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(typeof t=="string"){if(e!==void 0)return Go.Buffer.from(t,e);const n=t.startsWith("0x")?t.slice(2):t,i=n.length%2===0?n:`0${n}`,a=Go.Buffer.from(i,"hex");if(a.length*2!==i.length)throw new Error(`Invalid bytes ${t}`);return a}if(Array.from(t).some(n=>n<0||255<n))throw new Error(`Invalid bytes ${JSON.stringify(t)}`);return new Uint8Array(t)}function _u(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function JW(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ab(t,...e){if(!JW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function eX(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_u(t.outputLen),_u(t.blockLen)}function vf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ew(t,e){ab(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const gl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i1=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),S_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),As=(t,e)=>t<<32-e|t>>>e,hg=(t,e)=>t<<e|t>>>32-e>>>0,go=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,sR=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,bo=go?t=>t:t=>sR(t);function Dc(t){for(let e=0;e<t.length;e++)t[e]=sR(t[e])}function tX(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function No(t){return typeof t=="string"&&(t=tX(t)),ab(t),t}function rX(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ab(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}let wv=class{clone(){return this._cloneInto()}};function xw(t){const e=n=>t().update(No(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function nX(t){const e=(n,i)=>t(i).update(No(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function oR(t=32){if(gl&&typeof gl.getRandomValues=="function")return gl.getRandomValues(new Uint8Array(t));if(gl&&typeof gl.randomBytes=="function")return gl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const iX=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class aX extends wv{constructor(e,r,n={},i,a,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,_u(e),_u(r),_u(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==a)throw new Error(`salt must be ${a} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=i1(this.buffer=new Uint8Array(e))}update(e){vf(this);const{blockLen:r,buffer:n,buffer32:i}=this;e=No(e);const a=e.length,s=e.byteOffset,o=e.buffer;for(let c=0;c<a;){this.pos===r&&(go||Dc(i),this.compress(i,0,!1),go||Dc(i),this.pos=0);const f=Math.min(r-this.pos,a-c),u=s+c;if(f===r&&!(u%4)&&c+f<a){const l=new Uint32Array(o,u,Math.floor((a-c)/4));go||Dc(l);for(let h=0;c+r<a;h+=i.length,c+=r)this.length+=r,this.compress(l,h,!1);go||Dc(l);continue}n.set(e.subarray(c,c+f),this.pos),this.pos+=f,this.length+=f,c+=f}return this}digestInto(e){vf(this),Ew(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),go||Dc(n),this.compress(n,0,!0),go||Dc(n);const i=i1(e);this.get().forEach((a,s)=>i[s]=bo(a))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:a,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=a,e.outputLen=s,e.buffer.set(r),e.pos=o,e}}const pg=BigInt(2**32-1),G6=BigInt(32);function cR(t,e=!1){return e?{h:Number(t&pg),l:Number(t>>G6&pg)}:{h:Number(t>>G6&pg)|0,l:Number(t&pg)|0}}function fR(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=cR(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const sX=(t,e)=>BigInt(t>>>0)<<G6|BigInt(e>>>0),oX=(t,e,r)=>t>>>r,cX=(t,e,r)=>t<<32-r|e>>>r,fX=(t,e,r)=>t>>>r|e<<32-r,uX=(t,e,r)=>t<<32-r|e>>>r,lX=(t,e,r)=>t<<64-r|e>>>r-32,dX=(t,e,r)=>t>>>r-32|e<<64-r,hX=(t,e)=>e,pX=(t,e)=>t,uR=(t,e,r)=>t<<r|e>>>32-r,lR=(t,e,r)=>e<<r|t>>>32-r,dR=(t,e,r)=>e<<r-32|t>>>64-r,hR=(t,e,r)=>t<<r-32|e>>>64-r;function bX(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const gX=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),yX=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,vX=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),mX=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,_X=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),wX=(t,e,r,n,i,a)=>e+r+n+i+a+(t/2**32|0)|0,Un={fromBig:cR,split:fR,toBig:sX,shrSH:oX,shrSL:cX,rotrSH:fX,rotrSL:uX,rotrBH:lX,rotrBL:dX,rotr32H:hX,rotr32L:pX,rotlSH:uR,rotlSL:lR,rotlBH:dR,rotlBL:hR,add:bX,add3L:gX,add3H:yX,add4L:vX,add4H:mX,add5H:wX,add5L:_X},vr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ae=new Uint32Array(32);function bc(t,e,r,n,i,a){const s=i[a],o=i[a+1];let c=Ae[2*t],f=Ae[2*t+1],u=Ae[2*e],l=Ae[2*e+1],h=Ae[2*r],g=Ae[2*r+1],_=Ae[2*n],A=Ae[2*n+1],C=Un.add3L(c,u,s);f=Un.add3H(C,f,l,o),c=C|0,{Dh:A,Dl:_}={Dh:A^f,Dl:_^c},{Dh:A,Dl:_}={Dh:Un.rotr32H(A,_),Dl:Un.rotr32L(A,_)},{h:g,l:h}=Un.add(g,h,A,_),{Bh:l,Bl:u}={Bh:l^g,Bl:u^h},{Bh:l,Bl:u}={Bh:Un.rotrSH(l,u,24),Bl:Un.rotrSL(l,u,24)},Ae[2*t]=c,Ae[2*t+1]=f,Ae[2*e]=u,Ae[2*e+1]=l,Ae[2*r]=h,Ae[2*r+1]=g,Ae[2*n]=_,Ae[2*n+1]=A}function gc(t,e,r,n,i,a){const s=i[a],o=i[a+1];let c=Ae[2*t],f=Ae[2*t+1],u=Ae[2*e],l=Ae[2*e+1],h=Ae[2*r],g=Ae[2*r+1],_=Ae[2*n],A=Ae[2*n+1],C=Un.add3L(c,u,s);f=Un.add3H(C,f,l,o),c=C|0,{Dh:A,Dl:_}={Dh:A^f,Dl:_^c},{Dh:A,Dl:_}={Dh:Un.rotrSH(A,_,16),Dl:Un.rotrSL(A,_,16)},{h:g,l:h}=Un.add(g,h,A,_),{Bh:l,Bl:u}={Bh:l^g,Bl:u^h},{Bh:l,Bl:u}={Bh:Un.rotrBH(l,u,63),Bl:Un.rotrBL(l,u,63)},Ae[2*t]=c,Ae[2*t+1]=f,Ae[2*e]=u,Ae[2*e+1]=l,Ae[2*r]=h,Ae[2*r+1]=g,Ae[2*n]=_,Ae[2*n+1]=A}class AX extends aX{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=vr[0]|0,this.v0h=vr[1]|0,this.v1l=vr[2]|0,this.v1h=vr[3]|0,this.v2l=vr[4]|0,this.v2h=vr[5]|0,this.v3l=vr[6]|0,this.v3h=vr[7]|0,this.v4l=vr[8]|0,this.v4h=vr[9]|0,this.v5l=vr[10]|0,this.v5h=vr[11]|0,this.v6l=vr[12]|0,this.v6h=vr[13]|0,this.v7l=vr[14]|0,this.v7h=vr[15]|0;const r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){const n=i1(No(e.salt));this.v4l^=bo(n[0]),this.v4h^=bo(n[1]),this.v5l^=bo(n[2]),this.v5h^=bo(n[3])}if(e.personalization){const n=i1(No(e.personalization));this.v6l^=bo(n[0]),this.v6h^=bo(n[1]),this.v7l^=bo(n[2]),this.v7h^=bo(n[3])}if(e.key){const n=new Uint8Array(this.blockLen);n.set(No(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:a,v2h:s,v3l:o,v3h:c,v4l:f,v4h:u,v5l:l,v5h:h,v6l:g,v6h:_,v7l:A,v7h:C}=this;return[e,r,n,i,a,s,o,c,f,u,l,h,g,_,A,C]}set(e,r,n,i,a,s,o,c,f,u,l,h,g,_,A,C){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=a|0,this.v2h=s|0,this.v3l=o|0,this.v3h=c|0,this.v4l=f|0,this.v4h=u|0,this.v5l=l|0,this.v5h=h|0,this.v6l=g|0,this.v6h=_|0,this.v7l=A|0,this.v7h=C|0}compress(e,r,n){this.get().forEach((c,f)=>Ae[f]=c),Ae.set(vr,16);let{h:i,l:a}=Un.fromBig(BigInt(this.length));Ae[24]=vr[8]^a,Ae[25]=vr[9]^i,n&&(Ae[28]=~Ae[28],Ae[29]=~Ae[29]);let s=0;const o=iX;for(let c=0;c<12;c++)bc(0,4,8,12,e,r+2*o[s++]),gc(0,4,8,12,e,r+2*o[s++]),bc(1,5,9,13,e,r+2*o[s++]),gc(1,5,9,13,e,r+2*o[s++]),bc(2,6,10,14,e,r+2*o[s++]),gc(2,6,10,14,e,r+2*o[s++]),bc(3,7,11,15,e,r+2*o[s++]),gc(3,7,11,15,e,r+2*o[s++]),bc(0,5,10,15,e,r+2*o[s++]),gc(0,5,10,15,e,r+2*o[s++]),bc(1,6,11,12,e,r+2*o[s++]),gc(1,6,11,12,e,r+2*o[s++]),bc(2,7,8,13,e,r+2*o[s++]),gc(2,7,8,13,e,r+2*o[s++]),bc(3,4,9,14,e,r+2*o[s++]),gc(3,4,9,14,e,r+2*o[s++]);this.v0l^=Ae[0]^Ae[16],this.v0h^=Ae[1]^Ae[17],this.v1l^=Ae[2]^Ae[18],this.v1h^=Ae[3]^Ae[19],this.v2l^=Ae[4]^Ae[20],this.v2h^=Ae[5]^Ae[21],this.v3l^=Ae[6]^Ae[22],this.v3h^=Ae[7]^Ae[23],this.v4l^=Ae[8]^Ae[24],this.v4h^=Ae[9]^Ae[25],this.v5l^=Ae[10]^Ae[26],this.v5h^=Ae[11]^Ae[27],this.v6l^=Ae[12]^Ae[28],this.v6h^=Ae[13]^Ae[29],this.v7l^=Ae[14]^Ae[30],this.v7h^=Ae[15]^Ae[31],Ae.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const EX=nX(t=>new AX(t));function _e(t){return`0x${ZW(Oe(t),"hex")}`}function xX(t,...e){let r=Ie(t);return e.forEach(n=>{const i=Ie(n);i>r&&(r=i)}),r}function Ie(t){return typeof t=="bigint"?t:BigInt(typeof t=="string"||typeof t=="number"?t:_e(t))}function Xa(t){return`0x${Ie(t).toString(16)}`}function _n(t,e){return SX(t,e)}function SX(t,e){return CX(t,e).reverse()}function CX(t,e){const r=Oe(Ie(t).toString(16));return e==null?r:ib(Array.from(Array(e-r.length),()=>0),r)}function Av(t){return Vh(t)}function Vh(t){return IX([...Oe(t)].reverse())}function IX(t){return Ie(Oe(t))}const TX="ckb-default-hash";class pR{constructor(e=32,r=TX){this.hasher=EX.create({personalization:r,dkLen:e})}update(e){return this.hasher.update(Oe(e)),this}digest(){return _e(this.hasher.digest())}}function sb(...t){const e=new pR;return t.forEach(r=>e.update(r)),e.digest()}const bR=[],gR=[],yR=[],OX=BigInt(0),wh=BigInt(1),BX=BigInt(2),DX=BigInt(7),MX=BigInt(256),PX=BigInt(113);for(let t=0,e=wh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],bR.push(2*(5*n+r)),gR.push((t+1)*(t+2)/2%64);let i=OX;for(let a=0;a<7;a++)e=(e<<wh^(e>>DX)*PX)%MX,e&BX&&(i^=wh<<(wh<<BigInt(a))-wh);yR.push(i)}const[RX,LX]=fR(yR,!0),yx=(t,e,r)=>r>32?dR(t,e,r):uR(t,e,r),vx=(t,e,r)=>r>32?hR(t,e,r):lR(t,e,r);function HX(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,c=(s+2)%10,f=r[c],u=r[c+1],l=yx(f,u,1)^r[o],h=vx(f,u,1)^r[o+1];for(let g=0;g<50;g+=10)t[s+g]^=l,t[s+g+1]^=h}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=gR[s],c=yx(i,a,o),f=vx(i,a,o),u=bR[s];i=t[u],a=t[u+1],t[u]=c,t[u+1]=f}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=RX[n],t[1]^=LX[n]}r.fill(0)}let NX=class vR extends wv{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_u(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=i1(this.state)}keccak(){go||Dc(this.state32),HX(this.state32,this.rounds),go||Dc(this.state32),this.posOut=0,this.pos=0}update(e){vf(this);const{blockLen:r,state:n}=this;e=No(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vf(this,!1),ab(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _u(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ew(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new vR(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}};const $X=(t,e,r)=>xw(()=>new NX(e,t,r)),UX=$X(1,136,256/8);class kX{constructor(){this.hasher=UX.create()}update(e){return this.hasher.update(Oe(e)),this}digest(){return _e(this.hasher.digest())}}function Qy(t,e){throw new Error(`Invalid data length! Required: ${e}, actual: ${t}`)}function gs(t,e){t!==e&&Qy(t,e)}function Pn(t){if(t instanceof Object&&t.toArrayBuffer instanceof Function&&(t=t.toArrayBuffer()),t instanceof Uint8Array)return t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset);if(!(t instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return t}function Sw(t,e,r){t.byteLength<4&&Qy(t.byteLength,">4");const n=t.getUint32(0,!0);if(gs(t.byteLength,n),n===4)return[n];n<8&&Qy(t.byteLength,">8");const i=t.getUint32(4,!0);if(i%4!==0||i<8)throw new Error(`Invalid first offset: ${i}`);const a=i/4-1;if(a<e)throw new Error(`Item count not enough! Required: ${e}, actual: ${a}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const s=[];for(let o=0;o<a;o++){const c=4+o*4;s.push(t.getUint32(c,!0))}s.push(n);for(let o=0;o<s.length-1;o++)if(s[o]>s[o+1])throw new Error(`Offset index ${o}: ${s[o]} is larger than offset index ${o+1}: ${s[o+1]}`);return s}function el(t){const e=t.length;let r=4*(e+1);const n=[];for(let o=0;o<e;o++)n.push(r),r+=t[o].byteLength;const i=new ArrayBuffer(r),a=new Uint8Array(i),s=new DataView(i);s.setUint32(0,r,!0);for(let o=0;o<e;o++)s.setUint32(4+o*4,n[o],!0),a.set(new Uint8Array(t[o]),n[o]);return i}class jg{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){gs(this.view.byteLength,4)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function mR(t){const e=Pn(t);return gs(e.byteLength,4),e}class Ao{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){gs(this.view.byteLength,8)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 8}}function _R(t){const e=Pn(t);return gs(e.byteLength,8),e}class Ja{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){gs(this.view.byteLength,32)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 32}}function Cw(t){const e=Pn(t);return gs(e.byteLength,32),e}class W6{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){this.view.byteLength<4&&Qy(this.view.byteLength,">4");const r=this.length()+4;gs(this.view.byteLength,r)}raw(){return this.view.buffer.slice(4)}indexAt(e){return this.view.getUint8(4+e)}length(){return this.view.getUint32(0,!0)}}function Iw(t){const e=Pn(t),r=new Uint8Array(4+e.byteLength);return new DataView(r.buffer).setUint32(0,e.byteLength,!0),r.set(new Uint8Array(e),4),r.buffer}class yl{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new W6(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function C_(t){return t?Iw(t):new ArrayBuffer(0)}function wR(t){return el(t.map(e=>Iw(e)))}function zX(t){const e=new Uint8Array(4+Ja.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=Cw(t[r]);e.set(new Uint8Array(n),4+r*Ja.size())}return e.buffer}class mx{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new a1(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function FX(t){return t?Tw(t):new ArrayBuffer(0)}function jX(t){const e=new Uint8Array(4+Gy.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=IR(t[r]);e.set(new Uint8Array(n),4+r*Gy.size())}return e.buffer}function qX(t){const e=new Uint8Array(4+Yy.size()*t.length);new DataView(e.buffer).setUint32(0,t.length,!0);for(let r=0;r<t.length;r++){const n=xR(t[r]);e.set(new Uint8Array(n),4+r*Yy.size())}return e.buffer}function KX(t){return el(t.map(e=>SR(e)))}let a1=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){const r=Sw(this.view,0);if(new Ja(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),r[2]-r[1]!==1)throw new Error(`Invalid offset for hashType: ${r[1]} - ${r[2]}`);new W6(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCodeHash(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new Ja(this.view.buffer.slice(r,n),{validate:!1})}getHashType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(r,n)).getUint8(0)}getArgs(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new W6(this.view.buffer.slice(r,n),{validate:!1})}};function Tw(t){const e=[];e.push(Cw(t.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,t.hashType),e.push(r.buffer),e.push(Iw(t.args)),el(e)}let Aa=class AR{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}getTxHash(){return new Ja(this.view.buffer.slice(0,0+Ja.size()),{validate:!1})}getIndex(){return new jg(this.view.buffer.slice(0+Ja.size(),0+Ja.size()+jg.size()),{validate:!1})}validate(e=!1){gs(this.view.byteLength,AR.size()),this.getTxHash().validate(e),this.getIndex().validate(e)}static size(){return 0+Ja.size()+jg.size()}};function Ow(t){const e=new Uint8Array(0+Ja.size()+jg.size());return new DataView(e.buffer),e.set(new Uint8Array(Cw(t.txHash)),0),e.set(new Uint8Array(mR(t.index)),0+Ja.size()),e.buffer}let Yy=class ER{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}getSince(){return new Ao(this.view.buffer.slice(0,0+Ao.size()),{validate:!1})}getPreviousOutput(){return new Aa(this.view.buffer.slice(0+Ao.size(),0+Ao.size()+Aa.size()),{validate:!1})}validate(e=!1){gs(this.view.byteLength,ER.size()),this.getSince().validate(e),this.getPreviousOutput().validate(e)}static size(){return 0+Ao.size()+Aa.size()}};function xR(t){const e=new Uint8Array(0+Ao.size()+Aa.size());return new DataView(e.buffer),e.set(new Uint8Array(_R(t.since)),0),e.set(new Uint8Array(Ow(t.previousOutput)),0+Ao.size()),e.buffer}let _x=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){const r=Sw(this.view,0);new Ao(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new a1(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new mx(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getCapacity(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new Ao(this.view.buffer.slice(r,n),{validate:!1})}getLock(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new a1(this.view.buffer.slice(r,n),{validate:!1})}getType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new mx(this.view.buffer.slice(r,n),{validate:!1})}};function SR(t){const e=[];return e.push(_R(t.capacity)),e.push(Tw(t.lock)),e.push(FX(t.type)),el(e)}let Gy=class CR{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}getOutPoint(){return new Aa(this.view.buffer.slice(0,0+Aa.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+Aa.size())}validate(e=!1){gs(this.view.byteLength,CR.size()),this.getOutPoint().validate(e)}static size(){return 0+Aa.size()+1}};function IR(t){const e=new Uint8Array(0+Aa.size()+1),r=new DataView(e.buffer);return e.set(new Uint8Array(Ow(t.outPoint)),0),r.setUint8(0+Aa.size(),t.depType),e.buffer}function TR(t){const e=[];return e.push(mR(t.version)),e.push(jX(t.cellDeps)),e.push(zX(t.headerDeps)),e.push(qX(t.inputs)),e.push(KX(t.outputs)),e.push(wR(t.outputsData)),el(e)}function VX(t){const e=[];return e.push(TR(t.raw)),e.push(wR(t.witnesses)),el(e)}let wx=class{constructor(e,{validate:r=!0}={}){this.view=new DataView(Pn(e)),r&&this.validate()}validate(e=!1){const r=Sw(this.view,0);new yl(this.view.buffer.slice(r[0],r[1]),{validate:!1}).validate(),new yl(this.view.buffer.slice(r[1],r[2]),{validate:!1}).validate(),new yl(this.view.buffer.slice(r[2],r[3]),{validate:!1}).validate()}getLock(){const r=this.view.getUint32(4,!0),n=this.view.getUint32(8,!0);return new yl(this.view.buffer.slice(r,n),{validate:!1})}getInputType(){const r=this.view.getUint32(8,!0),n=this.view.getUint32(12,!0);return new yl(this.view.buffer.slice(r,n),{validate:!1})}getOutputType(){const r=this.view.getUint32(12,!0),n=this.view.byteLength;return new yl(this.view.buffer.slice(r,n),{validate:!1})}};function QX(t){const e=[];return e.push(C_(t.lock)),e.push(C_(t.inputType)),e.push(C_(t.outputType)),el(e)}function qg(t){if(t.hasValue())return t.value()}const OR={type:1,data:0,data1:2,data2:4},X6={1:"type",0:"data",2:"data1",4:"data2"},YX=Object.keys(OR);function Ev(t){const e=(()=>{if(typeof t=="number")return X6[t];if(typeof t=="bigint")return X6[Number(t)];if(YX.includes(t))return t})();if(e===void 0)throw new Error(`Invalid hash type ${t}`);return e}function BR(t){return Oe([OR[Ev(t)]])}function DR(t){return X6[Oe(t)[0]]}class st{constructor(e,r,n){this.codeHash=e,this.hashType=r,this.args=n}get occupiedSize(){return 33+Oe(this.args).length}clone(){return new st(this.codeHash,this.hashType,this.args)}static from(e){return e instanceof st?e:new st(_e(e.codeHash),Ev(e.hashType),_e(e.args))}static async fromKnownScript(e,r,n){const i=await e.getKnownScript(r);return new st(i.codeHash,i.hashType,_e(n))}_toMolData(){return{codeHash:Oe(this.codeHash),hashType:BR(this.hashType),args:Oe(this.args)}}toBytes(){return Oe(Tw(this._toMolData()))}hash(){return sb(this.toBytes())}static fromBytes(e){const r=e instanceof a1?e:new a1(Oe(e));return new st(_e(r.getCodeHash().raw()),DR([r.getHashType()]),_e(r.getArgs().raw()))}eq(e){const r=st.from(e);return this.codeHash===r.codeHash&&this.args===r.args&&this.hashType===r.hashType}}function GX(t,e=8){const r=Ap(t).toString();if(e===0)return r;const n=r.length<=e?"0":r.slice(0,-e),i=r.slice(-e).padStart(e,"0").replace(/0*$/,"");return i===""?n:`${n}.${i}`}function Ap(t,e=8){if(typeof t=="bigint")return t;const[r,n]=(typeof t=="number"?t.toFixed(e):t.toString()).split("."),i=BigInt(r.padEnd(r.length+e,"0"));return n===void 0?i:i+BigInt(n.slice(0,e).padEnd(e,"0"))}const qa=0n;Ap("1");function Ne(t,e){if(e!=null)return t(e)}async function Vd(t,e,r){if(r===void 0){if(t.length===0)throw new TypeError("Reduce of empty array with no initial value");r=t[0],t=t.slice(1)}return t.reduce((n,i,a,s)=>n.then(o=>Promise.resolve(e(o,i,a,s)).then(c=>c??o)),Promise.resolve(r))}function WX(t){return new Promise(e=>setTimeout(e,Number(Ie(t))))}function XX(t){return/webview|wv|ip((?!.*Safari)|(?=.*like Safari))/i.test(t)}const ZX={code:0,depGroup:1},Z6={0:"code",1:"depGroup"};function Bw(t){const e=typeof t=="number"?Z6[t]:typeof t=="bigint"?Z6[Number(t)]:t;if(e===void 0)throw new Error(`Invalid dep type ${t}`);return e}function JX(t){return Oe([ZX[Bw(t)]])}function eZ(t){return Z6[Oe(t)[0]]}class wr{constructor(e,r){this.txHash=e,this.index=r}clone(){return new wr(this.txHash,this.index)}static from(e){return e instanceof wr?e:new wr(_e(e.txHash),Ie(e.index))}_toMolData(){return{txHash:Oe(this.txHash),index:_n(this.index,4)}}toBytes(){return Oe(Ow(this._toMolData()))}static fromBytes(e){const r=e instanceof Aa?e:new Aa(Oe(e));return new wr(_e(r.getTxHash().raw()),Av(r.getIndex().raw()))}eq(e){const r=wr.from(e);return this.txHash===r.txHash&&this.index===r.index}}class ns{constructor(e,r,n){this.capacity=e,this.lock=r,this.type=n}get occupiedSize(){var e;return 8+this.lock.occupiedSize+(((e=this.type)==null?void 0:e.occupiedSize)??0)}clone(){var e;return new ns(this.capacity,this.lock.clone(),(e=this.type)==null?void 0:e.clone())}static from(e){return e instanceof ns?e:new ns(Ie(e.capacity),st.from(e.lock),Ne(st.from,e.type))}_toMolData(){var e;return{capacity:_n(this.capacity,8),lock:this.lock._toMolData(),type:(e=this.type)==null?void 0:e._toMolData()}}toBytes(){return Oe(SR(this._toMolData()))}static fromBytes(e){const r=e instanceof _x?e:new _x(Oe(e));return new ns(Av(r.getCapacity().raw()),st.fromBytes(r.getLock()),Ne(st.fromBytes,qg(r.getType())))}}class cs{constructor(e,r,n){this.outPoint=e,this.cellOutput=r,this.outputData=n}static from(e){return e instanceof cs?e:new cs(wr.from(e.outPoint),ns.from(e.cellOutput),_e(e.outputData))}clone(){return new cs(this.outPoint.clone(),this.cellOutput.clone(),this.outputData)}}function tZ(t){const e=Oe(_e(t));return[Ie(e.slice(4,7)),Ie(e.slice(2,4)),Ie(e.slice(0,2))]}class Yf{constructor(e,r,n){this.relative=e,this.metric=r,this.value=n}clone(){return new Yf(this.relative,this.metric,this.value)}static from(e){return e instanceof Yf?e:typeof e=="object"&&"relative"in e?new Yf(e.relative,e.metric,Ie(e.value)):Yf.fromNum(e)}toNum(){return this.value|(this.relative==="absolute"?qa:Ie("0x8000000000000000"))|{blockNumber:Ie("0x0000000000000000"),epoch:Ie("0x2000000000000000"),timestamp:Ie("0x4000000000000000")}[this.metric]}static fromNum(e){const r=Ie(e),n=r>>Ie(63)===qa?"absolute":"relative",i=["blockNumber","epoch","timestamp"][Number(r>>Ie(61)&Ie(3))],a=r&Ie("0x00ffffffffffffff");return new Yf(n,i,a)}}class Hs{constructor(e,r,n,i){this.previousOutput=e,this.since=r,this.cellOutput=n,this.outputData=i}clone(){var e;return new Hs(this.previousOutput.clone(),this.since,(e=this.cellOutput)==null?void 0:e.clone(),this.outputData)}static from(e){return e instanceof Hs?e:new Hs(wr.from(e.previousOutput),Yf.from(e.since??0).toNum(),Ne(ns.from,e.cellOutput),Ne(_e,e.outputData))}async completeExtraInfos(e){if(this.cellOutput&&this.outputData)return;const r=await e.getCell(this.previousOutput);r&&(this.cellOutput=r.cellOutput,this.outputData=r.outputData)}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:_n(this.since,8)}}toBytes(){return Oe(xR(this._toMolData()))}static fromBytes(e){const r=e instanceof Yy?e:new Yy(Oe(e));return new Hs(wr.fromBytes(r.getPreviousOutput()),Av(r.getSince().raw()))}}class Bi{constructor(e,r){this.outPoint=e,this.depType=r}clone(){return new Bi(this.outPoint.clone(),this.depType)}static from(e){return e instanceof Bi?e:new Bi(wr.from(e.outPoint),Bw(e.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:JX(this.depType)}}toBytes(){return Oe(IR(this._toMolData()))}fromBytes(e){const r=e instanceof Gy?e:new Gy(Oe(e));return new Bi(wr.fromBytes(r.getOutPoint()),eZ([r.getDepType()]))}eq(e){const r=Bi.from(e);return this.outPoint.eq(r.outPoint)&&this.depType===r.depType}}class fs{constructor(e,r,n){this.lock=e,this.inputType=r,this.outputType=n}static from(e){return e instanceof fs?e:new fs(Ne(_e,e.lock),Ne(_e,e.inputType),Ne(_e,e.outputType))}_toMolData(){return{lock:Ne(Oe,this.lock),inputType:Ne(Oe,this.inputType),outputType:Ne(Oe,this.outputType)}}toBytes(){return Oe(QX(this._toMolData()))}static fromBytes(e){var n,i,a;const r=e instanceof wx?e:new wx(Oe(e));return new fs(Ne(_e,(n=qg(r.getLock()))==null?void 0:n.raw()),Ne(_e,(i=qg(r.getInputType()))==null?void 0:i.raw()),Ne(_e,(a=qg(r.getOutputType()))==null?void 0:a.raw()))}}function I_(t){const e=Oe(t).slice(0,16);if(e.length!==16)throw new Error("Invalid UDT cell data");return Av(e)}class $t{constructor(e,r,n,i,a,s,o){this.version=e,this.cellDeps=r,this.headerDeps=n,this.inputs=i,this.outputs=a,this.outputsData=s,this.witnesses=o}static default(){return new $t(0n,[],[],[],[],[],[])}copy(e){const r=$t.from(e);this.version=r.version,this.cellDeps=r.cellDeps,this.headerDeps=r.headerDeps,this.inputs=r.inputs,this.outputs=r.outputs,this.outputsData=r.outputsData,this.witnesses=r.witnesses}clone(){return new $t(0n,this.cellDeps.map(e=>e.clone()),[...this.headerDeps],this.inputs.map(e=>e.clone()),this.outputs.map(e=>e.clone()),[...this.outputsData],[...this.witnesses])}static from(e){var i,a,s,o,c;if(e instanceof $t)return e;const r=((i=e.outputs)==null?void 0:i.map((f,u)=>{var h,g;const l=ns.from({...f,capacity:f.capacity??0});return l.capacity===qa&&(l.capacity=Ap(l.occupiedSize+(((g=Ne(Oe,(h=e.outputsData)==null?void 0:h[u]))==null?void 0:g.length)??0))),l}))??[],n=r.map((f,u)=>{var l;return _e(((l=e.outputsData)==null?void 0:l[u])??"0x")});return e.outputsData!=null&&n.length<e.outputsData.length&&n.push(...e.outputsData.slice(n.length).map(f=>_e(f))),new $t(Ie(e.version??0),((a=e.cellDeps)==null?void 0:a.map(f=>Bi.from(f)))??[],((s=e.headerDeps)==null?void 0:s.map(_e))??[],((o=e.inputs)==null?void 0:o.map(f=>Hs.from(f)))??[],r,n,((c=e.witnesses)==null?void 0:c.map(_e))??[])}static fromLumosSkeleton(e){return $t.from({version:0n,cellDeps:e.cellDeps.toArray(),headerDeps:e.headerDeps.toArray(),inputs:e.inputs.toArray().map((r,n)=>{if(!r.outPoint)throw new Error("outPoint is required in input");return Hs.from({previousOutput:r.outPoint,since:e.inputSinces.get(n,"0x0"),cellOutput:r.cellOutput,outputData:r.data})}),outputs:e.outputs.toArray().map(r=>r.cellOutput),outputsData:e.outputs.toArray().map(r=>r.data),witnesses:e.witnesses.toArray()})}stringify(){return JSON.stringify(this,(e,r)=>typeof r=="bigint"?Xa(r):r)}rawToBytes(){return Oe(TR({version:_n(this.version,4),cellDeps:this.cellDeps.map(e=>e._toMolData()),headerDeps:this.headerDeps.map(e=>Oe(e)),inputs:this.inputs.map(e=>e._toMolData()),outputs:this.outputs.map(e=>e._toMolData()),outputsData:this.outputsData.map(e=>Oe(e))}))}toBytes(){return Oe(VX({raw:{version:_n(this.version,4),cellDeps:this.cellDeps.map(e=>e._toMolData()),headerDeps:this.headerDeps.map(e=>Oe(e)),inputs:this.inputs.map(e=>e._toMolData()),outputs:this.outputs.map(e=>e._toMolData()),outputsData:this.outputsData.map(e=>Oe(e))},witnesses:this.witnesses.map(e=>Oe(e))}))}hash(){return sb(this.rawToBytes())}static hashWitnessToHasher(e,r){const n=Oe(_e(e));r.update(_n(n.length,8)),r.update(n)}async getSignHashInfo(e,r,n=new pR){const i=st.from(e);let a=-1;n.update(this.hash());for(let s=0;s<this.witnesses.length;s+=1){const o=this.inputs[s];if(o){if(await o.completeExtraInfos(r),!o.cellOutput)throw new Error("Unable to complete input");if(!i.eq(o.cellOutput.lock))continue;a===-1&&(a=s)}if(a===-1)return;$t.hashWitnessToHasher(this.witnesses[s],n)}if(a!==-1)return{message:n.digest(),position:a}}async findInputIndexByLockId(e,r){const n=st.from({...e,args:"0x"});for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.codeHash===a.cellOutput.lock.codeHash&&n.hashType===a.cellOutput.lock.hashType)return i}}async findInputIndexByLock(e,r){const n=st.from(e);for(let i=0;i<this.inputs.length;i+=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}async findLastInputIndexByLock(e,r){const n=st.from(e);for(let i=this.inputs.length-1;i>=0;i-=1){const a=this.inputs[i];if(await a.completeExtraInfos(r),!a.cellOutput)throw new Error("Unable to complete input");if(n.eq(a.cellOutput.lock))return i}}addCellDeps(...e){e.flat().forEach(r=>{const n=Bi.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.push(n)})}addCellDepsAtStart(...e){e.flat().forEach(r=>{const n=Bi.from(r);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.unshift(n)})}async addCellDepInfos(e,...r){this.addCellDeps(await e.getCellDeps(...r))}async addCellDepsOfKnownScripts(e,...r){await Promise.all(r.flat().map(async n=>this.addCellDepInfos(e,(await e.getKnownScript(n)).cellDeps)))}setOutputDataAt(e,r){this.outputsData.length<e&&this.outputsData.push(...Array.from(new Array(e-this.outputsData.length),()=>"0x")),this.outputsData[e]=_e(r)}addOutput(e,r="0x"){const n=ns.from({...e,capacity:e.capacity??0});n.capacity===qa&&(n.capacity=Ap(n.occupiedSize+Oe(r).length));const i=this.outputs.push(n)-1;this.setOutputDataAt(i,r)}getWitnessArgsAt(e){const r=this.witnesses[e];return(r??"0x")!=="0x"?fs.fromBytes(r):void 0}setWitnessArgsAt(e,r){this.witnesses.length<e&&this.witnesses.push(...Array.from(new Array(e-this.witnesses.length),()=>"0x")),this.witnesses[e]=_e(r.toBytes())}async prepareSighashAllWitness(e,r,n){const i=await this.findInputIndexByLock(e,n);if(i===void 0)return;const a=this.getWitnessArgsAt(i)??fs.from({});a.lock=_e(Array.from(new Array(r),()=>0)),this.setWitnessArgsAt(i,a)}async getInputsCapacity(e){return Vd(this.inputs,async(r,n)=>{if(await n.completeExtraInfos(e),!n.cellOutput)throw new Error("Unable to complete input");return r+n.cellOutput.capacity},Ie(0))}getOutputsCapacity(){return this.outputs.reduce((e,{capacity:r})=>e+r,Ie(0))}async getInputsUdtBalance(e,r){return Vd(this.inputs,async(n,i)=>{var a;if(await i.completeExtraInfos(e),!i.cellOutput||!i.outputData)throw new Error("Unable to complete input");if((a=i.cellOutput.type)!=null&&a.eq(r))return n+I_(i.outputData)},Ie(0))}getOutputsUdtBalance(e){return this.outputs.reduce((r,n,i)=>{var a;return(a=n.type)!=null&&a.eq(e)?r+I_(this.outputsData[i]):r},Ie(0))}async completeInputs(e,r,n,i){const a=[];let s=i,o=!1;for await(const c of e.findCells(r,!0)){if(this.inputs.some(({previousOutput:l})=>l.eq(c.outPoint)))continue;const f=a.push(c),u=await Promise.resolve(n(s,c,f-1,a));if(u===void 0){o=!0;break}s=u}return this.inputs.push(...a.map(({outPoint:c,outputData:f,cellOutput:u})=>Hs.from({previousOutput:c,outputData:f,cellOutput:u}))),o?{addedCount:a.length}:{addedCount:a.length,accumulated:s}}async completeInputsByCapacity(e,r,n){const i=this.getOutputsCapacity()+Ie(r??0),a=await this.getInputsCapacity(e.client);if(a>=i)return 0;const{addedCount:s,accumulated:o}=await this.completeInputs(e,n??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(c,{cellOutput:{capacity:f}})=>{const u=c+f;return u>=i?void 0:u},a);if(o===void 0)return s;throw new Error(`Insufficient CKB, need ${GX(i-o)} extra CKB`)}async completeInputsAll(e,r){const{addedCount:n}=await this.completeInputs(e,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(i,{cellOutput:{capacity:a}})=>i+a,qa);return n}async completeInputsByUdt(e,r){const n=this.getOutputsUdtBalance(r),i=await this.getInputsUdtBalance(e.client,r);if(i>=n)return 0;const{addedCount:a,accumulated:s}=await this.completeInputs(e,{script:r,outputDataLenRange:[16,Ie("0xffffffff")]},(o,{outputData:c})=>{const f=I_(c),u=o+f;return u>=n?void 0:u},i);if(s===void 0)return a;throw new Error(`Insufficient coin, need ${n-s} extra coin`)}estimateFee(e){const r=this.toBytes().length+4;return(Ie(r)*Ie(e)+Ie(1e3))/Ie(1e3)}async completeFee(e,r,n,i){const a=n??await e.client.getFeeRate();await this.getInputsCapacity(e.client);let s=qa,o=qa;for(;;){const c=this.clone(),f=await(async()=>{try{return await c.completeInputsByCapacity(e,s+o,i)}catch(g){throw o!==qa?new Error("Not enough capacity for the change cell"):g}})();await e.prepareTransaction(c),s===qa&&(s=c.estimateFee(a));const u=await c.getInputsCapacity(e.client)-c.getOutputsCapacity();if(u===s)return this.copy(c),[f,!1];const l=Ie(await Promise.resolve(r(c,u-s)));if(l>qa){o=l;continue}if(await c.getInputsCapacity(e.client)-c.getOutputsCapacity()!==s)throw new Error("The change function doesn't use all available capacity");await e.prepareTransaction(c);const h=c.estimateFee(a);if(s>h)throw new Error("The change function removed existed transaction data");if(s===h)return this.copy(c),[f,!0];s=h}}completeFeeChangeToLock(e,r,n,i){const a=st.from(r);return this.completeFee(e,(s,o)=>{const c=ns.from({capacity:0,lock:a}),f=Ap(c.occupiedSize);return o<f?f:(c.capacity=o,s.addOutput(c),0)},n,i)}async completeFeeBy(e,r,n){const{script:i}=await e.getRecommendedAddressObj();return this.completeFeeChangeToLock(e,i,r,n)}completeFeeChangeToOutput(e,r,n,i){const a=Number(Ie(r));if(!this.outputs[a])throw new Error("Non-existed output to change");return this.completeFee(e,(s,o)=>(s.outputs[a].capacity+=o,0),n,i)}}class rZ{async markTransactions(...e){await Promise.all([this.recordTransactions(...e),...e.flat().map(r=>{const n=$t.from(r),i=n.hash();return Promise.all([...n.inputs.map(a=>this.markUnusable(a.previousOutput)),...n.outputs.map((a,s)=>this.markUsable({cellOutput:a,outputData:n.outputsData[s],outPoint:{txHash:i,index:s}}))])})])}async recordTransactions(...e){}async getTransaction(e){}async recordCells(...e){}}function Qh([t,e]){return[Ie(t),Ie(e)]}var Me;(function(t){t.NervosDao="NervosDao",t.Secp256k1Blake160="Secp256k1Blake160",t.Secp256k1Multisig="Secp256k1Multisig",t.AnyoneCanPay="AnyoneCanPay",t.TypeId="TypeId",t.XUdt="XUdt",t.JoyId="JoyId",t.COTA="COTA",t.PWLock="PWLock",t.OmniLock="OmniLock",t.NostrLock="NostrLock",t.UniqueType="UniqueType",t.AlwaysSuccess="AlwaysSuccess",t.InputTypeProxyLock="InputTypeProxyLock",t.OutputTypeProxyLock="OutputTypeProxyLock",t.LockProxyLock="LockProxyLock",t.SingleUseLock="SingleUseLock",t.TypeBurnLock="TypeBurnLock",t.EasyToDiscoverType="EasyToDiscoverType",t.TimeLock="TimeLock"})(Me||(Me={}));class xv{constructor(e,r){this.cellDep=e,this.type=r}static from(e){return new xv(Bi.from(e.cellDep),Ne(st.from,e.type))}}class Sv{constructor(e,r,n){this.codeHash=e,this.hashType=r,this.cellDeps=n}static from(e){return new Sv(_e(e.codeHash),Ev(e.hashType),e.cellDeps.map(r=>xv.from(r)))}}class Cv{constructor(e,r,n,i,a,s,o){this.script=e,this.scriptLenRange=r,this.outputData=n,this.outputDataSearchMode=i,this.outputDataLenRange=a,this.outputCapacityRange=s,this.blockRange=o}static from(e){return new Cv(Ne(st.from,e.script),Ne(Qh,e.scriptLenRange),Ne(_e,e.outputData),e.outputDataSearchMode??void 0,Ne(Qh,e.outputDataLenRange),Ne(Qh,e.outputCapacityRange),Ne(Qh,e.blockRange))}}class ob{constructor(e,r,n,i,a){this.script=e,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.withData=a}static from(e){return new ob(st.from(e.script),e.scriptType,e.scriptSearchMode,Ne(Cv.from,e.filter),e.withData??void 0)}}class Dw{constructor(e,r,n,i,a){this.script=e,this.scriptType=r,this.scriptSearchMode=n,this.filter=i,this.groupByTransaction=a}static from(e){return new Dw(st.from(e.script),e.scriptType,e.scriptSearchMode,Ne(Cv.from,e.filter),e.groupByTransaction??void 0)}}class cb extends Error{constructor(e){super(`Client request error ${e.message}`),this.code=e.code,this.data=e.data}}class nZ extends cb{constructor(e,r){super(e),this.outPoint=wr.from(r)}}class iZ extends cb{constructor(e,r,n,i,a,s){super(e),this.source=r,this.errorCode=i,this.scriptHashType=a,this.sourceIndex=Ie(n),this.scriptCodeHash=_e(s)}}class aZ extends cb{constructor(e,r){super(e),this.txHash=_e(r)}}class sZ extends cb{constructor(e,r,n){super(e),this.currentFee=Ie(r),this.leastFee=Ie(n)}}class oZ extends Error{constructor(){super("Wait transaction timeout")}}function MR(t,e,r){if(!e)return!0;const n=_e(t),i=_e(e);return!(r==="exact"&&n!==i||r==="prefix"&&!n.startsWith(i)||r==="partial"&&n.search(i)===-1)}function bg(t,e,r){if(!e)return!0;if(!t)return!1;const n=st.from(t),i=st.from(e);return n.codeHash!==i.codeHash||n.hashType!==i.hashType?!1:MR(n.args,i==null?void 0:i.args,r)}function J6(t,e){if(!e)return!0;const r=Ie(t),[n,i]=Qh(e);return n<=r&&r<i}function Ax(t,e){if(!e)return!0;const r=t?Oe(st.from(t).args).length+33:0;return J6(r,e)}function cZ(t,e){var i,a,s,o,c,f,u,l;const r=ob.from(t),n=cs.from(e);return!(r.scriptType==="lock"&&(!bg(n.cellOutput.lock,r.script,r.scriptSearchMode)||!bg(n.cellOutput.type,(i=r.filter)==null?void 0:i.script,"prefix")||!Ax(n.cellOutput.type,(a=r.filter)==null?void 0:a.scriptLenRange))||r.scriptType==="type"&&(!bg(n.cellOutput.type,r.script,r.scriptSearchMode)||!bg(n.cellOutput.lock,(s=r.filter)==null?void 0:s.script,"prefix")||!Ax(n.cellOutput.lock,(o=r.filter)==null?void 0:o.scriptLenRange))||!MR(n.outputData,(c=r.filter)==null?void 0:c.outputData,((f=r.filter)==null?void 0:f.outputDataSearchMode)??"prefix")||!J6(Oe(n.outputData).length,(u=r.filter)==null?void 0:u.outputDataLenRange)||!J6(n.cellOutput.capacity,(l=r.filter)==null?void 0:l.outputCapacityRange))}class fZ extends rZ{constructor(){super(...arguments),this.cells=new Map,this.knownTransactions=new Map}async markUsable(...e){e.flat().forEach(r=>{const n=cs.from(r).clone(),i=_e(n.outPoint.toBytes());this.cells.set(i,[!0,n])})}async markUnusable(...e){e.flat().forEach(r=>{const n=wr.from(r),i=_e(n.toBytes()),a=this.cells.get(i);if(a){a[0]=!1;return}this.cells.set(i,[!1,{outPoint:n}])})}async clear(){for(const e of this.cells.values())e[0]=void 0}async*findCells(e){for(const[r,n]of this.cells.values())r&&cZ(e,n)&&(yield n.clone())}async getCell(e){var i;const r=wr.from(e),n=(i=this.cells.get(_e(r.toBytes())))==null?void 0:i[1];if(n&&n.cellOutput&&n.outputData)return cs.from(n.clone())}async isUnusable(e){var n;const r=wr.from(e);return!(((n=this.cells.get(_e(r.toBytes())))==null?void 0:n[0])??!0)}async recordTransactions(...e){e.flat().map(r=>{const n=$t.from(r);this.knownTransactions.set(n.hash(),n)})}async getTransaction(e){var n;const r=_e(e);return(n=this.knownTransactions.get(r))==null?void 0:n.clone()}async recordCells(...e){e.flat().map(r=>{const n=cs.from(r),i=_e(n.outPoint.toBytes());this.cells.get(i)||this.cells.set(i,[void 0,n])})}}class uZ{constructor(e){this.cache=(e==null?void 0:e.cache)??new fZ}async getFeeRate(e){return xX((await this.getFeeRateStatistics(e)).median,1e3)}async getCell(e){const r=wr.from(e),n=await this.cache.getCell(r);if(n)return n;const i=await this.getTransactionNoCache(r.txHash);if(!i)return;const a=Number(Ie(r.index));if(a>=i.transaction.outputs.length)return;const s=cs.from({outPoint:r,cellOutput:i.transaction.outputs[a],outputData:i.transaction.outputsData[a]??"0x"});return await this.cache.recordCells(s),s}async getCellLive(e,r,n){const i=await this.getCellLiveNoCache(e,r,n);return r&&i&&await this.cache.recordCells(i),i}async findCellsPaged(e,r,n,i){const a=await this.findCellsPagedNoCache(e,r,n,i);return await this.cache.recordCells(a.cells),a}async*findCellsOnChain(e,r,n=10){let i;for(;;){const{cells:a,lastCursor:s}=await this.findCellsPaged(e,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}async*findCells(e,r,n=10){const i=ob.from(e),a=[];for await(const s of this.cache.findCells(i))a.push(s.outPoint),yield s;for await(const s of this.findCellsOnChain(i,r,n))await this.cache.isUnusable(s.outPoint)||a.some(o=>o.eq(s.outPoint))||(yield s)}findCellsByLock(e,r,n=!0,i,a=10){return this.findCells({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},withData:n},i,a)}findCellsByType(e,r=!0,n,i=10){return this.findCells({script:e,scriptType:"type",scriptSearchMode:"exact",withData:r},n,i)}async findSingletonCellByType(e,r=!1){for await(const n of this.findCellsByType(e,r,void 0,1))return n}async getCellDeps(...e){return Promise.all(e.flat().map(async r=>{const{cellDep:n,type:i}=xv.from(r);if(i===void 0)return n;const a=await this.findSingletonCellByType(i);return a?Bi.from({outPoint:a.outPoint,depType:n.depType}):n}))}async*findTransactions(e,r,n=10){let i;for(;;){const{transactions:a,lastCursor:s}=await this.findTransactionsPaged(e,r,n,i);for(const o of a)yield o;if(a.length===0||a.length<n)return;i=s}}findTransactionsByLock(e,r,n,i,a=10){return this.findTransactions({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:r},groupByTransaction:n},i,a)}findTransactionsByType(e,r,n,i=10){return this.findTransactions({script:e,scriptType:"type",scriptSearchMode:"exact",groupByTransaction:r},n,i)}async getBalanceSingle(e){return this.getCellsCapacity({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{scriptLenRange:[0,1],outputDataLenRange:[0,1]}})}async getBalance(e){return Vd(e,async(r,n)=>r+await this.getBalanceSingle(n),qa)}async sendTransaction(e,r){const n=$t.from(e),i=await this.sendTransactionNoCache(n,r);return await this.cache.recordTransactions(n),await this.cache.markTransactions(n),i}async getTransaction(e){const r=_e(e),n=await this.getTransactionNoCache(r);if(n!=null&&n.transaction)return n;const i=await this.cache.getTransaction(r);if(i)return n?{...n,transaction:i}:{transaction:i,status:"sent"}}async waitTransaction(e,r=0,n=3e4,i=2e3){const a=Date.now();let s;const o=async()=>{const c=await this.getTransaction(e);if(!(!c||c.blockNumber==null||["sent","pending","proposed"].includes(c.status)))return s=c,c};for(;;){if(s){if(r===0)return s;if((await this.getTipHeader()).number-s.blockNumber>=r)return s}else if(await o())continue;if(Date.now()-a+i>=n)throw new oZ;await WX(i)}}}var Sl=null;typeof WebSocket<"u"?Sl=WebSocket:typeof MozWebSocket<"u"?Sl=MozWebSocket:typeof global<"u"?Sl=global.WebSocket||global.MozWebSocket:typeof window<"u"?Sl=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Sl=self.WebSocket||self.MozWebSocket);const Mw=Sl,lZ=Object.freeze({[Me.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:2},depType:"code"}}]},[Me.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[Me.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[Me.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[Me.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[Me.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[Me.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf05188e5f3a6767fc4687faf45ba5f1a6e25d3ada6129dae8722cb282f262493",index:0},depType:"depGroup"}}]},[Me.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[Me.PWLock]:{codeHash:"0xbf43c3602455798c1a61a596e0d95278864c552fafe231c063b3fabf97a8febc",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x1d60cb8f4666e039f418ea94730b1a8c5aa0bf2f7781474406387462924d15d4",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x42ade2f25eb938b5dbfd3d8f07b8b07aa593d848e7ff14bdfbbea5aeb6175261"}}]},[Me.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[Me.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[Me.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[Me.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:0},depType:"code"}}]},[Me.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:1},depType:"code"}}]},[Me.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]},[Me.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:3},depType:"code"}}]},[Me.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[Me.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:5},depType:"code"}}]},[Me.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:0},depType:"code"}}]},[Me.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:1},depType:"code"}}]}});class dZ{constructor(e,r=3e4){this.url=e,this.timeout=r}async request(e){const r=new AbortController,n=setTimeout(()=>r.abort(),this.timeout),i=await(await fetch(this.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:r.signal})).json();return clearTimeout(n),i}}class hZ{constructor(e,r=3e4){this.url=e,this.timeout=r,this.ongoing=new Map}request(e){const r=(()=>{if(this.socket&&this.socket.readyState!==this.socket.CLOSING&&this.socket.readyState!==this.socket.CLOSED&&this.openSocket)return this.openSocket;const n=new Mw(this.url),i=({data:s})=>{const o=JSON.parse(s);if(typeof o!="object"||o===null||typeof o.id!="number")throw new Error(`Unknown response ${s}`);const c=o.id,f=this.ongoing.get(c);if(!f)return;const[u,l,h]=f;clearTimeout(h),this.ongoing.delete(c),u(o)},a=()=>{this.ongoing.forEach(([s,o,c])=>{clearTimeout(c),o(new Error("Connection closed"))}),this.ongoing.clear()};return n.onclose=a,n.onerror=a,n.onmessage=i,this.socket=n,this.openSocket=new Promise(s=>{n.readyState===n.OPEN?s(n):n.onopen=()=>{s(n)}}),this.openSocket})();return new Promise((n,i)=>{const a=[n,i,setTimeout(()=>{this.ongoing.delete(e.id),r.then(s=>s.close()),i(new Error("Request timeout"))},this.timeout)];this.ongoing.set(e.id,a),r.then(s=>{s.readyState===s.CLOSED||s.readyState===s.CLOSING?(clearTimeout(a[2]),this.ongoing.delete(e.id),i(new Error("Connection closed"))):s.send(JSON.stringify(e))})})}}function pZ(t,e){return t.startsWith("wss://")?new hZ(t,e==null?void 0:e.timeout):new dZ(t,e==null?void 0:e.timeout)}class Pe{static hashTypeFrom(e){return Ev(e)}static hashTypeTo(e){return e}static depTypeFrom(e){switch(Bw(e)){case"code":return"code";case"depGroup":return"dep_group"}}static depTypeTo(e){switch(e){case"code":return"code";case"dep_group":return"depGroup"}}static scriptFrom(e){const r=st.from(e);return{code_hash:r.codeHash,hash_type:Pe.hashTypeFrom(r.hashType),args:r.args}}static scriptTo(e){return st.from({codeHash:e.code_hash,hashType:Pe.hashTypeTo(e.hash_type),args:e.args})}static outPointFrom(e){const r=wr.from(e);return{index:Xa(r.index),tx_hash:r.txHash}}static outPointTo(e){return wr.from({index:e.index,txHash:e.tx_hash})}static cellInputFrom(e){const r=Hs.from(e);return{previous_output:Pe.outPointFrom(r.previousOutput),since:Xa(r.since)}}static cellInputTo(e){return Hs.from({previousOutput:Pe.outPointTo(e.previous_output),since:e.since})}static cellOutputFrom(e){return{capacity:Xa(e.capacity),lock:Pe.scriptFrom(e.lock),type:Ne(Pe.scriptFrom,e.type)}}static cellOutputTo(e){return ns.from({capacity:e.capacity,lock:Pe.scriptTo(e.lock),type:Ne(Pe.scriptTo,e.type)})}static cellDepFrom(e){return{out_point:Pe.outPointFrom(e.outPoint),dep_type:Pe.depTypeFrom(e.depType)}}static cellDepTo(e){return Bi.from({outPoint:Pe.outPointTo(e.out_point),depType:Pe.depTypeTo(e.dep_type)})}static transactionFrom(e){const r=$t.from(e);return{version:Xa(r.version),cell_deps:r.cellDeps.map(n=>Pe.cellDepFrom(n)),header_deps:r.headerDeps,inputs:r.inputs.map(n=>Pe.cellInputFrom(n)),outputs:r.outputs.map(n=>Pe.cellOutputFrom(n)),outputs_data:r.outputsData,witnesses:r.witnesses}}static transactionTo(e){return $t.from({version:e.version,cellDeps:e.cell_deps.map(r=>Pe.cellDepTo(r)),headerDeps:e.header_deps,inputs:e.inputs.map(r=>Pe.cellInputTo(r)),outputs:e.outputs.map(r=>Pe.cellOutputTo(r)),outputsData:e.outputs_data,witnesses:e.witnesses})}static transactionResponseTo({cycles:e,tx_status:{status:r,block_number:n,block_hash:i,tx_index:a,reason:s},transaction:o}){if(o!=null)return{transaction:Pe.transactionTo(o),status:r,cycles:Ne(Ie,e),blockHash:Ne(_e,i),blockNumber:Ne(Ie,n),txIndex:Ne(Ie,a),reason:s}}static blockHeaderTo(e){const r=Oe(e.dao);return{compactTarget:Ie(e.compact_target),dao:{c:Vh(r.slice(0,8)),ar:Vh(r.slice(8,16)),s:Vh(r.slice(16,24)),u:Vh(r.slice(24,32))},epoch:tZ(e.epoch),extraHash:e.extra_hash,hash:e.hash,nonce:Ie(e.nonce),number:Ie(e.number),parentHash:e.parent_hash,proposalsHash:e.proposals_hash,timestamp:Ie(e.timestamp),transactionsRoot:e.transactions_root,version:Ie(e.version)}}static blockUncleTo(e){return{header:Pe.blockHeaderTo(e.header),proposals:e.proposals}}static blockTo(e){return{header:Pe.blockHeaderTo(e.header),proposals:e.proposals,transactions:e.transactions.map(r=>Pe.transactionTo(r)),uncles:e.uncles.map(r=>Pe.blockUncleTo(r))}}static rangeFrom([e,r]){return[Xa(e),Xa(r)]}static indexerSearchKeyFilterFrom(e){return{script:Ne(Pe.scriptFrom,e.script),script_len_range:Ne(Pe.rangeFrom,e.scriptLenRange),output_data:e.outputData,output_data_filter_mode:e.outputDataSearchMode,output_data_len_range:Ne(Pe.rangeFrom,e.outputDataLenRange),output_capacity_range:Ne(Pe.rangeFrom,e.outputCapacityRange),block_range:Ne(Pe.rangeFrom,e.blockRange)}}static indexerSearchKeyFrom(e){const r=ob.from(e);return{script:Pe.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Ne(Pe.indexerSearchKeyFilterFrom,r.filter),with_data:r.withData}}static findCellsResponseTo({last_cursor:e,objects:r}){return{lastCursor:e,cells:r.map(n=>cs.from({outPoint:Pe.outPointTo(n.out_point),cellOutput:Pe.cellOutputTo(n.output),outputData:n.output_data??"0x"}))}}static indexerSearchKeyTransactionFrom(e){const r=Dw.from(e);return{script:Pe.scriptFrom(r.script),script_type:r.scriptType,script_search_mode:r.scriptSearchMode,filter:Ne(Pe.indexerSearchKeyFilterFrom,r.filter),group_by_transaction:r.groupByTransaction}}static findTransactionsResponseTo({last_cursor:e,objects:r}){return r.length===0?{lastCursor:e,transactions:[]}:"io_index"in r[0]?{lastCursor:e,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Ie(n.block_number),txIndex:Ie(n.tx_index),cellIndex:Ie(n.io_index),isInput:n.io_type==="input"}))}:{lastCursor:e,transactions:r.map(n=>({txHash:n.tx_hash,blockNumber:Ie(n.block_number),txIndex:Ie(n.tx_index),cells:n.cells.map(([i,a])=>({isInput:i==="input",cellIndex:Ie(a)}))}))}}}function Ex(t,e){return e?e(t):t}const bZ=[["Resolve\\(Unknown\\(OutPoint\\((0x.*)\\)\\)\\)",(t,e)=>new nZ(t,wr.fromBytes(e[1]))],["Verification\\(Error { kind: Script, inner: TransactionScriptError { source: (Inputs|Outputs)\\[([0-9]*)\\].(Lock|Type), cause: ValidationFailure: see error code (-?[0-9])* on page https://nervosnetwork\\.github\\.io/ckb-script-error-codes/by-(type|data)-hash/(.*)\\.html",(t,e)=>new iZ(t,e[3]==="Lock"?"lock":e[1]==="Inputs"?"inputType":"outputType",e[2],Number(e[4]),e[5]==="data"?"data":"type",e[6])],["Duplicated\\(Byte32\\((0x.*)\\)\\)",(t,e)=>new aZ(t,e[1])],[`RBFRejected\\("Tx's current fee is ([0-9]*), expect it to >= ([0-9]*) to replace old txs"\\)`,(t,e)=>new sZ(t,e[1],e[2])]];class PR extends uZ{constructor(e,r){super(r),this.url_=e,this.id=0,this.getFeeRateStatistics=this.buildSender("get_fee_rate_statistics",[n=>Ne(Ie,n)],({mean:n,median:i})=>({mean:Ie(n),median:Ie(i)})),this.getTip=this.buildSender("get_tip_block_number",[],Ie),this.getTipHeader=this.buildSender("get_tip_header",[],n=>Ne(Pe.blockHeaderTo,n)),this.getBlockByNumber=this.buildSender("get_block_by_number",[n=>Xa(Ie(n))],n=>Ne(Pe.blockTo,n)),this.getBlockByHash=this.buildSender("get_block",[_e],n=>Ne(Pe.blockTo,n)),this.getHeaderByNumber=this.buildSender("get_header_by_number",[n=>Xa(Ie(n))],n=>Ne(Pe.blockHeaderTo,n)),this.getHeaderByHash=this.buildSender("get_header",[_e],n=>Ne(Pe.blockHeaderTo,n)),this.estimateCycles=this.buildSender("estimate_cycles",[Pe.transactionFrom],({cycles:n})=>Ie(n)),this.sendTransactionDry=this.buildSender("test_tx_pool_accept",[Pe.transactionFrom],({cycles:n})=>Ie(n)),this.sendTransactionNoCache=this.buildSender("send_transaction",[Pe.transactionFrom],_e),this.getTransactionNoCache=this.buildSender("get_transaction",[_e],Pe.transactionResponseTo),this.findCellsPagedNoCache=this.buildSender("get_cells",[Pe.indexerSearchKeyFrom,n=>n??"asc",n=>Xa(n??10)],Pe.findCellsResponseTo),this.findTransactionsPaged=this.buildSender("get_transactions",[Pe.indexerSearchKeyTransactionFrom,n=>n??"asc",n=>Xa(n??10)],Pe.findTransactionsResponseTo),this.getCellsCapacity=this.buildSender("get_cells_capacity",[Pe.indexerSearchKeyFrom],({capacity:n})=>Ie(n)),this.transport=pZ(e,r)}get url(){return this.url_}getCellLiveNoCache(e,r,n){return this.buildSender("get_live_cell",[Pe.outPointFrom],({cell:i})=>Ne(({output:a,data:s})=>cs.from({cellOutput:Pe.cellOutputTo(a),outputData:(s==null?void 0:s.content)??"0x",outPoint:e}),i))(e,r??!0,n)}buildSender(e,r,n){return async(...i)=>{const a=this.buildPayload(e,i.concat(Array.from(new Array(Math.max(r.length-i.length,0)))).map((s,o)=>Ex(s,r[o])));try{return Ex(await this.send(a),n)}catch(s){if(typeof s!="object"||s===null||!("data"in s)||typeof s.data!="string")throw s;const o=s;for(const[c,f]of bZ){const u=o.data.match(c);if(u)throw f(o,u)}throw new cb(o)}}}async send(e){const r=await this.transport.request(e);if(r.id!==e.id)throw new Error(`Id mismatched, got ${r.id}, expected ${e.id}`);if(r.error)throw r.error;return r.result}buildPayload(e,r){return{id:this.id++,method:e,params:r,jsonrpc:"2.0"}}}class gZ extends PR{constructor(e){super((e==null?void 0:e.url)??(typeof Mw<"u"?"wss://mainnet.ckb.dev/ws":"https://mainnet.ckb.dev/"),e),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??lZ}get addressPrefix(){return"ckb"}async getKnownScript(e){const r=this.scripts[e];if(!r)throw new Error(`No script information was found for ${e} on ${this.addressPrefix}`);return Sv.from(r)}}const yZ=Object.freeze({[Me.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:2},depType:"code"}}]},[Me.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[Me.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[Me.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[Me.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[Me.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[Me.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4dcf3f3b09efac8995d6cbee87c5345e812d310094651e0c3d9a730f32dc9263",index:0},depType:"depGroup"}}]},[Me.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[Me.PWLock]:{codeHash:"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x57a62003daeab9d54aa29b944fc3b451213a5ebdf2e232216a3cfed0dde61b38",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xf6d90bfe3041d0fd7e01c45770241697f5f837974bd6ae1672a7ec0f9f523268"}}]},[Me.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[Me.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[Me.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[Me.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:0},depType:"code"}}]},[Me.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:1},depType:"code"}}]},[Me.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]},[Me.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:3},depType:"code"}}]},[Me.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[Me.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:5},depType:"code"}}]},[Me.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:0},depType:"code"}}]},[Me.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:1},depType:"code"}}]}});class vZ extends PR{constructor(e){super((e==null?void 0:e.url)??(typeof Mw<"u"?"wss://testnet.ckb.dev/ws":"https://testnet.ckb.dev/"),e),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??yZ}get addressPrefix(){return"ckt"}async getKnownScript(e){const r=this.scripts[e];return Sv.from(r)}}function mZ(t){try{const{words:e,prefix:r}=Qp.decode(t,e4),[n,...i]=Qp.fromWords(e);if(n===es.Full)return{prefix:r,format:es.Full,payload:i}}catch{}try{const{prefix:e,words:r}=Bu.decode(t,e4),[n,...i]=Bu.fromWords(r);if([es.FullData,es.FullType,es.Short].includes(n))return{prefix:e,format:n,payload:i}}catch{}throw Error(`Unknown address format ${t}`)}async function _Z(t,e,r,n){if(e===es.Full){if(r.length<33)throw new Error(`Invalid full address without enough payload ${_e(r)}`);return{script:{codeHash:r.slice(0,32),hashType:DR(r.slice(32,33)),args:r.slice(33)},prefix:t}}if(e===es.FullData){if(r.length<32)throw new Error(`Invalid full data address without enough payload ${_e(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"data",args:r.slice(32)},prefix:t}}if(e===es.FullType){if(r.length<32)throw new Error(`Invalid full type address without enough payload ${_e(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"type",args:r.slice(32)},prefix:t}}if(r.length!==21)throw new Error(`Invalid short address without enough payload ${_e(r)}`);const i=[Me.Secp256k1Blake160,Me.Secp256k1Multisig,Me.AnyoneCanPay][r[0]];if(i===void 0)throw new Error(`Invalid short address with unknown script ${_e(r)}`);return{script:await st.fromKnownScript(n,i,r.slice(1)),prefix:t}}var es;(function(t){t[t.Full=0]="Full",t[t.Short=1]="Short",t[t.FullData=2]="FullData",t[t.FullType=4]="FullType"})(es||(es={}));const e4=1023;class ba{constructor(e,r){this.script=e,this.prefix=r}static from(e){return e instanceof ba?e:new ba(st.from(e.script),e.prefix)}static async fromString(e,r){const{prefix:n,format:i,payload:a}=mZ(e),s=r[n]??r;if(!s)throw new Error(`Unknown address prefix ${n}`);const o=s.addressPrefix;if(o!==n)throw new Error(`Unknown address prefix ${n}, expected ${o}`);return ba.from(await _Z(n,i,a,s))}static fromScript(e,r){return ba.from({script:e,prefix:r.addressPrefix})}static async fromKnownScript(e,r,n){return ba.from({script:await st.fromKnownScript(e,r,n),prefix:e.addressPrefix})}toString(){const e=ib([es.Full],Oe(this.script.codeHash),BR(this.script.hashType),Oe(this.script.args));return Qp.encode(this.prefix,Qp.toWords(e),e4)}}function wZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),c=n?4:0,f=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+f,o,n)}const AZ=(t,e,r)=>t&e^~t&r,EZ=(t,e,r)=>t&e^t&r^e&r;class RR extends wv{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=S_(this.buffer)}update(e){vf(this);const{view:r,buffer:n,blockLen:i}=this;e=No(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const c=S_(e);for(;i<=a-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vf(this),Ew(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;wZ(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=S_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,u=this.get();if(f>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const xZ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vc=new Uint32Array(64);let SZ=class extends RR{constructor(){super(64,32,8,!1),this.A=yc[0]|0,this.B=yc[1]|0,this.C=yc[2]|0,this.D=yc[3]|0,this.E=yc[4]|0,this.F=yc[5]|0,this.G=yc[6]|0,this.H=yc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:c}=this;return[e,r,n,i,a,s,o,c]}set(e,r,n,i,a,s,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=c|0}process(e,r){for(let l=0;l<16;l++,r+=4)vc[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const h=vc[l-15],g=vc[l-2],_=As(h,7)^As(h,18)^h>>>3,A=As(g,17)^As(g,19)^g>>>10;vc[l]=A+vc[l-7]+_+vc[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:c,G:f,H:u}=this;for(let l=0;l<64;l++){const h=As(o,6)^As(o,11)^As(o,25),g=u+h+AZ(o,c,f)+xZ[l]+vc[l]|0,A=(As(n,2)^As(n,13)^As(n,22))+EZ(n,i,a)|0;u=f,f=c,c=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,c=c+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,c,f,u)}roundClean(){vc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const s1=xw(()=>new SZ);let LR=class extends wv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,eX(e);const n=No(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return vf(this),this.iHash.update(e),this}digestInto(e){vf(this),ab(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const HR=(t,e,r)=>new LR(t,e).update(r).digest();HR.create=(t,e)=>new LR(t,e);const CZ=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),NR=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),IZ=NR.map(t=>(9*t+5)%16);let Pw=[NR],Rw=[IZ];for(let t=0;t<4;t++)for(let e of[Pw,Rw])e.push(e[t].map(r=>CZ[r]));const $R=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),TZ=Pw.map((t,e)=>t.map(r=>$R[e][r])),OZ=Rw.map((t,e)=>t.map(r=>$R[e][r])),BZ=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),DZ=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function xx(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const gg=new Uint32Array(16);let MZ=class extends RR{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:i,h4:a}=this;return[e,r,n,i,a]}set(e,r,n,i,a){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=a|0}process(e,r){for(let g=0;g<16;g++,r+=4)gg[g]=e.getUint32(r,!0);let n=this.h0|0,i=n,a=this.h1|0,s=a,o=this.h2|0,c=o,f=this.h3|0,u=f,l=this.h4|0,h=l;for(let g=0;g<5;g++){const _=4-g,A=BZ[g],C=DZ[g],w=Pw[g],I=Rw[g],T=TZ[g],R=OZ[g];for(let N=0;N<16;N++){const K=hg(n+xx(g,a,o,f)+gg[w[N]]+A,T[N])+l|0;n=l,l=f,f=hg(o,10)|0,o=a,a=K}for(let N=0;N<16;N++){const K=hg(i+xx(_,s,c,u)+gg[I[N]]+C,R[N])+h|0;i=h,h=u,u=hg(c,10)|0,c=s,s=K}}this.set(this.h1+o+u|0,this.h2+f+h|0,this.h3+l+i|0,this.h4+n+s|0,this.h0+a+c|0)}roundClean(){gg.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};const PZ=xw(()=>new MZ);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lw=BigInt(0),Iv=BigInt(1),RZ=BigInt(2);function Hu(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function fb(t){if(!Hu(t))throw new Error("Uint8Array expected")}function Qd(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}const LZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yd(t){fb(t);let e="";for(let r=0;r<t.length;r++)e+=LZ[t[r]];return e}function kl(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Hw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const ho={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Sx(t){if(t>=ho._0&&t<=ho._9)return t-ho._0;if(t>=ho._A&&t<=ho._F)return t-(ho._A-10);if(t>=ho._a&&t<=ho._f)return t-(ho._a-10)}function Gd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,a=0;i<r;i++,a+=2){const s=Sx(t.charCodeAt(a)),o=Sx(t.charCodeAt(a+1));if(s===void 0||o===void 0){const c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}n[i]=s*16+o}return n}function $o(t){return Hw(Yd(t))}function Nw(t){return fb(t),Hw(Yd(Uint8Array.from(t).reverse()))}function mf(t,e){return Gd(t.toString(16).padStart(e*2,"0"))}function $w(t,e){return mf(t,e).reverse()}function HZ(t){return Gd(kl(t))}function gn(t,e,r){let n;if(typeof e=="string")try{n=Gd(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(Hu(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Nu(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];fb(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const a=t[n];r.set(a,i),i+=a.length}return r}function NZ(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function $Z(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}const T_=t=>typeof t=="bigint"&&Lw<=t;function Wd(t,e,r){return T_(t)&&T_(e)&&T_(r)&&e<=t&&t<r}function ff(t,e,r,n){if(!Wd(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function UR(t){let e;for(e=0;t>Lw;t>>=Iv,e+=1);return e}function UZ(t,e){return t>>BigInt(e)&Iv}function kZ(t,e,r){return t|(r?Iv:Lw)<<BigInt(e)}const Uw=t=>(RZ<<BigInt(t-1))-Iv,O_=t=>new Uint8Array(t),Cx=t=>Uint8Array.from(t);function kR(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=O_(t),i=O_(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),c=(l=O_())=>{i=o(Cx([0]),l),n=o(),l.length!==0&&(i=o(Cx([1]),l),n=o())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const h=[];for(;l<e;){n=o();const g=n.slice();h.push(g),l+=n.length}return Nu(...h)};return(l,h)=>{s(),c(l);let g;for(;!(g=h(f()));)c();return s(),g}}const zZ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Hu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ub(t,e,r={}){const n=(i,a,s)=>{const o=zZ[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=t[i];if(!(s&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const FZ=()=>{throw new Error("not implemented")};function t4(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const a=t(r,...n);return e.set(r,a),a}}const jZ=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ff,abool:Qd,abytes:fb,bitGet:UZ,bitLen:UR,bitMask:Uw,bitSet:kZ,bytesToHex:Yd,bytesToNumberBE:$o,bytesToNumberLE:Nw,concatBytes:Nu,createHmacDrbg:kR,ensureBytes:gn,equalBytes:NZ,hexToBytes:Gd,hexToNumber:Hw,inRange:Wd,isBytes:Hu,memoized:t4,notImplemented:FZ,numberToBytesBE:mf,numberToBytesLE:$w,numberToHexUnpadded:kl,numberToVarBytesBE:HZ,utf8ToBytes:$Z,validateObject:ub},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hr=BigInt(0),lr=BigInt(1),Gf=BigInt(2),qZ=BigInt(3),r4=BigInt(4),Ix=BigInt(5),Tx=BigInt(8);BigInt(9);BigInt(16);function Wr(t,e){const r=t%e;return r>=Hr?r:e+r}function KZ(t,e,r){if(r<=Hr||e<Hr)throw new Error("Expected power/modulo > 0");if(r===lr)return Hr;let n=lr;for(;e>Hr;)e&lr&&(n=n*t%r),t=t*t%r,e>>=lr;return n}function Zi(t,e,r){let n=t;for(;e-- >Hr;)n*=n,n%=r;return n}function n4(t,e){if(t===Hr||e<=Hr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Wr(t,e),n=e,i=Hr,a=lr;for(;r!==Hr;){const o=n/r,c=n%r,f=i-a*o;n=r,r=c,i=a,a=f}if(n!==lr)throw new Error("invert: does not exist");return Wr(i,e)}function VZ(t){const e=(t-lr)/Gf;let r,n,i;for(r=t-lr,n=0;r%Gf===Hr;r/=Gf,n++);for(i=Gf;i<t&&KZ(i,e,t)!==t-lr;i++);if(n===1){const s=(t+lr)/r4;return function(c,f){const u=c.pow(f,s);if(!c.eql(c.sqr(u),f))throw new Error("Cannot find square root");return u}}const a=(r+lr)/Gf;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let f=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(c,a),h=o.pow(c,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let g=1;for(let A=o.sqr(h);g<f&&!o.eql(A,o.ONE);g++)A=o.sqr(A);const _=o.pow(u,lr<<BigInt(f-g-1));u=o.sqr(_),l=o.mul(l,_),h=o.mul(h,u),f=g}return l}}function QZ(t){if(t%r4===qZ){const e=(t+lr)/r4;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%Tx===Ix){const e=(t-Ix)/Tx;return function(n,i){const a=n.mul(i,Gf),s=n.pow(a,e),o=n.mul(i,s),c=n.mul(n.mul(o,Gf),s),f=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return VZ(t)}const YZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function GZ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=YZ.reduce((n,i)=>(n[i]="function",n),e);return ub(t,r)}function WZ(t,e,r){if(r<Hr)throw new Error("Expected power > 0");if(r===Hr)return t.ONE;if(r===lr)return e;let n=t.ONE,i=e;for(;r>Hr;)r&lr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=lr;return n}function XZ(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function zR(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function FR(t,e,r=!1,n={}){if(t<=Hr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=zR(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=QZ(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:Uw(i),ZERO:Hr,ONE:lr,create:c=>Wr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Hr<=c&&c<t},is0:c=>c===Hr,isOdd:c=>(c&lr)===lr,neg:c=>Wr(-c,t),eql:(c,f)=>c===f,sqr:c=>Wr(c*c,t),add:(c,f)=>Wr(c+f,t),sub:(c,f)=>Wr(c-f,t),mul:(c,f)=>Wr(c*f,t),pow:(c,f)=>WZ(o,c,f),div:(c,f)=>Wr(c*n4(f,t),t),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>n4(c,t),sqrt:n.sqrt||(c=>s(o,c)),invertBatch:c=>XZ(o,c),cmov:(c,f,u)=>u?f:c,toBytes:c=>r?$w(c,a):mf(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return r?Nw(c):$o(c)}});return Object.freeze(o)}function jR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function qR(t){const e=jR(t);return e+Math.ceil(e/2)}function ZZ(t,e,r=!1){const n=t.length,i=jR(e),a=qR(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?$o(t):Nw(t),o=Wr(s,e-lr)+lr;return r?$w(o,i):mf(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JZ=BigInt(0),B_=BigInt(1),D_=new WeakMap,Ox=new WeakMap;function eJ(t,e){const r=(a,s)=>{const o=s.negate();return a?o:s},n=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},i=a=>{n(a);const s=Math.ceil(e/a)+1,o=2**(a-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(a,s){let o=t.ZERO,c=a;for(;s>JZ;)s&B_&&(o=o.add(c)),c=c.double(),s>>=B_;return o},precomputeWindow(a,s){const{windows:o,windowSize:c}=i(s),f=[];let u=a,l=u;for(let h=0;h<o;h++){l=u,f.push(l);for(let g=1;g<c;g++)l=l.add(u),f.push(l);u=l.double()}return f},wNAF(a,s,o){const{windows:c,windowSize:f}=i(a);let u=t.ZERO,l=t.BASE;const h=BigInt(2**a-1),g=2**a,_=BigInt(a);for(let A=0;A<c;A++){const C=A*f;let w=Number(o&h);o>>=_,w>f&&(w-=g,o+=B_);const I=C,T=C+Math.abs(w)-1,R=A%2!==0,N=w<0;w===0?l=l.add(r(R,s[I])):u=u.add(r(N,s[T]))}return{p:u,f:l}},wNAFCached(a,s,o){const c=Ox.get(a)||1;let f=D_.get(a);return f||(f=this.precomputeWindow(a,c),c!==1&&D_.set(a,o(f))),this.wNAF(c,f,s)},setWindowSize(a,s){n(s),Ox.set(a,s),D_.delete(a)}}}function tJ(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((u,l)=>{if(!e.isValid(u))throw new Error(`wrong scalar at index ${l}`)}),r.forEach((u,l)=>{if(!(u instanceof t))throw new Error(`wrong point at index ${l}`)});const i=UR(BigInt(r.length)),a=i>12?i-3:i>4?i-2:i?2:1,s=(1<<a)-1,o=new Array(s+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/a)*a;let f=t.ZERO;for(let u=c;u>=0;u-=a){o.fill(t.ZERO);for(let h=0;h<n.length;h++){const g=n[h],_=Number(g>>BigInt(u)&BigInt(s));o[_]=o[_].add(r[h])}let l=t.ZERO;for(let h=o.length-1,g=t.ZERO;h>0;h--)g=g.add(o[h]),l=l.add(g);if(f=f.add(l),u!==0)for(let h=0;h<a;h++)f=f.double()}return f}function KR(t){return GZ(t.Fp),ub(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zR(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bx(t){t.lowS!==void 0&&Qd("lowS",t.lowS),t.prehash!==void 0&&Qd("prehash",t.prehash)}function rJ(t){const e=KR(t);ub(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:nJ,hexToBytes:iJ}=jZ,yo={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:r}=yo;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=kl(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const a=n>127?kl(i.length/2|128):"";return`${kl(t)}${a}${i}${e}`},decode(t,e){const{Err:r}=yo;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],a=!!(i&128);let s=0;if(!a)s=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const f=e.subarray(n,n+c);if(f.length!==c)throw new r("tlv.decode: length bytes not complete");if(f[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of f)s=s<<8|u;if(n+=c,s<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=yo;if(t<Eo)throw new e("integer: negative integers are not allowed");let r=kl(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){const{Err:e}=yo;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return nJ(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=yo,i=typeof t=="string"?iJ(t):t;fb(i);const{v:a,l:s}=n.decode(48,i);if(s.length)throw new e("Invalid signature: left bytes after parsing");const{v:o,l:c}=n.decode(2,a),{v:f,l:u}=n.decode(2,c);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(f)}},hexFromSig(t){const{_tlv:e,_int:r}=yo,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}},Eo=BigInt(0),Br=BigInt(1);BigInt(2);const Dx=BigInt(3);BigInt(4);function aJ(t){const e=rJ(t),{Fp:r}=e,n=FR(e.n,e.nBitLength),i=e.toBytes||((A,C,w)=>{const I=C.toAffine();return Nu(Uint8Array.from([4]),r.toBytes(I.x),r.toBytes(I.y))}),a=e.fromBytes||(A=>{const C=A.subarray(1),w=r.fromBytes(C.subarray(0,r.BYTES)),I=r.fromBytes(C.subarray(r.BYTES,2*r.BYTES));return{x:w,y:I}});function s(A){const{a:C,b:w}=e,I=r.sqr(A),T=r.mul(I,A);return r.add(r.add(T,r.mul(A,C)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(A){return Wd(A,Br,e.n)}function c(A){const{allowedPrivateKeyLengths:C,nByteLength:w,wrapPrivateKey:I,n:T}=e;if(C&&typeof A!="bigint"){if(Hu(A)&&(A=Yd(A)),typeof A!="string"||!C.includes(A.length))throw new Error("Invalid key");A=A.padStart(w*2,"0")}let R;try{R=typeof A=="bigint"?A:$o(gn("private key",A,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof A}`)}return I&&(R=Wr(R,T)),ff("private key",R,Br,T),R}function f(A){if(!(A instanceof h))throw new Error("ProjectivePoint expected")}const u=t4((A,C)=>{const{px:w,py:I,pz:T}=A;if(r.eql(T,r.ONE))return{x:w,y:I};const R=A.is0();C==null&&(C=R?r.ONE:r.inv(T));const N=r.mul(w,C),K=r.mul(I,C),V=r.mul(T,C);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(V,r.ONE))throw new Error("invZ was invalid");return{x:N,y:K}}),l=t4(A=>{if(A.is0()){if(e.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:C,y:w}=A.toAffine();if(!r.isValid(C)||!r.isValid(w))throw new Error("bad point: x or y not FE");const I=r.sqr(w),T=s(C);if(!r.eql(I,T))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(C,w,I){if(this.px=C,this.py=w,this.pz=I,C==null||!r.isValid(C))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(I==null||!r.isValid(I))throw new Error("z required");Object.freeze(this)}static fromAffine(C){const{x:w,y:I}=C||{};if(!C||!r.isValid(w)||!r.isValid(I))throw new Error("invalid affine point");if(C instanceof h)throw new Error("projective point not allowed");const T=R=>r.eql(R,r.ZERO);return T(w)&&T(I)?h.ZERO:new h(w,I,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const w=r.invertBatch(C.map(I=>I.pz));return C.map((I,T)=>I.toAffine(w[T])).map(h.fromAffine)}static fromHex(C){const w=h.fromAffine(a(gn("pointHex",C)));return w.assertValidity(),w}static fromPrivateKey(C){return h.BASE.multiply(c(C))}static msm(C,w){return tJ(h,n,C,w)}_setWindowSize(C){_.setWindowSize(this,C)}assertValidity(){l(this)}hasEvenY(){const{y:C}=this.toAffine();if(r.isOdd)return!r.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){f(C);const{px:w,py:I,pz:T}=this,{px:R,py:N,pz:K}=C,V=r.eql(r.mul(w,K),r.mul(R,T)),D=r.eql(r.mul(I,K),r.mul(N,T));return V&&D}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:C,b:w}=e,I=r.mul(w,Dx),{px:T,py:R,pz:N}=this;let K=r.ZERO,V=r.ZERO,D=r.ZERO,Q=r.mul(T,T),Y=r.mul(R,R),M=r.mul(N,N),m=r.mul(T,R);return m=r.add(m,m),D=r.mul(T,N),D=r.add(D,D),K=r.mul(C,D),V=r.mul(I,M),V=r.add(K,V),K=r.sub(Y,V),V=r.add(Y,V),V=r.mul(K,V),K=r.mul(m,K),D=r.mul(I,D),M=r.mul(C,M),m=r.sub(Q,M),m=r.mul(C,m),m=r.add(m,D),D=r.add(Q,Q),Q=r.add(D,Q),Q=r.add(Q,M),Q=r.mul(Q,m),V=r.add(V,Q),M=r.mul(R,N),M=r.add(M,M),Q=r.mul(M,m),K=r.sub(K,Q),D=r.mul(M,Y),D=r.add(D,D),D=r.add(D,D),new h(K,V,D)}add(C){f(C);const{px:w,py:I,pz:T}=this,{px:R,py:N,pz:K}=C;let V=r.ZERO,D=r.ZERO,Q=r.ZERO;const Y=e.a,M=r.mul(e.b,Dx);let m=r.mul(w,R),x=r.mul(I,N),b=r.mul(T,K),v=r.add(w,I),d=r.add(R,N);v=r.mul(v,d),d=r.add(m,x),v=r.sub(v,d),d=r.add(w,T);let y=r.add(R,K);return d=r.mul(d,y),y=r.add(m,b),d=r.sub(d,y),y=r.add(I,T),V=r.add(N,K),y=r.mul(y,V),V=r.add(x,b),y=r.sub(y,V),Q=r.mul(Y,d),V=r.mul(M,b),Q=r.add(V,Q),V=r.sub(x,Q),Q=r.add(x,Q),D=r.mul(V,Q),x=r.add(m,m),x=r.add(x,m),b=r.mul(Y,b),d=r.mul(M,d),x=r.add(x,b),b=r.sub(m,b),b=r.mul(Y,b),d=r.add(d,b),m=r.mul(x,d),D=r.add(D,m),m=r.mul(y,d),V=r.mul(v,V),V=r.sub(V,m),m=r.mul(v,x),Q=r.mul(y,Q),Q=r.add(Q,m),new h(V,D,Q)}subtract(C){return this.add(C.negate())}is0(){return this.equals(h.ZERO)}wNAF(C){return _.wNAFCached(this,C,h.normalizeZ)}multiplyUnsafe(C){ff("scalar",C,Eo,e.n);const w=h.ZERO;if(C===Eo)return w;if(C===Br)return this;const{endo:I}=e;if(!I)return _.unsafeLadder(this,C);let{k1neg:T,k1:R,k2neg:N,k2:K}=I.splitScalar(C),V=w,D=w,Q=this;for(;R>Eo||K>Eo;)R&Br&&(V=V.add(Q)),K&Br&&(D=D.add(Q)),Q=Q.double(),R>>=Br,K>>=Br;return T&&(V=V.negate()),N&&(D=D.negate()),D=new h(r.mul(D.px,I.beta),D.py,D.pz),V.add(D)}multiply(C){const{endo:w,n:I}=e;ff("scalar",C,Br,I);let T,R;if(w){const{k1neg:N,k1:K,k2neg:V,k2:D}=w.splitScalar(C);let{p:Q,f:Y}=this.wNAF(K),{p:M,f:m}=this.wNAF(D);Q=_.constTimeNegate(N,Q),M=_.constTimeNegate(V,M),M=new h(r.mul(M.px,w.beta),M.py,M.pz),T=Q.add(M),R=Y.add(m)}else{const{p:N,f:K}=this.wNAF(C);T=N,R=K}return h.normalizeZ([T,R])[0]}multiplyAndAddUnsafe(C,w,I){const T=h.BASE,R=(K,V)=>V===Eo||V===Br||!K.equals(T)?K.multiplyUnsafe(V):K.multiply(V),N=R(this,w).add(R(C,I));return N.is0()?void 0:N}toAffine(C){return u(this,C)}isTorsionFree(){const{h:C,isTorsionFree:w}=e;if(C===Br)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:w}=e;return C===Br?this:w?w(h,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return Qd("isCompressed",C),this.assertValidity(),i(h,this,C)}toHex(C=!0){return Qd("isCompressed",C),Yd(this.toRawBytes(C))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const g=e.nBitLength,_=eJ(h,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function sJ(t){const e=KR(t);return ub(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oJ(t){const e=sJ(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(b){return Wr(b,n)}function o(b){return n4(b,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:f,weierstrassEquation:u,isWithinCurveOrder:l}=aJ({...e,toBytes(b,v,d){const y=v.toAffine(),S=r.toBytes(y.x),E=Nu;return Qd("isCompressed",d),d?E(Uint8Array.from([v.hasEvenY()?2:3]),S):E(Uint8Array.from([4]),S,r.toBytes(y.y))},fromBytes(b){const v=b.length,d=b[0],y=b.subarray(1);if(v===i&&(d===2||d===3)){const S=$o(y);if(!Wd(S,Br,r.ORDER))throw new Error("Point is not on curve");const E=u(S);let p;try{p=r.sqrt(E)}catch(L){const j=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+j)}const O=(p&Br)===Br;return(d&1)===1!==O&&(p=r.neg(p)),{x:S,y:p}}else if(v===a&&d===4){const S=r.fromBytes(y.subarray(0,r.BYTES)),E=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x:S,y:E}}else throw new Error(`Point of length ${v} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),h=b=>Yd(mf(b,e.nByteLength));function g(b){const v=n>>Br;return b>v}function _(b){return g(b)?s(-b):b}const A=(b,v,d)=>$o(b.slice(v,d));class C{constructor(v,d,y){this.r=v,this.s=d,this.recovery=y,this.assertValidity()}static fromCompact(v){const d=e.nByteLength;return v=gn("compactSignature",v,d*2),new C(A(v,0,d),A(v,d,2*d))}static fromDER(v){const{r:d,s:y}=yo.toSig(gn("DER",v));return new C(d,y)}assertValidity(){ff("r",this.r,Br,n),ff("s",this.s,Br,n)}addRecoveryBit(v){return new C(this.r,this.s,v)}recoverPublicKey(v){const{r:d,s:y,recovery:S}=this,E=K(gn("msgHash",v));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const p=S===2||S===3?d+e.n:d;if(p>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const O=S&1?"03":"02",k=c.fromHex(O+h(p)),L=o(p),j=s(-E*L),q=s(y*L),H=c.BASE.multiplyAndAddUnsafe(k,j,q);if(!H)throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Gd(this.toDERHex())}toDERHex(){return yo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gd(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(b){try{return f(b),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const b=qR(e.n);return ZZ(e.randomBytes(b),e.n)},precompute(b=8,v=c.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function I(b,v=!0){return c.fromPrivateKey(b).toRawBytes(v)}function T(b){const v=Hu(b),d=typeof b=="string",y=(v||d)&&b.length;return v?y===i||y===a:d?y===2*i||y===2*a:b instanceof c}function R(b,v,d=!0){if(T(b))throw new Error("first arg must be private key");if(!T(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(f(b)).toRawBytes(d)}const N=e.bits2int||function(b){const v=$o(b),d=b.length*8-e.nBitLength;return d>0?v>>BigInt(d):v},K=e.bits2int_modN||function(b){return s(N(b))},V=Uw(e.nBitLength);function D(b){return ff(`num < 2^${e.nBitLength}`,b,Eo,V),mf(b,e.nByteLength)}function Q(b,v,d=Y){if(["recovered","canonical"].some(X=>X in d))throw new Error("sign() legacy options not supported");const{hash:y,randomBytes:S}=e;let{lowS:E,prehash:p,extraEntropy:O}=d;E==null&&(E=!0),b=gn("msgHash",b),Bx(d),p&&(b=gn("prehashed msgHash",y(b)));const k=K(b),L=f(v),j=[D(L),D(k)];if(O!=null&&O!==!1){const X=O===!0?S(r.BYTES):O;j.push(gn("extraEntropy",X))}const q=Nu(...j),H=k;function z(X){const ee=N(X);if(!l(ee))return;const ie=o(ee),F=c.BASE.multiply(ee).toAffine(),$=s(F.x);if($===Eo)return;const re=s(ie*s(H+$*L));if(re===Eo)return;let ue=(F.x===$?0:2)|Number(F.y&Br),de=re;return E&&g(re)&&(de=_(re),ue^=1),new C($,de,ue)}return{seed:q,k2sig:z}}const Y={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function m(b,v,d=Y){const{seed:y,k2sig:S}=Q(b,v,d),E=e;return kR(E.hash.outputLen,E.nByteLength,E.hmac)(y,S)}c.BASE._setWindowSize(8);function x(b,v,d,y=M){var F;const S=b;if(v=gn("msgHash",v),d=gn("publicKey",d),"strict"in y)throw new Error("options.strict was renamed to lowS");Bx(y);const{lowS:E,prehash:p}=y;let O,k;try{if(typeof S=="string"||Hu(S))try{O=C.fromDER(S)}catch($){if(!($ instanceof yo.Err))throw $;O=C.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:$,s:re}=S;O=new C($,re)}else throw new Error("PARSE");k=c.fromHex(d)}catch($){if($.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(E&&O.hasHighS())return!1;p&&(v=e.hash(v));const{r:L,s:j}=O,q=K(v),H=o(j),z=s(q*H),X=s(L*H),ee=(F=c.BASE.multiplyAndAddUnsafe(k,z,X))==null?void 0:F.toAffine();return ee?s(ee.x)===L:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:R,sign:m,verify:x,ProjectivePoint:c,Signature:C,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cJ(t){return{hash:t,hmac:(e,...r)=>HR(t,e,rX(...r)),randomBytes:oR}}function fJ(t,e){const r=n=>oJ({...t,...cJ(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lb=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Wy=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),o1=BigInt(1),Xy=BigInt(2),Mx=(t,e)=>(t+e/Xy)/e;function VR(t){const e=lb,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),f=t*t*t%e,u=f*f*t%e,l=Zi(u,r,e)*u%e,h=Zi(l,r,e)*u%e,g=Zi(h,Xy,e)*f%e,_=Zi(g,i,e)*g%e,A=Zi(_,a,e)*_%e,C=Zi(A,o,e)*A%e,w=Zi(C,c,e)*C%e,I=Zi(w,o,e)*A%e,T=Zi(I,r,e)*u%e,R=Zi(T,s,e)*_%e,N=Zi(R,n,e)*f%e,K=Zi(N,Xy,e);if(!i4.eql(i4.sqr(K),t))throw new Error("Cannot find square root");return K}const i4=FR(lb,void 0,void 0,{sqrt:VR}),Xd=fJ({a:BigInt(0),b:BigInt(7),Fp:i4,n:Wy,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Wy,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=Mx(a*t,e),c=Mx(-n*t,e);let f=Wr(t-o*r-c*i,e),u=Wr(-o*n-c*a,e);const l=f>s,h=u>s;if(l&&(f=e-f),h&&(u=e-u),f>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:f,k2neg:h,k2:u}}}},s1),QR=BigInt(0),Px={};function Zy(t,...e){let r=Px[t];if(r===void 0){const n=s1(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Nu(n,n),Px[t]=r}return s1(Nu(r,...e))}const kw=t=>t.toRawBytes(!0).slice(1),a4=t=>mf(t,32),M_=t=>Wr(t,lb),c1=t=>Wr(t,Wy),zw=Xd.ProjectivePoint,uJ=(t,e,r)=>zw.BASE.multiplyAndAddUnsafe(t,e,r);function s4(t){let e=Xd.utils.normPrivateKeyToScalar(t),r=zw.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:c1(-e),bytes:kw(r)}}function YR(t){ff("x",t,o1,lb);const e=M_(t*t),r=M_(e*t+BigInt(7));let n=VR(r);n%Xy!==QR&&(n=M_(-n));const i=new zw(t,n,o1);return i.assertValidity(),i}const nd=$o;function GR(...t){return c1(nd(Zy("BIP0340/challenge",...t)))}function lJ(t){return s4(t).bytes}function dJ(t,e,r=oR(32)){const n=gn("message",t),{bytes:i,scalar:a}=s4(e),s=gn("auxRand",r,32),o=a4(a^nd(Zy("BIP0340/aux",s))),c=Zy("BIP0340/nonce",o,i,n),f=c1(nd(c));if(f===QR)throw new Error("sign failed: k is zero");const{bytes:u,scalar:l}=s4(f),h=GR(u,i,n),g=new Uint8Array(64);if(g.set(u,0),g.set(a4(c1(l+h*a)),32),!WR(g,n,i))throw new Error("sign: Invalid signature produced");return g}function WR(t,e,r){const n=gn("signature",t,64),i=gn("message",e),a=gn("publicKey",r,32);try{const s=YR(nd(a)),o=nd(n.subarray(0,32));if(!Wd(o,o1,lb))return!1;const c=nd(n.subarray(32,64));if(!Wd(c,o1,Wy))return!1;const f=GR(a4(o),kw(s),i),u=uJ(s,c,c1(-f));return!(!u||!u.hasEvenY()||u.toAffine().x!==o)}catch{return!1}}const hJ={getPublicKey:lJ,sign:dJ,verify:WR,utils:{randomPrivateKey:Xd.utils.randomPrivateKey,lift_x:YR,pointToBytes:kw,numberToBytesBE:mf,bytesToNumberBE:$o,taggedHash:Zy,mod:Wr}};function pJ(t){const e=typeof t=="string"?t:_e(t),r=Oe(`Nervos Message:${e}`,"utf8");return sb(r)}function bJ(t,e,r){const n=Oe(e);return Xd.verify(new Xd.Signature(Ie(n.slice(0,32)),Ie(n.slice(32,64))).addRecoveryBit(Number(Ie(n.slice(64,65)))),Oe(pJ(t)),Oe(r))}function gJ(t,e){let r,n,i,a="";for(r in t)if((i=t[r])!==void 0)if(Array.isArray(i))for(n=0;n<i.length;n++)a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i[n])}`;else a&&(a+="&"),a+=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`;return""+a}function yJ(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(a=>{const s=n[a];typeof s>"u"||s===void 0?delete n[a]:n[a]=r(s)});const i=gJ(n).toString();return i?`?${i}`:""}}var vJ=yJ(JSON.stringify,JSON.parse);function Jy(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4,n=e.padEnd(e.length+r,"="),i=atob(n),a=new ArrayBuffer(i.length),s=new Uint8Array(a);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return a}function nu(t){const e=new Uint8Array(t);let r="";for(let i=0;i<e.length;i++){const a=e[i];a!=null&&(r+=String.fromCharCode(a))}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function XR(t){const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=Number.parseInt(t.substring(r,r+2),16);return e.buffer}function mJ(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}function _J(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r.buffer}function wJ(t){return new TextEncoder().encode(t)}function AJ(t){let e="";for(let r=0;r<t.length;r+=2)e+=String.fromCharCode(Number.parseInt(t.substr(r,2),16));return e}function ZR(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone}var o4=(t=>(t[t.RS256=-257]="RS256",t[t.ES256=-7]="ES256",t))(o4||{}),Fs=(t=>(t.Auth="Auth",t.SignMessage="SignMessage",t.SignEvm="SignEvm",t.SignPsbt="SignPsbt",t.BatchSignPsbt="BatchSignPsbt",t.SignCkbTx="SignCkbTx",t.SignCotaNFT="SignCotaNFT",t.SignCkbRawTx="SignCkbRawTx",t.SignNostrEvent="SignNostrEvent",t.EncryptNostrMessage="EncryptNostrMessage",t.EvmWeb2Login="EvmWeb2Login",t.DecryptNostrMessage="DecryptNostrMessage",t.AuthMiniApp="AuthMiniApp",t.SignMiniAppMessage="SignMiniAppMessage",t.SignMiniAppEvm="SignMiniAppEvm",t))(Fs||{}),EJ={joyidAppURL:"https://testnet.joyid.dev"},xJ=()=>EJ,Fw=class JR extends Error{constructor(e,r){super(r),this.error=e,this.error_description=r,Object.setPrototypeOf(this,JR.prototype)}},SJ=class eL extends Fw{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,eL.prototype)}},CJ=class tL extends SJ{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,tL.prototype)}},rL=class nL extends Fw{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,nL.prototype)}},IJ=class extends Fw{constructor(t){super("NotSupported","Popup window is blocked by browser. see: https://docs.joy.id/guide/best-practice#popup-window-blocked"),this.popup=t,Object.setPrototypeOf(this,rL.prototype)}},Uo=(t,e,r)=>{const n=t.joyidAppURL??xJ().joyidAppURL,i=new URL(`${n}`);i.pathname=r;let a=t.redirectURL;i.searchParams.set("type",e);const s=vJ({...t,redirectURL:a});return i.searchParams.set("_data_",s),i.href},TJ=(t="")=>{const n=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(t,"joyid:authorize:popup",`left=${n},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)},OJ="joyid-block-dialog-style",jw="joyid-block-dialog-approve",qw="joyid-block-dialog-reject",BJ=`
.joyid-block-dialog {
  position: fixed;
  top: 32px;
  left: 50%;
  width: 340px;
  margin-left: -170px;
  background: white;
  color: #333;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  height: 110px;
  z-index: 100002;
  box-sizing: border-box;
  border: 1px solid #ffffff;
  border-radius: 8px;
  padding: 16px 20px;
}
.joyid-block-dialog-bg {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  position: fixed;
  top: 0;
  left: 0;
  display: none;
  z-index: 100001;
  display: block;
}
.joyid-block-dialog-title {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 8px;
}
.joyid-block-dialog-tip {
  font-size: 12px;
  color: #777;
}
.joyid-block-dialog-btn {
  width: 90px;
  height: 35px;
  font-size: 12px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
}
.joyid-block-dialog-action {
  text-align: right;
}
#${jw} {
  border: 1px solid #333;
  color: #333;
  background: #D2FF00;
  margin-bottom: 8px;
}

#${qw} {
  background: transparent;
}
`,DJ=`
<div class="joyid-block-dialog">
  <div class="joyid-block-dialog-content">
    <div class="joyid-block-dialog-title">
      Request Pop-up
    </div>
    <div class="joyid-block-dialog-tip">
      Click Approve to complete creating or using wallet
    </div>
  </div>
  <div class="joyid-block-dialog-action">
    <button class="joyid-block-dialog-btn" id="${jw}">Approve</button>
    <button class="joyid-block-dialog-btn" id="${qw}">Reject</button>
  </div>
</div>
`,MJ=()=>{if(document.getElementById(OJ)!=null)return;const e=document.createElement("style");e.appendChild(document.createTextNode(BJ)),(document.head??document.getElementsByTagName("head")[0]).appendChild(e)},PJ=async t=>{MJ();const e=document.createElement("div");e.innerHTML=DJ,document.body.appendChild(e);const r=document.createElement("div");r.className="joyid-block-dialog-bg",document.body.appendChild(r);const n=document.getElementById(jw),i=document.getElementById(qw),a=()=>{document.body.removeChild(e),document.body.removeChild(r)};return new Promise((s,o)=>{n==null||n.addEventListener("click",async()=>{try{const c=await t();a(),s(c)}catch(c){a(),o(c)}}),i==null||i.addEventListener("click",()=>{a(),o(new Error("User Rejected"))})})};class te extends Array{constructor(e,r){if(e>te.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(e),this.sign=r}static BigInt(e){var r=Math.floor,n=Number.isFinite;if(typeof e=="number"){if(e===0)return te.__zero();if((0|e)===e)return 0>e?te.__oneDigit(-e,!0):te.__oneDigit(e,!1);if(!n(e)||r(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return te.__fromDouble(e)}if(typeof e=="string"){const i=te.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?te.__oneDigit(1,!1):te.__zero();if(typeof e=="object"){if(e.constructor===te)return e;const i=te.__toPrimitive(e);return te.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const r of this)e.push((r&&(r>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?te.__toStringGeneric(this,e,!1):te.__toStringBasePowerOfTwo(this,e)}static toNumber(e){var r=Math.clz32;const n=e.length;if(n===0)return 0;if(n===1){const w=e.__unsignedDigit(0);return e.sign?-w:w}const i=e.__digit(n-1),a=r(i),s=32*n-a;if(1024<s)return e.sign?-1/0:1/0;let o=s-1,c=i,f=n-1;const u=a+1;let l=u===32?0:c<<u;l>>>=12;const h=u-12;let g=12<=u?0:c<<20+u,_=20+u;0<h&&0<f&&(f--,c=e.__digit(f),l|=c>>>32-h,g=c<<h,_=h),0<_&&0<f&&(f--,c=e.__digit(f),g|=c>>>32-_,_-=32);const A=te.__decideRounding(e,_,f,c);if((A===1||A===0&&(1&g)==1)&&(g=g+1>>>0,g===0&&(l++,l>>>20!=0&&(l=0,o++,1023<o))))return e.sign?-1/0:1/0;const C=e.sign?-2147483648:0;return o=o+1023<<20,te.__kBitConversionInts[1]=C|o|l,te.__kBitConversionInts[0]=g,te.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const r=e.__copy();return r.sign=!e.sign,r}static bitwiseNot(e){return e.sign?te.__absoluteSubOne(e).__trim():te.__absoluteAddOne(e,!0)}static exponentiate(e,r){if(r.sign)throw new RangeError("Exponent must be positive");if(r.length===0)return te.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&r.__digit(0))?te.unaryMinus(e):e;if(1<r.length)throw new RangeError("BigInt too big");let n=r.__unsignedDigit(0);if(n===1)return e;if(n>=te.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const s=1+(n>>>5),o=e.sign&&(1&n)!=0,c=new te(s,o);c.__initializeDigits();const f=1<<(31&n);return c.__setDigit(s-1,f),c}let i=null,a=e;for(1&n&&(i=e),n>>=1;n!==0;n>>=1)a=te.multiply(a,a),1&n&&(i===null?i=a:i=te.multiply(i,a));return i}static multiply(e,r){if(e.length===0)return e;if(r.length===0)return r;let n=e.length+r.length;32<=e.__clzmsd()+r.__clzmsd()&&n--;const i=new te(n,e.sign!==r.sign);i.__initializeDigits();for(let a=0;a<e.length;a++)te.__multiplyAccumulate(r,e.__digit(a),i,a);return i.__trim()}static divide(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>te.__absoluteCompare(e,r))return te.__zero();const n=e.sign!==r.sign,i=r.__unsignedDigit(0);let a;if(r.length===1&&65535>=i){if(i===1)return n===e.sign?e:te.unaryMinus(e);a=te.__absoluteDivSmall(e,i,null)}else a=te.__absoluteDivLarge(e,r,!0,!1);return a.sign=n,a.__trim()}static remainder(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>te.__absoluteCompare(e,r))return e;const n=r.__unsignedDigit(0);if(r.length===1&&65535>=n){if(n===1)return te.__zero();const a=te.__absoluteModSmall(e,n);return a===0?te.__zero():te.__oneDigit(a,e.sign)}const i=te.__absoluteDivLarge(e,r,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,r){const n=e.sign;return n===r.sign?te.__absoluteAdd(e,r,n):0<=te.__absoluteCompare(e,r)?te.__absoluteSub(e,r,n):te.__absoluteSub(r,e,!n)}static subtract(e,r){const n=e.sign;return n===r.sign?0<=te.__absoluteCompare(e,r)?te.__absoluteSub(e,r,n):te.__absoluteSub(r,e,!n):te.__absoluteAdd(e,r,n)}static leftShift(e,r){return r.length===0||e.length===0?e:r.sign?te.__rightShiftByAbsolute(e,r):te.__leftShiftByAbsolute(e,r)}static signedRightShift(e,r){return r.length===0||e.length===0?e:r.sign?te.__leftShiftByAbsolute(e,r):te.__rightShiftByAbsolute(e,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,r){return 0>te.__compareToBigInt(e,r)}static lessThanOrEqual(e,r){return 0>=te.__compareToBigInt(e,r)}static greaterThan(e,r){return 0<te.__compareToBigInt(e,r)}static greaterThanOrEqual(e,r){return 0<=te.__compareToBigInt(e,r)}static equal(e,r){if(e.sign!==r.sign||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==r.__digit(n))return!1;return!0}static notEqual(e,r){return!te.equal(e,r)}static bitwiseAnd(e,r){var n=Math.max;if(!e.sign&&!r.sign)return te.__absoluteAnd(e,r).__trim();if(e.sign&&r.sign){const i=n(e.length,r.length)+1;let a=te.__absoluteSubOne(e,i);const s=te.__absoluteSubOne(r);return a=te.__absoluteOr(a,s,a),te.__absoluteAddOne(a,!0,a).__trim()}return e.sign&&([e,r]=[r,e]),te.__absoluteAndNot(e,te.__absoluteSubOne(r)).__trim()}static bitwiseXor(e,r){var n=Math.max;if(!e.sign&&!r.sign)return te.__absoluteXor(e,r).__trim();if(e.sign&&r.sign){const s=n(e.length,r.length),o=te.__absoluteSubOne(e,s),c=te.__absoluteSubOne(r);return te.__absoluteXor(o,c,o).__trim()}const i=n(e.length,r.length)+1;e.sign&&([e,r]=[r,e]);let a=te.__absoluteSubOne(r,i);return a=te.__absoluteXor(a,e,a),te.__absoluteAddOne(a,!0,a).__trim()}static bitwiseOr(e,r){var n=Math.max;const i=n(e.length,r.length);if(!e.sign&&!r.sign)return te.__absoluteOr(e,r).__trim();if(e.sign&&r.sign){let s=te.__absoluteSubOne(e,i);const o=te.__absoluteSubOne(r);return s=te.__absoluteAnd(s,o,s),te.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,r]=[r,e]);let a=te.__absoluteSubOne(r,i);return a=te.__absoluteAndNot(a,e,a),te.__absoluteAddOne(a,!0,a).__trim()}static asIntN(e,r){if(r.length===0)return r;if(e===0)return te.__zero();if(e>=te.__kMaxLengthBits)return r;const n=e+31>>>5;if(r.length<n)return r;const i=r.__unsignedDigit(n-1),a=1<<(31&e-1);if(r.length===n&&i<a)return r;if((i&a)!==a)return te.__truncateToNBits(e,r);if(!r.sign)return te.__truncateAndSubFromPowerOfTwo(e,r,!0);if(!(i&a-1)){for(let s=n-2;0<=s;s--)if(r.__digit(s)!==0)return te.__truncateAndSubFromPowerOfTwo(e,r,!1);return r.length===n&&i===a?r:te.__truncateToNBits(e,r)}return te.__truncateAndSubFromPowerOfTwo(e,r,!1)}static asUintN(e,r){if(r.length===0)return r;if(e===0)return te.__zero();if(r.sign){if(e>te.__kMaxLengthBits)throw new RangeError("BigInt too big");return te.__truncateAndSubFromPowerOfTwo(e,r,!1)}if(e>=te.__kMaxLengthBits)return r;const n=e+31>>>5;if(r.length<n)return r;const i=31&e;return r.length==n&&(i===0||!(r.__digit(n-1)>>>i))?r:te.__truncateToNBits(e,r)}static ADD(e,r){if(e=te.__toPrimitive(e),r=te.__toPrimitive(r),typeof e=="string")return typeof r!="string"&&(r=r.toString()),e+r;if(typeof r=="string")return e.toString()+r;if(e=te.__toNumeric(e),r=te.__toNumeric(r),te.__isBigInt(e)&&te.__isBigInt(r))return te.add(e,r);if(typeof e=="number"&&typeof r=="number")return e+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,r){return te.__compare(e,r,0)}static LE(e,r){return te.__compare(e,r,1)}static GT(e,r){return te.__compare(e,r,2)}static GE(e,r){return te.__compare(e,r,3)}static EQ(e,r){for(;;){if(te.__isBigInt(e))return te.__isBigInt(r)?te.equal(e,r):te.EQ(r,e);if(typeof e=="number"){if(te.__isBigInt(r))return te.__equalToNumber(r,e);if(typeof r!="object")return e==r;r=te.__toPrimitive(r)}else if(typeof e=="string"){if(te.__isBigInt(r))return e=te.__fromString(e),e!==null&&te.equal(e,r);if(typeof r!="object")return e==r;r=te.__toPrimitive(r)}else if(typeof e=="boolean"){if(te.__isBigInt(r))return te.__equalToNumber(r,+e);if(typeof r!="object")return e==r;r=te.__toPrimitive(r)}else if(typeof e=="symbol"){if(te.__isBigInt(r))return!1;if(typeof r!="object")return e==r;r=te.__toPrimitive(r)}else if(typeof e=="object"){if(typeof r=="object"&&r.constructor!==te)return e==r;e=te.__toPrimitive(e)}else return e==r}}static NE(e,r){return!te.EQ(e,r)}static __zero(){return new te(0,!1)}static __oneDigit(e,r){const n=new te(1,r);return n.__setDigit(0,e),n}__copy(){const e=new te(this.length,this.sign);for(let r=0;r<this.length;r++)e[r]=this[r];return e}__trim(){let e=this.length,r=this[e-1];for(;r===0;)e--,r=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,r,n,i){if(0<r)return-1;let a;if(0>r)a=-r-1;else{if(n===0)return-1;n--,i=e.__digit(n),a=31}let s=1<<a;if(!(i&s))return-1;if(s-=1,(i&s)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}static __fromDouble(e){te.__kBitConversionDouble[0]=e;const r=2047&te.__kBitConversionInts[1]>>>20,n=r-1023,i=(n>>>5)+1,a=new te(i,0>e);let s=1048575&te.__kBitConversionInts[1]|1048576,o=te.__kBitConversionInts[0];const c=20,f=31&n;let u,l=0;if(f<20){const h=c-f;l=h+32,u=s>>>h,s=s<<32-h|o>>>h,o<<=32-h}else if(f===20)l=32,u=s,s=o;else{const h=f-c;l=32-h,u=s<<h|o>>>32-h,s=o<<h}a.__setDigit(i-1,u);for(let h=i-2;0<=h;h--)0<l?(l-=32,u=s,s=o):u=0,a.__setDigit(h,u);return a.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,r=0){let n=0;const i=e.length;let a=0;if(a===i)return te.__zero();let s=e.charCodeAt(a);for(;te.__isWhitespace(s);){if(++a===i)return te.__zero();s=e.charCodeAt(a)}if(s===43){if(++a===i)return null;s=e.charCodeAt(a),n=1}else if(s===45){if(++a===i)return null;s=e.charCodeAt(a),n=-1}if(r===0){if(r=10,s===48){if(++a===i)return te.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(r=16,++a===i)return null;s=e.charCodeAt(a)}else if(s===79||s===111){if(r=8,++a===i)return null;s=e.charCodeAt(a)}else if(s===66||s===98){if(r=2,++a===i)return null;s=e.charCodeAt(a)}}}else if(r===16&&s===48){if(++a===i)return te.__zero();if(s=e.charCodeAt(a),s===88||s===120){if(++a===i)return null;s=e.charCodeAt(a)}}for(;s===48;){if(++a===i)return te.__zero();s=e.charCodeAt(a)}const o=i-a;let c=te.__kMaxBitsPerChar[r],f=te.__kBitsPerCharTableMultiplier-1;if(o>1073741824/c)return null;const u=c*o+f>>>te.__kBitsPerCharTableShift,l=new te(u+31>>>5,!1),h=10>r?r:10,g=10<r?r-10:0;if(r&r-1){l.__initializeDigits();let _=!1,A=0;do{let C=0,w=1;for(;;){let T;if(s-48>>>0<h)T=s-48;else if((32|s)-97>>>0<g)T=(32|s)-87;else{_=!0;break}const R=w*r;if(4294967295<R)break;if(w=R,C=C*r+T,A++,++a===i){_=!0;break}s=e.charCodeAt(a)}f=32*te.__kBitsPerCharTableMultiplier-1;const I=c*A+f>>>te.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(w,C,I)}while(!_)}else{c>>=te.__kBitsPerCharTableShift;const _=[],A=[];let C=!1;do{let w=0,I=0;for(;;){let T;if(s-48>>>0<h)T=s-48;else if((32|s)-97>>>0<g)T=(32|s)-87;else{C=!0;break}if(I+=c,w=w<<c|T,++a===i){C=!0;break}if(s=e.charCodeAt(a),32<I+c)break}_.push(w),A.push(I)}while(!C);te.__fillFromParts(l,_,A)}if(a!==i){if(!te.__isWhitespace(s))return null;for(a++;a<i;a++)if(s=e.charCodeAt(a),!te.__isWhitespace(s))return null}return n!=0&&r!==10?null:(l.sign=n==-1,l.__trim())}static __fillFromParts(e,r,n){let i=0,a=0,s=0;for(let o=r.length-1;0<=o;o--){const c=r[o],f=n[o];a|=c<<s,s+=f,s===32?(e.__setDigit(i++,a),s=0,a=0):32<s&&(e.__setDigit(i++,a),s-=32,a=c>>>f-s)}if(a!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,a)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,r){var n=Math.clz32;const i=e.length;let a=r-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);const s=a,o=r-1,c=e.__digit(i-1),f=n(c);let u=0|(32*i-f+s-1)/s;if(e.sign&&u++,268435456<u)throw new Error("string too long");const l=Array(u);let h=u-1,g=0,_=0;for(let C=0;C<i-1;C++){const w=e.__digit(C),I=(g|w<<_)&o;l[h--]=te.__kConversionChars[I];const T=s-_;for(g=w>>>T,_=32-T;_>=s;)l[h--]=te.__kConversionChars[g&o],g>>>=s,_-=s}const A=(g|c<<_)&o;for(l[h--]=te.__kConversionChars[A],g=c>>>s-_;g!==0;)l[h--]=te.__kConversionChars[g&o],g>>>=s;if(e.sign&&(l[h--]="-"),h!=-1)throw new Error("implementation bug");return l.join("")}static __toStringGeneric(e,r,n){var i=Math.clz32;const a=e.length;if(a===0)return"";if(a===1){let C=e.__unsignedDigit(0).toString(r);return n===!1&&e.sign&&(C="-"+C),C}const s=32*a-i(e.__digit(a-1)),o=te.__kMaxBitsPerChar[r],c=o-1;let f=s*te.__kBitsPerCharTableMultiplier;f+=c-1,f=0|f/c;const u=f+1>>1,l=te.exponentiate(te.__oneDigit(r,!1),te.__oneDigit(u,!1));let h,g;const _=l.__unsignedDigit(0);if(l.length===1&&65535>=_){h=new te(e.length,!1),h.__initializeDigits();let C=0;for(let w=2*e.length-1;0<=w;w--){const I=C<<16|e.__halfDigit(w);h.__setHalfDigit(w,0|I/_),C=0|I%_}g=C.toString(r)}else{const C=te.__absoluteDivLarge(e,l,!0,!0);h=C.quotient;const w=C.remainder.__trim();g=te.__toStringGeneric(w,r,!0)}h.__trim();let A=te.__toStringGeneric(h,r,!0);for(;g.length<u;)g="0"+g;return n===!1&&e.sign&&(A="-"+A),A+g}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,r){const n=e.sign;if(n!==r.sign)return te.__unequalSign(n);const i=te.__absoluteCompare(e,r);return 0<i?te.__absoluteGreater(n):0>i?te.__absoluteLess(n):0}static __compareToNumber(e,r){if(r|!0){const n=e.sign,i=0>r;if(n!==i)return te.__unequalSign(n);if(e.length===0){if(i)throw new Error("implementation bug");return r===0?0:-1}if(1<e.length)return te.__absoluteGreater(n);const a=Math.abs(r),s=e.__unsignedDigit(0);return s>a?te.__absoluteGreater(n):s<a?te.__absoluteLess(n):0}return te.__compareToDouble(e,r)}static __compareToDouble(e,r){var n=Math.clz32;if(r!==r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const i=e.sign;if(i!==0>r)return te.__unequalSign(i);if(r===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;te.__kBitConversionDouble[0]=r;const a=2047&te.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");const s=a-1023;if(0>s)return te.__absoluteGreater(i);const o=e.length;let c=e.__digit(o-1);const f=n(c),u=32*o-f,l=s+1;if(u<l)return te.__absoluteLess(i);if(u>l)return te.__absoluteGreater(i);let h=1048576|1048575&te.__kBitConversionInts[1],g=te.__kBitConversionInts[0];const _=20,A=31-f;if(A!==(u-1)%31)throw new Error("implementation bug");let C,w=0;if(20>A){const I=_-A;w=I+32,C=h>>>I,h=h<<32-I|g>>>I,g<<=32-I}else if(A===20)w=32,C=h,h=g;else{const I=A-_;w=32-I,C=h<<I|g>>>32-I,h=g<<I}if(c>>>=0,C>>>=0,c>C)return te.__absoluteGreater(i);if(c<C)return te.__absoluteLess(i);for(let I=o-2;0<=I;I--){0<w?(w-=32,C=h>>>0,h=g,g=0):C=0;const T=e.__unsignedDigit(I);if(T>C)return te.__absoluteGreater(i);if(T<C)return te.__absoluteLess(i)}if(h!==0||g!==0){if(w===0)throw new Error("implementation bug");return te.__absoluteLess(i)}return 0}static __equalToNumber(e,r){var n=Math.abs;return r|r===0?r===0?e.length===0:e.length===1&&e.sign===0>r&&e.__unsignedDigit(0)===n(r):te.__compareToDouble(e,r)===0}static __comparisonResultToBool(e,r){switch(r){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}static __compare(e,r,n){if(e=te.__toPrimitive(e),r=te.__toPrimitive(r),typeof e=="string"&&typeof r=="string")switch(n){case 0:return e<r;case 1:return e<=r;case 2:return e>r;case 3:return e>=r}if(te.__isBigInt(e)&&typeof r=="string")return r=te.__fromString(r),r!==null&&te.__comparisonResultToBool(te.__compareToBigInt(e,r),n);if(typeof e=="string"&&te.__isBigInt(r))return e=te.__fromString(e),e!==null&&te.__comparisonResultToBool(te.__compareToBigInt(e,r),n);if(e=te.__toNumeric(e),r=te.__toNumeric(r),te.__isBigInt(e)){if(te.__isBigInt(r))return te.__comparisonResultToBool(te.__compareToBigInt(e,r),n);if(typeof r!="number")throw new Error("implementation bug");return te.__comparisonResultToBool(te.__compareToNumber(e,r),n)}if(typeof e!="number")throw new Error("implementation bug");if(te.__isBigInt(r))return te.__comparisonResultToBool(te.__compareToNumber(r,e),2^n);if(typeof r!="number")throw new Error("implementation bug");return n===0?e<r:n===1?e<=r:n===2?e>r:n===3?e>=r:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(e,r,n){if(e.length<r.length)return te.__absoluteAdd(r,e,n);if(e.length===0)return e;if(r.length===0)return e.sign===n?e:te.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||r.length===e.length&&r.__clzmsd()===0)&&i++;const a=new te(i,n);let s=0,o=0;for(;o<r.length;o++){const c=r.__digit(o),f=e.__digit(o),u=(65535&f)+(65535&c)+s,l=(f>>>16)+(c>>>16)+(u>>>16);s=l>>>16,a.__setDigit(o,65535&u|l<<16)}for(;o<e.length;o++){const c=e.__digit(o),f=(65535&c)+s,u=(c>>>16)+(f>>>16);s=u>>>16,a.__setDigit(o,65535&f|u<<16)}return o<a.length&&a.__setDigit(o,s),a.__trim()}static __absoluteSub(e,r,n){if(e.length===0)return e;if(r.length===0)return e.sign===n?e:te.unaryMinus(e);const i=new te(e.length,n);let a=0,s=0;for(;s<r.length;s++){const o=e.__digit(s),c=r.__digit(s),f=(65535&o)-(65535&c)-a;a=1&f>>>16;const u=(o>>>16)-(c>>>16)-a;a=1&u>>>16,i.__setDigit(s,65535&f|u<<16)}for(;s<e.length;s++){const o=e.__digit(s),c=(65535&o)-a;a=1&c>>>16;const f=(o>>>16)-a;a=1&f>>>16,i.__setDigit(s,65535&c|f<<16)}return i.__trim()}static __absoluteAddOne(e,r,n=null){const i=e.length;n===null?n=new te(i,r):n.sign=r;let a=!0;for(let s,o=0;o<i;o++){if(s=e.__digit(o),a){const c=s===-1;s=0|s+1,a=c}n.__setDigit(o,s)}return a&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(e,r){const n=e.length;r=r||n;const i=new te(r,!1);let a=!0;for(let s,o=0;o<n;o++){if(s=e.__digit(o),a){const c=s===0;s=0|s-1,a=c}i.__setDigit(o,s)}if(a)throw new Error("implementation bug");for(let s=n;s<r;s++)i.__setDigit(s,0);return i}static __absoluteAnd(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const f=e,u=i;e=r,i=a,r=f,a=u}let o=s;n===null?n=new te(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)&r.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteAndNot(e,r,n=null){const i=e.length,a=r.length;let s=a;i<a&&(s=i);let o=i;n===null?n=new te(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)&~r.__digit(c));for(;c<i;c++)n.__setDigit(c,e.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteOr(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const f=e,u=i;e=r,i=a,r=f,a=u}let o=i;n===null?n=new te(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)|r.__digit(c));for(;c<i;c++)n.__setDigit(c,e.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteXor(e,r,n=null){let i=e.length,a=r.length,s=a;if(i<a){s=i;const f=e,u=i;e=r,i=a,r=f,a=u}let o=i;n===null?n=new te(o,!1):o=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)^r.__digit(c));for(;c<i;c++)n.__setDigit(c,e.__digit(c));for(;c<o;c++)n.__setDigit(c,0);return n}static __absoluteCompare(e,r){const n=e.length-r.length;if(n!=0)return n;let i=e.length-1;for(;0<=i&&e.__digit(i)===r.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>r.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,r,n,i){var a=Math.imul;if(r===0)return;const s=65535&r,o=r>>>16;let c=0,f=0,u=0;for(let l=0;l<e.length;l++,i++){let h=n.__digit(i),g=65535&h,_=h>>>16;const A=e.__digit(l),C=65535&A,w=A>>>16,I=a(C,s),T=a(C,o),R=a(w,s),N=a(w,o);g+=f+(65535&I),_+=u+c+(g>>>16)+(I>>>16)+(65535&T)+(65535&R),c=_>>>16,f=(T>>>16)+(R>>>16)+(65535&N)+c,c=f>>>16,f&=65535,u=N>>>16,h=65535&g|_<<16,n.__setDigit(i,h)}for(;c!=0||f!==0||u!==0;i++){let l=n.__digit(i);const h=(65535&l)+f,g=(l>>>16)+(h>>>16)+u+c;f=0,u=0,c=g>>>16,l=65535&h|g<<16,n.__setDigit(i,l)}}static __internalMultiplyAdd(e,r,n,i,a){var s=Math.imul;let o=n,c=0;for(let f=0;f<i;f++){const u=e.__digit(f),l=s(65535&u,r),h=(65535&l)+c+o;o=h>>>16;const g=s(u>>>16,r),_=(65535&g)+(l>>>16)+o;o=_>>>16,c=g>>>16,a.__setDigit(f,_<<16|65535&h)}if(a.length>i)for(a.__setDigit(i++,o+c);i<a.length;)a.__setDigit(i++,0);else if(o+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,r,n){var i=Math.imul;n>this.length&&(n=this.length);const a=65535&e,s=e>>>16;let o=0,c=65535&r,f=r>>>16;for(let u=0;u<n;u++){const l=this.__digit(u),h=65535&l,g=l>>>16,_=i(h,a),A=i(h,s),C=i(g,a),w=i(g,s),I=c+(65535&_),T=f+o+(I>>>16)+(_>>>16)+(65535&A)+(65535&C);c=(A>>>16)+(C>>>16)+(65535&w)+(T>>>16),o=c>>>16,c&=65535,f=w>>>16,this.__setDigit(u,65535&I|T<<16)}if(o!=0||c!==0||f!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,r,n){n===null&&(n=new te(e.length,!1));let i=0;for(let a,s=2*e.length-1;0<=s;s-=2){a=(i<<16|e.__halfDigit(s))>>>0;const o=0|a/r;i=0|a%r,a=(i<<16|e.__halfDigit(s-1))>>>0;const c=0|a/r;i=0|a%r,n.__setDigit(s>>>1,o<<16|c)}return n}static __absoluteModSmall(e,r){let n=0;for(let i=2*e.length-1;0<=i;i--)n=0|((n<<16|e.__halfDigit(i))>>>0)%r;return n}static __absoluteDivLarge(e,r,n,i){var a=Math.imul;const s=r.__halfDigitLength(),o=r.length,c=e.__halfDigitLength()-s;let f=null;n&&(f=new te(c+2>>>1,!1),f.__initializeDigits());const u=new te(s+2>>>1,!1);u.__initializeDigits();const l=te.__clz16(r.__halfDigit(s-1));0<l&&(r=te.__specialLeftShift(r,l,0));const h=te.__specialLeftShift(e,l,1),g=r.__halfDigit(s-1);let _=0;for(let A,C=c;0<=C;C--){A=65535;const w=h.__halfDigit(C+s);if(w!==g){const T=(w<<16|h.__halfDigit(C+s-1))>>>0;A=0|T/g;let R=0|T%g;const N=r.__halfDigit(s-2),K=h.__halfDigit(C+s-2);for(;a(A,N)>>>0>(R<<16|K)>>>0&&(A--,R+=g,!(65535<R)););}te.__internalMultiplyAdd(r,A,0,o,u);let I=h.__inplaceSub(u,C,s+1);I!==0&&(I=h.__inplaceAdd(r,C,s),h.__setHalfDigit(C+s,h.__halfDigit(C+s)+I),A--),n&&(1&C?_=A<<16:f.__setDigit(C>>>1,_|A))}return i?(h.__inplaceRightShift(l),n?{quotient:f,remainder:h}:h):n?f:void 0}static __clz16(e){return Math.clz32(e)-16}__inplaceAdd(e,r,n){let i=0;for(let a=0;a<n;a++){const s=this.__halfDigit(r+a)+e.__halfDigit(a)+i;i=s>>>16,this.__setHalfDigit(r+a,s)}return i}__inplaceSub(e,r,n){let i=0;if(1&r){r>>=1;let a=this.__digit(r),s=65535&a,o=0;for(;o<n-1>>>1;o++){const u=e.__digit(o),l=(a>>>16)-(65535&u)-i;i=1&l>>>16,this.__setDigit(r+o,l<<16|65535&s),a=this.__digit(r+o+1),s=(65535&a)-(u>>>16)-i,i=1&s>>>16}const c=e.__digit(o),f=(a>>>16)-(65535&c)-i;if(i=1&f>>>16,this.__setDigit(r+o,f<<16|65535&s),r+o+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(a=this.__digit(r+o+1),s=(65535&a)-(c>>>16)-i,i=1&s>>>16,this.__setDigit(r+e.length,4294901760&a|65535&s))}else{r>>=1;let a=0;for(;a<e.length-1;a++){const u=this.__digit(r+a),l=e.__digit(a),h=(65535&u)-(65535&l)-i;i=1&h>>>16;const g=(u>>>16)-(l>>>16)-i;i=1&g>>>16,this.__setDigit(r+a,g<<16|65535&h)}const s=this.__digit(r+a),o=e.__digit(a),c=(65535&s)-(65535&o)-i;i=1&c>>>16;let f=0;!(1&n)&&(f=(s>>>16)-(o>>>16)-i,i=1&f>>>16),this.__setDigit(r+a,f<<16|65535&c)}return i}__inplaceRightShift(e){if(e===0)return;let r=this.__digit(0)>>>e;const n=this.length-1;for(let i=0;i<n;i++){const a=this.__digit(i+1);this.__setDigit(i,a<<32-e|r),r=a>>>e}this.__setDigit(n,r)}static __specialLeftShift(e,r,n){const i=e.length,a=new te(i+n,!1);if(r===0){for(let o=0;o<i;o++)a.__setDigit(o,e.__digit(o));return 0<n&&a.__setDigit(i,0),a}let s=0;for(let o=0;o<i;o++){const c=e.__digit(o);a.__setDigit(o,c<<r|s),s=c>>>32-r}return 0<n&&a.__setDigit(i,s),a}static __leftShiftByAbsolute(e,r){const n=te.__toShiftAmount(r);if(0>n)throw new RangeError("BigInt too big");const i=n>>>5,a=31&n,s=e.length,o=a!==0&&e.__digit(s-1)>>>32-a!=0,c=s+i+(o?1:0),f=new te(c,e.sign);if(a===0){let u=0;for(;u<i;u++)f.__setDigit(u,0);for(;u<c;u++)f.__setDigit(u,e.__digit(u-i))}else{let u=0;for(let l=0;l<i;l++)f.__setDigit(l,0);for(let l=0;l<s;l++){const h=e.__digit(l);f.__setDigit(l+i,h<<a|u),u=h>>>32-a}if(o)f.__setDigit(s+i,u);else if(u!==0)throw new Error("implementation bug")}return f.__trim()}static __rightShiftByAbsolute(e,r){const n=e.length,i=e.sign,a=te.__toShiftAmount(r);if(0>a)return te.__rightShiftByMaximum(i);const s=a>>>5,o=31&a;let c=n-s;if(0>=c)return te.__rightShiftByMaximum(i);let f=!1;if(i){if(e.__digit(s)&(1<<o)-1)f=!0;else for(let l=0;l<s;l++)if(e.__digit(l)!==0){f=!0;break}}f&&o===0&&!~e.__digit(n-1)&&c++;let u=new te(c,i);if(o===0)for(let l=s;l<n;l++)u.__setDigit(l-s,e.__digit(l));else{let l=e.__digit(s)>>>o;const h=n-s-1;for(let g=0;g<h;g++){const _=e.__digit(g+s+1);u.__setDigit(g,_<<32-o|l),l=_>>>o}u.__setDigit(h,l)}return f&&(u=te.__absoluteAddOne(u,!0,u)),u.__trim()}static __rightShiftByMaximum(e){return e?te.__oneDigit(1,!0):te.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const r=e.__unsignedDigit(0);return r>te.__kMaxLengthBits?-1:r}static __toPrimitive(e,r="default"){if(typeof e!="object"||e.constructor===te)return e;const n=e[Symbol.toPrimitive];if(n){const s=n(r);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}const i=e.valueOf;if(i){const s=i.call(e);if(typeof s!="object")return s}const a=e.toString;if(a){const s=a.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return te.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e.constructor===te}static __truncateToNBits(e,r){const n=e+31>>>5,i=new te(n,r.sign),a=n-1;for(let o=0;o<a;o++)i.__setDigit(o,r.__digit(o));let s=r.__digit(a);if(31&e){const o=32-(31&e);s=s<<o>>>o}return i.__setDigit(a,s),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,r,n){var i=Math.min;const a=e+31>>>5,s=new te(a,n);let o=0;const c=a-1;let f=0;for(const g=i(c,r.length);o<g;o++){const _=r.__digit(o),A=0-(65535&_)-f;f=1&A>>>16;const C=0-(_>>>16)-f;f=1&C>>>16,s.__setDigit(o,65535&A|C<<16)}for(;o<c;o++)s.__setDigit(o,0|-f);let u=c<r.length?r.__digit(c):0;const l=31&e;let h;if(l==0){const g=0-(65535&u)-f;f=1&g>>>16;const _=0-(u>>>16)-f;h=65535&g|_<<16}else{const g=32-l;u=u<<g>>>g;const _=1<<32-g,A=(65535&_)-(65535&u)-f;f=1&A>>>16;const C=(_>>>16)-(u>>>16)-f;h=65535&A|C<<16,h&=_-1}return s.__setDigit(c,h),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,r){this[e]=0|r}__setDigitGrow(e,r){this[e]=0|r}__halfDigitLength(){const e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 65535&this[e>>>1]>>>((1&e)<<4)}__setHalfDigit(e,r){const n=e>>>1,i=this.__digit(n),a=1&e?65535&i|r<<16:4294901760&i|65535&r;this.__setDigit(n,a)}static __digitPow(e,r){let n=1;for(;0<r;)1&r&&(n*=e),r>>>=1,e*=e;return n}}te.__kMaxLength=33554432,te.__kMaxLengthBits=te.__kMaxLength<<5,te.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],te.__kBitsPerCharTableShift=5,te.__kBitsPerCharTableMultiplier=1<<te.__kBitsPerCharTableShift,te.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],te.__kBitConversionBuffer=new ArrayBuffer(8),te.__kBitConversionDouble=new Float64Array(te.__kBitConversionBuffer),te.__kBitConversionInts=new Int32Array(te.__kBitConversionBuffer);var iL={};const RJ="elliptic",LJ="6.5.4",HJ="EC cryptography",NJ="lib/elliptic.js",$J=["lib"],UJ={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},kJ={type:"git",url:"git@github.com:indutny/elliptic"},zJ=["EC","Elliptic","curve","Cryptography"],FJ="Fedor Indutny <fedor@indutny.com>",jJ="MIT",qJ={url:"https://github.com/indutny/elliptic/issues"},KJ="https://github.com/indutny/elliptic",VJ={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},QJ={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},YJ={name:RJ,version:LJ,description:HJ,main:NJ,files:$J,scripts:UJ,repository:kJ,keywords:zJ,author:FJ,license:jJ,bugs:qJ,homepage:KJ,devDependencies:VJ,dependencies:QJ};var qi={},Kw={exports:{}};const GJ={},WJ=Object.freeze(Object.defineProperty({__proto__:null,default:GJ},Symbol.toStringTag,{value:"Module"})),db=fC(WJ);Kw.exports;(function(t){(function(e,r){function n(M,m){if(!M)throw new Error(m||"Assertion failed")}function i(M,m){M.super_=m;var x=function(){};x.prototype=m.prototype,M.prototype=new x,M.prototype.constructor=M}function a(M,m,x){if(a.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((m==="le"||m==="be")&&(x=m,m=10),this._init(M||0,m||10,x||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=db.Buffer}catch{}a.isBN=function(m){return m instanceof a?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===a.wordSize&&Array.isArray(m.words)},a.max=function(m,x){return m.cmp(x)>0?m:x},a.min=function(m,x){return m.cmp(x)<0?m:x},a.prototype._init=function(m,x,b){if(typeof m=="number")return this._initNumber(m,x,b);if(typeof m=="object")return this._initArray(m,x,b);x==="hex"&&(x=16),n(x===(x|0)&&x>=2&&x<=36),m=m.toString().replace(/\s+/g,"");var v=0;m[0]==="-"&&(v++,this.negative=1),v<m.length&&(x===16?this._parseHex(m,v,b):(this._parseBase(m,x,v),b==="le"&&this._initArray(this.toArray(),x,b)))},a.prototype._initNumber=function(m,x,b){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),x,b)},a.prototype._initArray=function(m,x,b){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d,y,S=0;if(b==="be")for(v=m.length-1,d=0;v>=0;v-=3)y=m[v]|m[v-1]<<8|m[v-2]<<16,this.words[d]|=y<<S&67108863,this.words[d+1]=y>>>26-S&67108863,S+=24,S>=26&&(S-=26,d++);else if(b==="le")for(v=0,d=0;v<m.length;v+=3)y=m[v]|m[v+1]<<8|m[v+2]<<16,this.words[d]|=y<<S&67108863,this.words[d+1]=y>>>26-S&67108863,S+=24,S>=26&&(S-=26,d++);return this.strip()};function o(M,m){var x=M.charCodeAt(m);return x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:x-48&15}function c(M,m,x){var b=o(M,x);return x-1>=m&&(b|=o(M,x-1)<<4),b}a.prototype._parseHex=function(m,x,b){this.length=Math.ceil((m.length-x)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var d=0,y=0,S;if(b==="be")for(v=m.length-1;v>=x;v-=2)S=c(m,x,v)<<d,this.words[y]|=S&67108863,d>=18?(d-=18,y+=1,this.words[y]|=S>>>26):d+=8;else{var E=m.length-x;for(v=E%2===0?x+1:x;v<m.length;v+=2)S=c(m,x,v)<<d,this.words[y]|=S&67108863,d>=18?(d-=18,y+=1,this.words[y]|=S>>>26):d+=8}this.strip()};function f(M,m,x,b){for(var v=0,d=Math.min(M.length,x),y=m;y<d;y++){var S=M.charCodeAt(y)-48;v*=b,S>=49?v+=S-49+10:S>=17?v+=S-17+10:v+=S}return v}a.prototype._parseBase=function(m,x,b){this.words=[0],this.length=1;for(var v=0,d=1;d<=67108863;d*=x)v++;v--,d=d/x|0;for(var y=m.length-b,S=y%v,E=Math.min(y,y-S)+b,p=0,O=b;O<E;O+=v)p=f(m,O,O+v,x),this.imuln(d),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(S!==0){var k=1;for(p=f(m,O,m.length,x),O=0;O<S;O++)k*=x;this.imuln(k),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this.strip()},a.prototype.copy=function(m){m.words=new Array(this.length);for(var x=0;x<this.length;x++)m.words[x]=this.words[x];m.length=this.length,m.negative=this.negative,m.red=this.red},a.prototype.clone=function(){var m=new a(null);return this.copy(m),m},a.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(m,x){m=m||10,x=x|0||1;var b;if(m===16||m==="hex"){b="";for(var v=0,d=0,y=0;y<this.length;y++){var S=this.words[y],E=((S<<v|d)&16777215).toString(16);d=S>>>24-v&16777215,d!==0||y!==this.length-1?b=u[6-E.length]+E+b:b=E+b,v+=2,v>=26&&(v-=26,y--)}for(d!==0&&(b=d.toString(16)+b);b.length%x!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(m===(m|0)&&m>=2&&m<=36){var p=l[m],O=h[m];b="";var k=this.clone();for(k.negative=0;!k.isZero();){var L=k.modn(O).toString(m);k=k.idivn(O),k.isZero()?b=L+b:b=u[p-L.length]+L+b}for(this.isZero()&&(b="0"+b);b.length%x!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(m,x){return n(typeof s<"u"),this.toArrayLike(s,m,x)},a.prototype.toArray=function(m,x){return this.toArrayLike(Array,m,x)},a.prototype.toArrayLike=function(m,x,b){var v=this.byteLength(),d=b||Math.max(1,v);n(v<=d,"byte array longer than desired length"),n(d>0,"Requested array length <= 0"),this.strip();var y=x==="le",S=new m(d),E,p,O=this.clone();if(y){for(p=0;!O.isZero();p++)E=O.andln(255),O.iushrn(8),S[p]=E;for(;p<d;p++)S[p]=0}else{for(p=0;p<d-v;p++)S[p]=0;for(p=0;!O.isZero();p++)E=O.andln(255),O.iushrn(8),S[d-p-1]=E}return S},Math.clz32?a.prototype._countBits=function(m){return 32-Math.clz32(m)}:a.prototype._countBits=function(m){var x=m,b=0;return x>=4096&&(b+=13,x>>>=13),x>=64&&(b+=7,x>>>=7),x>=8&&(b+=4,x>>>=4),x>=2&&(b+=2,x>>>=2),b+x},a.prototype._zeroBits=function(m){if(m===0)return 26;var x=m,b=0;return x&8191||(b+=13,x>>>=13),x&127||(b+=7,x>>>=7),x&15||(b+=4,x>>>=4),x&3||(b+=2,x>>>=2),x&1||b++,b},a.prototype.bitLength=function(){var m=this.words[this.length-1],x=this._countBits(m);return(this.length-1)*26+x};function g(M){for(var m=new Array(M.bitLength()),x=0;x<m.length;x++){var b=x/26|0,v=x%26;m[x]=(M.words[b]&1<<v)>>>v}return m}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,x=0;x<this.length;x++){var b=this._zeroBits(this.words[x]);if(m+=b,b!==26)break}return m},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},a.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var x=0;x<m.length;x++)this.words[x]=this.words[x]|m.words[x];return this.strip()},a.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},a.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},a.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},a.prototype.iuand=function(m){var x;this.length>m.length?x=m:x=this;for(var b=0;b<x.length;b++)this.words[b]=this.words[b]&m.words[b];return this.length=x.length,this.strip()},a.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},a.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},a.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},a.prototype.iuxor=function(m){var x,b;this.length>m.length?(x=this,b=m):(x=m,b=this);for(var v=0;v<b.length;v++)this.words[v]=x.words[v]^b.words[v];if(this!==x)for(;v<x.length;v++)this.words[v]=x.words[v];return this.length=x.length,this.strip()},a.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},a.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},a.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},a.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var x=Math.ceil(m/26)|0,b=m%26;this._expand(x),b>0&&x--;for(var v=0;v<x;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},a.prototype.notn=function(m){return this.clone().inotn(m)},a.prototype.setn=function(m,x){n(typeof m=="number"&&m>=0);var b=m/26|0,v=m%26;return this._expand(b+1),x?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},a.prototype.iadd=function(m){var x;if(this.negative!==0&&m.negative===0)return this.negative=0,x=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,x=this.isub(m),m.negative=1,x._normSign();var b,v;this.length>m.length?(b=this,v=m):(b=m,v=this);for(var d=0,y=0;y<v.length;y++)x=(b.words[y]|0)+(v.words[y]|0)+d,this.words[y]=x&67108863,d=x>>>26;for(;d!==0&&y<b.length;y++)x=(b.words[y]|0)+d,this.words[y]=x&67108863,d=x>>>26;if(this.length=b.length,d!==0)this.words[this.length]=d,this.length++;else if(b!==this)for(;y<b.length;y++)this.words[y]=b.words[y];return this},a.prototype.add=function(m){var x;return m.negative!==0&&this.negative===0?(m.negative=0,x=this.sub(m),m.negative^=1,x):m.negative===0&&this.negative!==0?(this.negative=0,x=m.sub(this),this.negative=1,x):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},a.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var x=this.iadd(m);return m.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var b=this.cmp(m);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,d;b>0?(v=this,d=m):(v=m,d=this);for(var y=0,S=0;S<d.length;S++)x=(v.words[S]|0)-(d.words[S]|0)+y,y=x>>26,this.words[S]=x&67108863;for(;y!==0&&S<v.length;S++)x=(v.words[S]|0)+y,y=x>>26,this.words[S]=x&67108863;if(y===0&&S<v.length&&v!==this)for(;S<v.length;S++)this.words[S]=v.words[S];return this.length=Math.max(this.length,S),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(m){return this.clone().isub(m)};function _(M,m,x){x.negative=m.negative^M.negative;var b=M.length+m.length|0;x.length=b,b=b-1|0;var v=M.words[0]|0,d=m.words[0]|0,y=v*d,S=y&67108863,E=y/67108864|0;x.words[0]=S;for(var p=1;p<b;p++){for(var O=E>>>26,k=E&67108863,L=Math.min(p,m.length-1),j=Math.max(0,p-M.length+1);j<=L;j++){var q=p-j|0;v=M.words[q]|0,d=m.words[j]|0,y=v*d+k,O+=y/67108864|0,k=y&67108863}x.words[p]=k|0,E=O|0}return E!==0?x.words[p]=E|0:x.length--,x.strip()}var A=function(m,x,b){var v=m.words,d=x.words,y=b.words,S=0,E,p,O,k=v[0]|0,L=k&8191,j=k>>>13,q=v[1]|0,H=q&8191,z=q>>>13,X=v[2]|0,ee=X&8191,ie=X>>>13,F=v[3]|0,$=F&8191,re=F>>>13,ue=v[4]|0,de=ue&8191,W=ue>>>13,J=v[5]|0,ne=J&8191,fe=J>>>13,ve=v[6]|0,ye=ve&8191,Ce=ve>>>13,kt=v[7]|0,He=kt&8191,qe=kt>>>13,cn=v[8]|0,U=cn&8191,B=cn>>>13,P=v[9]|0,G=P&8191,ae=P>>>13,ce=d[0]|0,le=ce&8191,Be=ce>>>13,it=d[1]|0,Re=it&8191,Le=it>>>13,Ze=d[2]|0,ct=Ze&8191,zt=Ze>>>13,xb=d[3]|0,Wt=xb&8191,Pt=xb>>>13,sc=d[4]|0,Rt=sc&8191,Lt=sc>>>13,ol=d[5]|0,vt=ol&8191,Xt=ol>>>13,Sb=d[6]|0,Zt=Sb&8191,Jt=Sb>>>13,Cb=d[7]|0,Ft=Cb&8191,Ht=Cb>>>13,ms=d[8]|0,er=ms&8191,tr=ms>>>13,Ib=d[9]|0,rr=Ib&8191,nr=Ib>>>13;b.negative=m.negative^x.negative,b.length=19,E=Math.imul(L,le),p=Math.imul(L,Be),p=p+Math.imul(j,le)|0,O=Math.imul(j,Be);var yi=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(yi>>>26)|0,yi&=67108863,E=Math.imul(H,le),p=Math.imul(H,Be),p=p+Math.imul(z,le)|0,O=Math.imul(z,Be),E=E+Math.imul(L,Re)|0,p=p+Math.imul(L,Le)|0,p=p+Math.imul(j,Re)|0,O=O+Math.imul(j,Le)|0;var K0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(K0>>>26)|0,K0&=67108863,E=Math.imul(ee,le),p=Math.imul(ee,Be),p=p+Math.imul(ie,le)|0,O=Math.imul(ie,Be),E=E+Math.imul(H,Re)|0,p=p+Math.imul(H,Le)|0,p=p+Math.imul(z,Re)|0,O=O+Math.imul(z,Le)|0,E=E+Math.imul(L,ct)|0,p=p+Math.imul(L,zt)|0,p=p+Math.imul(j,ct)|0,O=O+Math.imul(j,zt)|0;var V0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(V0>>>26)|0,V0&=67108863,E=Math.imul($,le),p=Math.imul($,Be),p=p+Math.imul(re,le)|0,O=Math.imul(re,Be),E=E+Math.imul(ee,Re)|0,p=p+Math.imul(ee,Le)|0,p=p+Math.imul(ie,Re)|0,O=O+Math.imul(ie,Le)|0,E=E+Math.imul(H,ct)|0,p=p+Math.imul(H,zt)|0,p=p+Math.imul(z,ct)|0,O=O+Math.imul(z,zt)|0,E=E+Math.imul(L,Wt)|0,p=p+Math.imul(L,Pt)|0,p=p+Math.imul(j,Wt)|0,O=O+Math.imul(j,Pt)|0;var Q0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(Q0>>>26)|0,Q0&=67108863,E=Math.imul(de,le),p=Math.imul(de,Be),p=p+Math.imul(W,le)|0,O=Math.imul(W,Be),E=E+Math.imul($,Re)|0,p=p+Math.imul($,Le)|0,p=p+Math.imul(re,Re)|0,O=O+Math.imul(re,Le)|0,E=E+Math.imul(ee,ct)|0,p=p+Math.imul(ee,zt)|0,p=p+Math.imul(ie,ct)|0,O=O+Math.imul(ie,zt)|0,E=E+Math.imul(H,Wt)|0,p=p+Math.imul(H,Pt)|0,p=p+Math.imul(z,Wt)|0,O=O+Math.imul(z,Pt)|0,E=E+Math.imul(L,Rt)|0,p=p+Math.imul(L,Lt)|0,p=p+Math.imul(j,Rt)|0,O=O+Math.imul(j,Lt)|0;var Y0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(Y0>>>26)|0,Y0&=67108863,E=Math.imul(ne,le),p=Math.imul(ne,Be),p=p+Math.imul(fe,le)|0,O=Math.imul(fe,Be),E=E+Math.imul(de,Re)|0,p=p+Math.imul(de,Le)|0,p=p+Math.imul(W,Re)|0,O=O+Math.imul(W,Le)|0,E=E+Math.imul($,ct)|0,p=p+Math.imul($,zt)|0,p=p+Math.imul(re,ct)|0,O=O+Math.imul(re,zt)|0,E=E+Math.imul(ee,Wt)|0,p=p+Math.imul(ee,Pt)|0,p=p+Math.imul(ie,Wt)|0,O=O+Math.imul(ie,Pt)|0,E=E+Math.imul(H,Rt)|0,p=p+Math.imul(H,Lt)|0,p=p+Math.imul(z,Rt)|0,O=O+Math.imul(z,Lt)|0,E=E+Math.imul(L,vt)|0,p=p+Math.imul(L,Xt)|0,p=p+Math.imul(j,vt)|0,O=O+Math.imul(j,Xt)|0;var G0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(G0>>>26)|0,G0&=67108863,E=Math.imul(ye,le),p=Math.imul(ye,Be),p=p+Math.imul(Ce,le)|0,O=Math.imul(Ce,Be),E=E+Math.imul(ne,Re)|0,p=p+Math.imul(ne,Le)|0,p=p+Math.imul(fe,Re)|0,O=O+Math.imul(fe,Le)|0,E=E+Math.imul(de,ct)|0,p=p+Math.imul(de,zt)|0,p=p+Math.imul(W,ct)|0,O=O+Math.imul(W,zt)|0,E=E+Math.imul($,Wt)|0,p=p+Math.imul($,Pt)|0,p=p+Math.imul(re,Wt)|0,O=O+Math.imul(re,Pt)|0,E=E+Math.imul(ee,Rt)|0,p=p+Math.imul(ee,Lt)|0,p=p+Math.imul(ie,Rt)|0,O=O+Math.imul(ie,Lt)|0,E=E+Math.imul(H,vt)|0,p=p+Math.imul(H,Xt)|0,p=p+Math.imul(z,vt)|0,O=O+Math.imul(z,Xt)|0,E=E+Math.imul(L,Zt)|0,p=p+Math.imul(L,Jt)|0,p=p+Math.imul(j,Zt)|0,O=O+Math.imul(j,Jt)|0;var za=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(za>>>26)|0,za&=67108863,E=Math.imul(He,le),p=Math.imul(He,Be),p=p+Math.imul(qe,le)|0,O=Math.imul(qe,Be),E=E+Math.imul(ye,Re)|0,p=p+Math.imul(ye,Le)|0,p=p+Math.imul(Ce,Re)|0,O=O+Math.imul(Ce,Le)|0,E=E+Math.imul(ne,ct)|0,p=p+Math.imul(ne,zt)|0,p=p+Math.imul(fe,ct)|0,O=O+Math.imul(fe,zt)|0,E=E+Math.imul(de,Wt)|0,p=p+Math.imul(de,Pt)|0,p=p+Math.imul(W,Wt)|0,O=O+Math.imul(W,Pt)|0,E=E+Math.imul($,Rt)|0,p=p+Math.imul($,Lt)|0,p=p+Math.imul(re,Rt)|0,O=O+Math.imul(re,Lt)|0,E=E+Math.imul(ee,vt)|0,p=p+Math.imul(ee,Xt)|0,p=p+Math.imul(ie,vt)|0,O=O+Math.imul(ie,Xt)|0,E=E+Math.imul(H,Zt)|0,p=p+Math.imul(H,Jt)|0,p=p+Math.imul(z,Zt)|0,O=O+Math.imul(z,Jt)|0,E=E+Math.imul(L,Ft)|0,p=p+Math.imul(L,Ht)|0,p=p+Math.imul(j,Ft)|0,O=O+Math.imul(j,Ht)|0;var W0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(W0>>>26)|0,W0&=67108863,E=Math.imul(U,le),p=Math.imul(U,Be),p=p+Math.imul(B,le)|0,O=Math.imul(B,Be),E=E+Math.imul(He,Re)|0,p=p+Math.imul(He,Le)|0,p=p+Math.imul(qe,Re)|0,O=O+Math.imul(qe,Le)|0,E=E+Math.imul(ye,ct)|0,p=p+Math.imul(ye,zt)|0,p=p+Math.imul(Ce,ct)|0,O=O+Math.imul(Ce,zt)|0,E=E+Math.imul(ne,Wt)|0,p=p+Math.imul(ne,Pt)|0,p=p+Math.imul(fe,Wt)|0,O=O+Math.imul(fe,Pt)|0,E=E+Math.imul(de,Rt)|0,p=p+Math.imul(de,Lt)|0,p=p+Math.imul(W,Rt)|0,O=O+Math.imul(W,Lt)|0,E=E+Math.imul($,vt)|0,p=p+Math.imul($,Xt)|0,p=p+Math.imul(re,vt)|0,O=O+Math.imul(re,Xt)|0,E=E+Math.imul(ee,Zt)|0,p=p+Math.imul(ee,Jt)|0,p=p+Math.imul(ie,Zt)|0,O=O+Math.imul(ie,Jt)|0,E=E+Math.imul(H,Ft)|0,p=p+Math.imul(H,Ht)|0,p=p+Math.imul(z,Ft)|0,O=O+Math.imul(z,Ht)|0,E=E+Math.imul(L,er)|0,p=p+Math.imul(L,tr)|0,p=p+Math.imul(j,er)|0,O=O+Math.imul(j,tr)|0;var X0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(X0>>>26)|0,X0&=67108863,E=Math.imul(G,le),p=Math.imul(G,Be),p=p+Math.imul(ae,le)|0,O=Math.imul(ae,Be),E=E+Math.imul(U,Re)|0,p=p+Math.imul(U,Le)|0,p=p+Math.imul(B,Re)|0,O=O+Math.imul(B,Le)|0,E=E+Math.imul(He,ct)|0,p=p+Math.imul(He,zt)|0,p=p+Math.imul(qe,ct)|0,O=O+Math.imul(qe,zt)|0,E=E+Math.imul(ye,Wt)|0,p=p+Math.imul(ye,Pt)|0,p=p+Math.imul(Ce,Wt)|0,O=O+Math.imul(Ce,Pt)|0,E=E+Math.imul(ne,Rt)|0,p=p+Math.imul(ne,Lt)|0,p=p+Math.imul(fe,Rt)|0,O=O+Math.imul(fe,Lt)|0,E=E+Math.imul(de,vt)|0,p=p+Math.imul(de,Xt)|0,p=p+Math.imul(W,vt)|0,O=O+Math.imul(W,Xt)|0,E=E+Math.imul($,Zt)|0,p=p+Math.imul($,Jt)|0,p=p+Math.imul(re,Zt)|0,O=O+Math.imul(re,Jt)|0,E=E+Math.imul(ee,Ft)|0,p=p+Math.imul(ee,Ht)|0,p=p+Math.imul(ie,Ft)|0,O=O+Math.imul(ie,Ht)|0,E=E+Math.imul(H,er)|0,p=p+Math.imul(H,tr)|0,p=p+Math.imul(z,er)|0,O=O+Math.imul(z,tr)|0,E=E+Math.imul(L,rr)|0,p=p+Math.imul(L,nr)|0,p=p+Math.imul(j,rr)|0,O=O+Math.imul(j,nr)|0;var Z0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,E=Math.imul(G,Re),p=Math.imul(G,Le),p=p+Math.imul(ae,Re)|0,O=Math.imul(ae,Le),E=E+Math.imul(U,ct)|0,p=p+Math.imul(U,zt)|0,p=p+Math.imul(B,ct)|0,O=O+Math.imul(B,zt)|0,E=E+Math.imul(He,Wt)|0,p=p+Math.imul(He,Pt)|0,p=p+Math.imul(qe,Wt)|0,O=O+Math.imul(qe,Pt)|0,E=E+Math.imul(ye,Rt)|0,p=p+Math.imul(ye,Lt)|0,p=p+Math.imul(Ce,Rt)|0,O=O+Math.imul(Ce,Lt)|0,E=E+Math.imul(ne,vt)|0,p=p+Math.imul(ne,Xt)|0,p=p+Math.imul(fe,vt)|0,O=O+Math.imul(fe,Xt)|0,E=E+Math.imul(de,Zt)|0,p=p+Math.imul(de,Jt)|0,p=p+Math.imul(W,Zt)|0,O=O+Math.imul(W,Jt)|0,E=E+Math.imul($,Ft)|0,p=p+Math.imul($,Ht)|0,p=p+Math.imul(re,Ft)|0,O=O+Math.imul(re,Ht)|0,E=E+Math.imul(ee,er)|0,p=p+Math.imul(ee,tr)|0,p=p+Math.imul(ie,er)|0,O=O+Math.imul(ie,tr)|0,E=E+Math.imul(H,rr)|0,p=p+Math.imul(H,nr)|0,p=p+Math.imul(z,rr)|0,O=O+Math.imul(z,nr)|0;var J0=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(J0>>>26)|0,J0&=67108863,E=Math.imul(G,ct),p=Math.imul(G,zt),p=p+Math.imul(ae,ct)|0,O=Math.imul(ae,zt),E=E+Math.imul(U,Wt)|0,p=p+Math.imul(U,Pt)|0,p=p+Math.imul(B,Wt)|0,O=O+Math.imul(B,Pt)|0,E=E+Math.imul(He,Rt)|0,p=p+Math.imul(He,Lt)|0,p=p+Math.imul(qe,Rt)|0,O=O+Math.imul(qe,Lt)|0,E=E+Math.imul(ye,vt)|0,p=p+Math.imul(ye,Xt)|0,p=p+Math.imul(Ce,vt)|0,O=O+Math.imul(Ce,Xt)|0,E=E+Math.imul(ne,Zt)|0,p=p+Math.imul(ne,Jt)|0,p=p+Math.imul(fe,Zt)|0,O=O+Math.imul(fe,Jt)|0,E=E+Math.imul(de,Ft)|0,p=p+Math.imul(de,Ht)|0,p=p+Math.imul(W,Ft)|0,O=O+Math.imul(W,Ht)|0,E=E+Math.imul($,er)|0,p=p+Math.imul($,tr)|0,p=p+Math.imul(re,er)|0,O=O+Math.imul(re,tr)|0,E=E+Math.imul(ee,rr)|0,p=p+Math.imul(ee,nr)|0,p=p+Math.imul(ie,rr)|0,O=O+Math.imul(ie,nr)|0;var eh=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(eh>>>26)|0,eh&=67108863,E=Math.imul(G,Wt),p=Math.imul(G,Pt),p=p+Math.imul(ae,Wt)|0,O=Math.imul(ae,Pt),E=E+Math.imul(U,Rt)|0,p=p+Math.imul(U,Lt)|0,p=p+Math.imul(B,Rt)|0,O=O+Math.imul(B,Lt)|0,E=E+Math.imul(He,vt)|0,p=p+Math.imul(He,Xt)|0,p=p+Math.imul(qe,vt)|0,O=O+Math.imul(qe,Xt)|0,E=E+Math.imul(ye,Zt)|0,p=p+Math.imul(ye,Jt)|0,p=p+Math.imul(Ce,Zt)|0,O=O+Math.imul(Ce,Jt)|0,E=E+Math.imul(ne,Ft)|0,p=p+Math.imul(ne,Ht)|0,p=p+Math.imul(fe,Ft)|0,O=O+Math.imul(fe,Ht)|0,E=E+Math.imul(de,er)|0,p=p+Math.imul(de,tr)|0,p=p+Math.imul(W,er)|0,O=O+Math.imul(W,tr)|0,E=E+Math.imul($,rr)|0,p=p+Math.imul($,nr)|0,p=p+Math.imul(re,rr)|0,O=O+Math.imul(re,nr)|0;var oc=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(oc>>>26)|0,oc&=67108863,E=Math.imul(G,Rt),p=Math.imul(G,Lt),p=p+Math.imul(ae,Rt)|0,O=Math.imul(ae,Lt),E=E+Math.imul(U,vt)|0,p=p+Math.imul(U,Xt)|0,p=p+Math.imul(B,vt)|0,O=O+Math.imul(B,Xt)|0,E=E+Math.imul(He,Zt)|0,p=p+Math.imul(He,Jt)|0,p=p+Math.imul(qe,Zt)|0,O=O+Math.imul(qe,Jt)|0,E=E+Math.imul(ye,Ft)|0,p=p+Math.imul(ye,Ht)|0,p=p+Math.imul(Ce,Ft)|0,O=O+Math.imul(Ce,Ht)|0,E=E+Math.imul(ne,er)|0,p=p+Math.imul(ne,tr)|0,p=p+Math.imul(fe,er)|0,O=O+Math.imul(fe,tr)|0,E=E+Math.imul(de,rr)|0,p=p+Math.imul(de,nr)|0,p=p+Math.imul(W,rr)|0,O=O+Math.imul(W,nr)|0;var th=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(th>>>26)|0,th&=67108863,E=Math.imul(G,vt),p=Math.imul(G,Xt),p=p+Math.imul(ae,vt)|0,O=Math.imul(ae,Xt),E=E+Math.imul(U,Zt)|0,p=p+Math.imul(U,Jt)|0,p=p+Math.imul(B,Zt)|0,O=O+Math.imul(B,Jt)|0,E=E+Math.imul(He,Ft)|0,p=p+Math.imul(He,Ht)|0,p=p+Math.imul(qe,Ft)|0,O=O+Math.imul(qe,Ht)|0,E=E+Math.imul(ye,er)|0,p=p+Math.imul(ye,tr)|0,p=p+Math.imul(Ce,er)|0,O=O+Math.imul(Ce,tr)|0,E=E+Math.imul(ne,rr)|0,p=p+Math.imul(ne,nr)|0,p=p+Math.imul(fe,rr)|0,O=O+Math.imul(fe,nr)|0;var rh=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(rh>>>26)|0,rh&=67108863,E=Math.imul(G,Zt),p=Math.imul(G,Jt),p=p+Math.imul(ae,Zt)|0,O=Math.imul(ae,Jt),E=E+Math.imul(U,Ft)|0,p=p+Math.imul(U,Ht)|0,p=p+Math.imul(B,Ft)|0,O=O+Math.imul(B,Ht)|0,E=E+Math.imul(He,er)|0,p=p+Math.imul(He,tr)|0,p=p+Math.imul(qe,er)|0,O=O+Math.imul(qe,tr)|0,E=E+Math.imul(ye,rr)|0,p=p+Math.imul(ye,nr)|0,p=p+Math.imul(Ce,rr)|0,O=O+Math.imul(Ce,nr)|0;var Vi=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,E=Math.imul(G,Ft),p=Math.imul(G,Ht),p=p+Math.imul(ae,Ft)|0,O=Math.imul(ae,Ht),E=E+Math.imul(U,er)|0,p=p+Math.imul(U,tr)|0,p=p+Math.imul(B,er)|0,O=O+Math.imul(B,tr)|0,E=E+Math.imul(He,rr)|0,p=p+Math.imul(He,nr)|0,p=p+Math.imul(qe,rr)|0,O=O+Math.imul(qe,nr)|0;var nh=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(nh>>>26)|0,nh&=67108863,E=Math.imul(G,er),p=Math.imul(G,tr),p=p+Math.imul(ae,er)|0,O=Math.imul(ae,tr),E=E+Math.imul(U,rr)|0,p=p+Math.imul(U,nr)|0,p=p+Math.imul(B,rr)|0,O=O+Math.imul(B,nr)|0;var ih=(S+E|0)+((p&8191)<<13)|0;S=(O+(p>>>13)|0)+(ih>>>26)|0,ih&=67108863,E=Math.imul(G,rr),p=Math.imul(G,nr),p=p+Math.imul(ae,rr)|0,O=Math.imul(ae,nr);var ah=(S+E|0)+((p&8191)<<13)|0;return S=(O+(p>>>13)|0)+(ah>>>26)|0,ah&=67108863,y[0]=yi,y[1]=K0,y[2]=V0,y[3]=Q0,y[4]=Y0,y[5]=G0,y[6]=za,y[7]=W0,y[8]=X0,y[9]=Z0,y[10]=J0,y[11]=eh,y[12]=oc,y[13]=th,y[14]=rh,y[15]=Vi,y[16]=nh,y[17]=ih,y[18]=ah,S!==0&&(y[19]=S,b.length++),b};Math.imul||(A=_);function C(M,m,x){x.negative=m.negative^M.negative,x.length=M.length+m.length;for(var b=0,v=0,d=0;d<x.length-1;d++){var y=v;v=0;for(var S=b&67108863,E=Math.min(d,m.length-1),p=Math.max(0,d-M.length+1);p<=E;p++){var O=d-p,k=M.words[O]|0,L=m.words[p]|0,j=k*L,q=j&67108863;y=y+(j/67108864|0)|0,q=q+S|0,S=q&67108863,y=y+(q>>>26)|0,v+=y>>>26,y&=67108863}x.words[d]=S,b=y,y=v}return b!==0?x.words[d]=b:x.length--,x.strip()}function w(M,m,x){var b=new I;return b.mulp(M,m,x)}a.prototype.mulTo=function(m,x){var b,v=this.length+m.length;return this.length===10&&m.length===10?b=A(this,m,x):v<63?b=_(this,m,x):v<1024?b=C(this,m,x):b=w(this,m,x),b};function I(M,m){this.x=M,this.y=m}I.prototype.makeRBT=function(m){for(var x=new Array(m),b=a.prototype._countBits(m)-1,v=0;v<m;v++)x[v]=this.revBin(v,b,m);return x},I.prototype.revBin=function(m,x,b){if(m===0||m===b-1)return m;for(var v=0,d=0;d<x;d++)v|=(m&1)<<x-d-1,m>>=1;return v},I.prototype.permute=function(m,x,b,v,d,y){for(var S=0;S<y;S++)v[S]=x[m[S]],d[S]=b[m[S]]},I.prototype.transform=function(m,x,b,v,d,y){this.permute(y,m,x,b,v,d);for(var S=1;S<d;S<<=1)for(var E=S<<1,p=Math.cos(2*Math.PI/E),O=Math.sin(2*Math.PI/E),k=0;k<d;k+=E)for(var L=p,j=O,q=0;q<S;q++){var H=b[k+q],z=v[k+q],X=b[k+q+S],ee=v[k+q+S],ie=L*X-j*ee;ee=L*ee+j*X,X=ie,b[k+q]=H+X,v[k+q]=z+ee,b[k+q+S]=H-X,v[k+q+S]=z-ee,q!==E&&(ie=p*L-O*j,j=p*j+O*L,L=ie)}},I.prototype.guessLen13b=function(m,x){var b=Math.max(x,m)|1,v=b&1,d=0;for(b=b/2|0;b;b=b>>>1)d++;return 1<<d+1+v},I.prototype.conjugate=function(m,x,b){if(!(b<=1))for(var v=0;v<b/2;v++){var d=m[v];m[v]=m[b-v-1],m[b-v-1]=d,d=x[v],x[v]=-x[b-v-1],x[b-v-1]=-d}},I.prototype.normalize13b=function(m,x){for(var b=0,v=0;v<x/2;v++){var d=Math.round(m[2*v+1]/x)*8192+Math.round(m[2*v]/x)+b;m[v]=d&67108863,d<67108864?b=0:b=d/67108864|0}return m},I.prototype.convert13b=function(m,x,b,v){for(var d=0,y=0;y<x;y++)d=d+(m[y]|0),b[2*y]=d&8191,d=d>>>13,b[2*y+1]=d&8191,d=d>>>13;for(y=2*x;y<v;++y)b[y]=0;n(d===0),n((d&-8192)===0)},I.prototype.stub=function(m){for(var x=new Array(m),b=0;b<m;b++)x[b]=0;return x},I.prototype.mulp=function(m,x,b){var v=2*this.guessLen13b(m.length,x.length),d=this.makeRBT(v),y=this.stub(v),S=new Array(v),E=new Array(v),p=new Array(v),O=new Array(v),k=new Array(v),L=new Array(v),j=b.words;j.length=v,this.convert13b(m.words,m.length,S,v),this.convert13b(x.words,x.length,O,v),this.transform(S,y,E,p,v,d),this.transform(O,y,k,L,v,d);for(var q=0;q<v;q++){var H=E[q]*k[q]-p[q]*L[q];p[q]=E[q]*L[q]+p[q]*k[q],E[q]=H}return this.conjugate(E,p,v),this.transform(E,p,j,y,v,d),this.conjugate(j,y,v),this.normalize13b(j,v),b.negative=m.negative^x.negative,b.length=m.length+x.length,b.strip()},a.prototype.mul=function(m){var x=new a(null);return x.words=new Array(this.length+m.length),this.mulTo(m,x)},a.prototype.mulf=function(m){var x=new a(null);return x.words=new Array(this.length+m.length),w(this,m,x)},a.prototype.imul=function(m){return this.clone().mulTo(m,this)},a.prototype.imuln=function(m){n(typeof m=="number"),n(m<67108864);for(var x=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*m,d=(v&67108863)+(x&67108863);x>>=26,x+=v/67108864|0,x+=d>>>26,this.words[b]=d&67108863}return x!==0&&(this.words[b]=x,this.length++),this},a.prototype.muln=function(m){return this.clone().imuln(m)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(m){var x=g(m);if(x.length===0)return new a(1);for(var b=this,v=0;v<x.length&&x[v]===0;v++,b=b.sqr());if(++v<x.length)for(var d=b.sqr();v<x.length;v++,d=d.sqr())x[v]!==0&&(b=b.mul(d));return b},a.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var x=m%26,b=(m-x)/26,v=67108863>>>26-x<<26-x,d;if(x!==0){var y=0;for(d=0;d<this.length;d++){var S=this.words[d]&v,E=(this.words[d]|0)-S<<x;this.words[d]=E|y,y=S>>>26-x}y&&(this.words[d]=y,this.length++)}if(b!==0){for(d=this.length-1;d>=0;d--)this.words[d+b]=this.words[d];for(d=0;d<b;d++)this.words[d]=0;this.length+=b}return this.strip()},a.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},a.prototype.iushrn=function(m,x,b){n(typeof m=="number"&&m>=0);var v;x?v=(x-x%26)/26:v=0;var d=m%26,y=Math.min((m-d)/26,this.length),S=67108863^67108863>>>d<<d,E=b;if(v-=y,v=Math.max(0,v),E){for(var p=0;p<y;p++)E.words[p]=this.words[p];E.length=y}if(y!==0)if(this.length>y)for(this.length-=y,p=0;p<this.length;p++)this.words[p]=this.words[p+y];else this.words[0]=0,this.length=1;var O=0;for(p=this.length-1;p>=0&&(O!==0||p>=v);p--){var k=this.words[p]|0;this.words[p]=O<<26-d|k>>>d,O=k&S}return E&&O!==0&&(E.words[E.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(m,x,b){return n(this.negative===0),this.iushrn(m,x,b)},a.prototype.shln=function(m){return this.clone().ishln(m)},a.prototype.ushln=function(m){return this.clone().iushln(m)},a.prototype.shrn=function(m){return this.clone().ishrn(m)},a.prototype.ushrn=function(m){return this.clone().iushrn(m)},a.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var x=m%26,b=(m-x)/26,v=1<<x;if(this.length<=b)return!1;var d=this.words[b];return!!(d&v)},a.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var x=m%26,b=(m-x)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(x!==0&&b++,this.length=Math.min(b,this.length),x!==0){var v=67108863^67108863>>>x<<x;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(m){return this.clone().imaskn(m)},a.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},a.prototype._iaddn=function(m){this.words[0]+=m;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},a.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this.strip()},a.prototype.addn=function(m){return this.clone().iaddn(m)},a.prototype.subn=function(m){return this.clone().isubn(m)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(m,x,b){var v=m.length+b,d;this._expand(v);var y,S=0;for(d=0;d<m.length;d++){y=(this.words[d+b]|0)+S;var E=(m.words[d]|0)*x;y-=E&67108863,S=(y>>26)-(E/67108864|0),this.words[d+b]=y&67108863}for(;d<this.length-b;d++)y=(this.words[d+b]|0)+S,S=y>>26,this.words[d+b]=y&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,d=0;d<this.length;d++)y=-(this.words[d]|0)+S,S=y>>26,this.words[d]=y&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(m,x){var b=this.length-m.length,v=this.clone(),d=m,y=d.words[d.length-1]|0,S=this._countBits(y);b=26-S,b!==0&&(d=d.ushln(b),v.iushln(b),y=d.words[d.length-1]|0);var E=v.length-d.length,p;if(x!=="mod"){p=new a(null),p.length=E+1,p.words=new Array(p.length);for(var O=0;O<p.length;O++)p.words[O]=0}var k=v.clone()._ishlnsubmul(d,1,E);k.negative===0&&(v=k,p&&(p.words[E]=1));for(var L=E-1;L>=0;L--){var j=(v.words[d.length+L]|0)*67108864+(v.words[d.length+L-1]|0);for(j=Math.min(j/y|0,67108863),v._ishlnsubmul(d,j,L);v.negative!==0;)j--,v.negative=0,v._ishlnsubmul(d,1,L),v.isZero()||(v.negative^=1);p&&(p.words[L]=j)}return p&&p.strip(),v.strip(),x!=="div"&&b!==0&&v.iushrn(b),{div:p||null,mod:v}},a.prototype.divmod=function(m,x,b){if(n(!m.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,d,y;return this.negative!==0&&m.negative===0?(y=this.neg().divmod(m,x),x!=="mod"&&(v=y.div.neg()),x!=="div"&&(d=y.mod.neg(),b&&d.negative!==0&&d.iadd(m)),{div:v,mod:d}):this.negative===0&&m.negative!==0?(y=this.divmod(m.neg(),x),x!=="mod"&&(v=y.div.neg()),{div:v,mod:y.mod}):this.negative&m.negative?(y=this.neg().divmod(m.neg(),x),x!=="div"&&(d=y.mod.neg(),b&&d.negative!==0&&d.isub(m)),{div:y.div,mod:d}):m.length>this.length||this.cmp(m)<0?{div:new a(0),mod:this}:m.length===1?x==="div"?{div:this.divn(m.words[0]),mod:null}:x==="mod"?{div:null,mod:new a(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new a(this.modn(m.words[0]))}:this._wordDiv(m,x)},a.prototype.div=function(m){return this.divmod(m,"div",!1).div},a.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},a.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},a.prototype.divRound=function(m){var x=this.divmod(m);if(x.mod.isZero())return x.div;var b=x.div.negative!==0?x.mod.isub(m):x.mod,v=m.ushrn(1),d=m.andln(1),y=b.cmp(v);return y<0||d===1&&y===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},a.prototype.modn=function(m){n(m<=67108863);for(var x=(1<<26)%m,b=0,v=this.length-1;v>=0;v--)b=(x*b+(this.words[v]|0))%m;return b},a.prototype.idivn=function(m){n(m<=67108863);for(var x=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+x*67108864;this.words[b]=v/m|0,x=v%m}return this.strip()},a.prototype.divn=function(m){return this.clone().idivn(m)},a.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var x=this,b=m.clone();x.negative!==0?x=x.umod(m):x=x.clone();for(var v=new a(1),d=new a(0),y=new a(0),S=new a(1),E=0;x.isEven()&&b.isEven();)x.iushrn(1),b.iushrn(1),++E;for(var p=b.clone(),O=x.clone();!x.isZero();){for(var k=0,L=1;!(x.words[0]&L)&&k<26;++k,L<<=1);if(k>0)for(x.iushrn(k);k-- >0;)(v.isOdd()||d.isOdd())&&(v.iadd(p),d.isub(O)),v.iushrn(1),d.iushrn(1);for(var j=0,q=1;!(b.words[0]&q)&&j<26;++j,q<<=1);if(j>0)for(b.iushrn(j);j-- >0;)(y.isOdd()||S.isOdd())&&(y.iadd(p),S.isub(O)),y.iushrn(1),S.iushrn(1);x.cmp(b)>=0?(x.isub(b),v.isub(y),d.isub(S)):(b.isub(x),y.isub(v),S.isub(d))}return{a:y,b:S,gcd:b.iushln(E)}},a.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var x=this,b=m.clone();x.negative!==0?x=x.umod(m):x=x.clone();for(var v=new a(1),d=new a(0),y=b.clone();x.cmpn(1)>0&&b.cmpn(1)>0;){for(var S=0,E=1;!(x.words[0]&E)&&S<26;++S,E<<=1);if(S>0)for(x.iushrn(S);S-- >0;)v.isOdd()&&v.iadd(y),v.iushrn(1);for(var p=0,O=1;!(b.words[0]&O)&&p<26;++p,O<<=1);if(p>0)for(b.iushrn(p);p-- >0;)d.isOdd()&&d.iadd(y),d.iushrn(1);x.cmp(b)>=0?(x.isub(b),v.isub(d)):(b.isub(x),d.isub(v))}var k;return x.cmpn(1)===0?k=v:k=d,k.cmpn(0)<0&&k.iadd(m),k},a.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var x=this.clone(),b=m.clone();x.negative=0,b.negative=0;for(var v=0;x.isEven()&&b.isEven();v++)x.iushrn(1),b.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;b.isEven();)b.iushrn(1);var d=x.cmp(b);if(d<0){var y=x;x=b,b=y}else if(d===0||b.cmpn(1)===0)break;x.isub(b)}while(!0);return b.iushln(v)},a.prototype.invm=function(m){return this.egcd(m).a.umod(m)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(m){return this.words[0]&m},a.prototype.bincn=function(m){n(typeof m=="number");var x=m%26,b=(m-x)/26,v=1<<x;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var d=v,y=b;d!==0&&y<this.length;y++){var S=this.words[y]|0;S+=d,d=S>>>26,S&=67108863,this.words[y]=S}return d!==0&&(this.words[y]=d,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(m){var x=m<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this.strip();var b;if(this.length>1)b=1;else{x&&(m=-m),n(m<=67108863,"Number is too big");var v=this.words[0]|0;b=v===m?0:v<m?-1:1}return this.negative!==0?-b|0:b},a.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var x=this.ucmp(m);return this.negative!==0?-x|0:x},a.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var x=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,d=m.words[b]|0;if(v!==d){v<d?x=-1:v>d&&(x=1);break}}return x},a.prototype.gtn=function(m){return this.cmpn(m)===1},a.prototype.gt=function(m){return this.cmp(m)===1},a.prototype.gten=function(m){return this.cmpn(m)>=0},a.prototype.gte=function(m){return this.cmp(m)>=0},a.prototype.ltn=function(m){return this.cmpn(m)===-1},a.prototype.lt=function(m){return this.cmp(m)===-1},a.prototype.lten=function(m){return this.cmpn(m)<=0},a.prototype.lte=function(m){return this.cmp(m)<=0},a.prototype.eqn=function(m){return this.cmpn(m)===0},a.prototype.eq=function(m){return this.cmp(m)===0},a.red=function(m){return new Q(m)},a.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(m){return this.red=m,this},a.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},a.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},a.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},a.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},a.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},a.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},a.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},a.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var T={k256:null,p224:null,p192:null,p25519:null};function R(M,m){this.name=M,this.p=new a(m,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var m=new a(null);return m.words=new Array(Math.ceil(this.n/13)),m},R.prototype.ireduce=function(m){var x=m,b;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),b=x.bitLength();while(b>this.n);var v=b<this.n?-1:x.ucmp(this.p);return v===0?(x.words[0]=0,x.length=1):v>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},R.prototype.split=function(m,x){m.iushrn(this.n,0,x)},R.prototype.imulK=function(m){return m.imul(this.k)};function N(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,R),N.prototype.split=function(m,x){for(var b=4194303,v=Math.min(m.length,9),d=0;d<v;d++)x.words[d]=m.words[d];if(x.length=v,m.length<=9){m.words[0]=0,m.length=1;return}var y=m.words[9];for(x.words[x.length++]=y&b,d=10;d<m.length;d++){var S=m.words[d]|0;m.words[d-10]=(S&b)<<4|y>>>22,y=S}y>>>=22,m.words[d-10]=y,y===0&&m.length>10?m.length-=10:m.length-=9},N.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var x=0,b=0;b<m.length;b++){var v=m.words[b]|0;x+=v*977,m.words[b]=x&67108863,x=v*64+(x/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function K(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,R);function V(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(V,R);function D(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,R),D.prototype.imulK=function(m){for(var x=0,b=0;b<m.length;b++){var v=(m.words[b]|0)*19+x,d=v&67108863;v>>>=26,m.words[b]=d,x=v}return x!==0&&(m.words[m.length++]=x),m},a._prime=function(m){if(T[m])return T[m];var x;if(m==="k256")x=new N;else if(m==="p224")x=new K;else if(m==="p192")x=new V;else if(m==="p25519")x=new D;else throw new Error("Unknown prime "+m);return T[m]=x,x};function Q(M){if(typeof M=="string"){var m=a._prime(M);this.m=m.p,this.prime=m}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}Q.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},Q.prototype._verify2=function(m,x){n((m.negative|x.negative)===0,"red works only with positives"),n(m.red&&m.red===x.red,"red works only with red numbers")},Q.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},Q.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},Q.prototype.add=function(m,x){this._verify2(m,x);var b=m.add(x);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},Q.prototype.iadd=function(m,x){this._verify2(m,x);var b=m.iadd(x);return b.cmp(this.m)>=0&&b.isub(this.m),b},Q.prototype.sub=function(m,x){this._verify2(m,x);var b=m.sub(x);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},Q.prototype.isub=function(m,x){this._verify2(m,x);var b=m.isub(x);return b.cmpn(0)<0&&b.iadd(this.m),b},Q.prototype.shl=function(m,x){return this._verify1(m),this.imod(m.ushln(x))},Q.prototype.imul=function(m,x){return this._verify2(m,x),this.imod(m.imul(x))},Q.prototype.mul=function(m,x){return this._verify2(m,x),this.imod(m.mul(x))},Q.prototype.isqr=function(m){return this.imul(m,m.clone())},Q.prototype.sqr=function(m){return this.mul(m,m)},Q.prototype.sqrt=function(m){if(m.isZero())return m.clone();var x=this.m.andln(3);if(n(x%2===1),x===3){var b=this.m.add(new a(1)).iushrn(2);return this.pow(m,b)}for(var v=this.m.subn(1),d=0;!v.isZero()&&v.andln(1)===0;)d++,v.iushrn(1);n(!v.isZero());var y=new a(1).toRed(this),S=y.redNeg(),E=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new a(2*p*p).toRed(this);this.pow(p,E).cmp(S)!==0;)p.redIAdd(S);for(var O=this.pow(p,v),k=this.pow(m,v.addn(1).iushrn(1)),L=this.pow(m,v),j=d;L.cmp(y)!==0;){for(var q=L,H=0;q.cmp(y)!==0;H++)q=q.redSqr();n(H<j);var z=this.pow(O,new a(1).iushln(j-H-1));k=k.redMul(z),O=z.redSqr(),L=L.redMul(O),j=H}return k},Q.prototype.invm=function(m){var x=m._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},Q.prototype.pow=function(m,x){if(x.isZero())return new a(1).toRed(this);if(x.cmpn(1)===0)return m.clone();var b=4,v=new Array(1<<b);v[0]=new a(1).toRed(this),v[1]=m;for(var d=2;d<v.length;d++)v[d]=this.mul(v[d-1],m);var y=v[0],S=0,E=0,p=x.bitLength()%26;for(p===0&&(p=26),d=x.length-1;d>=0;d--){for(var O=x.words[d],k=p-1;k>=0;k--){var L=O>>k&1;if(y!==v[0]&&(y=this.sqr(y)),L===0&&S===0){E=0;continue}S<<=1,S|=L,E++,!(E!==b&&(d!==0||k!==0))&&(y=this.mul(y,v[S]),E=0,S=0)}p=26}return y},Q.prototype.convertTo=function(m){var x=m.umod(this.m);return x===m?x.clone():x},Q.prototype.convertFrom=function(m){var x=m.clone();return x.red=null,x},a.mont=function(m){return new Y(m)};function Y(M){Q.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Y,Q),Y.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},Y.prototype.convertFrom=function(m){var x=this.imod(m.mul(this.rinv));return x.red=null,x},Y.prototype.imul=function(m,x){if(m.isZero()||x.isZero())return m.words[0]=0,m.length=1,m;var b=m.imul(x),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},Y.prototype.mul=function(m,x){if(m.isZero()||x.isZero())return new a(0)._forceRed(this);var b=m.mul(x),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),d=b.isub(v).iushrn(this.shift),y=d;return d.cmp(this.m)>=0?y=d.isub(this.m):d.cmpn(0)<0&&(y=d.iadd(this.m)),y._forceRed(this)},Y.prototype.invm=function(m){var x=this.imod(m._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(t,jn)})(Kw);var Sr=Kw.exports,Rf=aL;function aL(t,e){if(!t)throw new Error(e||"Assertion failed")}aL.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Tv={};(function(t){var e=t;function r(a,s){if(Array.isArray(a))return a.slice();if(!a)return[];var o=[];if(typeof a!="string"){for(var c=0;c<a.length;c++)o[c]=a[c]|0;return o}if(s==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var c=0;c<a.length;c+=2)o.push(parseInt(a[c]+a[c+1],16))}else for(var c=0;c<a.length;c++){var f=a.charCodeAt(c),u=f>>8,l=f&255;u?o.push(u,l):o.push(l)}return o}e.toArray=r;function n(a){return a.length===1?"0"+a:a}e.zero2=n;function i(a){for(var s="",o=0;o<a.length;o++)s+=n(a[o].toString(16));return s}e.toHex=i,e.encode=function(s,o){return o==="hex"?i(s):s}})(Tv);(function(t){var e=t,r=Sr,n=Rf,i=Tv;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(u,l,h){var g=new Array(Math.max(u.bitLength(),h)+1);g.fill(0);for(var _=1<<l+1,A=u.clone(),C=0;C<g.length;C++){var w,I=A.andln(_-1);A.isOdd()?(I>(_>>1)-1?w=(_>>1)-I:w=I,A.isubn(w)):w=0,g[C]=w,A.iushrn(1)}return g}e.getNAF=a;function s(u,l){var h=[[],[]];u=u.clone(),l=l.clone();for(var g=0,_=0,A;u.cmpn(-g)>0||l.cmpn(-_)>0;){var C=u.andln(3)+g&3,w=l.andln(3)+_&3;C===3&&(C=-1),w===3&&(w=-1);var I;C&1?(A=u.andln(7)+g&7,(A===3||A===5)&&w===2?I=-C:I=C):I=0,h[0].push(I);var T;w&1?(A=l.andln(7)+_&7,(A===3||A===5)&&C===2?T=-w:T=w):T=0,h[1].push(T),2*g===I+1&&(g=1-g),2*_===T+1&&(_=1-_),u.iushrn(1),l.iushrn(1)}return h}e.getJSF=s;function o(u,l,h){var g="_"+l;u.prototype[l]=function(){return this[g]!==void 0?this[g]:this[g]=h.call(this)}}e.cachedProperty=o;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function f(u){return new r(u,"hex","le")}e.intFromLE=f})(qi);var Vw={exports:{}},P_;Vw.exports=function(e){return P_||(P_=new Yc(null)),P_.generate(e)};function Yc(t){this.rand=t}Vw.exports.Rand=Yc;Yc.prototype.generate=function(e){return this._rand(e)};Yc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Yc.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Yc.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Yc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Rx=db;if(typeof Rx.randomBytes!="function")throw new Error("Not supported");Yc.prototype._rand=function(e){return Rx.randomBytes(e)}}catch{}var Ov=Vw.exports,Qw={},Ff=Sr,hb=qi,e2=hb.getNAF,XJ=hb.getJSF,t2=hb.assert;function Lf(t,e){this.type=t,this.p=new Ff(e.p,16),this.red=e.prime?Ff.red(e.prime):Ff.mont(this.p),this.zero=new Ff(0).toRed(this.red),this.one=new Ff(1).toRed(this.red),this.two=new Ff(2).toRed(this.red),this.n=e.n&&new Ff(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Bv=Lf;Lf.prototype.point=function(){throw new Error("Not implemented")};Lf.prototype.validate=function(){throw new Error("Not implemented")};Lf.prototype._fixedNafMul=function(e,r){t2(e.precomputed);var n=e._getDoubles(),i=e2(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var f=o+n.step-1;f>=o;f--)c=(c<<1)+i[f];s.push(c)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=a;h>0;h--){for(o=0;o<s.length;o++)c=s[o],c===h?l=l.mixedAdd(n.points[o]):c===-h&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Lf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=e2(r,n,this._bitLength),o=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,o=o.dblp(f),c<0)break;var u=s[c];t2(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Lf.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,c=this._wnafT3,f=0,u,l,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);s[u]=g.wnd,o[u]=g.points}for(u=i-1;u>=1;u-=2){var _=u-1,A=u;if(s[_]!==1||s[A]!==1){c[_]=e2(n[_],s[_],this._bitLength),c[A]=e2(n[A],s[A],this._bitLength),f=Math.max(c[_].length,f),f=Math.max(c[A].length,f);continue}var C=[r[_],null,null,r[A]];r[_].y.cmp(r[A].y)===0?(C[1]=r[_].add(r[A]),C[2]=r[_].toJ().mixedAdd(r[A].neg())):r[_].y.cmp(r[A].y.redNeg())===0?(C[1]=r[_].toJ().mixedAdd(r[A]),C[2]=r[_].add(r[A].neg())):(C[1]=r[_].toJ().mixedAdd(r[A]),C[2]=r[_].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],I=XJ(n[_],n[A]);for(f=Math.max(I[0].length,f),c[_]=new Array(f),c[A]=new Array(f),l=0;l<f;l++){var T=I[0][l]|0,R=I[1][l]|0;c[_][l]=w[(T+1)*3+(R+1)],c[A][l]=0,o[_]=C}}var N=this.jpoint(null,null,null),K=this._wnafT4;for(u=f;u>=0;u--){for(var V=0;u>=0;){var D=!0;for(l=0;l<i;l++)K[l]=c[l][u]|0,K[l]!==0&&(D=!1);if(!D)break;V++,u--}if(u>=0&&V++,N=N.dblp(V),u<0)break;for(l=0;l<i;l++){var Q=K[l];Q!==0&&(Q>0?h=o[l][Q-1>>1]:Q<0&&(h=o[l][-Q-1>>1].neg()),h.type==="affine"?N=N.mixedAdd(h):N=N.add(h))}}for(u=0;u<i;u++)o[u]=null;return a?N:N.toP()};function Ha(t,e){this.curve=t,this.type=e,this.precomputed=null}Lf.BasePoint=Ha;Ha.prototype.eq=function(){throw new Error("Not implemented")};Ha.prototype.validate=function(){return this.curve.validate(this)};Lf.prototype.decodePoint=function(e,r){e=hb.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?t2(e[e.length-1]%2===0):e[0]===7&&t2(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ha.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ha.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ha.prototype.encode=function(e,r){return hb.encode(this._encode(r),e)};Ha.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ha.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ha.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ha.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Ha.prototype._getBeta=function(){return null};Ha.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var c4={exports:{}};typeof Object.create=="function"?c4.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:c4.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Gt=c4.exports,ZJ=qi,or=Sr,Yw=Gt,M0=Bv,JJ=ZJ.assert;function Na(t){M0.call(this,"short",t),this.a=new or(t.a,16).toRed(this.red),this.b=new or(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Yw(Na,M0);var eee=Na;Na.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new or(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new or(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],JJ(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new or(o.a,16),b:new or(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Na.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:or.mont(e),n=new or(2).toRed(r).redInvm(),i=n.redNeg(),a=new or(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};Na.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new or(1),s=new or(0),o=new or(0),c=new or(1),f,u,l,h,g,_,A,C=0,w,I;n.cmpn(0)!==0;){var T=i.div(n);w=i.sub(T.mul(n)),I=o.sub(T.mul(a));var R=c.sub(T.mul(s));if(!l&&w.cmp(r)<0)f=A.neg(),u=a,l=w.neg(),h=I;else if(l&&++C===2)break;A=w,i=n,n=w,o=a,a=I,c=s,s=R}g=w.neg(),_=I;var N=l.sqr().add(h.sqr()),K=g.sqr().add(_.sqr());return K.cmp(N)>=0&&(g=f,_=u),l.negative&&(l=l.neg(),h=h.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:l,b:h},{a:g,b:_}]};Na.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),c=s.mul(i.a),f=a.mul(n.b),u=s.mul(i.b),l=e.sub(o).sub(c),h=f.add(u).neg();return{k1:l,k2:h}};Na.prototype.pointFromX=function(e,r){e=new or(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Na.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Na.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),c=e[s],f=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function qr(t,e,r,n){M0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new or(e,16),this.y=new or(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Yw(qr,M0.BasePoint);Na.prototype.point=function(e,r,n){return new qr(this,e,r,n)};Na.prototype.pointFromJSON=function(e,r){return qr.fromJSON(this,e,r)};qr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};qr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qr.prototype.isInfinity=function(){return this.inf};qr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};qr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};qr.prototype.getX=function(){return this.x.fromRed()};qr.prototype.getY=function(){return this.y.fromRed()};qr.prototype.mul=function(e){return e=new or(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};qr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};qr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};qr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};qr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};qr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function nn(t,e,r,n){M0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new or(0)):(this.x=new or(e,16),this.y=new or(r,16),this.z=new or(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Yw(nn,M0.BasePoint);Na.prototype.jpoint=function(e,r,n){return new nn(this,e,r,n)};nn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};nn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};nn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=s.redSub(o);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),l=u.redMul(c),h=i.redMul(u),g=f.redSqr().redIAdd(l).redISub(h).redISub(h),_=f.redMul(h.redISub(g)).redISub(s.redMul(l)),A=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,_,A)};nn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=a.redSub(s);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),u=f.redMul(o),l=n.redMul(f),h=c.redSqr().redIAdd(u).redISub(l).redISub(l),g=c.redMul(l.redISub(h)).redISub(a.redMul(u)),_=this.z.redMul(o);return this.curve.jpoint(h,g,_)};nn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,c=this.z,f=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),h=u.redSqr(),g=h.redSqr(),_=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),A=s.redMul(h),C=_.redSqr().redISub(A.redAdd(A)),w=A.redISub(C),I=_.redMul(w);I=I.redIAdd(I).redISub(g);var T=u.redMul(c);r+1<e&&(f=f.redMul(g)),s=C,c=T,u=I}return this.curve.jpoint(s,u.redMul(a),c)};nn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};nn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=f,r=c.redMul(o.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),_=this.x.redAdd(h).redSqr().redISub(l).redISub(g);_=_.redIAdd(_);var A=l.redAdd(l).redIAdd(l),C=A.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=C.redISub(_).redISub(_),r=A.redMul(_.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};nn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(o).redISub(o);e=f;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),_=this.x.redSub(l).redMul(this.x.redAdd(l));_=_.redAdd(_).redIAdd(_);var A=g.redIAdd(g);A=A.redIAdd(A);var C=A.redAdd(A);e=_.redSqr().redISub(C),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=_.redMul(A.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};nn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var u=f.redMul(o),l=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=c.redMul(h).redISub(g),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,_,A)};nn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var c=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=a.redIAdd(o).redSqr().redISub(s).redISub(c).redISub(f),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(c).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(f.redISub(u)).redISub(o.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,_)};nn.prototype.mul=function(e,r){return e=new or(e,r),this.curve._wnafMul(this,e)};nn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};nn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};nn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};nn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var zl=Sr,sL=Gt,Dv=Bv,tee=qi;function P0(t){Dv.call(this,"mont",t),this.a=new zl(t.a,16).toRed(this.red),this.b=new zl(t.b,16).toRed(this.red),this.i4=new zl(4).toRed(this.red).redInvm(),this.two=new zl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}sL(P0,Dv);var ree=P0;P0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function Fr(t,e,r){Dv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new zl(e,16),this.z=new zl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}sL(Fr,Dv.BasePoint);P0.prototype.decodePoint=function(e,r){return this.point(tee.toArray(e,r),1)};P0.prototype.point=function(e,r){return new Fr(this,e,r)};P0.prototype.pointFromJSON=function(e){return Fr.fromJSON(this,e)};Fr.prototype.precompute=function(){};Fr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Fr.fromJSON=function(e,r){return new Fr(e,r[0],r[1]||e.one)};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Fr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};Fr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),c=a.redMul(i),f=r.z.redMul(o.redAdd(c).redSqr()),u=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(f,u)};Fr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};Fr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Fr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Fr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var nee=qi,Do=Sr,oL=Gt,Mv=Bv,iee=nee.assert;function no(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Mv.call(this,"edwards",t),this.a=new Do(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Do(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Do(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),iee(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}oL(no,Mv);var aee=no;no.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};no.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};no.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};no.prototype.pointFromX=function(e,r){e=new Do(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};no.prototype.pointFromY=function(e,r){e=new Do(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};no.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Et(t,e,r,n,i){Mv.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Do(e,16),this.y=new Do(r,16),this.z=n?new Do(n,16):this.curve.one,this.t=i&&new Do(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}oL(Et,Mv.BasePoint);no.prototype.pointFromJSON=function(e){return Et.fromJSON(this,e)};no.prototype.point=function(e,r,n,i){return new Et(this,e,r,n,i)};Et.fromJSON=function(e,r){return new Et(e,r[0],r[1],r[2])};Et.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Et.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Et.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),c=i.redSub(r),f=a.redMul(o),u=s.redMul(c),l=a.redMul(c),h=o.redMul(s);return this.curve.point(f,u,h,l)};Et.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,c,f;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),f=u.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(f),a=u.redMul(o.redSub(n)),s=u.redMul(f))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),f=o.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(o)).redMul(f),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(f);return this.curve.point(i,a,s)};Et.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Et.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),c=a.redAdd(i),f=n.redAdd(r),u=s.redMul(o),l=c.redMul(f),h=s.redMul(f),g=o.redMul(c);return this.curve.point(u,l,g,h)};Et.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),c=n.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(f),l,h;return this.curve.twisted?(l=r.redMul(c).redMul(a.redSub(this.curve._mulA(i))),h=o.redMul(c)):(l=r.redMul(c).redMul(a.redSub(i)),h=this.curve._mulC(o).redMul(c)),this.curve.point(u,l,h)};Et.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Et.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Et.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Et.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Et.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Et.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Et.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Et.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Et.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Et.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Et.prototype.toP=Et.prototype.normalize;Et.prototype.mixedAdd=Et.prototype.add;(function(t){var e=t;e.base=Bv,e.short=eee,e.mont=ree,e.edwards=aee})(Qw);var Pv={},R0={},Ve={},see=Rf,oee=Gt;Ve.inherits=oee;function cee(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function fee(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):cee(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ve.toArray=fee;function uee(t){for(var e="",r=0;r<t.length;r++)e+=fL(t[r].toString(16));return e}Ve.toHex=uee;function cL(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ve.htonl=cL;function lee(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=cL(i)),r+=uL(i.toString(16))}return r}Ve.toHex32=lee;function fL(t){return t.length===1?"0"+t:t}Ve.zero2=fL;function uL(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ve.zero8=uL;function dee(t,e,r,n){var i=r-e;see(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=c>>>0}return a}Ve.join32=dee;function hee(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ve.split32=hee;function pee(t,e){return t>>>e|t<<32-e}Ve.rotr32=pee;function bee(t,e){return t<<e|t>>>32-e}Ve.rotl32=bee;function gee(t,e){return t+e>>>0}Ve.sum32=gee;function yee(t,e,r){return t+e+r>>>0}Ve.sum32_3=yee;function vee(t,e,r,n){return t+e+r+n>>>0}Ve.sum32_4=vee;function mee(t,e,r,n,i){return t+e+r+n+i>>>0}Ve.sum32_5=mee;function _ee(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}Ve.sum64=_ee;function wee(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Ve.sum64_hi=wee;function Aee(t,e,r,n){var i=e+n;return i>>>0}Ve.sum64_lo=Aee;function Eee(t,e,r,n,i,a,s,o){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+o>>>0,c+=f<o?1:0;var u=t+r+i+s+c;return u>>>0}Ve.sum64_4_hi=Eee;function xee(t,e,r,n,i,a,s,o){var c=e+n+a+o;return c>>>0}Ve.sum64_4_lo=xee;function See(t,e,r,n,i,a,s,o,c,f){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+o>>>0,u+=l<o?1:0,l=l+f>>>0,u+=l<f?1:0;var h=t+r+i+s+c+u;return h>>>0}Ve.sum64_5_hi=See;function Cee(t,e,r,n,i,a,s,o,c,f){var u=e+n+a+o+f;return u>>>0}Ve.sum64_5_lo=Cee;function Iee(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ve.rotr64_hi=Iee;function Tee(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ve.rotr64_lo=Tee;function Oee(t,e,r){return t>>>r}Ve.shr64_hi=Oee;function Bee(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ve.shr64_lo=Bee;var L0={},Lx=Ve,Dee=Rf;function Rv(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}L0.BlockHash=Rv;Rv.prototype.update=function(e,r){if(e=Lx.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Lx.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Rv.prototype.digest=function(e){return this.update(this._pad()),Dee(this.pending===null),this._digest(e)};Rv.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i};var H0={},io={},Mee=Ve,js=Mee.rotr32;function Pee(t,e,r,n){if(t===0)return lL(e,r,n);if(t===1||t===3)return hL(e,r,n);if(t===2)return dL(e,r,n)}io.ft_1=Pee;function lL(t,e,r){return t&e^~t&r}io.ch32=lL;function dL(t,e,r){return t&e^t&r^e&r}io.maj32=dL;function hL(t,e,r){return t^e^r}io.p32=hL;function Ree(t){return js(t,2)^js(t,13)^js(t,22)}io.s0_256=Ree;function Lee(t){return js(t,6)^js(t,11)^js(t,25)}io.s1_256=Lee;function Hee(t){return js(t,7)^js(t,18)^t>>>3}io.g0_256=Hee;function Nee(t){return js(t,17)^js(t,19)^t>>>10}io.g1_256=Nee;var Zd=Ve,$ee=L0,Uee=io,R_=Zd.rotl32,Ah=Zd.sum32,kee=Zd.sum32_5,zee=Uee.ft_1,pL=$ee.BlockHash,Fee=[1518500249,1859775393,2400959708,3395469782];function Gs(){if(!(this instanceof Gs))return new Gs;pL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Zd.inherits(Gs,pL);var jee=Gs;Gs.blockSize=512;Gs.outSize=160;Gs.hmacStrength=80;Gs.padLength=64;Gs.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=R_(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],c=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var u=~~(i/20),l=kee(R_(a,5),zee(u,s,o,c),f,n[i],Fee[u]);f=c,c=o,o=R_(s,30),s=a,a=l}this.h[0]=Ah(this.h[0],a),this.h[1]=Ah(this.h[1],s),this.h[2]=Ah(this.h[2],o),this.h[3]=Ah(this.h[3],c),this.h[4]=Ah(this.h[4],f)};Gs.prototype._digest=function(e){return e==="hex"?Zd.toHex32(this.h,"big"):Zd.split32(this.h,"big")};var Jd=Ve,qee=L0,N0=io,Kee=Rf,ja=Jd.sum32,Vee=Jd.sum32_4,Qee=Jd.sum32_5,Yee=N0.ch32,Gee=N0.maj32,Wee=N0.s0_256,Xee=N0.s1_256,Zee=N0.g0_256,Jee=N0.g1_256,bL=qee.BlockHash,ete=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ws(){if(!(this instanceof Ws))return new Ws;bL.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ete,this.W=new Array(64)}Jd.inherits(Ws,bL);var gL=Ws;Ws.blockSize=512;Ws.outSize=256;Ws.hmacStrength=192;Ws.padLength=64;Ws.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Vee(Jee(n[i-2]),n[i-7],Zee(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],c=this.h[3],f=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(Kee(this.k.length===n.length),i=0;i<n.length;i++){var g=Qee(h,Xee(f),Yee(f,u,l),this.k[i],n[i]),_=ja(Wee(a),Gee(a,s,o));h=l,l=u,u=f,f=ja(c,g),c=o,o=s,s=a,a=ja(g,_)}this.h[0]=ja(this.h[0],a),this.h[1]=ja(this.h[1],s),this.h[2]=ja(this.h[2],o),this.h[3]=ja(this.h[3],c),this.h[4]=ja(this.h[4],f),this.h[5]=ja(this.h[5],u),this.h[6]=ja(this.h[6],l),this.h[7]=ja(this.h[7],h)};Ws.prototype._digest=function(e){return e==="hex"?Jd.toHex32(this.h,"big"):Jd.split32(this.h,"big")};var f4=Ve,yL=gL;function Wo(){if(!(this instanceof Wo))return new Wo;yL.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f4.inherits(Wo,yL);var tte=Wo;Wo.blockSize=512;Wo.outSize=224;Wo.hmacStrength=192;Wo.padLength=64;Wo.prototype._digest=function(e){return e==="hex"?f4.toHex32(this.h.slice(0,7),"big"):f4.split32(this.h.slice(0,7),"big")};var li=Ve,rte=L0,nte=Rf,qs=li.rotr64_hi,Ks=li.rotr64_lo,vL=li.shr64_hi,mL=li.shr64_lo,mc=li.sum64,L_=li.sum64_hi,H_=li.sum64_lo,ite=li.sum64_4_hi,ate=li.sum64_4_lo,ste=li.sum64_5_hi,ote=li.sum64_5_lo,_L=rte.BlockHash,cte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ps(){if(!(this instanceof ps))return new ps;_L.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=cte,this.W=new Array(160)}li.inherits(ps,_L);var wL=ps;ps.blockSize=1024;ps.outSize=512;ps.hmacStrength=192;ps.padLength=128;ps.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=mte(n[i-4],n[i-3]),s=_te(n[i-4],n[i-3]),o=n[i-14],c=n[i-13],f=yte(n[i-30],n[i-29]),u=vte(n[i-30],n[i-29]),l=n[i-32],h=n[i-31];n[i]=ite(a,s,o,c,f,u,l,h),n[i+1]=ate(a,s,o,c,f,u,l,h)}};ps.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],f=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],g=this.h[9],_=this.h[10],A=this.h[11],C=this.h[12],w=this.h[13],I=this.h[14],T=this.h[15];nte(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var N=I,K=T,V=bte(h,g),D=gte(h,g),Q=fte(h,g,_,A,C),Y=ute(h,g,_,A,C,w),M=this.k[R],m=this.k[R+1],x=n[R],b=n[R+1],v=ste(N,K,V,D,Q,Y,M,m,x,b),d=ote(N,K,V,D,Q,Y,M,m,x,b);N=hte(i,a),K=pte(i,a),V=lte(i,a,s,o,c),D=dte(i,a,s,o,c,f);var y=L_(N,K,V,D),S=H_(N,K,V,D);I=C,T=w,C=_,w=A,_=h,A=g,h=L_(u,l,v,d),g=H_(l,l,v,d),u=c,l=f,c=s,f=o,s=i,o=a,i=L_(v,d,y,S),a=H_(v,d,y,S)}mc(this.h,0,i,a),mc(this.h,2,s,o),mc(this.h,4,c,f),mc(this.h,6,u,l),mc(this.h,8,h,g),mc(this.h,10,_,A),mc(this.h,12,C,w),mc(this.h,14,I,T)};ps.prototype._digest=function(e){return e==="hex"?li.toHex32(this.h,"big"):li.split32(this.h,"big")};function fte(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function ute(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function lte(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function dte(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function hte(t,e){var r=qs(t,e,28),n=qs(e,t,2),i=qs(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function pte(t,e){var r=Ks(t,e,28),n=Ks(e,t,2),i=Ks(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function bte(t,e){var r=qs(t,e,14),n=qs(t,e,18),i=qs(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function gte(t,e){var r=Ks(t,e,14),n=Ks(t,e,18),i=Ks(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function yte(t,e){var r=qs(t,e,1),n=qs(t,e,8),i=vL(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function vte(t,e){var r=Ks(t,e,1),n=Ks(t,e,8),i=mL(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function mte(t,e){var r=qs(t,e,19),n=qs(e,t,29),i=vL(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function _te(t,e){var r=Ks(t,e,19),n=Ks(e,t,29),i=mL(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var u4=Ve,AL=wL;function Xo(){if(!(this instanceof Xo))return new Xo;AL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}u4.inherits(Xo,AL);var wte=Xo;Xo.blockSize=1024;Xo.outSize=384;Xo.hmacStrength=192;Xo.padLength=128;Xo.prototype._digest=function(e){return e==="hex"?u4.toHex32(this.h.slice(0,12),"big"):u4.split32(this.h.slice(0,12),"big")};H0.sha1=jee;H0.sha224=tte;H0.sha256=gL;H0.sha384=wte;H0.sha512=wL;var EL={},$u=Ve,Ate=L0,yg=$u.rotl32,Hx=$u.sum32,Eh=$u.sum32_3,Nx=$u.sum32_4,xL=Ate.BlockHash;function Xs(){if(!(this instanceof Xs))return new Xs;xL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}$u.inherits(Xs,xL);EL.ripemd160=Xs;Xs.blockSize=512;Xs.outSize=160;Xs.hmacStrength=192;Xs.padLength=64;Xs.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=n,f=i,u=a,l=s,h=o,g=0;g<80;g++){var _=Hx(yg(Nx(n,$x(g,i,a,s),e[Ste[g]+r],Ete(g)),Ite[g]),o);n=o,o=s,s=yg(a,10),a=i,i=_,_=Hx(yg(Nx(c,$x(79-g,f,u,l),e[Cte[g]+r],xte(g)),Tte[g]),h),c=h,h=l,l=yg(u,10),u=f,f=_}_=Eh(this.h[1],a,l),this.h[1]=Eh(this.h[2],s,h),this.h[2]=Eh(this.h[3],o,c),this.h[3]=Eh(this.h[4],n,f),this.h[4]=Eh(this.h[0],i,u),this.h[0]=_};Xs.prototype._digest=function(e){return e==="hex"?$u.toHex32(this.h,"little"):$u.split32(this.h,"little")};function $x(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Ete(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function xte(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Ste=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Cte=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ite=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Tte=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ote=Ve,Bte=Rf;function e0(t,e,r){if(!(this instanceof e0))return new e0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ote.toArray(e,r))}var Dte=e0;e0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Bte(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};e0.prototype.update=function(e,r){return this.inner.update(e,r),this};e0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Ve,e.common=L0,e.sha=H0,e.ripemd=EL,e.hmac=Dte,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(R0);var N_,Ux;function Mte(){return Ux||(Ux=1,N_={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),N_}(function(t){var e=t,r=R0,n=Qw,i=qi,a=i.assert;function s(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(f,u){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Mte()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Pv);var Pte=R0,wu=Tv,SL=Rf;function _f(t){if(!(this instanceof _f))return new _f(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wu.toArray(t.entropy,t.entropyEnc||"hex"),r=wu.toArray(t.nonce,t.nonceEnc||"hex"),n=wu.toArray(t.pers,t.persEnc||"hex");SL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var CL=_f;_f.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};_f.prototype._hmac=function(){return new Pte.hmac(this.hash,this.K)};_f.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};_f.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=wu.toArray(e,r),n=wu.toArray(n,i),SL(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};_f.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=wu.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var s=a.slice(0,e);return this._update(n),this._reseed++,wu.encode(s,r)};var Rte=Sr,Lte=qi,l4=Lte.assert;function Cn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Hte=Cn;Cn.fromPublic=function(e,r,n){return r instanceof Cn?r:new Cn(e,{pub:r,pubEnc:n})};Cn.fromPrivate=function(e,r,n){return r instanceof Cn?r:new Cn(e,{priv:r,privEnc:n})};Cn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Cn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Cn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Cn.prototype._importPrivate=function(e,r){this.priv=new Rte(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Cn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?l4(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&l4(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Cn.prototype.derive=function(e){return e.validate()||l4(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Cn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Cn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Cn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var r2=Sr,Gw=qi,Nte=Gw.assert;function Lv(t,e){if(t instanceof Lv)return t;this._importDER(t,e)||(Nte(t.r&&t.s,"Signature without r or s"),this.r=new r2(t.r,16),this.s=new r2(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var $te=Lv;function Ute(){this.place=0}function $_(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function kx(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Lv.prototype._importDER=function(e,r){e=Gw.toArray(e,r);var n=new Ute;if(e[n.place++]!==48)return!1;var i=$_(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=$_(e,n);if(a===!1)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=$_(e,n);if(o===!1||e.length!==o+n.place)return!1;var c=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new r2(s),this.s=new r2(c),this.recoveryParam=null,!0};function U_(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Lv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=kx(r),n=kx(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];U_(i,r.length),i=i.concat(r),i.push(2),U_(i,n.length);var a=i.concat(n),s=[48];return U_(s,a.length),s=s.concat(a),Gw.encode(s,e)};var Au=Sr,IL=CL,kte=qi,k_=Pv,zte=Ov,TL=kte.assert,Ww=Hte,Hv=$te;function Oa(t){if(!(this instanceof Oa))return new Oa(t);typeof t=="string"&&(TL(Object.prototype.hasOwnProperty.call(k_,t),"Unknown curve "+t),t=k_[t]),t instanceof k_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Fte=Oa;Oa.prototype.keyPair=function(e){return new Ww(this,e)};Oa.prototype.keyFromPrivate=function(e,r){return Ww.fromPrivate(this,e,r)};Oa.prototype.keyFromPublic=function(e,r){return Ww.fromPublic(this,e,r)};Oa.prototype.genKeyPair=function(e){e||(e={});for(var r=new IL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||zte(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Au(2));;){var a=new Au(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Oa.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Oa.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Au(e,16));for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),c=new IL({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Au(1)),u=0;;u++){var l=i.k?i.k(u):new Au(c.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var g=h.getX(),_=g.umod(this.n);if(_.cmpn(0)!==0){var A=l.invm(this.n).mul(_.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var C=(h.getY().isOdd()?1:0)|(g.cmp(_)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),C^=1),new Hv({r:_,s:A,recoveryParam:C})}}}}}};Oa.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Au(e,16)),n=this.keyFromPublic(n,i),r=new Hv(r,"hex");var a=r.r,s=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),c=o.mul(e).umod(this.n),f=o.mul(a).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.eqXToP(a)):(u=this.g.mulAdd(c,n.getPublic(),f),u.isInfinity()?!1:u.getX().umod(this.n).cmp(a)===0)};Oa.prototype.recoverPubKey=function(t,e,r,n){TL((3&r)===r,"The recovery param is more than two bits"),e=new Hv(e,n);var i=this.n,a=new Au(t),s=e.r,o=e.s,c=r&1,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),h=o.mul(u).umod(i);return this.g.mulAdd(l,s,h)};Oa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Hv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var pb=qi,OL=pb.assert,zx=pb.parseBytes,$0=pb.cachedProperty;function Ur(t,e){this.eddsa=t,this._secret=zx(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=zx(e.pub)}Ur.fromPublic=function(e,r){return r instanceof Ur?r:new Ur(e,{pub:r})};Ur.fromSecret=function(e,r){return r instanceof Ur?r:new Ur(e,{secret:r})};Ur.prototype.secret=function(){return this._secret};$0(Ur,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});$0(Ur,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});$0(Ur,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});$0(Ur,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});$0(Ur,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});$0(Ur,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ur.prototype.sign=function(e){return OL(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Ur.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Ur.prototype.getSecret=function(e){return OL(this._secret,"KeyPair is public only"),pb.encode(this.secret(),e)};Ur.prototype.getPublic=function(e){return pb.encode(this.pubBytes(),e)};var jte=Ur,qte=Sr,Nv=qi,Kte=Nv.assert,$v=Nv.cachedProperty,Vte=Nv.parseBytes;function tl(t,e){this.eddsa=t,typeof e!="object"&&(e=Vte(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Kte(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof qte&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}$v(tl,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});$v(tl,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});$v(tl,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});$v(tl,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});tl.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};tl.prototype.toHex=function(){return Nv.encode(this.toBytes(),"hex").toUpperCase()};var Qte=tl,Yte=R0,Gte=Pv,t0=qi,Wte=t0.assert,BL=t0.parseBytes,DL=jte,Fx=Qte;function di(t){if(Wte(t==="ed25519","only tested with ed25519 so far"),!(this instanceof di))return new di(t);t=Gte[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Yte.sha512}var Xte=di;di.prototype.sign=function(e,r){e=BL(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:s})};di.prototype.verify=function(e,r,n){e=BL(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};di.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return t0.intFromLE(e.digest()).umod(this.curve.n)};di.prototype.keyFromPublic=function(e){return DL.fromPublic(this,e)};di.prototype.keyFromSecret=function(e){return DL.fromSecret(this,e)};di.prototype.makeSignature=function(e){return e instanceof Fx?e:new Fx(this,e)};di.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};di.prototype.decodePoint=function(e){e=t0.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=t0.intFromLE(n);return this.curve.pointFromY(a,i)};di.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};di.prototype.decodeInt=function(e){return t0.intFromLE(e)};di.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=YJ.version,e.utils=qi,e.rand=Ov,e.curve=Qw,e.curves=Pv,e.ec=Fte,e.eddsa=Xte})(iL);const Zte=C4(iL);var jx;(function(t){t[t.ParameterInvalid=101]="ParameterInvalid",t[t.ParameterRequired=102]="ParameterRequired",t[t.SignMessageFailed=103]="SignMessageFailed",t[t.AddressInvalid=104]="AddressInvalid",t[t.ReconciliationFailed=105]="ReconciliationFailed"})(jx||(jx={}));new Zte.ec("secp256k1");var qx;(function(t){t.Mainnet="ckb",t.Testnet="ckt"})(qx||(qx={}));var Kx;(function(t){t.FullVersion="0x00",t.HashIdx="0x01",t.DataCodeHash="0x02",t.TypeCodeHash="0x04"})(Kx||(Kx={}));var Vx;(function(t){t.Bech32="bech32",t.Bech32m="bech32m"})(Vx||(Vx={}));var d4={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof jn<"u"&&jn,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(s){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof o<"u"&&o,c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function f(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function g(v){return typeof v!="string"&&(v=String(v)),v}function _(v){var d={next:function(){var y=v.shift();return{done:y===void 0,value:y}}};return c.iterable&&(d[Symbol.iterator]=function(){return d}),d}function A(v){this.map={},v instanceof A?v.forEach(function(d,y){this.append(y,d)},this):Array.isArray(v)?v.forEach(function(d){this.append(d[0],d[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(d){this.append(d,v[d])},this)}A.prototype.append=function(v,d){v=h(v),d=g(d);var y=this.map[v];this.map[v]=y?y+", "+d:d},A.prototype.delete=function(v){delete this.map[h(v)]},A.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},A.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},A.prototype.set=function(v,d){this.map[h(v)]=g(d)},A.prototype.forEach=function(v,d){for(var y in this.map)this.map.hasOwnProperty(y)&&v.call(d,this.map[y],y,this)},A.prototype.keys=function(){var v=[];return this.forEach(function(d,y){v.push(y)}),_(v)},A.prototype.values=function(){var v=[];return this.forEach(function(d){v.push(d)}),_(v)},A.prototype.entries=function(){var v=[];return this.forEach(function(d,y){v.push([y,d])}),_(v)},c.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function C(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function w(v){return new Promise(function(d,y){v.onload=function(){d(v.result)},v.onerror=function(){y(v.error)}})}function I(v){var d=new FileReader,y=w(d);return d.readAsArrayBuffer(v),y}function T(v){var d=new FileReader,y=w(d);return d.readAsText(v),y}function R(v){for(var d=new Uint8Array(v),y=new Array(d.length),S=0;S<d.length;S++)y[S]=String.fromCharCode(d[S]);return y.join("")}function N(v){if(v.slice)return v.slice(0);var d=new Uint8Array(v.byteLength);return d.set(new Uint8Array(v)),d.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&f(v)?(this._bodyArrayBuffer=N(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||l(v))?this._bodyArrayBuffer=N(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=C(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=C(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(I)}),this.text=function(){var v=C(this);if(v)return v;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var V=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(v){var d=v.toUpperCase();return V.indexOf(d)>-1?d:v}function Q(v,d){if(!(this instanceof Q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d=d||{};var y=d.body;if(v instanceof Q){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,d.headers||(this.headers=new A(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!y&&v._bodyInit!=null&&(y=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=d.credentials||this.credentials||"same-origin",(d.headers||!this.headers)&&(this.headers=new A(d.headers)),this.method=D(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.signal=d.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(y),(this.method==="GET"||this.method==="HEAD")&&(d.cache==="no-store"||d.cache==="no-cache")){var S=/([?&])_=[^&]*/;if(S.test(this.url))this.url=this.url.replace(S,"$1_="+new Date().getTime());else{var E=/\?/;this.url+=(E.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function Y(v){var d=new FormData;return v.trim().split("&").forEach(function(y){if(y){var S=y.split("="),E=S.shift().replace(/\+/g," "),p=S.join("=").replace(/\+/g," ");d.append(decodeURIComponent(E),decodeURIComponent(p))}}),d}function M(v){var d=new A,y=v.replace(/\r?\n[\t ]+/g," ");return y.split("\r").map(function(S){return S.indexOf(`
`)===0?S.substr(1,S.length):S}).forEach(function(S){var E=S.split(":"),p=E.shift().trim();if(p){var O=E.join(":").trim();d.append(p,O)}}),d}K.call(Q.prototype);function m(v,d){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');d||(d={}),this.type="default",this.status=d.status===void 0?200:d.status,this.ok=this.status>=200&&this.status<300,this.statusText=d.statusText===void 0?"":""+d.statusText,this.headers=new A(d.headers),this.url=d.url||"",this._initBody(v)}K.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},m.error=function(){var v=new m(null,{status:0,statusText:""});return v.type="error",v};var x=[301,302,303,307,308];m.redirect=function(v,d){if(x.indexOf(d)===-1)throw new RangeError("Invalid status code");return new m(null,{status:d,headers:{location:v}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(d,y){this.message=d,this.name=y;var S=Error(d);this.stack=S.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function b(v,d){return new Promise(function(y,S){var E=new Q(v,d);if(E.signal&&E.signal.aborted)return S(new s.DOMException("Aborted","AbortError"));var p=new XMLHttpRequest;function O(){p.abort()}p.onload=function(){var L={status:p.status,statusText:p.statusText,headers:M(p.getAllResponseHeaders()||"")};L.url="responseURL"in p?p.responseURL:L.headers.get("X-Request-URL");var j="response"in p?p.response:p.responseText;setTimeout(function(){y(new m(j,L))},0)},p.onerror=function(){setTimeout(function(){S(new TypeError("Network request failed"))},0)},p.ontimeout=function(){setTimeout(function(){S(new TypeError("Network request failed"))},0)},p.onabort=function(){setTimeout(function(){S(new s.DOMException("Aborted","AbortError"))},0)};function k(L){try{return L===""&&o.location.href?o.location.href:L}catch{return L}}p.open(E.method,k(E.url),!0),E.credentials==="include"?p.withCredentials=!0:E.credentials==="omit"&&(p.withCredentials=!1),"responseType"in p&&(c.blob?p.responseType="blob":c.arrayBuffer&&E.headers.get("Content-Type")&&E.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(p.responseType="arraybuffer")),d&&typeof d.headers=="object"&&!(d.headers instanceof A)?Object.getOwnPropertyNames(d.headers).forEach(function(L){p.setRequestHeader(L,g(d.headers[L]))}):E.headers.forEach(function(L,j){p.setRequestHeader(j,L)}),E.signal&&(E.signal.addEventListener("abort",O),p.onreadystatechange=function(){p.readyState===4&&E.signal.removeEventListener("abort",O)}),p.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return b.polyfill=!0,o.fetch||(o.fetch=b,o.Headers=A,o.Request=Q,o.Response=m),s.Headers=A,s.Request=Q,s.Response=m,s.fetch=b,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(d4,d4.exports);var Jte=d4.exports;const ere=C4(Jte),tre=globalThis.crypto,Ep=tre.subtle;var rre=()=>Date.now(),nre=class{constructor(t){this.url=t}async baseRPC(t,e,r=this.url){const n={id:rre(),jsonrpc:"2.0",method:t,params:e??null},i=JSON.stringify(n,null,""),a=await ere(r,{method:"post",headers:{"Content-Type":"application/json"},body:i}).then(async s=>s.json());if(a.error!=null)throw new Error(`RPC error: ${JSON.stringify(a.error)}`);return a.result}async generateSubkeyUnlockSmt(t){return await this.baseRPC("generate_subkey_unlock_smt",t)}};function ire(t){const e=Array.from(new Uint8Array(t),s=>`00${s.toString(16)}`.slice(-2)).join(""),r=Number.parseInt(e.substr(6,2),16)*2;let n=e.substr(8,r),i=e.substr(12+r);n=n.length>64?n.substr(-64):n.padStart(64,"0"),i=i.length>64?i.substr(-64):i.padStart(64,"0");const a=`${n}${i}`;return new Uint8Array(a.match(/[\da-f]{2}/gi).map(s=>Number.parseInt(s,16)))}var are=(t,e)=>{try{const r=AJ(mJ(e));return JSON.parse(r).challenge===nu(wJ(t))}catch{return!1}},sre=async(t,e,r)=>{try{const n="RSASSA-PKCS1-v1_5",i=XR(r),a=Jy(t),s=Jy(e),o=new Uint8Array(i.slice(0,3)).reverse(),c=new Uint8Array(i.slice(4)).reverse(),f={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:nu(o),n:nu(c)},u=await Ep.importKey("jwk",f,{name:n,hash:"SHA-256"},!1,["verify"]);return await Ep.verify(n,u,s,a)}catch(n){return console.error(n),!1}},ore=async({message:t,signature:e,pubkey:r,challenge:n,alg:i})=>{try{const a=XR(`${r}`),s=Jy(t),o=Jy(e),c=s.slice(0,37),f=s.slice(37);if(!are(n,f))return!1;const u=await Ep.digest("SHA-256",f),l=_J(c,u),h=i===o4.ES256,g=h?{kty:"EC",crv:"P-256",x:nu(a.slice(0,32)),y:nu(a.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:nu(new Uint8Array(a.slice(0,3)).reverse()),n:nu(new Uint8Array(a.slice(4)).reverse())},_=h?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},A=await Ep.importKey("jwk",g,_,!1,["verify"]);return await Ep.verify(_,A,i===o4.RS256?o:ire(o),l)}catch(a){return console.error(a),!1}},cre=async t=>{const{message:e,signature:r,pubkey:n,keyType:i}=t;return i==="main_key"||i==="sub_key"?ore(t):sre(e,r,n)};function fre(t,e,r){const n=typeof t=="string"?t:_e(t).slice(2),{publicKey:i,keyType:a}=JSON.parse(r);return cre({challenge:n,pubkey:i,keyType:a,...JSON.parse(e)})}const ure="6.13.4";function Qx(t,e,r){for(let n in e){let i=e[n];Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Fl(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Fl).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Fl(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Fl(r)}: ${Fl(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function lre(t,e,r){let n=t;{const a=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Fl(r)}`);for(const s in r){if(s==="shortMessage")continue;const o=r[s];a.push(s+"="+Fl(o))}}a.push(`code=${e}`),a.push(`version=${ure}`),a.length&&(t+=" ("+a.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Qx(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Qx(i,{shortMessage:n}),i}function bb(t,e,r,n){if(!t)throw lre(e,r,n)}function bt(t,e,r,n){bb(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function dre(t,e,r){if(t!==e){let n=r,i="new";n+=".",i+=" "+r,bb(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function ML(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let a=0;a<n.length;a++)n[a]=parseInt(t.substring(i,i+2),16),i+=2;return n}bt(!1,"invalid BytesLike value",e||"value",t)}function ga(t,e){return ML(t,e,!1)}function xh(t,e){return ML(t,e,!0)}function h4(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}const Yx="0123456789abcdef";function $n(t){const e=ga(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=Yx[(i&240)>>4]+Yx[i&15]}return r}function n2(t){return"0x"+t.map(e=>$n(e).substring(2)).join("")}function xp(t){return h4(t,!0)?(t.length-2)/2:ga(t).length}function hre(t,e,r){const n=ga(t);bb(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(n,e-n.length),$n(i)}function pre(t,e){return hre(t,e)}const PL=BigInt(0);BigInt(1);const jl=9007199254740991;function Yh(t,e){switch(typeof t){case"bigint":return t;case"number":return bt(Number.isInteger(t),"underflow",e||"value",t),bt(t>=-jl&&t<=jl,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){bt(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}bt(!1,"invalid BigNumberish value",e||"value",t)}function RL(t,e){const r=Yh(t,e);return bb(r>=PL,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}function Sp(t,e){switch(typeof t){case"bigint":return bt(t>=-jl&&t<=jl,"overflow",e||"value",t),Number(t);case"number":return bt(Number.isInteger(t),"underflow",e||"value",t),bt(t>=-jl&&t<=jl,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Sp(BigInt(t),e)}catch(r){bt(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}bt(!1,"invalid numeric value",e||"value",t)}function Gx(t,e){let n=RL(t,"value").toString(16);{const i=Sp(e,"width");for(bb(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function bre(t){const e=RL(t,"value");if(e===PL)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const a=i*2;n[i]=parseInt(r.substring(a,a+2),16)}return n}function z_(t,e){bt(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);bt(n<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);const s=65536+((i&1023)<<10)+(a&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function i2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Xw(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function gre(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");i2(t.outputLen),i2(t.blockLen)}function r0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LL(t,e){Xw(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const F_=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HL=t=>t instanceof Uint8Array,yre=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),j_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Es=(t,e)=>t<<32-e|t>>>e,vre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vre)throw new Error("Non little-endian hardware is not supported");function mre(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Uv(t){if(typeof t=="string"&&(t=mre(t)),!HL(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function _re(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!HL(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let Zw=class{clone(){return this._cloneInto()}};function NL(t){const e=n=>t().update(Uv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function wre(t=32){if(F_&&typeof F_.getRandomValues=="function")return F_.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class $L extends Zw{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,gre(e);const n=Uv(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(e){return r0(this),this.iHash.update(e),this}digestInto(e){r0(this),Xw(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:s,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=s,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const UL=(t,e,r)=>new $L(t,e).update(r).digest();UL.create=(t,e)=>new $L(t,e);function Are(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),a=BigInt(4294967295),s=Number(r>>i&a),o=Number(r&a),c=n?4:0,f=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+f,o,n)}class Ere extends Zw{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=j_(this.buffer)}update(e){r0(this);const{view:r,buffer:n,blockLen:i}=this;e=Uv(e);const a=e.length;for(let s=0;s<a;){const o=Math.min(i-this.pos,a-s);if(o===i){const c=j_(e);for(;i<=a-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r0(this),LL(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:a}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let l=s;l<i;l++)r[l]=0;Are(n,i-8,BigInt(this.length*8),a),this.process(n,0);const o=j_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,u=this.get();if(f>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)o.setUint32(4*l,u[l],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:a,destroyed:s,pos:o}=this;return e.length=i,e.pos=o,e.finished=a,e.destroyed=s,i%r&&e.buffer.set(n),e}}const xre=(t,e,r)=>t&e^~t&r,Sre=(t,e,r)=>t&e^t&r^e&r,Cre=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wc=new Uint32Array(64);class Ire extends Ere{constructor(){super(64,32,8,!1),this.A=_c[0]|0,this.B=_c[1]|0,this.C=_c[2]|0,this.D=_c[3]|0,this.E=_c[4]|0,this.F=_c[5]|0,this.G=_c[6]|0,this.H=_c[7]|0}get(){const{A:e,B:r,C:n,D:i,E:a,F:s,G:o,H:c}=this;return[e,r,n,i,a,s,o,c]}set(e,r,n,i,a,s,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=s|0,this.G=o|0,this.H=c|0}process(e,r){for(let l=0;l<16;l++,r+=4)wc[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const h=wc[l-15],g=wc[l-2],_=Es(h,7)^Es(h,18)^h>>>3,A=Es(g,17)^Es(g,19)^g>>>10;wc[l]=A+wc[l-7]+_+wc[l-16]|0}let{A:n,B:i,C:a,D:s,E:o,F:c,G:f,H:u}=this;for(let l=0;l<64;l++){const h=Es(o,6)^Es(o,11)^Es(o,25),g=u+h+xre(o,c,f)+Cre[l]+wc[l]|0,A=(Es(n,2)^Es(n,13)^Es(n,22))+Sre(n,i,a)|0;u=f,f=c,c=o,o=s+g|0,s=a,a=i,i=n,n=g+A|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,s=s+this.D|0,o=o+this.E|0,c=c+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(n,i,a,s,o,c,f,u)}roundClean(){wc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Tre=NL(()=>new Ire),vg=BigInt(2**32-1),Wx=BigInt(32);function Ore(t,e=!1){return e?{h:Number(t&vg),l:Number(t>>Wx&vg)}:{h:Number(t>>Wx&vg)|0,l:Number(t&vg)|0}}function Bre(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:s}=Ore(t[i],e);[r[i],n[i]]=[a,s]}return[r,n]}const Dre=(t,e,r)=>t<<r|e>>>32-r,Mre=(t,e,r)=>e<<r|t>>>32-r,Pre=(t,e,r)=>e<<r-32|t>>>64-r,Rre=(t,e,r)=>t<<r-32|e>>>64-r,[kL,zL,FL]=[[],[],[]],Lre=BigInt(0),Sh=BigInt(1),Hre=BigInt(2),Nre=BigInt(7),$re=BigInt(256),Ure=BigInt(113);for(let t=0,e=Sh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],kL.push(2*(5*n+r)),zL.push((t+1)*(t+2)/2%64);let i=Lre;for(let a=0;a<7;a++)e=(e<<Sh^(e>>Nre)*Ure)%$re,e&Hre&&(i^=Sh<<(Sh<<BigInt(a))-Sh);FL.push(i)}const[kre,zre]=Bre(FL,!0),Xx=(t,e,r)=>r>32?Pre(t,e,r):Dre(t,e,r),Zx=(t,e,r)=>r>32?Rre(t,e,r):Mre(t,e,r);function Fre(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,c=(s+2)%10,f=r[c],u=r[c+1],l=Xx(f,u,1)^r[o],h=Zx(f,u,1)^r[o+1];for(let g=0;g<50;g+=10)t[s+g]^=l,t[s+g+1]^=h}let i=t[2],a=t[3];for(let s=0;s<24;s++){const o=zL[s],c=Xx(i,a,o),f=Zx(i,a,o),u=kL[s];i=t[u],a=t[u+1],t[u]=c,t[u+1]=f}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=t[s+o];for(let o=0;o<10;o++)t[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=kre[n],t[1]^=zre[n]}r.fill(0)}class Jw extends Zw{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i2(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yre(this.state)}keccak(){Fre(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){r0(this);const{blockLen:r,state:n}=this;e=Uv(e);const i=e.length;for(let a=0;a<i;){const s=Math.min(r-this.pos,i-a);for(let o=0;o<s;o++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){r0(this,!1),Xw(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:s}=this;return e||(e=new Jw(r,n,i,s,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const jre=(t,e,r)=>NL(()=>new Jw(e,t,r)),qre=jre(1,136,256/8);let jL=!1;const qL=function(t){return qre(t)};let KL=qL;function rl(t){const e=ga(t,"data");return $n(KL(e))}rl._=qL;rl.lock=function(){jL=!0};rl.register=function(t){if(jL)throw new TypeError("keccak256 is locked");KL=t};Object.freeze(rl);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VL=BigInt(0),kv=BigInt(1),Kre=BigInt(2),zv=t=>t instanceof Uint8Array,Vre=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n0(t){if(!zv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Vre[t[r]];return e}function QL(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function e7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function i0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,a=t.slice(i,i+2),s=Number.parseInt(a,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Eu(t){return e7(n0(t))}function t7(t){if(!zv(t))throw new Error("Uint8Array expected");return e7(n0(Uint8Array.from(t).reverse()))}function a0(t,e){return i0(t.toString(16).padStart(e*2,"0"))}function r7(t,e){return a0(t,e).reverse()}function Qre(t){return i0(QL(t))}function Ka(t,e,r){let n;if(typeof e=="string")try{n=i0(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(zv(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function f1(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!zv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Yre(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Gre(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Wre(t){let e;for(e=0;t>VL;t>>=kv,e+=1);return e}function Xre(t,e){return t>>BigInt(e)&kv}const Zre=(t,e,r)=>t|(r?kv:VL)<<BigInt(e),n7=t=>(Kre<<BigInt(t-1))-kv,q_=t=>new Uint8Array(t),Jx=t=>Uint8Array.from(t);function YL(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=q_(t),i=q_(t),a=0;const s=()=>{n.fill(1),i.fill(0),a=0},o=(...l)=>r(i,n,...l),c=(l=q_())=>{i=o(Jx([0]),l),n=o(),l.length!==0&&(i=o(Jx([1]),l),n=o())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const h=[];for(;l<e;){n=o();const g=n.slice();h.push(g),l+=n.length}return f1(...h)};return(l,h)=>{s(),c(l);let g;for(;!(g=h(f()));)c();return s(),g}}const Jre={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function gb(t,e,r={}){const n=(i,a,s)=>{const o=Jre[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=t[i];if(!(s&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${a}`)};for(const[i,a]of Object.entries(e))n(i,a,!1);for(const[i,a]of Object.entries(r))n(i,a,!0);return t}const ene=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Xre,bitLen:Wre,bitMask:n7,bitSet:Zre,bytesToHex:n0,bytesToNumberBE:Eu,bytesToNumberLE:t7,concatBytes:f1,createHmacDrbg:YL,ensureBytes:Ka,equalBytes:Yre,hexToBytes:i0,hexToNumber:e7,numberToBytesBE:a0,numberToBytesLE:r7,numberToHexUnpadded:QL,numberToVarBytesBE:Qre,utf8ToBytes:Gre,validateObject:gb},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nr=BigInt(0),dr=BigInt(1),Wf=BigInt(2),tne=BigInt(3),p4=BigInt(4),eS=BigInt(5),tS=BigInt(8);BigInt(9);BigInt(16);function ai(t,e){const r=t%e;return r>=Nr?r:e+r}function rne(t,e,r){if(r<=Nr||e<Nr)throw new Error("Expected power/modulo > 0");if(r===dr)return Nr;let n=dr;for(;e>Nr;)e&dr&&(n=n*t%r),t=t*t%r,e>>=dr;return n}function Ji(t,e,r){let n=t;for(;e-- >Nr;)n*=n,n%=r;return n}function b4(t,e){if(t===Nr||e<=Nr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ai(t,e),n=e,i=Nr,a=dr;for(;r!==Nr;){const o=n/r,c=n%r,f=i-a*o;n=r,r=c,i=a,a=f}if(n!==dr)throw new Error("invert: does not exist");return ai(i,e)}function nne(t){const e=(t-dr)/Wf;let r,n,i;for(r=t-dr,n=0;r%Wf===Nr;r/=Wf,n++);for(i=Wf;i<t&&rne(i,e,t)!==t-dr;i++);if(n===1){const s=(t+dr)/p4;return function(c,f){const u=c.pow(f,s);if(!c.eql(c.sqr(u),f))throw new Error("Cannot find square root");return u}}const a=(r+dr)/Wf;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let f=n,u=o.pow(o.mul(o.ONE,i),r),l=o.pow(c,a),h=o.pow(c,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let g=1;for(let A=o.sqr(h);g<f&&!o.eql(A,o.ONE);g++)A=o.sqr(A);const _=o.pow(u,dr<<BigInt(f-g-1));u=o.sqr(_),l=o.mul(l,_),h=o.mul(h,u),f=g}return l}}function ine(t){if(t%p4===tne){const e=(t+dr)/p4;return function(n,i){const a=n.pow(i,e);if(!n.eql(n.sqr(a),i))throw new Error("Cannot find square root");return a}}if(t%tS===eS){const e=(t-eS)/tS;return function(n,i){const a=n.mul(i,Wf),s=n.pow(a,e),o=n.mul(i,s),c=n.mul(n.mul(o,Wf),s),f=n.mul(o,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return nne(t)}const ane=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sne(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ane.reduce((n,i)=>(n[i]="function",n),e);return gb(t,r)}function one(t,e,r){if(r<Nr)throw new Error("Expected power > 0");if(r===Nr)return t.ONE;if(r===dr)return e;let n=t.ONE,i=e;for(;r>Nr;)r&dr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=dr;return n}function cne(t,e){const r=new Array(e.length),n=e.reduce((a,s,o)=>t.is0(s)?a:(r[o]=a,t.mul(a,s)),t.ONE),i=t.inv(n);return e.reduceRight((a,s,o)=>t.is0(s)?a:(r[o]=t.mul(a,r[o]),t.mul(a,s)),i),r}function GL(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function fne(t,e,r=!1,n={}){if(t<=Nr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:a}=GL(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=ine(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:a,MASK:n7(i),ZERO:Nr,ONE:dr,create:c=>ai(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Nr<=c&&c<t},is0:c=>c===Nr,isOdd:c=>(c&dr)===dr,neg:c=>ai(-c,t),eql:(c,f)=>c===f,sqr:c=>ai(c*c,t),add:(c,f)=>ai(c+f,t),sub:(c,f)=>ai(c-f,t),mul:(c,f)=>ai(c*f,t),pow:(c,f)=>one(o,c,f),div:(c,f)=>ai(c*b4(f,t),t),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>b4(c,t),sqrt:n.sqrt||(c=>s(o,c)),invertBatch:c=>cne(o,c),cmov:(c,f,u)=>u?f:c,toBytes:c=>r?r7(c,a):a0(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return r?t7(c):Eu(c)}});return Object.freeze(o)}function WL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function XL(t){const e=WL(t);return e+Math.ceil(e/2)}function une(t,e,r=!1){const n=t.length,i=WL(e),a=XL(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const s=r?Eu(t):t7(t),o=ai(s,e-dr)+dr;return r?r7(o,i):a0(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lne=BigInt(0),K_=BigInt(1);function dne(t,e){const r=(i,a)=>{const s=a.negate();return i?s:a},n=i=>{const a=Math.ceil(e/i)+1,s=2**(i-1);return{windows:a,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,a){let s=t.ZERO,o=i;for(;a>lne;)a&K_&&(s=s.add(o)),o=o.double(),a>>=K_;return s},precomputeWindow(i,a){const{windows:s,windowSize:o}=n(a),c=[];let f=i,u=f;for(let l=0;l<s;l++){u=f,c.push(u);for(let h=1;h<o;h++)u=u.add(f),c.push(u);f=u.double()}return c},wNAF(i,a,s){const{windows:o,windowSize:c}=n(i);let f=t.ZERO,u=t.BASE;const l=BigInt(2**i-1),h=2**i,g=BigInt(i);for(let _=0;_<o;_++){const A=_*c;let C=Number(s&l);s>>=g,C>c&&(C-=h,s+=K_);const w=A,I=A+Math.abs(C)-1,T=_%2!==0,R=C<0;C===0?u=u.add(r(T,a[w])):f=f.add(r(R,a[I]))}return{p:f,f:u}},wNAFCached(i,a,s,o){const c=i._WINDOW_SIZE||1;let f=a.get(i);return f||(f=this.precomputeWindow(i,c),c!==1&&a.set(i,o(f))),this.wNAF(c,f,s)}}}function ZL(t){return sne(t.Fp),gb(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...GL(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hne(t){const e=ZL(t);gb(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:pne,hexToBytes:bne}=ene,iu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=iu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:pne(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=iu,r=typeof t=="string"?bne(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:a}=iu._parseInt(r.subarray(2)),{d:s,l:o}=iu._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(t){const e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,r=f=>{const u=f.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),a=n.length/2,s=i.length/2,o=r(a),c=r(s);return`30${r(s+a+4)}02${c}${i}02${o}${n}`}},xo=BigInt(0),oa=BigInt(1);BigInt(2);const rS=BigInt(3);BigInt(4);function gne(t){const e=hne(t),{Fp:r}=e,n=e.toBytes||((_,A,C)=>{const w=A.toAffine();return f1(Uint8Array.from([4]),r.toBytes(w.x),r.toBytes(w.y))}),i=e.fromBytes||(_=>{const A=_.subarray(1),C=r.fromBytes(A.subarray(0,r.BYTES)),w=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:C,y:w}});function a(_){const{a:A,b:C}=e,w=r.sqr(_),I=r.mul(w,_);return r.add(r.add(I,r.mul(_,A)),C)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function s(_){return typeof _=="bigint"&&xo<_&&_<e.n}function o(_){if(!s(_))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(_){const{allowedPrivateKeyLengths:A,nByteLength:C,wrapPrivateKey:w,n:I}=e;if(A&&typeof _!="bigint"){if(_ instanceof Uint8Array&&(_=n0(_)),typeof _!="string"||!A.includes(_.length))throw new Error("Invalid key");_=_.padStart(C*2,"0")}let T;try{T=typeof _=="bigint"?_:Eu(Ka("private key",_,C))}catch{throw new Error(`private key must be ${C} bytes, hex or bigint, not ${typeof _}`)}return w&&(T=ai(T,I)),o(T),T}const f=new Map;function u(_){if(!(_ instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(A,C,w){if(this.px=A,this.py=C,this.pz=w,A==null||!r.isValid(A))throw new Error("x required");if(C==null||!r.isValid(C))throw new Error("y required");if(w==null||!r.isValid(w))throw new Error("z required")}static fromAffine(A){const{x:C,y:w}=A||{};if(!A||!r.isValid(C)||!r.isValid(w))throw new Error("invalid affine point");if(A instanceof l)throw new Error("projective point not allowed");const I=T=>r.eql(T,r.ZERO);return I(C)&&I(w)?l.ZERO:new l(C,w,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const C=r.invertBatch(A.map(w=>w.pz));return A.map((w,I)=>w.toAffine(C[I])).map(l.fromAffine)}static fromHex(A){const C=l.fromAffine(i(Ka("pointHex",A)));return C.assertValidity(),C}static fromPrivateKey(A){return l.BASE.multiply(c(A))}_setWindowSize(A){this._WINDOW_SIZE=A,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:C}=this.toAffine();if(!r.isValid(A)||!r.isValid(C))throw new Error("bad point: x or y not FE");const w=r.sqr(C),I=a(A);if(!r.eql(w,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){u(A);const{px:C,py:w,pz:I}=this,{px:T,py:R,pz:N}=A,K=r.eql(r.mul(C,N),r.mul(T,I)),V=r.eql(r.mul(w,N),r.mul(R,I));return K&&V}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:C}=e,w=r.mul(C,rS),{px:I,py:T,pz:R}=this;let N=r.ZERO,K=r.ZERO,V=r.ZERO,D=r.mul(I,I),Q=r.mul(T,T),Y=r.mul(R,R),M=r.mul(I,T);return M=r.add(M,M),V=r.mul(I,R),V=r.add(V,V),N=r.mul(A,V),K=r.mul(w,Y),K=r.add(N,K),N=r.sub(Q,K),K=r.add(Q,K),K=r.mul(N,K),N=r.mul(M,N),V=r.mul(w,V),Y=r.mul(A,Y),M=r.sub(D,Y),M=r.mul(A,M),M=r.add(M,V),V=r.add(D,D),D=r.add(V,D),D=r.add(D,Y),D=r.mul(D,M),K=r.add(K,D),Y=r.mul(T,R),Y=r.add(Y,Y),D=r.mul(Y,M),N=r.sub(N,D),V=r.mul(Y,Q),V=r.add(V,V),V=r.add(V,V),new l(N,K,V)}add(A){u(A);const{px:C,py:w,pz:I}=this,{px:T,py:R,pz:N}=A;let K=r.ZERO,V=r.ZERO,D=r.ZERO;const Q=e.a,Y=r.mul(e.b,rS);let M=r.mul(C,T),m=r.mul(w,R),x=r.mul(I,N),b=r.add(C,w),v=r.add(T,R);b=r.mul(b,v),v=r.add(M,m),b=r.sub(b,v),v=r.add(C,I);let d=r.add(T,N);return v=r.mul(v,d),d=r.add(M,x),v=r.sub(v,d),d=r.add(w,I),K=r.add(R,N),d=r.mul(d,K),K=r.add(m,x),d=r.sub(d,K),D=r.mul(Q,v),K=r.mul(Y,x),D=r.add(K,D),K=r.sub(m,D),D=r.add(m,D),V=r.mul(K,D),m=r.add(M,M),m=r.add(m,M),x=r.mul(Q,x),v=r.mul(Y,v),m=r.add(m,x),x=r.sub(M,x),x=r.mul(Q,x),v=r.add(v,x),M=r.mul(m,v),V=r.add(V,M),M=r.mul(d,v),K=r.mul(b,K),K=r.sub(K,M),M=r.mul(b,m),D=r.mul(d,D),D=r.add(D,M),new l(K,V,D)}subtract(A){return this.add(A.negate())}is0(){return this.equals(l.ZERO)}wNAF(A){return g.wNAFCached(this,f,A,C=>{const w=r.invertBatch(C.map(I=>I.pz));return C.map((I,T)=>I.toAffine(w[T])).map(l.fromAffine)})}multiplyUnsafe(A){const C=l.ZERO;if(A===xo)return C;if(o(A),A===oa)return this;const{endo:w}=e;if(!w)return g.unsafeLadder(this,A);let{k1neg:I,k1:T,k2neg:R,k2:N}=w.splitScalar(A),K=C,V=C,D=this;for(;T>xo||N>xo;)T&oa&&(K=K.add(D)),N&oa&&(V=V.add(D)),D=D.double(),T>>=oa,N>>=oa;return I&&(K=K.negate()),R&&(V=V.negate()),V=new l(r.mul(V.px,w.beta),V.py,V.pz),K.add(V)}multiply(A){o(A);let C=A,w,I;const{endo:T}=e;if(T){const{k1neg:R,k1:N,k2neg:K,k2:V}=T.splitScalar(C);let{p:D,f:Q}=this.wNAF(N),{p:Y,f:M}=this.wNAF(V);D=g.constTimeNegate(R,D),Y=g.constTimeNegate(K,Y),Y=new l(r.mul(Y.px,T.beta),Y.py,Y.pz),w=D.add(Y),I=Q.add(M)}else{const{p:R,f:N}=this.wNAF(C);w=R,I=N}return l.normalizeZ([w,I])[0]}multiplyAndAddUnsafe(A,C,w){const I=l.BASE,T=(N,K)=>K===xo||K===oa||!N.equals(I)?N.multiplyUnsafe(K):N.multiply(K),R=T(this,C).add(T(A,w));return R.is0()?void 0:R}toAffine(A){const{px:C,py:w,pz:I}=this,T=this.is0();A==null&&(A=T?r.ONE:r.inv(I));const R=r.mul(C,A),N=r.mul(w,A),K=r.mul(I,A);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:R,y:N}}isTorsionFree(){const{h:A,isTorsionFree:C}=e;if(A===oa)return!0;if(C)return C(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:C}=e;return A===oa?this:C?C(l,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return this.assertValidity(),n(l,this,A)}toHex(A=!0){return n0(this.toRawBytes(A))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,g=dne(l,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:s}}function yne(t){const e=ZL(t);return gb(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function vne(t){const e=yne(t),{Fp:r,n}=e,i=r.BYTES+1,a=2*r.BYTES+1;function s(v){return xo<v&&v<r.ORDER}function o(v){return ai(v,n)}function c(v){return b4(v,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:h}=gne({...e,toBytes(v,d,y){const S=d.toAffine(),E=r.toBytes(S.x),p=f1;return y?p(Uint8Array.from([d.hasEvenY()?2:3]),E):p(Uint8Array.from([4]),E,r.toBytes(S.y))},fromBytes(v){const d=v.length,y=v[0],S=v.subarray(1);if(d===i&&(y===2||y===3)){const E=Eu(S);if(!s(E))throw new Error("Point is not on curve");const p=l(E);let O=r.sqrt(p);const k=(O&oa)===oa;return(y&1)===1!==k&&(O=r.neg(O)),{x:E,y:O}}else if(d===a&&y===4){const E=r.fromBytes(S.subarray(0,r.BYTES)),p=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:E,y:p}}else throw new Error(`Point of length ${d} was invalid. Expected ${i} compressed bytes or ${a} uncompressed bytes`)}}),g=v=>n0(a0(v,e.nByteLength));function _(v){const d=n>>oa;return v>d}function A(v){return _(v)?o(-v):v}const C=(v,d,y)=>Eu(v.slice(d,y));class w{constructor(d,y,S){this.r=d,this.s=y,this.recovery=S,this.assertValidity()}static fromCompact(d){const y=e.nByteLength;return d=Ka("compactSignature",d,y*2),new w(C(d,0,y),C(d,y,2*y))}static fromDER(d){const{r:y,s:S}=iu.toSig(Ka("DER",d));return new w(y,S)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(d){return new w(this.r,this.s,d)}recoverPublicKey(d){const{r:y,s:S,recovery:E}=this,p=V(Ka("msgHash",d));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const O=E===2||E===3?y+e.n:y;if(O>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=E&1?"03":"02",L=f.fromHex(k+g(O)),j=c(O),q=o(-p*j),H=o(S*j),z=f.BASE.multiplyAndAddUnsafe(L,q,H);if(!z)throw new Error("point at infinify");return z.assertValidity(),z}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return i0(this.toDERHex())}toDERHex(){return iu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i0(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const I={isValidPrivateKey(v){try{return u(v),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const v=XL(e.n);return une(e.randomBytes(v),e.n)},precompute(v=8,d=f.BASE){return d._setWindowSize(v),d.multiply(BigInt(3)),d}};function T(v,d=!0){return f.fromPrivateKey(v).toRawBytes(d)}function R(v){const d=v instanceof Uint8Array,y=typeof v=="string",S=(d||y)&&v.length;return d?S===i||S===a:y?S===2*i||S===2*a:v instanceof f}function N(v,d,y=!0){if(R(v))throw new Error("first arg must be private key");if(!R(d))throw new Error("second arg must be public key");return f.fromHex(d).multiply(u(v)).toRawBytes(y)}const K=e.bits2int||function(v){const d=Eu(v),y=v.length*8-e.nBitLength;return y>0?d>>BigInt(y):d},V=e.bits2int_modN||function(v){return o(K(v))},D=n7(e.nBitLength);function Q(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(xo<=v&&v<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return a0(v,e.nByteLength)}function Y(v,d,y=M){if(["recovered","canonical"].some(ee=>ee in y))throw new Error("sign() legacy options not supported");const{hash:S,randomBytes:E}=e;let{lowS:p,prehash:O,extraEntropy:k}=y;p==null&&(p=!0),v=Ka("msgHash",v),O&&(v=Ka("prehashed msgHash",S(v)));const L=V(v),j=u(d),q=[Q(j),Q(L)];if(k!=null){const ee=k===!0?E(r.BYTES):k;q.push(Ka("extraEntropy",ee))}const H=f1(...q),z=L;function X(ee){const ie=K(ee);if(!h(ie))return;const F=c(ie),$=f.BASE.multiply(ie).toAffine(),re=o($.x);if(re===xo)return;const ue=o(F*o(z+re*j));if(ue===xo)return;let de=($.x===re?0:2)|Number($.y&oa),W=ue;return p&&_(ue)&&(W=A(ue),de^=1),new w(re,W,de)}return{seed:H,k2sig:X}}const M={lowS:e.lowS,prehash:!1},m={lowS:e.lowS,prehash:!1};function x(v,d,y=M){const{seed:S,k2sig:E}=Y(v,d,y),p=e;return YL(p.hash.outputLen,p.nByteLength,p.hmac)(S,E)}f.BASE._setWindowSize(8);function b(v,d,y,S=m){var $;const E=v;if(d=Ka("msgHash",d),y=Ka("publicKey",y),"strict"in S)throw new Error("options.strict was renamed to lowS");const{lowS:p,prehash:O}=S;let k,L;try{if(typeof E=="string"||E instanceof Uint8Array)try{k=w.fromDER(E)}catch(re){if(!(re instanceof iu.Err))throw re;k=w.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:re,s:ue}=E;k=new w(re,ue)}else throw new Error("PARSE");L=f.fromHex(y)}catch(re){if(re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(p&&k.hasHighS())return!1;O&&(d=e.hash(d));const{r:j,s:q}=k,H=V(d),z=c(q),X=o(H*z),ee=o(j*z),ie=($=f.BASE.multiplyAndAddUnsafe(L,X,ee))==null?void 0:$.toAffine();return ie?o(ie.x)===j:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:N,sign:x,verify:b,ProjectivePoint:f,Signature:w,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mne(t){return{hash:t,hmac:(e,...r)=>UL(t,e,_re(...r)),randomBytes:wre}}function _ne(t,e){const r=n=>vne({...t,...mne(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wne=BigInt(1),g4=BigInt(2),iS=(t,e)=>(t+e/g4)/e;function Ane(t){const e=JL,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),s=BigInt(23),o=BigInt(44),c=BigInt(88),f=t*t*t%e,u=f*f*t%e,l=Ji(u,r,e)*u%e,h=Ji(l,r,e)*u%e,g=Ji(h,g4,e)*f%e,_=Ji(g,i,e)*g%e,A=Ji(_,a,e)*_%e,C=Ji(A,o,e)*A%e,w=Ji(C,c,e)*C%e,I=Ji(w,o,e)*A%e,T=Ji(I,r,e)*u%e,R=Ji(T,s,e)*_%e,N=Ji(R,n,e)*f%e,K=Ji(N,g4,e);if(!y4.eql(y4.sqr(K),t))throw new Error("Cannot find square root");return K}const y4=fne(JL,void 0,void 0,{sqrt:Ane}),Sc=_ne({a:BigInt(0),b:BigInt(7),Fp:y4,n:nS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=nS,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-wne*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),o=iS(a*t,e),c=iS(-n*t,e);let f=ai(t-o*r-c*i,e),u=ai(-o*n-c*a,e);const l=f>s,h=u>s;if(l&&(f=e-f),h&&(u=e-u),f>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:f,k2neg:h,k2:u}}}},Tre);BigInt(0);Sc.ProjectivePoint;const aS="0x0000000000000000000000000000000000000000000000000000000000000000",Ene=`Ethereum Signed Message:
`,sS=BigInt(0),oS=BigInt(1),cS=BigInt(2),fS=BigInt(27),uS=BigInt(28),mg=BigInt(35),vl={};function lS(t){return pre(bre(t),32)}var md,_d,wd,du,ii;let dS=(ii=class{constructor(e,r,n,i){De(this,md);De(this,_d);De(this,wd);De(this,du);dre(e,vl,"Signature"),me(this,md,r),me(this,_d,n),me(this,wd,i),me(this,du,null)}get r(){return se(this,md)}set r(e){bt(xp(e)===32,"invalid r","value",e),me(this,md,$n(e))}get s(){return se(this,_d)}set s(e){bt(xp(e)===32,"invalid s","value",e);const r=$n(e);bt(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),me(this,_d,r)}get v(){return se(this,wd)}set v(e){const r=Sp(e,"value");bt(r===27||r===28,"invalid v","v",e),me(this,wd,r)}get networkV(){return se(this,du)}get legacyChainId(){const e=this.networkV;return e==null?null:ii.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ga(this.s);return this.yParity&&(e[0]|=128),$n(e)}get compactSerialized(){return n2([this.r,this.yParityAndS])}get serialized(){return n2([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ii(vl,this.r,this.s,this.v);return this.networkV&&me(e,du,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Yh(e,"v");return r==fS||r==uS?sS:(bt(r>=mg,"invalid EIP-155 v","v",e),(r-mg)/cS)}static getChainIdV(e,r){return Yh(e)*cS+BigInt(35+r-27)}static getNormalizedV(e){const r=Yh(e);return r===sS||r===fS?27:r===oS||r===uS?28:(bt(r>=mg,"invalid v","v",e),r&oS?27:28)}static from(e){function r(f,u){bt(f,u,"signature",e)}if(e==null)return new ii(vl,aS,aS,27);if(typeof e=="string"){const f=ga(e,"signature");if(f.length===64){const u=$n(f.slice(0,32)),l=f.slice(32,64),h=l[0]&128?28:27;return l[0]&=127,new ii(vl,u,$n(l),h)}if(f.length===65){const u=$n(f.slice(0,32)),l=f.slice(32,64);r((l[0]&128)===0,"non-canonical s");const h=ii.getNormalizedV(f[64]);return new ii(vl,u,$n(l),h)}r(!1,"invalid raw signature length")}if(e instanceof ii)return e.clone();const n=e.r;r(n!=null,"missing r");const i=lS(n),a=function(f,u){if(f!=null)return lS(f);if(u!=null){r(h4(u,32),"invalid yParityAndS");const l=ga(u);return l[0]&=127,$n(l)}r(!1,"missing s")}(e.s,e.yParityAndS);r((ga(a)[0]&128)==0,"non-canonical s");const{networkV:s,v:o}=function(f,u,l){if(f!=null){const h=Yh(f);return{networkV:h>=mg?h:void 0,v:ii.getNormalizedV(h)}}if(u!=null)return r(h4(u,32),"invalid yParityAndS"),{v:ga(u)[0]&128?28:27};if(l!=null){switch(Sp(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ii(vl,i,a,o);return s&&me(c,du,s),r(e.yParity==null||Sp(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},md=new WeakMap,_d=new WeakMap,wd=new WeakMap,du=new WeakMap,ii);var vo;const Xf=class Xf{constructor(e){De(this,vo);bt(xp(e)===32,"invalid private key","privateKey","[REDACTED]"),me(this,vo,$n(e))}get privateKey(){return se(this,vo)}get publicKey(){return Xf.computePublicKey(se(this,vo))}get compressedPublicKey(){return Xf.computePublicKey(se(this,vo),!0)}sign(e){bt(xp(e)===32,"invalid digest length","digest",e);const r=Sc.sign(xh(e),xh(se(this,vo)),{lowS:!0});return dS.from({r:Gx(r.r,32),s:Gx(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Xf.computePublicKey(e);return $n(Sc.getSharedSecret(xh(se(this,vo)),ga(r),!1))}static computePublicKey(e,r){let n=ga(e,"key");if(n.length===32){const a=Sc.getPublicKey(n,!!r);return $n(a)}if(n.length===64){const a=new Uint8Array(65);a[0]=4,a.set(n,1),n=a}const i=Sc.ProjectivePoint.fromHex(n);return $n(i.toRawBytes(r))}static recoverPublicKey(e,r){bt(xp(e)===32,"invalid digest length","digest",e);const n=dS.from(r);let i=Sc.Signature.fromCompact(xh(n2([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const a=i.recoverPublicKey(xh(e));return bt(a!=null,"invalid signautre for digest","signature",r),"0x"+a.toHex(!1)}static addPoints(e,r,n){const i=Sc.ProjectivePoint.fromHex(Xf.computePublicKey(e).substring(2)),a=Sc.ProjectivePoint.fromHex(Xf.computePublicKey(r).substring(2));return"0x"+i.add(a).toHex(!!n)}};vo=new WeakMap;let a2=Xf;const xne=BigInt(0),Sne=BigInt(36);function hS(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ga(rl(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const i7={};for(let t=0;t<10;t++)i7[String(t)]=String(t);for(let t=0;t<26;t++)i7[String.fromCharCode(65+t)]=String(10+t);const pS=15;function Cne(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>i7[n]).join("");for(;e.length>=pS;){let n=e.substring(0,pS);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Ine=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function Tne(t){t=t.toLowerCase();let e=xne;for(let r=0;r<t.length;r++)e=e*Sne+Ine[t[r]];return e}function One(t){if(bt(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=hS(t);return bt(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){bt(t.substring(2,4)===Cne(t),"bad icap checksum","address",t);let e=Tne(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return hS("0x"+e)}bt(!1,"invalid address","address",t)}function Bne(t){let e;return typeof t=="string"?e=a2.computePublicKey(t,!1):e=t.publicKey,One(rl("0x"+e.substring(4)).substring(26))}function Dne(t,e){return Bne(a2.recoverPublicKey(t,e))}function Mne(t){return typeof t=="string"&&(t=z_(t)),rl(n2([z_(Ene),z_(String(t.length)),t]))}function Pne(t,e){const r=Mne(t);return Dne(r,e)}function Rne(t,e,r){return r.toLowerCase()===Pne(typeof t=="string"?t:Oe(t),e).toLowerCase()}function eH(t){if(typeof t=="string")try{const e=JSON.parse(t);if(typeof e=="object"&&typeof e.created_at=="number"&&typeof e.kind=="number"&&typeof e.content=="string"&&Array.isArray(e.args)&&e.args.every(r=>Array.isArray(r)&&r.every(n=>typeof n=="string")))return e}catch{}return{kind:23335,created_at:0,content:typeof t=="string"?t:_e(t),tags:[]}}function Lne(t,e,r){const{words:n}=Bu.decode(r),i=_e(Bu.fromWords(n)).slice(2),a=eH(t),s=JSON.stringify([0,i,a.created_at,a.kind,a.tags,a.content]),o=_e(s1(Oe(s,"utf8")));try{return hJ.verify(e.slice(2),o.slice(2),i)}catch{return!1}}var si;(function(t){t.Unknown="Unknown",t.BtcEcdsa="BtcEcdsa",t.EvmPersonal="EvmPersonal",t.JoyId="JoyId",t.NostrEvent="NostrEvent",t.CkbSecp256k1="CkbSecp256k1"})(si||(si={}));var us;(function(t){t.EVM="EVM",t.BTC="BTC",t.CKB="CKB",t.Nostr="Nostr"})(us||(us={}));class wf{constructor(e){this.client_=e}get client(){return this.client_}matchNetworkPreference(e,r){if(!(r!==void 0&&e.some(({signerType:n,addressPrefix:i,network:a})=>{n===this.type&&this.client.addressPrefix})))return e.find(({signerType:n,addressPrefix:i})=>n===this.type&&i===this.client.addressPrefix)}static async verifyMessage(e,r){switch(r.signType){case si.EvmPersonal:return Rne(e,r.signature,r.identity);case si.BtcEcdsa:return Xoe(e,r.signature,r.identity);case si.JoyId:return fre(e,r.signature,r.identity);case si.NostrEvent:return Lne(e,r.signature,r.identity);case si.CkbSecp256k1:return bJ(e,r.signature,r.identity);case si.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(e){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(e){return(await this.getAddressObjs())[0]}async getRecommendedAddress(e){return(await this.getRecommendedAddressObj(e)).toString()}async getAddresses(){return this.getAddressObjs().then(e=>e.map(r=>r.toString()))}async*findCells(e,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findCells({script:s,scriptType:"lock",filter:e,scriptSearchMode:"exact",withData:r},n,i))yield o}async*findTransactions(e,r,n,i){const a=await this.getAddressObjs();for(const{script:s}of a)for await(const o of this.client.findTransactions({script:s,scriptType:"lock",filter:e,scriptSearchMode:"exact",groupByTransaction:r},n,i))yield o}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map(({script:e})=>e))}async signMessage(e){return{signature:await this.signMessageRaw(e),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(e){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(e,r){return typeof r=="string"?wf.verifyMessage(e,{signType:this.signType,signature:r,identity:await this.getIdentity()}):r.identity!==await this.getIdentity()||![si.Unknown,this.signType].includes(r.signType)?!1:wf.verifyMessage(e,r)}async sendTransaction(e){return this.client.sendTransaction(await this.signTransaction(e))}async signTransaction(e){const r=await this.prepareTransaction(e);return this.signOnlyTransaction(r)}prepareTransaction(e){throw Error("Signer.prepareTransaction not implemented")}signOnlyTransaction(e){throw Error("Signer.signOnlyTransaction not implemented")}}let Hne=class extends wf{get type(){return us.BTC}get signType(){return si.BtcEcdsa}async getInternalAddress(){return this.getBtcAccount()}async getIdentity(){return _e(await this.getBtcPublicKey()).slice(2)}async getAddressObjs(){const e=await this.getBtcPublicKey(),r=PZ(s1(Oe(e)));return[await ba.fromKnownScript(this.client,Me.OmniLock,_e([4,...r,0]))]}async prepareTransaction(e){const r=$t.from(e),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,Me.OmniLock),await r.prepareSighashAllWitness(n,85,this.client),r}async signOnlyTransaction(e){const r=$t.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Oe(await this.signMessageRaw(`CKB (Bitcoin Layer) transaction: ${i.message}`),"base64");a[0]=31+(a[0]-27)%4;const s=fs.fromBytes(r.witnesses[i.position]);return s.lock=_e(ib(_n(5*4+a.length,4),_n(4*4,4),_n(5*4+a.length,4),_n(5*4+a.length,4),_n(a.length,4),a)),r.setWitnessArgsAt(i.position,s),r}};var v4={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Go,n=r.Buffer;function i(s,o){for(var c in s)o[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(s,o,c){return n(s,o,c)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(s,o,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,o,c)},a.alloc=function(s,o,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=n(s);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(v4,v4.exports);var an=v4.exports,m4={exports:{}},a7={exports:{}},id=typeof Reflect=="object"?Reflect:null,bS=id&&typeof id.apply=="function"?id.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Kg;id&&typeof id.ownKeys=="function"?Kg=id.ownKeys:Object.getOwnPropertySymbols?Kg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Kg=function(e){return Object.getOwnPropertyNames(e)};function Nne(t){console&&console.warn&&console.warn(t)}var tH=Number.isNaN||function(e){return e!==e};function lt(){lt.init.call(this)}a7.exports=lt;a7.exports.once=zne;lt.EventEmitter=lt;lt.prototype._events=void 0;lt.prototype._eventsCount=0;lt.prototype._maxListeners=void 0;var gS=10;function Fv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(lt,"defaultMaxListeners",{enumerable:!0,get:function(){return gS},set:function(t){if(typeof t!="number"||t<0||tH(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");gS=t}});lt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};lt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tH(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function rH(t){return t._maxListeners===void 0?lt.defaultMaxListeners:t._maxListeners}lt.prototype.getMaxListeners=function(){return rH(this)};lt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(c===void 0)return!1;if(typeof c=="function")bS(c,this,r);else for(var f=c.length,u=oH(c,f),n=0;n<f;++n)bS(u[n],this,r);return!0};function nH(t,e,r,n){var i,a,s;if(Fv(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=rH(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,Nne(o)}return t}lt.prototype.addListener=function(e,r){return nH(this,e,r,!1)};lt.prototype.on=lt.prototype.addListener;lt.prototype.prependListener=function(e,r){return nH(this,e,r,!0)};function $ne(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function iH(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=$ne.bind(n);return i.listener=r,n.wrapFn=i,i}lt.prototype.once=function(e,r){return Fv(r),this.on(e,iH(this,e,r)),this};lt.prototype.prependOnceListener=function(e,r){return Fv(r),this.prependListener(e,iH(this,e,r)),this};lt.prototype.removeListener=function(e,r){var n,i,a,s,o;if(Fv(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():Une(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};lt.prototype.off=lt.prototype.removeListener;lt.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function aH(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?kne(i):oH(i,i.length)}lt.prototype.listeners=function(e){return aH(this,e,!0)};lt.prototype.rawListeners=function(e){return aH(this,e,!1)};lt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):sH.call(t,e)};lt.prototype.listenerCount=sH;function sH(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}lt.prototype.eventNames=function(){return this._eventsCount>0?Kg(this._events):[]};function oH(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Une(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kne(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function zne(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}cH(t,e,a,{once:!0}),e!=="error"&&Fne(t,i,{once:!0})})}function Fne(t,e,r){typeof t.on=="function"&&cH(t,"error",e,r)}function cH(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var fH=a7.exports,uH=fH.EventEmitter,V_,yS;function jne(){if(yS)return V_;yS=1;function t(_,A){var C=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);A&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),C.push.apply(C,w)}return C}function e(_){for(var A=1;A<arguments.length;A++){var C=arguments[A]!=null?arguments[A]:{};A%2?t(Object(C),!0).forEach(function(w){r(_,w,C[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(C)):t(Object(C)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(C,w))})}return _}function r(_,A,C){return A=s(A),A in _?Object.defineProperty(_,A,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[A]=C,_}function n(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function i(_,A){for(var C=0;C<A.length;C++){var w=A[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,s(w.key),w)}}function a(_,A,C){return A&&i(_.prototype,A),Object.defineProperty(_,"prototype",{writable:!1}),_}function s(_){var A=o(_,"string");return typeof A=="symbol"?A:String(A)}function o(_,A){if(typeof _!="object"||_===null)return _;var C=_[Symbol.toPrimitive];if(C!==void 0){var w=C.call(_,A||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(_)}var c=Go,f=c.Buffer,u=db,l=u.inspect,h=l&&l.custom||"inspect";function g(_,A,C){f.prototype.copy.call(_,A,C)}return V_=function(){function _(){n(this,_),this.head=null,this.tail=null,this.length=0}return a(_,[{key:"push",value:function(C){var w={data:C,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(C){var w={data:C,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var C=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,C}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(C){if(this.length===0)return"";for(var w=this.head,I=""+w.data;w=w.next;)I+=C+w.data;return I}},{key:"concat",value:function(C){if(this.length===0)return f.alloc(0);for(var w=f.allocUnsafe(C>>>0),I=this.head,T=0;I;)g(I.data,w,T),T+=I.data.length,I=I.next;return w}},{key:"consume",value:function(C,w){var I;return C<this.head.data.length?(I=this.head.data.slice(0,C),this.head.data=this.head.data.slice(C)):C===this.head.data.length?I=this.shift():I=w?this._getString(C):this._getBuffer(C),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(C){var w=this.head,I=1,T=w.data;for(C-=T.length;w=w.next;){var R=w.data,N=C>R.length?R.length:C;if(N===R.length?T+=R:T+=R.slice(0,C),C-=N,C===0){N===R.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=R.slice(N));break}++I}return this.length-=I,T}},{key:"_getBuffer",value:function(C){var w=f.allocUnsafe(C),I=this.head,T=1;for(I.data.copy(w),C-=I.data.length;I=I.next;){var R=I.data,N=C>R.length?R.length:C;if(R.copy(w,w.length-C,0,N),C-=N,C===0){N===R.length?(++T,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=R.slice(N));break}++T}return this.length-=T,w}},{key:h,value:function(C,w){return l(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),_}(),V_}function qne(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(_4,this,t)):process.nextTick(_4,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(Vg,r):(r._writableState.errorEmitted=!0,process.nextTick(vS,r,a)):process.nextTick(vS,r,a):e?(process.nextTick(Vg,r),e(a)):process.nextTick(Vg,r)}),this)}function vS(t,e){_4(t,e),Vg(t)}function Vg(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Kne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _4(t,e){t.emit("error",e)}function Vne(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var lH={destroy:qne,undestroy:Kne,errorOrDestroy:Vne},nl={};function Qne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var dH={};function $a(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Qne(s,a);function s(o,c,f){return a.call(this,n(o,c,f))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,dH[t]=i}function mS(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Yne(t,e,r){return t.substr(0,e.length)===e}function Gne(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Wne(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}$a("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);$a("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Yne(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Gne(t," argument"))i="The ".concat(t," ").concat(n," ").concat(mS(e,"type"));else{var a=Wne(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(mS(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);$a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");$a("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});$a("ERR_STREAM_PREMATURE_CLOSE","Premature close");$a("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});$a("ERR_MULTIPLE_CALLBACK","Callback called multiple times");$a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");$a("ERR_STREAM_WRITE_AFTER_END","write after end");$a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$a("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);$a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");nl.codes=dH;var Xne=nl.codes.ERR_INVALID_OPT_VALUE;function Zne(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Jne(t,e,r,n){var i=Zne(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new Xne(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var hH={getHighWaterMark:Jne},eie=tie;function tie(t,e){if(Q_("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Q_("throwDeprecation"))throw new Error(e);Q_("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Q_(t){try{if(!jn.localStorage)return!1}catch{return!1}var e=jn.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Y_,_S;function pH(){if(_S)return Y_;_S=1,Y_=D;function t(H){var z=this;this.next=null,this.entry=null,this.finish=function(){q(z,H)}}var e;D.WritableState=K;var r={deprecate:eie},n=uH,i=Go.Buffer,a=(typeof jn<"u"?jn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(H){return i.from(H)}function o(H){return i.isBuffer(H)||H instanceof a}var c=lH,f=hH,u=f.getHighWaterMark,l=nl.codes,h=l.ERR_INVALID_ARG_TYPE,g=l.ERR_METHOD_NOT_IMPLEMENTED,_=l.ERR_MULTIPLE_CALLBACK,A=l.ERR_STREAM_CANNOT_PIPE,C=l.ERR_STREAM_DESTROYED,w=l.ERR_STREAM_NULL_VALUES,I=l.ERR_STREAM_WRITE_AFTER_END,T=l.ERR_UNKNOWN_ENCODING,R=c.errorOrDestroy;Gt(D,n);function N(){}function K(H,z,X){e=e||s0(),H=H||{},typeof X!="boolean"&&(X=z instanceof e),this.objectMode=!!H.objectMode,X&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=u(this,H,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=H.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){d(z,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}K.prototype.getBuffer=function(){for(var z=this.bufferedRequest,X=[];z;)X.push(z),z=z.next;return X},function(){try{Object.defineProperty(K.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(z){return V.call(this,z)?!0:this!==D?!1:z&&z._writableState instanceof K}})):V=function(z){return z instanceof this};function D(H){e=e||s0();var z=this instanceof e;if(!z&&!V.call(D,this))return new D(H);this._writableState=new K(H,this,z),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),n.call(this)}D.prototype.pipe=function(){R(this,new A)};function Q(H,z){var X=new I;R(H,X),process.nextTick(z,X)}function Y(H,z,X,ee){var ie;return X===null?ie=new w:typeof X!="string"&&!z.objectMode&&(ie=new h("chunk",["string","Buffer"],X)),ie?(R(H,ie),process.nextTick(ee,ie),!1):!0}D.prototype.write=function(H,z,X){var ee=this._writableState,ie=!1,F=!ee.objectMode&&o(H);return F&&!i.isBuffer(H)&&(H=s(H)),typeof z=="function"&&(X=z,z=null),F?z="buffer":z||(z=ee.defaultEncoding),typeof X!="function"&&(X=N),ee.ending?Q(this,X):(F||Y(this,ee,H,X))&&(ee.pendingcb++,ie=m(this,ee,F,H,z,X)),ie},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,!H.writing&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&E(this,H))},D.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new T(z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(H,z,X){return!H.objectMode&&H.decodeStrings!==!1&&typeof z=="string"&&(z=i.from(z,X)),z}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function m(H,z,X,ee,ie,F){if(!X){var $=M(z,ee,ie);ee!==$&&(X=!0,ie="buffer",ee=$)}var re=z.objectMode?1:ee.length;z.length+=re;var ue=z.length<z.highWaterMark;if(ue||(z.needDrain=!0),z.writing||z.corked){var de=z.lastBufferedRequest;z.lastBufferedRequest={chunk:ee,encoding:ie,isBuf:X,callback:F,next:null},de?de.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else x(H,z,!1,re,ee,ie,F);return ue}function x(H,z,X,ee,ie,F,$){z.writelen=ee,z.writecb=$,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new C("write")):X?H._writev(ie,z.onwrite):H._write(ie,F,z.onwrite),z.sync=!1}function b(H,z,X,ee,ie){--z.pendingcb,X?(process.nextTick(ie,ee),process.nextTick(L,H,z),H._writableState.errorEmitted=!0,R(H,ee)):(ie(ee),H._writableState.errorEmitted=!0,R(H,ee),L(H,z))}function v(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}function d(H,z){var X=H._writableState,ee=X.sync,ie=X.writecb;if(typeof ie!="function")throw new _;if(v(X),z)b(H,X,ee,z,ie);else{var F=p(X)||H.destroyed;!F&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&E(H,X),ee?process.nextTick(y,H,X,F,ie):y(H,X,F,ie)}}function y(H,z,X,ee){X||S(H,z),z.pendingcb--,ee(),L(H,z)}function S(H,z){z.length===0&&z.needDrain&&(z.needDrain=!1,H.emit("drain"))}function E(H,z){z.bufferProcessing=!0;var X=z.bufferedRequest;if(H._writev&&X&&X.next){var ee=z.bufferedRequestCount,ie=new Array(ee),F=z.corkedRequestsFree;F.entry=X;for(var $=0,re=!0;X;)ie[$]=X,X.isBuf||(re=!1),X=X.next,$+=1;ie.allBuffers=re,x(H,z,!0,z.length,ie,"",F.finish),z.pendingcb++,z.lastBufferedRequest=null,F.next?(z.corkedRequestsFree=F.next,F.next=null):z.corkedRequestsFree=new t(z),z.bufferedRequestCount=0}else{for(;X;){var ue=X.chunk,de=X.encoding,W=X.callback,J=z.objectMode?1:ue.length;if(x(H,z,!1,J,ue,de,W),X=X.next,z.bufferedRequestCount--,z.writing)break}X===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=X,z.bufferProcessing=!1}D.prototype._write=function(H,z,X){X(new g("_write()"))},D.prototype._writev=null,D.prototype.end=function(H,z,X){var ee=this._writableState;return typeof H=="function"?(X=H,H=null,z=null):typeof z=="function"&&(X=z,z=null),H!=null&&this.write(H,z),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||j(this,ee,X),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function p(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function O(H,z){H._final(function(X){z.pendingcb--,X&&R(H,X),z.prefinished=!0,H.emit("prefinish"),L(H,z)})}function k(H,z){!z.prefinished&&!z.finalCalled&&(typeof H._final=="function"&&!z.destroyed?(z.pendingcb++,z.finalCalled=!0,process.nextTick(O,H,z)):(z.prefinished=!0,H.emit("prefinish")))}function L(H,z){var X=p(z);if(X&&(k(H,z),z.pendingcb===0&&(z.finished=!0,H.emit("finish"),z.autoDestroy))){var ee=H._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&H.destroy()}return X}function j(H,z,X){z.ending=!0,L(H,z),X&&(z.finished?process.nextTick(X):H.once("finish",X)),z.ended=!0,H.writable=!1}function q(H,z,X){var ee=H.entry;for(H.entry=null;ee;){var ie=ee.callback;z.pendingcb--,ie(X),ee=ee.next}z.corkedRequestsFree.next=H}return Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),D.prototype.destroy=c.destroy,D.prototype._undestroy=c.undestroy,D.prototype._destroy=function(H,z){z(H)},Y_}var G_,wS;function s0(){if(wS)return G_;wS=1;var t=Object.keys||function(f){var u=[];for(var l in f)u.push(l);return u};G_=s;var e=gH(),r=pH();Gt(s,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];s.prototype[a]||(s.prototype[a]=r.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),G_}var s2={},s7=an.Buffer,AS=s7.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rie(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function nie(t){var e=rie(t);if(typeof e!="string"&&(s7.isEncoding===AS||!AS(t)))throw new Error("Unknown encoding: "+t);return e||t}s2.StringDecoder=yb;function yb(t){this.encoding=nie(t);var e;switch(this.encoding){case"utf16le":this.text=fie,this.end=uie,e=4;break;case"utf8":this.fillLast=sie,e=4;break;case"base64":this.text=lie,this.end=die,e=3;break;default:this.write=hie,this.end=pie;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s7.allocUnsafe(e)}yb.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};yb.prototype.end=cie;yb.prototype.text=oie;yb.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function W_(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function iie(t,e,r){var n=e.length-1;if(n<r)return 0;var i=W_(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=W_(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=W_(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function aie(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function sie(t){var e=this.lastTotal-this.lastNeed,r=aie(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function oie(t,e){var r=iie(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function cie(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function fie(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function uie(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function lie(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function die(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function hie(t){return t.toString(this.encoding)}function pie(t){return t&&t.length?this.write(t):""}var ES=nl.codes.ERR_STREAM_PREMATURE_CLOSE;function bie(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function gie(){}function yie(t){return t.setHeader&&typeof t.abort=="function"}function bH(t,e,r){if(typeof e=="function")return bH(t,null,e);e||(e={}),r=bie(r||gie);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,c=!0,i||r.call(t)},u=function(_){r.call(t,_)},l=function(){var _;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(_=new ES),r.call(t,_);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(_=new ES),r.call(t,_)},h=function(){t.req.on("finish",o)};return yie(t)?(t.on("complete",o),t.on("abort",l),t.req?h():t.on("request",h)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",f),t.on("finish",o),e.error!==!1&&t.on("error",u),t.on("close",l),function(){t.removeListener("complete",o),t.removeListener("abort",l),t.removeListener("request",h),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",f),t.removeListener("error",u),t.removeListener("close",l)}}var o7=bH,X_,xS;function vie(){if(xS)return X_;xS=1;var t;function e(T,R,N){return R=r(R),R in T?Object.defineProperty(T,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):T[R]=N,T}function r(T){var R=n(T,"string");return typeof R=="symbol"?R:String(R)}function n(T,R){if(typeof T!="object"||T===null)return T;var N=T[Symbol.toPrimitive];if(N!==void 0){var K=N.call(T,R||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(T)}var i=o7,a=Symbol("lastResolve"),s=Symbol("lastReject"),o=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function h(T,R){return{value:T,done:R}}function g(T){var R=T[a];if(R!==null){var N=T[l].read();N!==null&&(T[f]=null,T[a]=null,T[s]=null,R(h(N,!1)))}}function _(T){process.nextTick(g,T)}function A(T,R){return function(N,K){T.then(function(){if(R[c]){N(h(void 0,!0));return}R[u](N,K)},K)}}var C=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var R=this,N=this[o];if(N!==null)return Promise.reject(N);if(this[c])return Promise.resolve(h(void 0,!0));if(this[l].destroyed)return new Promise(function(Q,Y){process.nextTick(function(){R[o]?Y(R[o]):Q(h(void 0,!0))})});var K=this[f],V;if(K)V=new Promise(A(K,this));else{var D=this[l].read();if(D!==null)return Promise.resolve(h(D,!1));V=new Promise(this[u])}return this[f]=V,V}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var R=this;return new Promise(function(N,K){R[l].destroy(null,function(V){if(V){K(V);return}N(h(void 0,!0))})})}),t),C),I=function(R){var N,K=Object.create(w,(N={},e(N,l,{value:R,writable:!0}),e(N,a,{value:null,writable:!0}),e(N,s,{value:null,writable:!0}),e(N,o,{value:null,writable:!0}),e(N,c,{value:R._readableState.endEmitted,writable:!0}),e(N,u,{value:function(D,Q){var Y=K[l].read();Y?(K[f]=null,K[a]=null,K[s]=null,D(h(Y,!1))):(K[a]=D,K[s]=Q)},writable:!0}),N));return K[f]=null,i(R,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var D=K[s];D!==null&&(K[f]=null,K[a]=null,K[s]=null,D(V)),K[o]=V;return}var Q=K[a];Q!==null&&(K[f]=null,K[a]=null,K[s]=null,Q(h(void 0,!0))),K[c]=!0}),R.on("readable",_.bind(null,K)),K};return X_=I,X_}var Z_,SS;function mie(){return SS||(SS=1,Z_=function(){throw new Error("Readable.from is not available in the browser")}),Z_}var J_,CS;function gH(){if(CS)return J_;CS=1,J_=Q;var t;Q.ReadableState=D,fH.EventEmitter;var e=function($,re){return $.listeners(re).length},r=uH,n=Go.Buffer,i=(typeof jn<"u"?jn:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(F){return n.from(F)}function s(F){return n.isBuffer(F)||F instanceof i}var o=db,c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var f=jne(),u=lH,l=hH,h=l.getHighWaterMark,g=nl.codes,_=g.ERR_INVALID_ARG_TYPE,A=g.ERR_STREAM_PUSH_AFTER_EOF,C=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,T,R;Gt(Q,r);var N=u.errorOrDestroy,K=["error","close","destroy","pause","resume"];function V(F,$,re){if(typeof F.prependListener=="function")return F.prependListener($,re);!F._events||!F._events[$]?F.on($,re):Array.isArray(F._events[$])?F._events[$].unshift(re):F._events[$]=[re,F._events[$]]}function D(F,$,re){t=t||s0(),F=F||{},typeof re!="boolean"&&(re=$ instanceof t),this.objectMode=!!F.objectMode,re&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=h(this,F,"readableHighWaterMark",re),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(I||(I=s2.StringDecoder),this.decoder=new I(F.encoding),this.encoding=F.encoding)}function Q(F){if(t=t||s0(),!(this instanceof Q))return new Q(F);var $=this instanceof t;this._readableState=new D(F,this,$),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),r.call(this)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),Q.prototype.destroy=u.destroy,Q.prototype._undestroy=u.undestroy,Q.prototype._destroy=function(F,$){$(F)},Q.prototype.push=function(F,$){var re=this._readableState,ue;return re.objectMode?ue=!0:typeof F=="string"&&($=$||re.defaultEncoding,$!==re.encoding&&(F=n.from(F,$),$=""),ue=!0),Y(this,F,$,!1,ue)},Q.prototype.unshift=function(F){return Y(this,F,null,!0,!1)};function Y(F,$,re,ue,de){c("readableAddChunk",$);var W=F._readableState;if($===null)W.reading=!1,d(F,W);else{var J;if(de||(J=m(W,$)),J)N(F,J);else if(W.objectMode||$&&$.length>0)if(typeof $!="string"&&!W.objectMode&&Object.getPrototypeOf($)!==n.prototype&&($=a($)),ue)W.endEmitted?N(F,new w):M(F,W,$,!0);else if(W.ended)N(F,new A);else{if(W.destroyed)return!1;W.reading=!1,W.decoder&&!re?($=W.decoder.write($),W.objectMode||$.length!==0?M(F,W,$,!1):E(F,W)):M(F,W,$,!1)}else ue||(W.reading=!1,E(F,W))}return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function M(F,$,re,ue){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,F.emit("data",re)):($.length+=$.objectMode?1:re.length,ue?$.buffer.unshift(re):$.buffer.push(re),$.needReadable&&y(F)),E(F,$)}function m(F,$){var re;return!s($)&&typeof $!="string"&&$!==void 0&&!F.objectMode&&(re=new _("chunk",["string","Buffer","Uint8Array"],$)),re}Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(F){I||(I=s2.StringDecoder);var $=new I(F);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,ue="";re!==null;)ue+=$.write(re.data),re=re.next;return this._readableState.buffer.clear(),ue!==""&&this._readableState.buffer.push(ue),this._readableState.length=ue.length,this};var x=1073741824;function b(F){return F>=x?F=x:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function v(F,$){return F<=0||$.length===0&&$.ended?0:$.objectMode?1:F!==F?$.flowing&&$.length?$.buffer.head.data.length:$.length:(F>$.highWaterMark&&($.highWaterMark=b(F)),F<=$.length?F:$.ended?$.length:($.needReadable=!0,0))}Q.prototype.read=function(F){c("read",F),F=parseInt(F,10);var $=this._readableState,re=F;if(F!==0&&($.emittedReadable=!1),F===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return c("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?X(this):y(this),null;if(F=v(F,$),F===0&&$.ended)return $.length===0&&X(this),null;var ue=$.needReadable;c("need readable",ue),($.length===0||$.length-F<$.highWaterMark)&&(ue=!0,c("length less than watermark",ue)),$.ended||$.reading?(ue=!1,c("reading or ended",ue)):ue&&(c("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(F=v(re,$)));var de;return F>0?de=z(F,$):de=null,de===null?($.needReadable=$.length<=$.highWaterMark,F=0):($.length-=F,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),re!==F&&$.ended&&X(this)),de!==null&&this.emit("data",de),de};function d(F,$){if(c("onEofChunk"),!$.ended){if($.decoder){var re=$.decoder.end();re&&re.length&&($.buffer.push(re),$.length+=$.objectMode?1:re.length)}$.ended=!0,$.sync?y(F):($.needReadable=!1,$.emittedReadable||($.emittedReadable=!0,S(F)))}}function y(F){var $=F._readableState;c("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(c("emitReadable",$.flowing),$.emittedReadable=!0,process.nextTick(S,F))}function S(F){var $=F._readableState;c("emitReadable_",$.destroyed,$.length,$.ended),!$.destroyed&&($.length||$.ended)&&(F.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,H(F)}function E(F,$){$.readingMore||($.readingMore=!0,process.nextTick(p,F,$))}function p(F,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var re=$.length;if(c("maybeReadMore read 0"),F.read(0),re===$.length)break}$.readingMore=!1}Q.prototype._read=function(F){N(this,new C("_read()"))},Q.prototype.pipe=function(F,$){var re=this,ue=this._readableState;switch(ue.pipesCount){case 0:ue.pipes=F;break;case 1:ue.pipes=[ue.pipes,F];break;default:ue.pipes.push(F);break}ue.pipesCount+=1,c("pipe count=%d opts=%j",ue.pipesCount,$);var de=(!$||$.end!==!1)&&F!==process.stdout&&F!==process.stderr,W=de?ne:cn;ue.endEmitted?process.nextTick(W):re.once("end",W),F.on("unpipe",J);function J(U,B){c("onunpipe"),U===re&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,ye())}function ne(){c("onend"),F.end()}var fe=O(re);F.on("drain",fe);var ve=!1;function ye(){c("cleanup"),F.removeListener("close",He),F.removeListener("finish",qe),F.removeListener("drain",fe),F.removeListener("error",kt),F.removeListener("unpipe",J),re.removeListener("end",ne),re.removeListener("end",cn),re.removeListener("data",Ce),ve=!0,ue.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&fe()}re.on("data",Ce);function Ce(U){c("ondata");var B=F.write(U);c("dest.write",B),B===!1&&((ue.pipesCount===1&&ue.pipes===F||ue.pipesCount>1&&ie(ue.pipes,F)!==-1)&&!ve&&(c("false write response, pause",ue.awaitDrain),ue.awaitDrain++),re.pause())}function kt(U){c("onerror",U),cn(),F.removeListener("error",kt),e(F,"error")===0&&N(F,U)}V(F,"error",kt);function He(){F.removeListener("finish",qe),cn()}F.once("close",He);function qe(){c("onfinish"),F.removeListener("close",He),cn()}F.once("finish",qe);function cn(){c("unpipe"),re.unpipe(F)}return F.emit("pipe",re),ue.flowing||(c("pipe resume"),re.resume()),F};function O(F){return function(){var re=F._readableState;c("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,re.awaitDrain===0&&e(F,"data")&&(re.flowing=!0,H(F))}}Q.prototype.unpipe=function(F){var $=this._readableState,re={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return F&&F!==$.pipes?this:(F||(F=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,F&&F.emit("unpipe",this,re),this);if(!F){var ue=$.pipes,de=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var W=0;W<de;W++)ue[W].emit("unpipe",this,{hasUnpiped:!1});return this}var J=ie($.pipes,F);return J===-1?this:($.pipes.splice(J,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),F.emit("unpipe",this,re),this)},Q.prototype.on=function(F,$){var re=r.prototype.on.call(this,F,$),ue=this._readableState;return F==="data"?(ue.readableListening=this.listenerCount("readable")>0,ue.flowing!==!1&&this.resume()):F==="readable"&&!ue.endEmitted&&!ue.readableListening&&(ue.readableListening=ue.needReadable=!0,ue.flowing=!1,ue.emittedReadable=!1,c("on readable",ue.length,ue.reading),ue.length?y(this):ue.reading||process.nextTick(L,this)),re},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(F,$){var re=r.prototype.removeListener.call(this,F,$);return F==="readable"&&process.nextTick(k,this),re},Q.prototype.removeAllListeners=function(F){var $=r.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&process.nextTick(k,this),$};function k(F){var $=F._readableState;$.readableListening=F.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:F.listenerCount("data")>0&&F.resume()}function L(F){c("readable nexttick read 0"),F.read(0)}Q.prototype.resume=function(){var F=this._readableState;return F.flowing||(c("resume"),F.flowing=!F.readableListening,j(this,F)),F.paused=!1,this};function j(F,$){$.resumeScheduled||($.resumeScheduled=!0,process.nextTick(q,F,$))}function q(F,$){c("resume",$.reading),$.reading||F.read(0),$.resumeScheduled=!1,F.emit("resume"),H(F),$.flowing&&!$.reading&&F.read(0)}Q.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function H(F){var $=F._readableState;for(c("flow",$.flowing);$.flowing&&F.read()!==null;);}Q.prototype.wrap=function(F){var $=this,re=this._readableState,ue=!1;F.on("end",function(){if(c("wrapped end"),re.decoder&&!re.ended){var J=re.decoder.end();J&&J.length&&$.push(J)}$.push(null)}),F.on("data",function(J){if(c("wrapped data"),re.decoder&&(J=re.decoder.write(J)),!(re.objectMode&&J==null)&&!(!re.objectMode&&(!J||!J.length))){var ne=$.push(J);ne||(ue=!0,F.pause())}});for(var de in F)this[de]===void 0&&typeof F[de]=="function"&&(this[de]=function(ne){return function(){return F[ne].apply(F,arguments)}}(de));for(var W=0;W<K.length;W++)F.on(K[W],this.emit.bind(this,K[W]));return this._read=function(J){c("wrapped _read",J),ue&&(ue=!1,F.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=vie()),T(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),Q._fromList=z,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function z(F,$){if($.length===0)return null;var re;return $.objectMode?re=$.buffer.shift():!F||F>=$.length?($.decoder?re=$.buffer.join(""):$.buffer.length===1?re=$.buffer.first():re=$.buffer.concat($.length),$.buffer.clear()):re=$.buffer.consume(F,$.decoder),re}function X(F){var $=F._readableState;c("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,process.nextTick(ee,$,F))}function ee(F,$){if(c("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,$.readable=!1,$.emit("end"),F.autoDestroy)){var re=$._writableState;(!re||re.autoDestroy&&re.finished)&&$.destroy()}}typeof Symbol=="function"&&(Q.from=function(F,$){return R===void 0&&(R=mie()),R(Q,F,$)});function ie(F,$){for(var re=0,ue=F.length;re<ue;re++)if(F[re]===$)return re;return-1}return J_}var yH=Zo,jv=nl.codes,_ie=jv.ERR_METHOD_NOT_IMPLEMENTED,wie=jv.ERR_MULTIPLE_CALLBACK,Aie=jv.ERR_TRANSFORM_ALREADY_TRANSFORMING,Eie=jv.ERR_TRANSFORM_WITH_LENGTH_0,qv=s0();Gt(Zo,qv);function xie(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new wie);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Zo(t){if(!(this instanceof Zo))return new Zo(t);qv.call(this,t),this._transformState={afterTransform:xie.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Sie)}function Sie(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){IS(t,e,r)}):IS(this,null,null)}Zo.prototype.push=function(t,e){return this._transformState.needTransform=!1,qv.prototype.push.call(this,t,e)};Zo.prototype._transform=function(t,e,r){r(new _ie("_transform()"))};Zo.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Zo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Zo.prototype._destroy=function(t,e){qv.prototype._destroy.call(this,t,function(r){e(r)})};function IS(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Eie;if(t._transformState.transforming)throw new Aie;return t.push(null)}var Cie=u1,vH=yH;Gt(u1,vH);function u1(t){if(!(this instanceof u1))return new u1(t);vH.call(this,t)}u1.prototype._transform=function(t,e,r){r(null,t)};var e3;function Iie(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var mH=nl.codes,Tie=mH.ERR_MISSING_ARGS,Oie=mH.ERR_STREAM_DESTROYED;function TS(t){if(t)throw t}function Bie(t){return t.setHeader&&typeof t.abort=="function"}function Die(t,e,r,n){n=Iie(n);var i=!1;t.on("close",function(){i=!0}),e3===void 0&&(e3=o7),e3(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,Bie(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Oie("pipe"))}}}function OS(t){t()}function Mie(t,e){return t.pipe(e)}function Pie(t){return!t.length||typeof t[t.length-1]!="function"?TS:t.pop()}function Rie(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Pie(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tie("streams");var i,a=e.map(function(s,o){var c=o<e.length-1,f=o>0;return Die(s,c,f,function(u){i||(i=u),u&&a.forEach(OS),!c&&(a.forEach(OS),n(i))})});return e.reduce(Mie)}var Lie=Rie;(function(t,e){e=t.exports=gH(),e.Stream=e,e.Readable=e,e.Writable=pH(),e.Duplex=s0(),e.Transform=yH,e.PassThrough=Cie,e.finished=o7,e.pipeline=Lie})(m4,m4.exports);var Hie=m4.exports,o2=an.Buffer,_H=Hie.Transform,Nie=Gt;function $ie(t,e){if(!o2.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Hf(t){_H.call(this),this._block=o2.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Nie(Hf,_H);Hf.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Hf.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Hf.prototype.update=function(t,e){if($ie(t,"Data"),this._finalized)throw new Error("Digest already called");o2.isBuffer(t)||(t=o2.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var a=0,s=t.length*8;s>0;++a)this._length[a]+=s,s=this._length[a]/4294967296|0,s>0&&(this._length[a]-=4294967296*s);return this};Hf.prototype._update=function(){throw new Error("_update is not implemented")};Hf.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Hf.prototype._digest=function(){throw new Error("_digest is not implemented")};var wH=Hf,Uie=Gt,AH=wH,kie=an.Buffer,zie=new Array(16);function Kv(){AH.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Uie(Kv,AH);Kv.prototype._update=function(){for(var t=zie,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,a=this._d;r=ln(r,n,i,a,t[0],3614090360,7),a=ln(a,r,n,i,t[1],3905402710,12),i=ln(i,a,r,n,t[2],606105819,17),n=ln(n,i,a,r,t[3],3250441966,22),r=ln(r,n,i,a,t[4],4118548399,7),a=ln(a,r,n,i,t[5],1200080426,12),i=ln(i,a,r,n,t[6],2821735955,17),n=ln(n,i,a,r,t[7],4249261313,22),r=ln(r,n,i,a,t[8],1770035416,7),a=ln(a,r,n,i,t[9],2336552879,12),i=ln(i,a,r,n,t[10],4294925233,17),n=ln(n,i,a,r,t[11],2304563134,22),r=ln(r,n,i,a,t[12],1804603682,7),a=ln(a,r,n,i,t[13],4254626195,12),i=ln(i,a,r,n,t[14],2792965006,17),n=ln(n,i,a,r,t[15],1236535329,22),r=dn(r,n,i,a,t[1],4129170786,5),a=dn(a,r,n,i,t[6],3225465664,9),i=dn(i,a,r,n,t[11],643717713,14),n=dn(n,i,a,r,t[0],3921069994,20),r=dn(r,n,i,a,t[5],3593408605,5),a=dn(a,r,n,i,t[10],38016083,9),i=dn(i,a,r,n,t[15],3634488961,14),n=dn(n,i,a,r,t[4],3889429448,20),r=dn(r,n,i,a,t[9],568446438,5),a=dn(a,r,n,i,t[14],3275163606,9),i=dn(i,a,r,n,t[3],4107603335,14),n=dn(n,i,a,r,t[8],1163531501,20),r=dn(r,n,i,a,t[13],2850285829,5),a=dn(a,r,n,i,t[2],4243563512,9),i=dn(i,a,r,n,t[7],1735328473,14),n=dn(n,i,a,r,t[12],2368359562,20),r=hn(r,n,i,a,t[5],4294588738,4),a=hn(a,r,n,i,t[8],2272392833,11),i=hn(i,a,r,n,t[11],1839030562,16),n=hn(n,i,a,r,t[14],4259657740,23),r=hn(r,n,i,a,t[1],2763975236,4),a=hn(a,r,n,i,t[4],1272893353,11),i=hn(i,a,r,n,t[7],4139469664,16),n=hn(n,i,a,r,t[10],3200236656,23),r=hn(r,n,i,a,t[13],681279174,4),a=hn(a,r,n,i,t[0],3936430074,11),i=hn(i,a,r,n,t[3],3572445317,16),n=hn(n,i,a,r,t[6],76029189,23),r=hn(r,n,i,a,t[9],3654602809,4),a=hn(a,r,n,i,t[12],3873151461,11),i=hn(i,a,r,n,t[15],530742520,16),n=hn(n,i,a,r,t[2],3299628645,23),r=pn(r,n,i,a,t[0],4096336452,6),a=pn(a,r,n,i,t[7],1126891415,10),i=pn(i,a,r,n,t[14],2878612391,15),n=pn(n,i,a,r,t[5],4237533241,21),r=pn(r,n,i,a,t[12],1700485571,6),a=pn(a,r,n,i,t[3],2399980690,10),i=pn(i,a,r,n,t[10],4293915773,15),n=pn(n,i,a,r,t[1],2240044497,21),r=pn(r,n,i,a,t[8],1873313359,6),a=pn(a,r,n,i,t[15],4264355552,10),i=pn(i,a,r,n,t[6],2734768916,15),n=pn(n,i,a,r,t[13],1309151649,21),r=pn(r,n,i,a,t[4],4149444226,6),a=pn(a,r,n,i,t[11],3174756917,10),i=pn(i,a,r,n,t[2],718787259,15),n=pn(n,i,a,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0};Kv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=kie.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Vv(t,e){return t<<e|t>>>32-e}function ln(t,e,r,n,i,a,s){return Vv(t+(e&r|~e&n)+i+a|0,s)+e|0}function dn(t,e,r,n,i,a,s){return Vv(t+(e&n|r&~n)+i+a|0,s)+e|0}function hn(t,e,r,n,i,a,s){return Vv(t+(e^r^n)+i+a|0,s)+e|0}function pn(t,e,r,n,i,a,s){return Vv(t+(r^(e|~n))+i+a|0,s)+e|0}var Fie=Kv,t3=Go.Buffer,jie=Gt,EH=wH,qie=new Array(16),Ch=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ih=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Th=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Oh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Bh=[0,1518500249,1859775393,2400959708,2840853838],Dh=[1352829926,1548603684,1836072691,2053994217,0];function Qv(){EH.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}jie(Qv,EH);Qv.prototype._update=function(){for(var t=qie,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._a|0,c=this._b|0,f=this._c|0,u=this._d|0,l=this._e|0,h=0;h<80;h+=1){var g,_;h<16?(g=BS(r,n,i,a,s,t[Ch[h]],Bh[0],Th[h]),_=RS(o,c,f,u,l,t[Ih[h]],Dh[0],Oh[h])):h<32?(g=DS(r,n,i,a,s,t[Ch[h]],Bh[1],Th[h]),_=PS(o,c,f,u,l,t[Ih[h]],Dh[1],Oh[h])):h<48?(g=MS(r,n,i,a,s,t[Ch[h]],Bh[2],Th[h]),_=MS(o,c,f,u,l,t[Ih[h]],Dh[2],Oh[h])):h<64?(g=PS(r,n,i,a,s,t[Ch[h]],Bh[3],Th[h]),_=DS(o,c,f,u,l,t[Ih[h]],Dh[3],Oh[h])):(g=RS(r,n,i,a,s,t[Ch[h]],Bh[4],Th[h]),_=BS(o,c,f,u,l,t[Ih[h]],Dh[4],Oh[h])),r=s,s=a,a=Uu(i,10),i=n,n=g,o=l,l=u,u=Uu(f,10),f=c,c=_}var A=this._b+i+u|0;this._b=this._c+a+l|0,this._c=this._d+s+o|0,this._d=this._e+r+c|0,this._e=this._a+n+f|0,this._a=A};Qv.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=t3.alloc?t3.alloc(20):new t3(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Uu(t,e){return t<<e|t>>>32-e}function BS(t,e,r,n,i,a,s,o){return Uu(t+(e^r^n)+a+s|0,o)+i|0}function DS(t,e,r,n,i,a,s,o){return Uu(t+(e&r|~e&n)+a+s|0,o)+i|0}function MS(t,e,r,n,i,a,s,o){return Uu(t+((e|~r)^n)+a+s|0,o)+i|0}function PS(t,e,r,n,i,a,s,o){return Uu(t+(e&n|r&~n)+a+s|0,o)+i|0}function RS(t,e,r,n,i,a,s,o){return Uu(t+(e^(r|~n))+a+s|0,o)+i|0}var Kie=Qv,xH={exports:{}},SH=an.Buffer;function Yv(t,e){this._block=SH.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Yv.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=SH.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,a=this._len,s=0;s<i;){for(var o=a%n,c=Math.min(i-s,n-o),f=0;f<c;f++)r[o+f]=t[s+f];a+=c,s+=c,a%n===0&&this._update(r)}return this._len+=i,this};Yv.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return t?a.toString(t):a};Yv.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var U0=Yv,Vie=Gt,CH=U0,Qie=an.Buffer,Yie=[1518500249,1859775393,-1894007588,-899497514],Gie=new Array(80);function vb(){this.init(),this._w=Gie,CH.call(this,64,56)}Vie(vb,CH);vb.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Wie(t){return t<<5|t>>>27}function Xie(t){return t<<30|t>>>2}function Zie(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}vb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var c=0;c<80;++c){var f=~~(c/20),u=Wie(r)+Zie(f,n,i,a)+s+e[c]+Yie[f]|0;s=a,a=i,i=Xie(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};vb.prototype._hash=function(){var t=Qie.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Jie=vb,eae=Gt,IH=U0,tae=an.Buffer,rae=[1518500249,1859775393,-1894007588,-899497514],nae=new Array(80);function mb(){this.init(),this._w=nae,IH.call(this,64,56)}eae(mb,IH);mb.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function iae(t){return t<<1|t>>>31}function aae(t){return t<<5|t>>>27}function sae(t){return t<<30|t>>>2}function oae(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}mb.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=iae(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var c=0;c<80;++c){var f=~~(c/20),u=aae(r)+oae(f,n,i,a)+s+e[c]+rae[f]|0;s=a,a=i,i=sae(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0};mb.prototype._hash=function(){var t=tae.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var cae=mb,fae=Gt,TH=U0,uae=an.Buffer,lae=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],dae=new Array(64);function _b(){this.init(),this._w=dae,TH.call(this,64,56)}fae(_b,TH);_b.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function hae(t,e,r){return r^t&(e^r)}function pae(t,e,r){return t&e|r&(t|e)}function bae(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function gae(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function yae(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function vae(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}_b.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,a=this._d|0,s=this._e|0,o=this._f|0,c=this._g|0,f=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=vae(e[u-2])+e[u-7]+yae(e[u-15])+e[u-16]|0;for(var l=0;l<64;++l){var h=f+gae(s)+hae(s,o,c)+lae[l]+e[l]|0,g=bae(r)+pae(r,n,i)|0;f=c,c=o,o=s,s=a+h|0,a=i,i=n,n=r,r=h+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0};_b.prototype._hash=function(){var t=uae.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var OH=_b,mae=Gt,_ae=OH,wae=U0,Aae=an.Buffer,Eae=new Array(64);function Gv(){this.init(),this._w=Eae,wae.call(this,64,56)}mae(Gv,_ae);Gv.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Gv.prototype._hash=function(){var t=Aae.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var xae=Gv,Sae=Gt,BH=U0,Cae=an.Buffer,LS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Iae=new Array(160);function wb(){this.init(),this._w=Iae,BH.call(this,128,112)}Sae(wb,BH);wb.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function HS(t,e,r){return r^t&(e^r)}function NS(t,e,r){return t&e|r&(t|e)}function $S(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function US(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Tae(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Oae(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Bae(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Dae(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Or(t,e){return t>>>0<e>>>0?1:0}wb.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,a=this._dh|0,s=this._eh|0,o=this._fh|0,c=this._gh|0,f=this._hh|0,u=this._al|0,l=this._bl|0,h=this._cl|0,g=this._dl|0,_=this._el|0,A=this._fl|0,C=this._gl|0,w=this._hl|0,I=0;I<32;I+=2)e[I]=t.readInt32BE(I*4),e[I+1]=t.readInt32BE(I*4+4);for(;I<160;I+=2){var T=e[I-30],R=e[I-15*2+1],N=Tae(T,R),K=Oae(R,T);T=e[I-2*2],R=e[I-2*2+1];var V=Bae(T,R),D=Dae(R,T),Q=e[I-7*2],Y=e[I-7*2+1],M=e[I-16*2],m=e[I-16*2+1],x=K+Y|0,b=N+Q+Or(x,K)|0;x=x+D|0,b=b+V+Or(x,D)|0,x=x+m|0,b=b+M+Or(x,m)|0,e[I]=b,e[I+1]=x}for(var v=0;v<160;v+=2){b=e[v],x=e[v+1];var d=NS(r,n,i),y=NS(u,l,h),S=$S(r,u),E=$S(u,r),p=US(s,_),O=US(_,s),k=LS[v],L=LS[v+1],j=HS(s,o,c),q=HS(_,A,C),H=w+O|0,z=f+p+Or(H,w)|0;H=H+q|0,z=z+j+Or(H,q)|0,H=H+L|0,z=z+k+Or(H,L)|0,H=H+x|0,z=z+b+Or(H,x)|0;var X=E+y|0,ee=S+d+Or(X,E)|0;f=c,w=C,c=o,C=A,o=s,A=_,_=g+H|0,s=a+z+Or(_,g)|0,a=i,g=h,i=n,h=l,n=r,l=u,u=H+X|0,r=z+ee+Or(u,H)|0}this._al=this._al+u|0,this._bl=this._bl+l|0,this._cl=this._cl+h|0,this._dl=this._dl+g|0,this._el=this._el+_|0,this._fl=this._fl+A|0,this._gl=this._gl+C|0,this._hl=this._hl+w|0,this._ah=this._ah+r+Or(this._al,u)|0,this._bh=this._bh+n+Or(this._bl,l)|0,this._ch=this._ch+i+Or(this._cl,h)|0,this._dh=this._dh+a+Or(this._dl,g)|0,this._eh=this._eh+s+Or(this._el,_)|0,this._fh=this._fh+o+Or(this._fl,A)|0,this._gh=this._gh+c+Or(this._gl,C)|0,this._hh=this._hh+f+Or(this._hl,w)|0};wb.prototype._hash=function(){var t=Cae.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var DH=wb,Mae=Gt,Pae=DH,Rae=U0,Lae=an.Buffer,Hae=new Array(160);function Wv(){this.init(),this._w=Hae,Rae.call(this,128,112)}Mae(Wv,Pae);Wv.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Wv.prototype._hash=function(){var t=Lae.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Nae=Wv,il=xH.exports=function(e){e=e.toLowerCase();var r=il[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};il.sha=Jie;il.sha1=cae;il.sha224=xae;il.sha256=OH;il.sha384=Nae;il.sha512=DH;var $ae=xH.exports,MH=an.Buffer,PH=db.Transform,Uae=s2.StringDecoder,kae=Gt;function ys(t){PH.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}kae(ys,PH);ys.prototype.update=function(t,e,r){typeof t=="string"&&(t=MH.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};ys.prototype.setAutoPadding=function(){};ys.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};ys.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};ys.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};ys.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};ys.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};ys.prototype._finalOrDigest=function(t){var e=this.__final()||MH.alloc(0);return t&&(e=this._toString(e,t,!0)),e};ys.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new Uae(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var zae=ys,Fae=Gt,jae=Fie,qae=Kie,Kae=$ae,RH=zae;function Xv(t){RH.call(this,"digest"),this._hash=t}Fae(Xv,RH);Xv.prototype._update=function(t){this._hash.update(t)};Xv.prototype._final=function(){return this._hash.digest()};var c7=function(e){return e=e.toLowerCase(),e==="md5"?new jae:e==="rmd160"||e==="ripemd160"?new qae:new Xv(Kae(e))},_g=an.Buffer;function Vae(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var s=t.length,o=t.charAt(0),c=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function u(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=_g.from(g)),!_g.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var _=0,A=0,C=0,w=g.length;C!==w&&g[C]===0;)C++,_++;for(var I=(w-C)*f+1>>>0,T=new Uint8Array(I);C!==w;){for(var R=g[C],N=0,K=I-1;(R!==0||N<A)&&K!==-1;K--,N++)R+=256*T[K]>>>0,T[K]=R%s>>>0,R=R/s>>>0;if(R!==0)throw new Error("Non-zero carry");A=N,C++}for(var V=I-A;V!==I&&T[V]===0;)V++;for(var D=o.repeat(_);V<I;++V)D+=t.charAt(T[V]);return D}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return _g.alloc(0);for(var _=0,A=0,C=0;g[_]===o;)A++,_++;for(var w=(g.length-_)*c+1>>>0,I=new Uint8Array(w);_<g.length;){var T=e[g.charCodeAt(_)];if(T===255)return;for(var R=0,N=w-1;(T!==0||R<C)&&N!==-1;N--,R++)T+=s*I[N]>>>0,I[N]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=R,_++}for(var K=w-C;K!==w&&I[K]===0;)K++;var V=_g.allocUnsafe(A+(w-K));V.fill(0,0,A);for(var D=A;K!==w;)V[D++]=I[K++];return V}function h(g){var _=l(g);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:u,decodeUnsafe:l,decode:h}}var Qae=Vae,Yae=Qae,Gae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Wae=Yae(Gae),r3=Wae,Xae=an.Buffer,Zae=function(t){function e(a){var s=t(a);return r3.encode(Xae.concat([a,s],a.length+4))}function r(a){var s=a.slice(0,-4),o=a.slice(-4),c=t(s);if(!(o[0]^c[0]|o[1]^c[1]|o[2]^c[2]|o[3]^c[3]))return s}function n(a){var s=r3.decodeUnsafe(a);if(s)return r(s)}function i(a){var s=r3.decode(a),o=r(s);if(!o)throw new Error("Invalid checksum");return o}return{encode:e,decode:i,decodeUnsafe:n}},kS=c7,Jae=Zae;function ese(t){var e=kS("sha256").update(t).digest();return kS("sha256").update(e).digest()}var tse=Jae(ese),c2="qpzry9x8gf2tvdw0s3jn54khce6mua7l",w4={};for(var wg=0;wg<c2.length;wg++){var n3=c2.charAt(wg);if(w4[n3]!==void 0)throw new TypeError(n3+" is ambiguous");w4[n3]=wg}function ad(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function LH(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=ad(e)^n>>5}for(e=ad(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=ad(e)^i&31}return e}function rse(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=LH(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var s=e[a];if(s>>5)throw new Error("Non 5-bit word");n=ad(n)^s,i+=c2.charAt(s)}for(a=0;a<6;++a)n=ad(n);for(n^=1,a=0;a<6;++a){var o=n>>(5-a)*5&31;i+=c2.charAt(o)}return i}function HH(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var o=LH(a);if(typeof o=="string")return o;for(var c=[],f=0;f<s.length;++f){var u=s.charAt(f),l=w4[u];if(l===void 0)return"Unknown character "+u;o=ad(o)^l,!(f+6>=s.length)&&c.push(l)}return o!==1?"Invalid checksum for "+t:{prefix:a,words:c}}function nse(){var t=HH.apply(null,arguments);if(typeof t=="object")return t}function ise(t){var e=HH.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Zv(t,e,r,n){for(var i=0,a=0,s=(1<<r)-1,o=[],c=0;c<t.length;++c)for(i=i<<e|t[c],a+=e;a>=r;)a-=r,o.push(i>>a&s);if(n)a>0&&o.push(i<<r-a&s);else{if(a>=e)return"Excess padding";if(i<<r-a&s)return"Non-zero padding"}return o}function ase(t){var e=Zv(t,8,5,!0);if(Array.isArray(e))return e}function sse(t){var e=Zv(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function ose(t){var e=Zv(t,5,8,!1);if(Array.isArray(e))return e}function cse(t){var e=Zv(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var fse={decodeUnsafe:nse,decode:ise,encode:rse,toWordsUnsafe:ase,toWords:sse,fromWordsUnsafe:ose,fromWords:cse},use=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},vs={},Jv=Object.prototype.toString;vs.isArray=function(t,e){if(!Array.isArray(t))throw TypeError(e)};vs.isBoolean=function(t,e){if(Jv.call(t)!=="[object Boolean]")throw TypeError(e)};vs.isBuffer=function(t,e){if(!Buffer.isBuffer(t))throw TypeError(e)};vs.isFunction=function(t,e){if(Jv.call(t)!=="[object Function]")throw TypeError(e)};vs.isNumber=function(t,e){if(Jv.call(t)!=="[object Number]")throw TypeError(e)};vs.isObject=function(t,e){if(Jv.call(t)!=="[object Object]")throw TypeError(e)};vs.isBufferLength=function(t,e,r){if(t.length!==e)throw RangeError(r)};vs.isBufferLength2=function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)};vs.isLengthGTZero=function(t,e){if(t.length===0)throw RangeError(e)};vs.isNumberInInterval=function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)};var k0={},lse=an.Buffer;function dse(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;var e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;var r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}function hse(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");var e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");var r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}function pse(t,e){var r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");var i=lse.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}var bse={check:dse,decode:hse,encode:pse},is=an.Buffer,NH=bse,gse=is.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yse=is.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);k0.privateKeyExport=function(t,e,r){var n=is.from(r?gse:yse);return t.copy(n,r?8:9),e.copy(n,r?181:214),n};k0.privateKeyImport=function(t){var e=t.length,r=0;if(!(e<r+1||t[r]!==48)&&(r+=1,!(e<r+1||!(t[r]&128)))){var n=t[r]&127;if(r+=1,!(n<1||n>2)&&!(e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(r+=n,!(e<r+i)&&!(e<r+3||t[r]!==2||t[r+1]!==1||t[r+2]!==1)&&(r+=3,!(e<r+2||t[r]!==4||t[r+1]>32||e<r+2+t[r+1])))return t.slice(r+2,r+2+t[r+1])}}};k0.signatureExport=function(t){for(var e=is.concat([is.from([0]),t.r]),r=33,n=0;r>1&&e[n]===0&&!(e[n+1]&128);--r,++n);for(var i=is.concat([is.from([0]),t.s]),a=33,s=0;a>1&&i[s]===0&&!(i[s+1]&128);--a,++s);return NH.encode(e.slice(n),i.slice(s))};k0.signatureImport=function(t){var e=is.alloc(32,0),r=is.alloc(32,0);try{var n=NH.decode(t);if(n.r.length===33&&n.r[0]===0&&(n.r=n.r.slice(1)),n.r.length>32)throw new Error("R length is too long");if(n.s.length===33&&n.s[0]===0&&(n.s=n.s.slice(1)),n.s.length>32)throw new Error("S length is too long")}catch{return}return n.r.copy(e,32-n.r.length),n.s.copy(r,32-n.s.length),{r:e,s:r}};k0.signatureImportLax=function(t){var e=is.alloc(32,0),r=is.alloc(32,0),n=t.length,i=0;if(t[i++]===48){var a=t[i++];if(!(a&128&&(i+=a-128,i>n))&&t[i++]===2){var s=t[i++];if(s&128){if(a=s-128,i+a>n)return;for(;a>0&&t[i]===0;i+=1,a-=1);for(s=0;a>0;i+=1,a-=1)s=(s<<8)+t[i]}if(!(s>n-i)){var o=i;if(i+=s,t[i++]===2){var c=t[i++];if(c&128){if(a=c-128,i+a>n)return;for(;a>0&&t[i]===0;i+=1,a-=1);for(c=0;a>0;i+=1,a-=1)c=(c<<8)+t[i]}if(!(c>n-i)){var f=i;for(i+=c;s>0&&t[o]===0;s-=1,o+=1);if(!(s>32)){var u=t.slice(o,o+s);for(u.copy(e,32-u.length);c>0&&t[f]===0;c-=1,f+=1);if(!(c>32)){var l=t.slice(f,f+c);return l.copy(r,32-l.length),{r:e,s:r}}}}}}}}};const vse="compressed should be a boolean",mse="private key should be a Buffer",_se="private key length is invalid",wse="private key range is invalid",Ase="tweak out of range or resulting private key is invalid",Ese="tweak out of range",xse="couldn't export to DER format",Sse="couldn't import from DER format",Cse="public keys should be an Array",Ise="public keys Array should have at least 1 element",Tse="public key should be a Buffer",Ose="public key length is invalid",Bse="the public key could not be parsed or is invalid",Dse="private was invalid, try again",Mse="tweak out of range or resulting public key is invalid",Pse="tweak out of range",Rse="the sum of the public keys is not valid",Lse="scalar was invalid (zero or overflow)",Hse="signature should be a Buffer",Nse="signature length is invalid",$se="couldn't parse signature",Use="couldn't parse DER signature",kse="couldn't serialize signature to DER format",zse="nonce generation function failed or private key is invalid",Fse="couldn't recover public key from signature",jse="message should be a Buffer",qse="message length is invalid",Kse="options should be an Object",Vse="options.data should be a Buffer",Qse="options.data length is invalid",Yse="options.noncefn should be a Function",Gse="recovery should be a Number",Wse="recovery should have value between -1 and 4",Xse="tweak should be a Buffer",Zse="tweak length is invalid",$H={COMPRESSED_TYPE_INVALID:vse,EC_PRIVATE_KEY_TYPE_INVALID:mse,EC_PRIVATE_KEY_LENGTH_INVALID:_se,EC_PRIVATE_KEY_RANGE_INVALID:wse,EC_PRIVATE_KEY_TWEAK_ADD_FAIL:Ase,EC_PRIVATE_KEY_TWEAK_MUL_FAIL:Ese,EC_PRIVATE_KEY_EXPORT_DER_FAIL:xse,EC_PRIVATE_KEY_IMPORT_DER_FAIL:Sse,EC_PUBLIC_KEYS_TYPE_INVALID:Cse,EC_PUBLIC_KEYS_LENGTH_INVALID:Ise,EC_PUBLIC_KEY_TYPE_INVALID:Tse,EC_PUBLIC_KEY_LENGTH_INVALID:Ose,EC_PUBLIC_KEY_PARSE_FAIL:Bse,EC_PUBLIC_KEY_CREATE_FAIL:Dse,EC_PUBLIC_KEY_TWEAK_ADD_FAIL:Mse,EC_PUBLIC_KEY_TWEAK_MUL_FAIL:Pse,EC_PUBLIC_KEY_COMBINE_FAIL:Rse,ECDH_FAIL:Lse,ECDSA_SIGNATURE_TYPE_INVALID:Hse,ECDSA_SIGNATURE_LENGTH_INVALID:Nse,ECDSA_SIGNATURE_PARSE_FAIL:$se,ECDSA_SIGNATURE_PARSE_DER_FAIL:Use,ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:kse,ECDSA_SIGN_FAIL:zse,ECDSA_RECOVER_FAIL:Fse,MSG32_TYPE_INVALID:jse,MSG32_LENGTH_INVALID:qse,OPTIONS_TYPE_INVALID:Kse,OPTIONS_DATA_TYPE_INVALID:Vse,OPTIONS_DATA_LENGTH_INVALID:Qse,OPTIONS_NONCEFN_TYPE_INVALID:Yse,RECOVERY_ID_TYPE_INVALID:Gse,RECOVERY_ID_VALUE_INVALID:Wse,TWEAK_TYPE_INVALID:Xse,TWEAK_LENGTH_INVALID:Zse};var Se=vs,Mh=k0,we=$H;function Ac(t,e){return t===void 0?e:(Se.isBoolean(t,we.COMPRESSED_TYPE_INVALID),t)}var Jse=function(t){return{privateKeyVerify:function(e){return Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),e.length===32&&t.privateKeyVerify(e)},privateKeyExport:function(e,r){Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),r=Ac(r,!0);var n=t.privateKeyExport(e,r);return Mh.privateKeyExport(e,n,r)},privateKeyImport:function(e){if(Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),e=Mh.privateKeyImport(e),e&&e.length===32&&t.privateKeyVerify(e))return e;throw new Error(we.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(e){return Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyNegate(e)},privateKeyModInverse:function(e){return Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.privateKeyModInverse(e)},privateKeyTweakAdd:function(e,r){return Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),Se.isBuffer(r,we.TWEAK_TYPE_INVALID),Se.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),t.privateKeyTweakAdd(e,r)},privateKeyTweakMul:function(e,r){return Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),Se.isBuffer(r,we.TWEAK_TYPE_INVALID),Se.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),t.privateKeyTweakMul(e,r)},publicKeyCreate:function(e,r){return Se.isBuffer(e,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(e,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),r=Ac(r,!0),t.publicKeyCreate(e,r)},publicKeyConvert:function(e,r){return Se.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),r=Ac(r,!0),t.publicKeyConvert(e,r)},publicKeyVerify:function(e){return Se.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),t.publicKeyVerify(e)},publicKeyTweakAdd:function(e,r,n){return Se.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),Se.isBuffer(r,we.TWEAK_TYPE_INVALID),Se.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),n=Ac(n,!0),t.publicKeyTweakAdd(e,r,n)},publicKeyTweakMul:function(e,r,n){return Se.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),Se.isBuffer(r,we.TWEAK_TYPE_INVALID),Se.isBufferLength(r,32,we.TWEAK_LENGTH_INVALID),n=Ac(n,!0),t.publicKeyTweakMul(e,r,n)},publicKeyCombine:function(e,r){Se.isArray(e,we.EC_PUBLIC_KEYS_TYPE_INVALID),Se.isLengthGTZero(e,we.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var n=0;n<e.length;++n)Se.isBuffer(e[n],we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(e[n],33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID);return r=Ac(r,!0),t.publicKeyCombine(e,r)},signatureNormalize:function(e){return Se.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),Se.isBufferLength(e,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),t.signatureNormalize(e)},signatureExport:function(e){Se.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),Se.isBufferLength(e,64,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=t.signatureExport(e);return Mh.signatureExport(r)},signatureImport:function(e){Se.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),Se.isLengthGTZero(e,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=Mh.signatureImport(e);if(r)return t.signatureImport(r);throw new Error(we.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(e){Se.isBuffer(e,we.ECDSA_SIGNATURE_TYPE_INVALID),Se.isLengthGTZero(e,we.ECDSA_SIGNATURE_LENGTH_INVALID);var r=Mh.signatureImportLax(e);if(r)return t.signatureImport(r);throw new Error(we.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(e,r,n){Se.isBuffer(e,we.MSG32_TYPE_INVALID),Se.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),Se.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID);var i=null,a=null;return n!==void 0&&(Se.isObject(n,we.OPTIONS_TYPE_INVALID),n.data!==void 0&&(Se.isBuffer(n.data,we.OPTIONS_DATA_TYPE_INVALID),Se.isBufferLength(n.data,32,we.OPTIONS_DATA_LENGTH_INVALID),i=n.data),n.noncefn!==void 0&&(Se.isFunction(n.noncefn,we.OPTIONS_NONCEFN_TYPE_INVALID),a=n.noncefn)),t.sign(e,r,a,i)},verify:function(e,r,n){return Se.isBuffer(e,we.MSG32_TYPE_INVALID),Se.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),Se.isBuffer(r,we.ECDSA_SIGNATURE_TYPE_INVALID),Se.isBufferLength(r,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),Se.isBuffer(n,we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(n,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),t.verify(e,r,n)},recover:function(e,r,n,i){return Se.isBuffer(e,we.MSG32_TYPE_INVALID),Se.isBufferLength(e,32,we.MSG32_LENGTH_INVALID),Se.isBuffer(r,we.ECDSA_SIGNATURE_TYPE_INVALID),Se.isBufferLength(r,64,we.ECDSA_SIGNATURE_LENGTH_INVALID),Se.isNumber(n,we.RECOVERY_ID_TYPE_INVALID),Se.isNumberInInterval(n,-1,4,we.RECOVERY_ID_VALUE_INVALID),i=Ac(i,!0),t.recover(e,r,n,i)},ecdh:function(e,r){return Se.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),Se.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),t.ecdh(e,r)},ecdhUnsafe:function(e,r,n){return Se.isBuffer(e,we.EC_PUBLIC_KEY_TYPE_INVALID),Se.isBufferLength2(e,33,65,we.EC_PUBLIC_KEY_LENGTH_INVALID),Se.isBuffer(r,we.EC_PRIVATE_KEY_TYPE_INVALID),Se.isBufferLength(r,32,we.EC_PRIVATE_KEY_LENGTH_INVALID),n=Ac(n,!0),t.ecdhUnsafe(e,r,n)}}},UH={},kH={};const eoe="elliptic",toe="6.6.0",roe="EC cryptography",noe="lib/elliptic.js",ioe=["lib"],aoe={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},soe={type:"git",url:"git@github.com:indutny/elliptic"},ooe=["EC","Elliptic","curve","Cryptography"],coe="Fedor Indutny <fedor@indutny.com>",foe="MIT",uoe={url:"https://github.com/indutny/elliptic/issues"},loe="https://github.com/indutny/elliptic",doe={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},hoe={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},poe={name:eoe,version:toe,description:roe,main:noe,files:ioe,scripts:aoe,repository:soe,keywords:ooe,author:coe,license:foe,bugs:uoe,homepage:loe,devDependencies:doe,dependencies:hoe};var Ki={};(function(t){var e=t,r=Sr,n=Rf,i=Tv;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function a(u,l,h){var g=new Array(Math.max(u.bitLength(),h)+1),_;for(_=0;_<g.length;_+=1)g[_]=0;var A=1<<l+1,C=u.clone();for(_=0;_<g.length;_++){var w,I=C.andln(A-1);C.isOdd()?(I>(A>>1)-1?w=(A>>1)-I:w=I,C.isubn(w)):w=0,g[_]=w,C.iushrn(1)}return g}e.getNAF=a;function s(u,l){var h=[[],[]];u=u.clone(),l=l.clone();for(var g=0,_=0,A;u.cmpn(-g)>0||l.cmpn(-_)>0;){var C=u.andln(3)+g&3,w=l.andln(3)+_&3;C===3&&(C=-1),w===3&&(w=-1);var I;C&1?(A=u.andln(7)+g&7,(A===3||A===5)&&w===2?I=-C:I=C):I=0,h[0].push(I);var T;w&1?(A=l.andln(7)+_&7,(A===3||A===5)&&C===2?T=-w:T=w):T=0,h[1].push(T),2*g===I+1&&(g=1-g),2*_===T+1&&(_=1-_),u.iushrn(1),l.iushrn(1)}return h}e.getJSF=s;function o(u,l,h){var g="_"+l;u.prototype[l]=function(){return this[g]!==void 0?this[g]:this[g]=h.call(this)}}e.cachedProperty=o;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function f(u){return new r(u,"hex","le")}e.intFromLE=f})(Ki);var f7={},jf=Sr,Ab=Ki,f2=Ab.getNAF,boe=Ab.getJSF,u2=Ab.assert;function Nf(t,e){this.type=t,this.p=new jf(e.p,16),this.red=e.prime?jf.red(e.prime):jf.mont(this.p),this.zero=new jf(0).toRed(this.red),this.one=new jf(1).toRed(this.red),this.two=new jf(2).toRed(this.red),this.n=e.n&&new jf(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var em=Nf;Nf.prototype.point=function(){throw new Error("Not implemented")};Nf.prototype.validate=function(){throw new Error("Not implemented")};Nf.prototype._fixedNafMul=function(e,r){u2(e.precomputed);var n=e._getDoubles(),i=f2(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var s=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var f=o+n.step-1;f>=o;f--)c=(c<<1)+i[f];s.push(c)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=a;h>0;h--){for(o=0;o<s.length;o++)c=s[o],c===h?l=l.mixedAdd(n.points[o]):c===-h&&(l=l.mixedAdd(n.points[o].neg()));u=u.add(l)}return u.toP()};Nf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,s=f2(r,n,this._bitLength),o=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&s[c]===0;c--)f++;if(c>=0&&f++,o=o.dblp(f),c<0)break;var u=s[c];u2(u!==0),e.type==="affine"?u>0?o=o.mixedAdd(a[u-1>>1]):o=o.mixedAdd(a[-u-1>>1].neg()):u>0?o=o.add(a[u-1>>1]):o=o.add(a[-u-1>>1].neg())}return e.type==="affine"?o.toP():o};Nf.prototype._wnafMulAdd=function(e,r,n,i,a){var s=this._wnafT1,o=this._wnafT2,c=this._wnafT3,f=0,u,l,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);s[u]=g.wnd,o[u]=g.points}for(u=i-1;u>=1;u-=2){var _=u-1,A=u;if(s[_]!==1||s[A]!==1){c[_]=f2(n[_],s[_],this._bitLength),c[A]=f2(n[A],s[A],this._bitLength),f=Math.max(c[_].length,f),f=Math.max(c[A].length,f);continue}var C=[r[_],null,null,r[A]];r[_].y.cmp(r[A].y)===0?(C[1]=r[_].add(r[A]),C[2]=r[_].toJ().mixedAdd(r[A].neg())):r[_].y.cmp(r[A].y.redNeg())===0?(C[1]=r[_].toJ().mixedAdd(r[A]),C[2]=r[_].add(r[A].neg())):(C[1]=r[_].toJ().mixedAdd(r[A]),C[2]=r[_].toJ().mixedAdd(r[A].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],I=boe(n[_],n[A]);for(f=Math.max(I[0].length,f),c[_]=new Array(f),c[A]=new Array(f),l=0;l<f;l++){var T=I[0][l]|0,R=I[1][l]|0;c[_][l]=w[(T+1)*3+(R+1)],c[A][l]=0,o[_]=C}}var N=this.jpoint(null,null,null),K=this._wnafT4;for(u=f;u>=0;u--){for(var V=0;u>=0;){var D=!0;for(l=0;l<i;l++)K[l]=c[l][u]|0,K[l]!==0&&(D=!1);if(!D)break;V++,u--}if(u>=0&&V++,N=N.dblp(V),u<0)break;for(l=0;l<i;l++){var Q=K[l];Q!==0&&(Q>0?h=o[l][Q-1>>1]:Q<0&&(h=o[l][-Q-1>>1].neg()),h.type==="affine"?N=N.mixedAdd(h):N=N.add(h))}}for(u=0;u<i;u++)o[u]=null;return a?N:N.toP()};function Ua(t,e){this.curve=t,this.type=e,this.precomputed=null}Nf.BasePoint=Ua;Ua.prototype.eq=function(){throw new Error("Not implemented")};Ua.prototype.validate=function(){return this.curve.validate(this)};Nf.prototype.decodePoint=function(e,r){e=Ab.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?u2(e[e.length-1]%2===0):e[0]===7&&u2(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ua.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ua.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ua.prototype.encode=function(e,r){return Ab.encode(this._encode(r),e)};Ua.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ua.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ua.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ua.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Ua.prototype._getBeta=function(){return null};Ua.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var goe=Ki,cr=Sr,u7=Gt,z0=em,yoe=goe.assert;function ka(t){z0.call(this,"short",t),this.a=new cr(t.a,16).toRed(this.red),this.b=new cr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}u7(ka,z0);var voe=ka;ka.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new cr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new cr(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],yoe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(o){return{a:new cr(o.a,16),b:new cr(o.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};ka.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:cr.mont(e),n=new cr(2).toRed(r).redInvm(),i=n.redNeg(),a=new cr(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(a).fromRed(),o=i.redSub(a).fromRed();return[s,o]};ka.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new cr(1),s=new cr(0),o=new cr(0),c=new cr(1),f,u,l,h,g,_,A,C=0,w,I;n.cmpn(0)!==0;){var T=i.div(n);w=i.sub(T.mul(n)),I=o.sub(T.mul(a));var R=c.sub(T.mul(s));if(!l&&w.cmp(r)<0)f=A.neg(),u=a,l=w.neg(),h=I;else if(l&&++C===2)break;A=w,i=n,n=w,o=a,a=I,c=s,s=R}g=w.neg(),_=I;var N=l.sqr().add(h.sqr()),K=g.sqr().add(_.sqr());return K.cmp(N)>=0&&(g=f,_=u),l.negative&&(l=l.neg(),h=h.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:l,b:h},{a:g,b:_}]};ka.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),o=a.mul(n.a),c=s.mul(i.a),f=a.mul(n.b),u=s.mul(i.b),l=e.sub(o).sub(c),h=f.add(u).neg();return{k1:l,k2:h}};ka.prototype.pointFromX=function(e,r){e=new cr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};ka.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};ka.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(r[s]),c=e[s],f=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),f=f.neg(!0)),i[s*2]=c,i[s*2+1]=f,a[s*2]=o.k1,a[s*2+1]=o.k2}for(var u=this._wnafMulAdd(1,i,a,s*2,n),l=0;l<s*2;l++)i[l]=null,a[l]=null;return u};function Kr(t,e,r,n){z0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new cr(e,16),this.y=new cr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}u7(Kr,z0.BasePoint);ka.prototype.point=function(e,r,n){return new Kr(this,e,r,n)};ka.prototype.pointFromJSON=function(e,r){return Kr.fromJSON(this,e,r)};Kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Kr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(o){return e.point(o[0],o[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(a))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(a))}},i};Kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Kr.prototype.isInfinity=function(){return this.inf};Kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=a.redSqr().redISub(this.x.redAdd(this.x)),o=a.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)};Kr.prototype.getX=function(){return this.x.fromRed()};Kr.prototype.getY=function(){return this.y.fromRed()};Kr.prototype.mul=function(e){return e=new cr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Kr.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Kr.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Kr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Kr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function sn(t,e,r,n){z0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new cr(0)):(this.x=new cr(e,16),this.y=new cr(r,16),this.z=new cr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u7(sn,z0.BasePoint);ka.prototype.jpoint=function(e,r,n){return new sn(this,e,r,n)};sn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};sn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};sn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(a),f=s.redSub(o);if(c.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),l=u.redMul(c),h=i.redMul(u),g=f.redSqr().redIAdd(l).redISub(h).redISub(h),_=f.redMul(h.redISub(g)).redISub(s.redMul(l)),A=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,_,A)};sn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,s=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=a.redSub(s);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=o.redSqr(),u=f.redMul(o),l=n.redMul(f),h=c.redSqr().redIAdd(u).redISub(l).redISub(l),g=c.redMul(l.redISub(h)).redISub(a.redMul(u)),_=this.z.redMul(o);return this.curve.jpoint(h,g,_)};sn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,s=this.x,o=this.y,c=this.z,f=c.redSqr().redSqr(),u=o.redAdd(o);for(r=0;r<e;r++){var l=s.redSqr(),h=u.redSqr(),g=h.redSqr(),_=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),A=s.redMul(h),C=_.redSqr().redISub(A.redAdd(A)),w=A.redISub(C),I=_.redMul(w);I=I.redIAdd(I).redISub(g);var T=u.redMul(c);r+1<e&&(f=f.redMul(g)),s=C,c=T,u=I}return this.curve.jpoint(s,u.redMul(a),c)};sn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};sn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),f=c.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=f,r=c.redMul(o.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),_=this.x.redAdd(h).redSqr().redISub(l).redISub(g);_=_.redIAdd(_);var A=l.redAdd(l).redIAdd(l),C=A.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=C.redISub(_).redISub(_),r=A.redMul(_.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};sn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),s=a.redSqr(),o=this.x.redAdd(a).redSqr().redISub(i).redISub(s);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=c.redSqr().redISub(o).redISub(o);e=f;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(o.redISub(f)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),_=this.x.redSub(l).redMul(this.x.redAdd(l));_=_.redAdd(_).redIAdd(_);var A=g.redIAdd(g);A=A.redIAdd(A);var C=A.redAdd(A);e=_.redSqr().redISub(C),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var w=h.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=_.redMul(A.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};sn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),s=r.redSqr(),o=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var u=f.redMul(o),l=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),g=o.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=c.redMul(h).redISub(g),A=n.redAdd(n).redMul(i);return this.curve.jpoint(l,_,A)};sn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),s=a.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var c=o.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=a.redIAdd(o).redSqr().redISub(s).redISub(c).redISub(f),l=r.redMul(u);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(c).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(f.redISub(u)).redISub(o.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,_)};sn.prototype.mul=function(e,r){return e=new cr(e,r),this.curve._wnafMul(this,e)};sn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};sn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};sn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};sn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ql=Sr,zH=Gt,tm=em,moe=Ki;function F0(t){tm.call(this,"mont",t),this.a=new ql(t.a,16).toRed(this.red),this.b=new ql(t.b,16).toRed(this.red),this.i4=new ql(4).toRed(this.red).redInvm(),this.two=new ql(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}zH(F0,tm);var _oe=F0;F0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function jr(t,e,r){tm.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ql(e,16),this.z=new ql(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}zH(jr,tm.BasePoint);F0.prototype.decodePoint=function(e,r){return this.point(moe.toArray(e,r),1)};F0.prototype.point=function(e,r){return new jr(this,e,r)};F0.prototype.pointFromJSON=function(e){return jr.fromJSON(this,e)};jr.prototype.precompute=function(){};jr.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};jr.fromJSON=function(e,r){return new jr(e,r[0],r[1]||e.one)};jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};jr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};jr.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),s=r.redMul(i),o=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(s,o)};jr.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};jr.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(n),c=a.redMul(i),f=r.z.redMul(o.redAdd(c).redSqr()),u=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(f,u)};jr.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var o=s.length-1;o>=0;o--)s[o]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};jr.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};jr.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};jr.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};jr.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};jr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var woe=Ki,Mo=Sr,FH=Gt,rm=em,Aoe=woe.assert;function ao(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,rm.call(this,"edwards",t),this.a=new Mo(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Mo(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Mo(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Aoe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}FH(ao,rm);var Eoe=ao;ao.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ao.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ao.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};ao.prototype.pointFromX=function(e,r){e=new Mo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=i.redMul(a.redInvm()),o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};ao.prototype.pointFromY=function(e,r){e=new Mo(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(a.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(o.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};ao.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function xt(t,e,r,n,i){rm.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Mo(e,16),this.y=new Mo(r,16),this.z=n?new Mo(n,16):this.curve.one,this.t=i&&new Mo(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}FH(xt,rm.BasePoint);ao.prototype.pointFromJSON=function(e){return xt.fromJSON(this,e)};ao.prototype.point=function(e,r,n,i){return new xt(this,e,r,n,i)};xt.fromJSON=function(e,r){return new xt(e,r[0],r[1],r[2])};xt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};xt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};xt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=i.redAdd(r),o=s.redSub(n),c=i.redSub(r),f=a.redMul(o),u=s.redMul(c),l=a.redMul(c),h=o.redMul(s);return this.curve.point(f,u,h,l)};xt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,s,o,c,f;if(this.curve.twisted){o=this.curve._mulA(r);var u=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(u.redSub(this.curve.two)),a=u.redMul(o.redSub(n)),s=u.redSqr().redSub(u).redSub(u)):(c=this.z.redSqr(),f=u.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(f),a=u.redMul(o.redSub(n)),s=u.redMul(f))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),f=o.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(o)).redMul(f),a=this.curve._mulC(o).redMul(r.redISub(n)),s=o.redMul(f);return this.curve.point(i,a,s)};xt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};xt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),o=a.redSub(i),c=a.redAdd(i),f=n.redAdd(r),u=s.redMul(o),l=c.redMul(f),h=s.redMul(f),g=o.redMul(c);return this.curve.point(u,l,g,h)};xt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(a),o=n.redSub(s),c=n.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),u=r.redMul(o).redMul(f),l,h;return this.curve.twisted?(l=r.redMul(c).redMul(a.redSub(this.curve._mulA(i))),h=o.redMul(c)):(l=r.redMul(c).redMul(a.redSub(i)),h=this.curve._mulC(o).redMul(c)),this.curve.point(u,l,h)};xt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};xt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};xt.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};xt.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};xt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};xt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};xt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};xt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};xt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};xt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};xt.prototype.toP=xt.prototype.normalize;xt.prototype.mixedAdd=xt.prototype.add;(function(t){var e=t;e.base=em,e.short=voe,e.mont=_oe,e.edwards=Eoe})(f7);var nm={},i3,zS;function xoe(){return zS||(zS=1,i3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),i3}(function(t){var e=t,r=R0,n=f7,i=Ki,a=i.assert;function s(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function o(f,u){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var l=new s(u);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:l}),l}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=xoe()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(nm);var Soe=Sr,Coe=Ki,A4=Coe.assert;function In(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ioe=In;In.fromPublic=function(e,r,n){return r instanceof In?r:new In(e,{pub:r,pubEnc:n})};In.fromPrivate=function(e,r,n){return r instanceof In?r:new In(e,{priv:r,privEnc:n})};In.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};In.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};In.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};In.prototype._importPrivate=function(e,r){this.priv=new Soe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};In.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?A4(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&A4(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};In.prototype.derive=function(e){return e.validate()||A4(e.validate(),"public point not validated"),e.mul(this.priv).getX()};In.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};In.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};In.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var l2=Sr,l7=Ki,Toe=l7.assert;function im(t,e){if(t instanceof im)return t;this._importDER(t,e)||(Toe(t.r&&t.s,"Signature without r or s"),this.r=new l2(t.r,16),this.s=new l2(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ooe=im;function Boe(){this.place=0}function a3(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,a=0,s=e.place;a<n;a++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function FS(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}im.prototype._importDER=function(e,r){e=l7.toArray(e,r);var n=new Boe;if(e[n.place++]!==48)return!1;var i=a3(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=a3(e,n);if(a===!1||e[n.place]&128)return!1;var s=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var o=a3(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new l2(s),this.s=new l2(c),this.recoveryParam=null,!0};function s3(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}im.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=FS(r),n=FS(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];s3(i,r.length),i=i.concat(r),i.push(2),s3(i,n.length);var a=i.concat(n),s=[48];return s3(s,a.length),s=s.concat(a),l7.encode(s,e)};var Po=Sr,jH=CL,Doe=Ki,o3=nm,Moe=Ov,qH=Doe.assert,d7=Ioe,am=Ooe;function Ba(t){if(!(this instanceof Ba))return new Ba(t);typeof t=="string"&&(qH(Object.prototype.hasOwnProperty.call(o3,t),"Unknown curve "+t),t=o3[t]),t instanceof o3.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Poe=Ba;Ba.prototype.keyPair=function(e){return new d7(this,e)};Ba.prototype.keyFromPrivate=function(e,r){return d7.fromPrivate(this,e,r)};Ba.prototype.keyFromPublic=function(e,r){return d7.fromPublic(this,e,r)};Ba.prototype.genKeyPair=function(e){e||(e={});for(var r=new jH({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Moe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Po(2));;){var a=new Po(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Ba.prototype._truncateToN=function(e,r,n){var i;if(Po.isBN(e)||typeof e=="number")e=new Po(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Po(e,16);else{var a=e.toString();i=a.length+1>>>1,e=new Po(a,16)}typeof n!="number"&&(n=i*8);var s=n-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ba.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength);for(var a=this.n.byteLength(),s=r.getPrivate().toArray("be",a),o=e.toArray("be",a),c=new jH({hash:this.hash,entropy:s,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Po(1)),u=0;;u++){var l=i.k?i.k(u):new Po(c.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var h=this.g.mul(l);if(!h.isInfinity()){var g=h.getX(),_=g.umod(this.n);if(_.cmpn(0)!==0){var A=l.invm(this.n).mul(_.mul(r.getPrivate()).iadd(e));if(A=A.umod(this.n),A.cmpn(0)!==0){var C=(h.getY().isOdd()?1:0)|(g.cmp(_)!==0?2:0);return i.canonical&&A.cmp(this.nh)>0&&(A=this.n.sub(A),C^=1),new am({r:_,s:A,recoveryParam:C})}}}}}};Ba.prototype.verify=function(e,r,n,i,a){a||(a={}),e=this._truncateToN(e,!1,a.msgBitLength),n=this.keyFromPublic(n,i),r=new am(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),f=c.mul(e).umod(this.n),u=c.mul(s).umod(this.n),l;return this.curve._maxwellTrick?(l=this.g.jmulAdd(f,n.getPublic(),u),l.isInfinity()?!1:l.eqXToP(s)):(l=this.g.mulAdd(f,n.getPublic(),u),l.isInfinity()?!1:l.getX().umod(this.n).cmp(s)===0)};Ba.prototype.recoverPubKey=function(t,e,r,n){qH((3&r)===r,"The recovery param is more than two bits"),e=new am(e,n);var i=this.n,a=new Po(t),s=e.r,o=e.s,c=r&1,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var u=e.r.invm(i),l=i.sub(a).mul(u).umod(i),h=o.mul(u).umod(i);return this.g.mulAdd(l,s,h)};Ba.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new am(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Eb=Ki,KH=Eb.assert,jS=Eb.parseBytes,j0=Eb.cachedProperty;function kr(t,e){this.eddsa=t,this._secret=jS(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=jS(e.pub)}kr.fromPublic=function(e,r){return r instanceof kr?r:new kr(e,{pub:r})};kr.fromSecret=function(e,r){return r instanceof kr?r:new kr(e,{secret:r})};kr.prototype.secret=function(){return this._secret};j0(kr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});j0(kr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});j0(kr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});j0(kr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});j0(kr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});j0(kr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});kr.prototype.sign=function(e){return KH(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};kr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};kr.prototype.getSecret=function(e){return KH(this._secret,"KeyPair is public only"),Eb.encode(this.secret(),e)};kr.prototype.getPublic=function(e){return Eb.encode(this.pubBytes(),e)};var Roe=kr,Loe=Sr,sm=Ki,qS=sm.assert,om=sm.cachedProperty,Hoe=sm.parseBytes;function al(t,e){this.eddsa=t,typeof e!="object"&&(e=Hoe(e)),Array.isArray(e)&&(qS(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),qS(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Loe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}om(al,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});om(al,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});om(al,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});om(al,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});al.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};al.prototype.toHex=function(){return sm.encode(this.toBytes(),"hex").toUpperCase()};var Noe=al,$oe=R0,Uoe=nm,o0=Ki,koe=o0.assert,VH=o0.parseBytes,QH=Roe,KS=Noe;function hi(t){if(koe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof hi))return new hi(t);t=Uoe[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=$oe.sha512}var zoe=hi;hi.prototype.sign=function(e,r){e=VH(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),s=this.encodePoint(a),o=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:s})};hi.prototype.verify=function(e,r,n){if(e=VH(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),s=this.g.mul(r.S()),o=r.R().add(i.pub().mul(a));return o.eq(s)};hi.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return o0.intFromLE(e.digest()).umod(this.curve.n)};hi.prototype.keyFromPublic=function(e){return QH.fromPublic(this,e)};hi.prototype.keyFromSecret=function(e){return QH.fromSecret(this,e)};hi.prototype.makeSignature=function(e){return e instanceof KS?e:new KS(this,e)};hi.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};hi.prototype.decodePoint=function(e){e=o0.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=o0.intFromLE(n);return this.curve.pointFromY(a,i)};hi.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};hi.prototype.decodeInt=function(e){return o0.intFromLE(e)};hi.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=poe.version,e.utils=Ki,e.rand=Ov,e.curve=f7,e.curves=nm,e.ec=Poe,e.eddsa=zoe})(kH);(function(t){var e=an.Buffer,r=c7,n=Sr,i=kH.ec,a=$H,s=new i("secp256k1"),o=s.curve;function c(l,h){var g=new n(h);if(g.cmp(o.p)>=0)return null;g=g.toRed(o.red);var _=g.redSqr().redIMul(g).redIAdd(o.b).redSqrt();l===3!==_.isOdd()&&(_=_.redNeg());const A=g.redSqr().redIMul(g);return _.redSqr().redISub(A.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:g,y:_}}):null}function f(l,h,g){var _=new n(h),A=new n(g);if(_.cmp(o.p)>=0||A.cmp(o.p)>=0||(_=_.toRed(o.red),A=A.toRed(o.red),(l===6||l===7)&&A.isOdd()!==(l===7)))return null;var C=_.redSqr().redIMul(_);return A.redSqr().redISub(C.redIAdd(o.b)).isZero()?s.keyPair({pub:{x:_,y:A}}):null}function u(l){var h=l[0];switch(h){case 2:case 3:return l.length!==33?null:c(h,l.slice(1,33));case 4:case 6:case 7:return l.length!==65?null:f(h,l.slice(1,33),l.slice(33,65));default:return null}}t.privateKeyVerify=function(l){var h=new n(l);return h.cmp(o.n)<0&&!h.isZero()},t.privateKeyExport=function(l,h){var g=new n(l);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return e.from(s.keyFromPrivate(l).getPublic(h,!0))},t.privateKeyNegate=function(l){var h=new n(l);return h.isZero()?e.alloc(32):o.n.sub(h).umod(o.n).toArrayLike(e,"be",32)},t.privateKeyModInverse=function(l){var h=new n(l);if(h.cmp(o.n)>=0||h.isZero())throw new Error(a.EC_PRIVATE_KEY_RANGE_INVALID);return h.invm(o.n).toArrayLike(e,"be",32)},t.privateKeyTweakAdd=function(l,h){var g=new n(h);if(g.cmp(o.n)>=0)throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(g.iadd(new n(l)),g.cmp(o.n)>=0&&g.isub(o.n),g.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return g.toArrayLike(e,"be",32)},t.privateKeyTweakMul=function(l,h){var g=new n(h);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return g.imul(new n(l)),g.cmp(o.n)&&(g=g.umod(o.n)),g.toArrayLike(e,"be",32)},t.publicKeyCreate=function(l,h){var g=new n(l);if(g.cmp(o.n)>=0||g.isZero())throw new Error(a.EC_PUBLIC_KEY_CREATE_FAIL);return e.from(s.keyFromPrivate(l).getPublic(h,!0))},t.publicKeyConvert=function(l,h){var g=u(l);if(g===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return e.from(g.getPublic(h,!0))},t.publicKeyVerify=function(l){return u(l)!==null},t.publicKeyTweakAdd=function(l,h,g){var _=u(l);if(_===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(h=new n(h),h.cmp(o.n)>=0)throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var A=o.g.mul(h).add(_.pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return e.from(A.encode(!0,g))},t.publicKeyTweakMul=function(l,h,g){var _=u(l);if(_===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);if(h=new n(h),h.cmp(o.n)>=0||h.isZero())throw new Error(a.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return e.from(_.pub.mul(h).encode(!0,g))},t.publicKeyCombine=function(l,h){for(var g=new Array(l.length),_=0;_<l.length;++_)if(g[_]=u(l[_]),g[_]===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);for(var A=g[0].pub,C=1;C<g.length;++C)A=A.add(g[C].pub);if(A.isInfinity())throw new Error(a.EC_PUBLIC_KEY_COMBINE_FAIL);return e.from(A.encode(!0,h))},t.signatureNormalize=function(l){var h=new n(l.slice(0,32)),g=new n(l.slice(32,64));if(h.cmp(o.n)>=0||g.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);var _=e.from(l);return g.cmp(s.nh)===1&&o.n.sub(g).toArrayLike(e,"be",32).copy(_,32),_},t.signatureExport=function(l){var h=l.slice(0,32),g=l.slice(32,64);if(new n(h).cmp(o.n)>=0||new n(g).cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);return{r:h,s:g}},t.signatureImport=function(l){var h=new n(l.r);h.cmp(o.n)>=0&&(h=new n(0));var g=new n(l.s);return g.cmp(o.n)>=0&&(g=new n(0)),e.concat([h.toArrayLike(e,"be",32),g.toArrayLike(e,"be",32)])},t.sign=function(l,h,g,_){if(typeof g=="function"){var A=g;g=function(I){var T=A(l,h,null,_,I);if(!e.isBuffer(T)||T.length!==32)throw new Error(a.ECDSA_SIGN_FAIL);return new n(T)}}var C=new n(h);if(C.cmp(o.n)>=0||C.isZero())throw new Error(a.ECDSA_SIGN_FAIL);var w=s.sign(l,h,{canonical:!0,k:g,pers:_});return{signature:e.concat([w.r.toArrayLike(e,"be",32),w.s.toArrayLike(e,"be",32)]),recovery:w.recoveryParam}},t.verify=function(l,h,g){var _={r:h.slice(0,32),s:h.slice(32,64)},A=new n(_.r),C=new n(_.s);if(A.cmp(o.n)>=0||C.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);if(C.cmp(s.nh)===1||A.isZero()||C.isZero())return!1;var w=u(g);if(w===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);return s.verify(l,_,{x:w.pub.x,y:w.pub.y})},t.recover=function(l,h,g,_){var A={r:h.slice(0,32),s:h.slice(32,64)},C=new n(A.r),w=new n(A.s);if(C.cmp(o.n)>=0||w.cmp(o.n)>=0)throw new Error(a.ECDSA_SIGNATURE_PARSE_FAIL);try{if(C.isZero()||w.isZero())throw new Error;var I=s.recoverPubKey(l,A,g);return e.from(I.encode(!0,_))}catch{throw new Error(a.ECDSA_RECOVER_FAIL)}},t.ecdh=function(l,h){var g=t.ecdhUnsafe(l,h,!0);return r("sha256").update(g).digest()},t.ecdhUnsafe=function(l,h,g){var _=u(l);if(_===null)throw new Error(a.EC_PUBLIC_KEY_PARSE_FAIL);var A=new n(h);if(A.cmp(o.n)>=0||A.isZero())throw new Error(a.ECDH_FAIL);return e.from(_.pub.mul(A).encode(!0,g))}})(UH);var Foe=Jse(UH),E4=an.Buffer,joe=9007199254740991;function h7(t){if(t<0||t>joe||t%1!==0)throw new RangeError("value out of range")}function Gh(t,e,r){if(h7(t),e||(e=E4.allocUnsafe(YH(t))),!E4.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Gh.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Gh.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Gh.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Gh.bytes=9),e}function Wh(t,e){if(!E4.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Wh.bytes=1,r;if(r===253)return Wh.bytes=3,t.readUInt16LE(e+1);if(r===254)return Wh.bytes=5,t.readUInt32LE(e+1);Wh.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),a=i*4294967296+n;return h7(a),a}function YH(t){return h7(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var qoe={encode:Gh,decode:Wh,encodingLength:YH};const c3=tse,VS=fse,Ag=use,GH=c7,p7=Foe,QS=qoe,Gc={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function x4(t){return GH("sha256").update(t).digest()}function Koe(t){return x4(x4(t))}function WH(t){return GH("ripemd160").update(x4(t)).digest()}function XH(t,e,r,n){return n!==void 0?(e+=8,n===Gc.P2WPKH&&(e+=4)):r&&(e+=4),Buffer.concat([Buffer.alloc(1,e+27),t])}function Voe(t){if(t.length!==65)throw new Error("Invalid signature length");const e=t.readUInt8(0)-27;if(e>15||e<0)throw new Error("Invalid signature parameter");return{compressed:!!(e&12),segwitType:e&8?e&4?Gc.P2WPKH:Gc.P2SH_P2WPKH:null,recovery:e&3,signature:t.slice(1)}}function cm(t,e){e=e||`Bitcoin Signed Message:
`,Buffer.isBuffer(e)||(e=Buffer.from(e,"utf8")),Buffer.isBuffer(t)||(t=Buffer.from(t,"utf8"));const r=QS.encodingLength(t.length),n=Buffer.allocUnsafe(e.length+r+t.length);return e.copy(n,0),QS.encode(t.length,n,e.length),t.copy(n,e.length+r),Koe(n)}function ZH(t,e){typeof t=="object"&&e===void 0&&(e=t,t=void 0);let{segwitType:r,extraEntropy:n}=e||{};if(r&&(typeof r=="string"||r instanceof String)&&(r=r.toLowerCase()),r&&r!==Gc.P2SH_P2WPKH&&r!==Gc.P2WPKH)throw new Error('Unrecognized segwitType: use "'+Gc.P2SH_P2WPKH+'" or "'+Gc.P2WPKH+'"');return{messagePrefixArg:t,segwitType:r,extraEntropy:n}}function JH(t){return t&&typeof t.sign=="function"}function Qoe(t,e,r,n,i){const{messagePrefixArg:a,segwitType:s,extraEntropy:o}=ZH(n,i),c=cm(t,a),f=JH(e)?e.sign(c,o):p7.sign(c,e,{data:o});return XH(f.signature,f.recovery,r,s)}function Yoe(t,e,r,n,i){let a,s,o;return Promise.resolve().then(()=>{({messagePrefixArg:a,segwitType:s,extraEntropy:o}=ZH(n,i));const c=cm(t,a);return JH(e)?e.sign(c,o):p7.sign(c,e,{data:o})}).then(c=>XH(c.signature,c.recovery,r,s))}function YS(t){const e=Buffer.concat([Buffer.from("0014","hex"),t]);return WH(e)}function GS(t){const e=VS.decode(t),r=VS.fromWords(e.words.slice(1));return Buffer.from(r)}function Goe(t,e,r,n,i){Buffer.isBuffer(r)||(r=Buffer.from(r,"base64"));const a=Voe(r);if(i&&!a.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const s=cm(t,n),o=p7.recover(s,a.signature,a.recovery,a.compressed),c=WH(o);let f,u;if(a.segwitType)a.segwitType===Gc.P2SH_P2WPKH?(f=YS(c),u=c3.decode(e).slice(1)):(f=c,u=GS(e));else if(i)try{return u=GS(e),Ag(c,u)}catch{const h=YS(c);return u=c3.decode(e).slice(1),Ag(c,u)||Ag(h,u)}else f=c,u=c3.decode(e).slice(1);return Ag(f,u)}var Woe={magicHash:cm,sign:Qoe,signAsync:Yoe,verify:Goe};function Xoe(t,e,r){const n=typeof t=="string"?t:_e(t).slice(2),[i,...a]=Oe(e,"base64");return Xd.verify(Oe(a),Woe.magicHash(n),r)}class Zoe extends wf{get signType(){return si.Unknown}constructor(e,r){super(e),this.type=r}async isConnected(){return!1}async getInternalAddress(){throw new Error("Can't get address from SignerDummy")}async getAddressObjs(){throw new Error("Can't get addresses from SignerDummy")}}class Joe extends Zoe{constructor(e,r,n){super(e,r),this.message=n}async connect(){throw new Error(this.message)}}class ece extends wf{get type(){return us.EVM}get signType(){return si.EvmPersonal}async getInternalAddress(){return this.getEvmAccount()}async getAddressObjs(){const e=await this.getEvmAccount();return(await Promise.all([this._getOmniLockAddresses(e),this._getPWLockAddresses(e)])).flat()}_getOmniLockAddresses(e){return Promise.all([this._getOmniLockEvmAddressObj(e),this._getOmniLockOldEvmAddressObj(e)])}async _getPWLockAddresses(e){const r=await this._getPWLockEvmAddressObj(e);return r?[r]:[]}async _getOmniLockEvmAddressObj(e){return ba.fromKnownScript(this.client,Me.OmniLock,_e([18,...Oe(e),0]))}async _getOmniLockOldEvmAddressObj(e){return ba.fromKnownScript(this.client,Me.OmniLock,_e([1,...Oe(e),0]))}async _getPWLockEvmAddressObj(e){try{return ba.fromKnownScript(this.client,Me.PWLock,_e(Oe(e)))}catch{}}async prepareTransaction(e){const r=$t.from(e);await r.findInputIndexByLockId(await this.client.getKnownScript(Me.OmniLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,Me.OmniLock),await r.findInputIndexByLockId(await this.client.getKnownScript(Me.PWLock),this.client)!==void 0&&await r.addCellDepsOfKnownScripts(this.client,Me.PWLock);const n=await this.getEvmAccount(),i=await this._getOmniLockAddresses(n),a=await this._getPWLockAddresses(n),s=Vd(i,(o,{script:c})=>o.prepareSighashAllWitness(c,85,this.client),r);return Vd(a,(o,{script:c})=>o.prepareSighashAllWitness(c,65,this.client),s)}async signOnlyTransaction(e){let r=$t.from(e);const n=await this.getEvmAccount(),{script:i}=await this._getOmniLockEvmAddressObj(n),{script:a}=await this._getOmniLockOldEvmAddressObj(n);r=await this._signOmniLockScriptForTransaction(r,i,o=>`CKB transaction: ${o}`),r=await this._signOmniLockScriptForTransaction(r,a,o=>Oe(o));const s=await this._getPWLockEvmAddressObj(n);return s&&(r=await this._signPWLockScriptForTransaction(r,s.script,o=>Oe(o))),r}async _signOmniLockScriptForTransaction(e,r,n){const i=await this._signPersonalEvmForTransaction(e,r,n);if(!i)return e;const a=fs.fromBytes(e.witnesses[i.position]);return a.lock=_e(ib(_n(5*4+i.signature.length,4),_n(4*4,4),_n(5*4+i.signature.length,4),_n(5*4+i.signature.length,4),_n(i.signature.length,4),i.signature)),e.setWitnessArgsAt(i.position,a),e}async _signPWLockScriptForTransaction(e,r,n){const i=await this._signPersonalEvmForTransaction(e,r,n,new kX);if(!i)return e;const a=fs.fromBytes(e.witnesses[i.position]);return a.lock=_e(i.signature),e.setWitnessArgsAt(i.position,a),e}async _signPersonalEvmForTransaction(e,r,n,i){const a=await e.getSignHashInfo(r,this.client,i);if(!a)return;const s=Oe(await this.signMessageRaw(n(a.message)));return s[s.length-1]>=27&&(s[s.length-1]-=27),{signature:s,position:a.position}}}class uf extends wf{get type(){return us.Nostr}get signType(){return si.NostrEvent}async signMessageRaw(e){return _e((await this.signNostrEvent(eH(e))).sig)}async getInternalAddress(){return Bu.encode("npub",Bu.toWords(Oe(await this.getNostrPublicKey())))}async getAddressObjs(){const e=await this.getNostrPublicKey();return[await ba.fromKnownScript(this.client,Me.NostrLock,_e(ib([0],sb(e).slice(0,42))))]}async prepareTransaction(e){const r=$t.from(e),{script:n}=await this.getRecommendedAddressObj();return await r.addCellDepsOfKnownScripts(this.client,Me.NostrLock),await r.prepareSighashAllWitness(n,572,this.client),r}async signOnlyTransaction(e){const r=$t.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await r.getSignHashInfo(n,this.client);if(!i)return r;const a=Oe(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[uf.CKB_SIG_HASH_ALL_TAG,i.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:uf.CKB_UNLOCK_EVENT_KIND,content:uf.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),s=fs.fromBytes(r.witnesses[i.position]);return s.lock=_e(a),r.setWitnessArgsAt(i.position,s),r}}uf.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all";uf.CKB_UNLOCK_EVENT_KIND=23334;uf.CKB_UNLOCK_EVENT_CONTENT=`Signing a CKB transaction

IMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message
`;async function Vs(t,e){return e.popup==null&&(e.popup=TJ(""),e.popup==null)?PJ(async()=>Vs(t,e)):(e.popup.location.href=t,new Promise((r,n)=>{ZR()&&n(new IJ(e.popup));let i,a;const s=setInterval(()=>{var o;(o=e.popup)!=null&&o.closed&&(clearInterval(s),clearTimeout(a),window.removeEventListener("message",i,!1),n(new rL(e.popup)))},1e3);a=setTimeout(()=>{clearInterval(s),n(new CJ(e.popup)),window.removeEventListener("message",i,!1)},(e.timeoutInSeconds??3e3)*1e3),i=o=>{var u;const{joyidAppURL:c}=e,f=new URL(c);o.origin===f.origin&&(!o.data||((u=o.data)==null?void 0:u.type)!==e.type||(clearTimeout(a),clearInterval(s),window.removeEventListener("message",i,!1),e.popup.close(),o.data.error&&n(new Error(o.data.error)),r(o.data.data)))},window.addEventListener("message",i)}))}function f3(t,e){return t.uri===e.uri&&t.addressType.startsWith(e.addressType)}class fm{constructor(e="ccc-joy-id-signer"){this.storageKey=e}async readConnections(){return JSON.parse(window.localStorage.getItem(this.storageKey)??"[]")}async get(e){var r;return(r=(await this.readConnections()).find(([n])=>f3(e,n)))==null?void 0:r[1]}async set(e,r){const n=await this.readConnections();if(r){const i=n.find(([a])=>f3(a,e));i?i[1]=r:n.push([e,r]),window.localStorage.setItem(this.storageKey,JSON.stringify(n))}else window.localStorage.setItem(this.storageKey,JSON.stringify(n.filter(([i])=>!f3(i,e))))}}class u3 extends Hne{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i=[{addressPrefix:"ckb",signerType:us.BTC,network:"btc"},{addressPrefix:"ckt",signerType:us.BTC,network:"btcTestnet"}],a="auto",s,o=new fm){super(e),this.name=r,this.icon=n,this.preferredNetworks=i,this.addressType=a,this._appUri=s,this.connectionsRepo=o,this.network="btcTestnet"}getConfig(){const{network:e}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network!==e&&(this.connection=void 0),this.network=e;const r={btc:"https://app.joy.id",btcTestnet:"https://testnet.joyid.dev"}[e];if(!r)throw new Error(`JoyID wallet doesn't support the requested chain ${this.network}`);return{redirectURL:location.href,joyidAppURL:this._appUri??r,requestNetwork:`btc-${this.addressType}`,name:this.name,logo:this.icon}}async disconnect(){await super.disconnect(),await this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"btc"},void 0)}async getBtcAccount(){const{address:e}=await this.assertConnection();return e}async getBtcPublicKey(){const{publicKey:e}=await this.assertConnection();return e}async connect(){const e=this.getConfig(),r=await Vs(Uo(e,"popup","/auth"),{...e,type:Fs.Auth}),{address:n,pubkey:i}=this.addressType==="auto"?r.btcAddressType==="p2wpkh"?r.nativeSegwit:r.taproot:this.addressType==="p2wpkh"?r.nativeSegwit:r.taproot;this.connection={address:n,publicKey:_e(i),keyType:r.keyType},await Promise.all([this.connectionsRepo.set({uri:e.joyidAppURL,addressType:`btc-${r.btcAddressType}`},this.connection),this.connectionsRepo.set({uri:e.joyidAppURL,addressType:"btc-auto"},this.connection)])}async isConnected(){return this.connection?!0:(this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:`btc-${this.addressType}`}),this.connection!==void 0)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:_e(e).slice(2),i=this.getConfig(),{signature:a}=await Vs(Uo({...i,challenge:n,address:r,signMessageType:"ecdsa"},"popup","/sign-message"),{...i,type:Fs.SignMessage});return a}}class tce extends wf{get type(){return us.CKB}get signType(){return si.JoyId}async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a,s=new fm){super(e),this.name=r,this.icon=n,this._appUri=i,this._aggregatorUri=a,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),name:this.name,logo:this.icon}}getAggregatorUri(){return this._aggregatorUri??(this.client.addressPrefix==="ckb"?"https://cota.nervina.dev/mainnet-aggregator":"https://cota.nervina.dev/aggregator")}async connect(){const e=this.getConfig(),r=await Vs(Uo(e,"popup","/auth"),{...e,type:Fs.Auth});this.connection={address:r.address,publicKey:_e(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getInternalAddress(){return(await this.assertConnection()).address}async getIdentity(){const e=await this.assertConnection();return JSON.stringify({keyType:e.keyType,publicKey:e.publicKey.slice(2)})}async getAddressObj(){return await ba.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async prepareTransaction(e){const r=$t.from(e);await r.addCellDepsOfKnownScripts(this.client,Me.JoyId);const n=await r.findInputIndexByLock((await this.getAddressObj()).script,this.client);if(n===void 0)return r;const i=r.getWitnessArgsAt(n)??fs.from({});return i.lock=_e("00".repeat(1e3)),await this.prepareTransactionForSubKey(r,i),r.setWitnessArgsAt(n,i),r}async prepareTransactionForSubKey(e,r){var c;if(((c=this.connection)==null?void 0:c.keyType)!=="sub_key"||(r.outputType??"0x")!=="0x")return;const n=sb(this.connection.publicKey).substring(0,42),i=(await this.getAddressObj()).script,a=new nre(this.getAggregatorUri()),{unlock_entry:s}=await a.generateSubkeyUnlockSmt({alg_index:1,pubkey_hash:n,lock_script:_e(i.toBytes())});r.outputType=_e(s);const o=[];for await(const f of this.client.findCellsByLock(i,await st.fromKnownScript(this.client,Me.COTA,"0x")))o.push(Bi.from({depType:"code",outPoint:f.outPoint}));if(o.length===0)throw new Error("No COTA cells for sub key wallet");e.addCellDepsAtStart(o)}async signOnlyTransaction(e){const r=$t.from(e),{script:n}=await this.getAddressObj(),i=await Vd(r.inputs,async(o,c,f)=>{if(await c.completeExtraInfos(this.client),!c.cellOutput)throw new Error("Unable to complete input");c.cellOutput.lock.eq(n)&&o.push(f)},[]);await r.prepareSighashAllWitness(n,0,this.client),r.inputs.forEach(o=>{o.cellOutput=void 0,o.outputData=void 0});const a=this.getConfig(),s=await Vs(Uo({...a,tx:JSON.parse(r.stringify()),signerAddress:(await this.assertConnection()).address,witnessIndexes:i},"popup","/sign-ckb-raw-tx"),{...a,type:Fs.SignCkbRawTx});return $t.from(s.tx)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:_e(e).slice(2),i=this.getConfig(),a=await Vs(Uo({...i,challenge:n,isData:typeof e!="string",address:r},"popup","/sign-message"),{...i,type:Fs.SignMessage});return JSON.stringify({signature:a.signature,alg:a.alg,message:a.message})}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ckb"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ckb"})}}class rce extends ece{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a=new fm){super(e),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"ethereum",name:this.name,logo:this.icon}}async getEvmAccount(){return(await this.assertConnection()).address}async connect(){const e=this.getConfig(),r=await Vs(Uo(e,"popup","/auth"),{...e,type:Fs.Auth});this.connection={address:r.ethAddress,publicKey:_e(r.pubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async signMessageRaw(e){const{address:r}=await this.assertConnection(),n=typeof e=="string"?e:_e(e).slice(2),i=this.getConfig(),{signature:a}=await Vs(Uo({...i,challenge:n,isData:typeof e!="string",address:r},"popup","/sign-message"),{...i,type:Fs.SignMessage});return _e(a)}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ethereum"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ethereum"})}}class nce extends uf{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,r,n,i,a=new fm){super(e),this.name=r,this.icon=n,this._appUri=i,this.connectionsRepo=a}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"nostr",name:this.name,logo:this.icon}}async connect(){const e=this.getConfig(),r=await Vs(Uo(e,"popup","/auth"),{...e,type:Fs.Auth});this.connection={address:"",publicKey:_e(r.nostrPubkey),keyType:r.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getNostrPublicKey(){return(await this.assertConnection()).publicKey}async signNostrEvent(e){const r=this.getConfig();return(await Vs(Uo({...r,event:e},"popup","/sign-nostr-event"),{...r,type:Fs.SignNostrEvent})).event}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"nostr"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"nostr"})}}function ice(t,e,r,n){return ZR()||XX(window.navigator.userAgent)?[us.CKB,us.EVM,us.BTC].map(i=>({name:i,signer:new Joe(t,i,"JoyID can only be used with standard browsers")})):[{name:"CKB",signer:new tce(t,e,r)},{name:"BTC",signer:new u3(t,e,r,n)},{name:"Nostr",signer:new nce(t,e,r)},{name:"EVM",signer:new rce(t,e,r)},{name:"BTC (P2WPKH)",signer:new u3(t,e,r,n,"p2wpkh")},{name:"BTC (P2TR)",signer:new u3(t,e,r,n,"p2tr")}]}var l3;function ace(t){return l3==null?void 0:l3.get(t)}var d3;function sce(t){return d3==null?void 0:d3.get(t)}var h3;function oce(t,e){var r;return(r=h3==null?void 0:h3.get(t))==null?void 0:r.get(e)}function um(t){var r,n;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((n=(r=Object.getPrototypeOf(t))==null?void 0:r.constructor)==null?void 0:n.name))??"null":e}function $i(t,e,r,n,i){const a=i&&"input"in i?i.input:r.value,s=(i==null?void 0:i.expected)??t.expects??null,o=(i==null?void 0:i.received)??um(a),c={kind:t.kind,type:t.type,input:a,expected:s,received:o,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},f=t.kind==="schema",u=(i==null?void 0:i.message)??t.message??oce(t.reference,c.lang)??(f?sce(c.lang):null)??n.message??ace(c.lang);u&&(c.message=typeof u=="function"?u(c):u),f&&(r.typed=!1),r.issues?r.issues.push(c):r.issues=[c]}function cce(t,e){return Object.hasOwn(t,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function b7(t,e){const r=[...new Set(t)];return r.length>1?`(${r.join(` ${e} `)})`:r[0]??"never"}function eN(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function ku(t,e){return{kind:"schema",type:"array",reference:ku,expects:"Array",async:!1,item:t,message:e,_run(r,n){var a;const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<i.length;s++){const o=i[s],c=this.item._run({typed:!1,value:o},n);if(c.issues){const f={type:"array",origin:"value",input:i,key:s,value:o};for(const u of c.issues)u.path?u.path.unshift(f):u.path=[f],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=c.issues),n.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value.push(c.value)}}else $i(this,"type",r,n);return r}}}function zu(t,e){const r=Object.entries(t).filter(([n])=>isNaN(+n)).map(([,n])=>n);return{kind:"schema",type:"enum",reference:zu,expects:b7(r.map(um),"|"),async:!1,enum:t,options:r,message:e,_run(n,i){return this.options.includes(n.value)?n.typed=!0:$i(this,"type",n,i),n}}}function on(t,e){return{kind:"schema",type:"literal",reference:on,expects:um(t),async:!1,literal:t,message:e,_run(r,n){return r.value===this.literal?r.typed=!0:$i(this,"type",r,n),r}}}function tN(t,e){return{kind:"schema",type:"loose_object",reference:tN,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=i[s],c=this.entries[s]._run({typed:!1,value:o},n);if(c.issues){const f={type:"object",origin:"value",input:i,key:s,value:o};for(const u of c.issues)u.path?u.path.unshift(f):u.path=[f],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=c.issues),n.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),(c.value!==void 0||s in i)&&(r.value[s]=c.value)}if(!r.issues||!n.abortEarly)for(const s in i)cce(i,s)&&!(s in this.entries)&&(r.value[s]=i[s])}else $i(this,"type",r,n);return r}}}function g7(t,e){return{kind:"schema",type:"non_optional",reference:g7,expects:"!undefined",async:!1,wrapped:t,message:e,_run(r,n){return r.value===void 0?($i(this,"type",r,n),r):this.wrapped._run(r,n)}}}function q0(t){return{kind:"schema",type:"null",reference:q0,expects:"null",async:!1,message:t,_run(e,r){return e.value===null?e.typed=!0:$i(this,"type",e,r),e}}}function lm(t,...e){const r={kind:"schema",type:"nullish",reference:lm,expects:`(${t.expects} | null | undefined)`,async:!1,wrapped:t,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=eN(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function rN(t){return{kind:"schema",type:"number",reference:rN,expects:"number",async:!1,message:t,_run(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:$i(this,"type",e,r),e}}}function nt(t,e){return{kind:"schema",type:"object",reference:nt,expects:"Object",async:!1,entries:t,message:e,_run(r,n){var a;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=i[s],c=this.entries[s]._run({typed:!1,value:o},n);if(c.issues){const f={type:"object",origin:"value",input:i,key:s,value:o};for(const u of c.issues)u.path?u.path.unshift(f):u.path=[f],(a=r.issues)==null||a.push(u);if(r.issues||(r.issues=c.issues),n.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),(c.value!==void 0||s in i)&&(r.value[s]=c.value)}}else $i(this,"type",r,n);return r}}}function sl(t,...e){const r={kind:"schema",type:"optional",reference:sl,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=eN(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in e&&(r.default=e[0]),r}function nN(t,e){return{kind:"schema",type:"picklist",reference:nN,expects:b7(t.map(um),"|"),async:!1,options:t,message:e,_run(r,n){return this.options.includes(r.value)?r.typed=!0:$i(this,"type",r,n),r}}}function Yt(t){return{kind:"schema",type:"string",reference:Yt,expects:"string",async:!1,message:t,_run(e,r){return typeof e.value=="string"?e.typed=!0:$i(this,"type",e,r),e}}}function y7(t){return{kind:"schema",type:"undefined",reference:y7,expects:"undefined",async:!1,message:t,_run(e,r){return e.value===void 0?e.typed=!0:$i(this,"type",e,r),e}}}function WS(t){let e;if(t)for(const r of t)e?e.push(...r.issues):e=r.issues;return e}function dm(t,e){return{kind:"schema",type:"union",reference:dm,expects:b7(t.map(r=>r.expects),"|"),async:!1,options:t,message:e,_run(r,n){let i,a,s;for(const o of this.options){const c=o._run({typed:!1,value:r.value},n);if(c.typed)if(c.issues)a?a.push(c):a=[c];else{i=c;break}else s?s.push(c):s=[c]}if(i)return i;if(a){if(a.length===1)return a[0];$i(this,"type",r,n,{issues:WS(a)}),r.typed=!0}else{if((s==null?void 0:s.length)===1)return s[0];$i(this,"type",r,n,{issues:WS(s)})}return r}}}function hm(){return{kind:"schema",type:"unknown",reference:hm,expects:"unknown",async:!1,_run(t){return t.typed=!0,t}}}var XS;(function(t){t.Mainnet="Mainnet",t.Testnet="Testnet",t.Signet="Signet"})(XS||(XS={}));const v7=sl(dm([Yt(),rN(),q0()])),$f=nt({jsonrpc:on("2.0"),method:Yt(),params:sl(dm([ku(hm()),tN({}),q0()])),id:v7});var ZS;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",t[t.USER_REJECTION=-32e3]="USER_REJECTION",t[t.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",t[t.ACCESS_DENIED=-32002]="ACCESS_DENIED"})(ZS||(ZS={}));const fce=nt({jsonrpc:on("2.0"),result:g7(hm()),id:v7}),uce=nt({jsonrpc:on("2.0"),error:g7(hm()),id:v7});dm([fce,uce]);const lce=["software","ledger"],dce=nN(lce),hce="wallet_requestPermissions",pce=y7();on(!0);nt({...$f.entries,...nt({method:on(hce),params:pce,id:Yt()}).entries});const bce="wallet_renouncePermissions",gce=y7();on(!0);nt({...$f.entries,...nt({method:on(bce),params:gce,id:Yt()}).entries});const yce="wallet_getWalletType";lm(q0());nt({...$f.entries,...nt({method:on(yce),id:Yt()}).entries});var l1;(function(t){t.Ordinals="ordinals",t.Payment="payment",t.Stacks="stacks"})(l1||(l1={}));var S4;(function(t){t.p2pkh="p2pkh",t.p2sh="p2sh",t.p2wpkh="p2wpkh",t.p2wsh="p2wsh",t.p2tr="p2tr",t.stacks="stacks"})(S4||(S4={}));const vce=nt({address:Yt(),publicKey:Yt(),purpose:zu(l1),addressType:zu(S4)}),mce="getInfo",_ce=lm(q0());nt({version:Yt(),methods:sl(ku(Yt())),supports:ku(Yt())});nt({...$f.entries,...nt({method:on(mce),params:_ce,id:Yt()}).entries});const wce="getAddresses",Ace=nt({purposes:ku(zu(l1)),message:sl(Yt())});nt({...$f.entries,...nt({method:on(wce),params:Ace,id:Yt()}).entries});const Ece="signMessage";var d2;(function(t){t.ECDSA="ECDSA",t.BIP322="BIP322"})(d2||(d2={}));const xce=nt({address:Yt(),message:Yt(),protocol:sl(zu(d2))});nt({signature:Yt(),messageHash:Yt(),address:Yt(),protocol:zu(d2)});nt({...$f.entries,...nt({method:on(Ece),params:xce,id:Yt()}).entries});const Sce="getAccounts",Cce=nt({purposes:ku(zu(l1)),message:sl(Yt())});ku(nt({...vce.entries,...nt({walletType:dce}).entries}));nt({...$f.entries,...nt({method:on(Sce),params:Cce,id:Yt()}).entries});const Ice="getBalance";lm(q0());nt({...$f.entries,...nt({method:on(Ice),id:Yt()}).entries});const Tce="accountChange";nt({type:on(Tce)});const Oce="networkChange";nt({type:on(Oce)});const Bce="disconnect";nt({type:on(Bce)});function Dce(t){const e=p0.c(14),{rootConfig:r,signer:n,walletName:i}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=["walletConfig"],e[0]=a):a=e[0];let s;e[1]!==n||e[2]!==r?(s={queryKey:a,queryFn:async()=>{await n.isConnected()||await n.connect();const[l,h,g]=await Promise.all([n.getRecommendedAddress(),n.getRecommendedAddressObj(),n.getAddressObjs()]);let _;return _=[h,...g].map(I=>xn.from({...xa,...I.script})),_=[...new Map(_.map(I=>[`${I.args}-${I.hashType}-${I.codeHash}`,I])).values()],{...r,address:l,accountLocks:_,expander:I=>{const T=I.cellOutput.lock;for(const R of _)if(En(T,R))return R},getTxSizeOverhead:async I=>{const T=$t.fromLumosSkeleton(I),R=T.toBytes().length;return(await n.prepareTransaction(T)).toBytes().length-R},sendSigned:async I=>n.sendTransaction($t.fromLumosSkeleton(I))}}},e[1]=n,e[2]=r,e[3]=s):s=e[3];const{isPending:o,error:c,data:f}=B8(s);if(o){let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=xe.jsx(JG,{}),e[4]=l):l=e[4];let h;e[5]!==i?(h=xe.jsxs("p",{children:["Waiting for ",i," authorization..."]}),e[5]=i,e[6]=h):h=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=xe.jsx(iR,{}),e[7]=g):g=e[7];let _;return e[8]!==h?(_=xe.jsxs(xe.Fragment,{children:[l,h,g]}),e[8]=h,e[9]=_):_=e[9],_}if(c){setTimeout(function(){console.log(c),location.reload()},1e4);let l;return e[10]!==i?(l=xe.jsxs("p",{children:["Unable to connect to ",i," "]}),e[10]=i,e[11]=l):l=e[11],l}let u;return e[12]!==f?(u=xe.jsx(jW,{walletConfig:f}),e[12]=f,e[13]=u):u=e[13],u}const Mce="/favicon.png",Pce="iCKB DApp",Rce=SM("testnet",void 0,!0,YP).then(t=>{const e={...t,queryClient:new uO,cccClient:new vZ};return nR(e),e}),Lce=SM("mainnet",void 0,!0,YP).then(t=>{const e={...t,queryClient:new uO,cccClient:new gZ};return nR(e),e});async function nfe(t){const[e,r]=t.split("_"),n=await(r==="mainnet"?Lce:Rce),i=ice(n.cccClient,Pce,Mce).filter(o=>o.name==="CKB")[0].signer,a=document.getElementById("app"),s=Sk.createRoot(a);a.textContent="",s.render(xe.jsx(pe.StrictMode,{children:xe.jsx(Kk,{client:n.queryClient,children:xe.jsx(Dce,{rootConfig:n,signer:i,walletName:e})})}))}export{nfe as startApp};
